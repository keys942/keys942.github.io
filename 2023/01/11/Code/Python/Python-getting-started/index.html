

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
  <title>Python getting started - Knight&#39;s Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Knight's Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/post.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Python getting started">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2023-01-11 00:00" pubdate>
        2023年1月11日 凌晨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      9.3k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      185
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Python getting started</h1>
            
            <div class="markdown-body">
              <h1 id="Python-getting-started"><a href="#Python-getting-started" class="headerlink" title="Python getting started"></a>Python getting started</h1><blockquote>
<p>微软官方python教程</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1nE41127zQ">微软官方 Python 入门教程_bilibili</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1WT4y137cD/">微软官方 Python 进阶教程_bilibili</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1qa4y1Y7CD/">微软官方 Python 高阶教程_bilibili</a></p>
</li>
</ul>
<p>Github仓库</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/microsoft/c9-python-getting-started">GitHub - microsoft/c9-python-getting-started: Sample code for Channel 9 Python for Beginners course</a></li>
</ul>
</blockquote>
<h2 id="一、Python-for-beginners"><a href="#一、Python-for-beginners" class="headerlink" title="一、Python for beginners"></a>一、Python for beginners</h2><p><strong>What is Python?</strong></p>
<ul>
<li>Flexible programming language</li>
<li>Designed to be human readable</li>
</ul>
<blockquote>
<p>Python is an interpreted, high-level, general-purpose programming language. Created by Guido van Rossum and first released in 1991, Python’s design philosophy emphasizes code readability with its notable use of significant whitespace. Its language constructs and object-oriented approach aims to help programmers write clear, logical code for small and large-scale projects.</p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Python_(programming_language">https://en.wikipedia.org/wiki/Python_(programming_language</a>)</p>
</blockquote>
<p><strong>Why use Python?</strong></p>
<ul>
<li>Great starter language</li>
<li>Great advanced language</li>
<li>Wonderful community</li>
</ul>
<p><strong>What can I build with Python?</strong></p>
<ul>
<li>Machine learning models</li>
<li>Artificial intelligence projects</li>
<li>Web applications</li>
<li>Automation utilities</li>
<li>Anything, really</li>
</ul>
<h3 id="1、Print"><a href="#1、Print" class="headerlink" title="1、Print"></a>1、Print</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># print displays output to your console</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello world&#x27;</span>)<br><br><span class="hljs-comment"># Enclose strings in single or double quotes</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello world&quot;</span>)<br><br><span class="hljs-comment"># Getting information from the user</span><br>name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please enter your name:&#x27;</span>)<br><span class="hljs-built_in">print</span>(name)<br><br><span class="hljs-comment"># Printing blank lines can improve readability</span><br><span class="hljs-built_in">print</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello \nworld&#x27;</span>)<br><br><span class="hljs-comment"># Debugging with print</span><br><br></code></pre></td></tr></table></figure>
<h3 id="2、Comments"><a href="#2、Comments" class="headerlink" title="2、Comments"></a>2、Comments</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># We add comments to our code using #</span><br><span class="hljs-comment"># Lines that start with # are not executed</span><br><span class="hljs-comment"># Comment calls to other programs to explain their purpose</span><br><span class="hljs-comment"># Comments document your code so you and other programmers can understand the code</span><br><span class="hljs-comment"># Commenting lines of code can help you debug and figure out which line of code is causing an error</span><br><br><span class="hljs-comment"># This is a comment</span><br><span class="hljs-comment"># print(&#x27;Hello world&#x27;)</span><br><br></code></pre></td></tr></table></figure>
<h3 id="3、String"><a href="#3、String" class="headerlink" title="3、String"></a>3、String</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Strings can be stored in variables</span><br><span class="hljs-comment"># You can combine strings with +</span><br>first_name = <span class="hljs-string">&#x27;John&#x27;</span><br>last_name = <span class="hljs-string">&#x27;Wong&#x27;</span><br><span class="hljs-built_in">print</span>(first_name)<br><span class="hljs-built_in">print</span>(last_name)<br><span class="hljs-built_in">print</span>(first_name + last_name)<br><br><span class="hljs-comment"># Getting information from the user</span><br>first_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please enter your first name:&#x27;</span>)<br>last_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please enter your last name:&#x27;</span>)<br><span class="hljs-built_in">print</span>(first_name + <span class="hljs-string">&#x27; &#x27;</span> + last_name)<br><span class="hljs-built_in">print</span>(first_name + <span class="hljs-string">&#x27; &#x27;</span> \<br>      + last_name)<br><br><span class="hljs-comment"># You can use functions to modify strings</span><br>sentence = <span class="hljs-string">&#x27;This is my dog&#x27;</span><br><span class="hljs-built_in">print</span>(sentence.upper())<br><span class="hljs-built_in">print</span>(sentence.lower())<br><span class="hljs-built_in">print</span>(sentence.capitalize())<br><span class="hljs-built_in">print</span>(sentence.count(<span class="hljs-string">&#x27;a&#x27;</span>))<br><br><span class="hljs-comment"># format strings</span><br>output = <span class="hljs-string">&#x27;Hello, &#x27;</span> + first_name + <span class="hljs-string">&#x27; &#x27;</span> + last_name<br>output = <span class="hljs-string">&#x27;Hello, &#123;&#125; &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(first_name,last_name)<br>output = <span class="hljs-string">&#x27;Hello, &#123;0&#125; &#123;1&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(first_name,last_name)<br>output = <span class="hljs-string">f&#x27;Hello, <span class="hljs-subst">&#123;first_name&#125;</span> <span class="hljs-subst">&#123;last_name&#125;</span>&#x27;</span><br><br></code></pre></td></tr></table></figure>
<h3 id="4、Numbers"><a href="#4、Numbers" class="headerlink" title="4、Numbers"></a>4、Numbers</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Numbers can be stored in variables</span><br>pi = <span class="hljs-number">3.14</span><br><span class="hljs-built_in">print</span>(pi)<br><br><span class="hljs-comment"># You can do math with numbers </span><br>first_number = <span class="hljs-number">6</span><br>second_name = <span class="hljs-number">2</span><br><span class="hljs-built_in">print</span>(first_number + second_name)<br><span class="hljs-built_in">print</span>(first_number ** second_name)<br><br><span class="hljs-comment"># If you combine strings with numbers, Python gets confused</span><br><span class="hljs-comment"># When displaying a string that contains numbers you must convert the numbers into strings</span><br>days_in_feb = <span class="hljs-number">28</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(days_in_feb) + <span class="hljs-string">&#x27;days in February&#x27;</span>)<br><br><span class="hljs-comment"># Numbers can be stored as strings</span><br><span class="hljs-comment"># Numbers stored as strings are treated as strings</span><br>first_number = <span class="hljs-string">&#x27;5&#x27;</span><br>second_name = <span class="hljs-string">&#x27;6&#x27;</span><br><span class="hljs-built_in">print</span>(first_number + second_name)<br><br><span class="hljs-comment"># The input function always returns strings</span><br><span class="hljs-comment"># Numbers stored as strings must be converted to numeric values before doing math</span><br>first_number = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Enter your first number:&#x27;</span>)<br>second_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Enter your second number:&#x27;</span>)<br><span class="hljs-built_in">print</span>(first_number + second_name)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(first_number) + <span class="hljs-built_in">int</span>(second_name))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">float</span>(first_number) + <span class="hljs-built_in">float</span>(second_name))<br><br></code></pre></td></tr></table></figure>
<h3 id="5、Dates"><a href="#5、Dates" class="headerlink" title="5、Dates"></a>5、Dates</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># To get current date and time, we need to use the datetime library</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime,timedelta<br><br><span class="hljs-comment"># The now function returns a datetime object</span><br>current_date = datetime.now()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Today is: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date))<br><br><span class="hljs-comment"># Use date functions to control date formatting</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Day: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.day))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Month: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.month))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Year: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.year))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hour: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.hour))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Minute: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.minute))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Second: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.second))<br><br><span class="hljs-comment"># timedelta is used to define a period of time</span><br><span class="hljs-comment"># you can use timedelta to add or remove days, or weeks to a date</span><br>one_day = timedelta(days=<span class="hljs-number">1</span>)<br>today = datetime.now()<br>yesterday = today - one_day<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Yesterday was: &#x27;</span> + <span class="hljs-built_in">str</span>(yesterday))<br><br><span class="hljs-comment"># Sometimes you receive the date as a string and need to convert it to a datetime object</span><br><span class="hljs-comment"># Make sure you add exception handling in case  the date entered is invalid</span><br>birthday = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;when is your birthday(dd/mm/yyyy)? &#x27;</span>)<br>birthday_date = datetime.strptime(birthday, <span class="hljs-string">&#x27;%d%m%Y&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Brithday: &#x27;</span> + <span class="hljs-built_in">str</span>(brithday_date))<br><br><span class="hljs-comment"># Converting it to a datetime allows you to use the date functions</span><br>one_day = timedelta(days=<span class="hljs-number">1</span>)<br>birthday_eve = birthday_date - one_day<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Day before birthday: &#x27;</span> + <span class="hljs-built_in">str</span>(birthday_eve))<br><br></code></pre></td></tr></table></figure>
<h3 id="6、Error-handling"><a href="#6、Error-handling" class="headerlink" title="6、Error handling"></a>6、Error handling</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Error handling, Debugging</span><br><span class="hljs-comment"># Error types: Syntax error, Runtime error, Logic error</span><br><br><span class="hljs-comment"># Syntax error</span><br>x = <span class="hljs-number">2</span><br>y = <span class="hljs-number">3</span><br><span class="hljs-keyword">if</span> x==y<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>)<br><br><span class="hljs-comment"># Runtime error</span><br>x = <span class="hljs-number">2</span><br>y = <span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(x/y)<br><br><span class="hljs-comment"># Catching runtime errors</span><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(x/y)<br><span class="hljs-keyword">except</span> ZeroDivisionError <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-comment"># Optionally, log e somewhere</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Sorry, something went wrong&#x27;</span>)<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Something really went wrong&#x27;</span>)<br><span class="hljs-keyword">finally</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;This always runs on success or failure&#x27;</span>)<br><br><span class="hljs-comment"># Logic error</span><br>x = <span class="hljs-number">2</span><br>y = <span class="hljs-number">3</span><br><span class="hljs-keyword">if</span> x &lt; y:<br>	<span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(x) + <span class="hljs-string">&#x27; is greater than &#x27;</span> + <span class="hljs-built_in">str</span>(y))<br><br></code></pre></td></tr></table></figure>
<p><strong>When to use try/except/finally?</strong></p>
<ul>
<li><p><strong>When something might go wrong</strong></p>
<ul>
<li>User input</li>
<li>Accessing an external system<ul>
<li>REST call</li>
<li>File system</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>You can act upon the error</strong></p>
<ul>
<li>Logging</li>
<li>Graceful exit</li>
</ul>
</li>
</ul>
<p><strong>Some final words on try/except/finally</strong></p>
<ul>
<li><p><strong>Not used to find bugs</strong></p>
<ul>
<li>Debugging, not error handling</li>
</ul>
</li>
<li><p><strong>You don’t have to catch all errors</strong></p>
<ul>
<li>Let it bubble up</li>
<li>Someone else will deal with it</li>
<li>The application will crash<ul>
<li>Sometimes, this is exactly what you want to happen</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Figuring out what went wrong</strong></p>
<ul>
<li><p>Stack trace</p>
<ul>
<li>Last calls are on the top</li>
<li>Your code is likely on the bottom</li>
<li>Seek out line numbers</li>
</ul>
</li>
<li><p>Finding your mistake</p>
<ul>
<li>Reread your code</li>
<li>Check the documentation</li>
<li>Search the internet</li>
<li>Take a break</li>
<li>Ask someone for help</li>
</ul>
</li>
</ul>
<h3 id="7、Handling-conditions"><a href="#7、Handling-conditions" class="headerlink" title="7、Handling conditions"></a>7、Handling conditions</h3><h4 id="1）Handling-conditions"><a href="#1）Handling-conditions" class="headerlink" title="1）Handling conditions"></a>1）Handling conditions</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Your code needs the ability to take different actions based on different conditions</span><br><span class="hljs-keyword">if</span> price &gt;= <span class="hljs-number">1.00</span>:<br>    tax = <span class="hljs-number">.07</span><br>    <span class="hljs-built_in">print</span>(tax)<br><br><span class="hljs-comment"># You can add a default action using else</span><br><span class="hljs-keyword">if</span> price &gt;= <span class="hljs-number">1.00</span>:<br>    tax = <span class="hljs-number">.07</span><br>    <span class="hljs-built_in">print</span>(tax)<br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0</span><br>    <span class="hljs-built_in">print</span>(tax)<br><br><span class="hljs-comment"># How you indent your code changes execution</span><br><span class="hljs-keyword">if</span> price &gt;= <span class="hljs-number">1.00</span>:<br>    tax = <span class="hljs-number">.07</span><br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(tax)<br><br><span class="hljs-comment"># Be careful when comparing strings: string case sensitive</span><br><span class="hljs-comment"># Use string functions to make case insensitive comparisons</span><br>country = <span class="hljs-string">&#x27;CANADA&#x27;</span><br><span class="hljs-keyword">if</span> country.lower() == <span class="hljs-string">&#x27;canada&#x27;</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Oh look a Canadian&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;You are not from Canada&#x27;</span>)<br><br></code></pre></td></tr></table></figure>
<h4 id="2）Handling-multiple-conditions"><a href="#2）Handling-multiple-conditions" class="headerlink" title="2）Handling multiple conditions"></a>2）Handling multiple conditions</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># You may need to check multiple conditions to determine the correct action</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Alberta&#x27;</span>:<br>    tax = <span class="hljs-number">0.05</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Ontario&#x27;</span>:<br>    tax = <span class="hljs-number">0.13</span><br><br><span class="hljs-comment"># If only one of the conditions will ever occur you can use a single if statement with elif</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Alberta&#x27;</span>:<br>    tax = <span class="hljs-number">0.05</span><br><span class="hljs-keyword">elif</span> province == <span class="hljs-string">&#x27;Ontario&#x27;</span>:<br>    tax = <span class="hljs-number">0.13</span><br><br><span class="hljs-comment"># When you use elif instead of multiple if statements you can add a default action</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Alberta&#x27;</span>:<br>    tax = <span class="hljs-number">0.05</span><br><span class="hljs-keyword">elif</span> province == <span class="hljs-string">&#x27;Ontario&#x27;</span>:<br>    tax = <span class="hljs-number">0.13</span><br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0.15</span><br><br><span class="hljs-comment"># If multiple conditions cause the same action they can be combined into a single condition</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Alberta&#x27;</span> <span class="hljs-keyword">or</span> province == <span class="hljs-string">&#x27;Nunavut&#x27;</span>:<br>    tax = <span class="hljs-number">0.05</span><br><br><span class="hljs-comment"># If you have a list of possible values to check , you can use the IN operator </span><br><span class="hljs-keyword">if</span> province <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;Alberta&#x27;</span>,<span class="hljs-string">&#x27;Nunavut&#x27;</span>):<br>    tax = <span class="hljs-number">0.05</span><br><br></code></pre></td></tr></table></figure>
<h4 id="3）Complex-condition-checks"><a href="#3）Complex-condition-checks" class="headerlink" title="3）Complex condition checks"></a>3）Complex condition checks</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># If an action depends on a combination of conditions you can nest if statements</span><br><span class="hljs-keyword">if</span> country == <span class="hljs-string">&#x27;Canada&#x27;</span>:<br>	<span class="hljs-keyword">if</span> province <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;Alberta&#x27;</span>,<span class="hljs-string">&#x27;Nunavut&#x27;</span>):<br>    	tax = <span class="hljs-number">0.05</span><br>	<span class="hljs-keyword">else</span>:<br>    	tax = <span class="hljs-number">0.15</span><br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0.0</span><br><br><span class="hljs-comment"># Sometimes you can combine conditions with AND instead of nesting if statements    </span><br><span class="hljs-comment"># combine conditions with and instead of nesting if statements</span><br><span class="hljs-keyword">if</span> gpa &gt; <span class="hljs-number">.85</span>:<br>	<span class="hljs-keyword">if</span> lowest_grade &gt; <span class="hljs-number">.70</span>:<br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Well done&#x27;</span>)<br><br><span class="hljs-keyword">if</span> gpa &gt; <span class="hljs-number">.85</span> <span class="hljs-keyword">and</span> lowest_grade &gt; <span class="hljs-number">.70</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Well done&#x27;</span>)<br><br><span class="hljs-comment"># If you need to remember the results of a condition check later in your code, use Boolean variables as flags</span><br><span class="hljs-comment"># use Boolean variables as flags</span><br><span class="hljs-keyword">if</span> gpa &gt; <span class="hljs-number">.85</span> <span class="hljs-keyword">and</span> lowest_grade &gt; <span class="hljs-number">.70</span>:<br>    honour_roll = <span class="hljs-literal">True</span><br><span class="hljs-keyword">else</span>:<br>    honour_roll = <span class="hljs-literal">False</span><br><span class="hljs-keyword">if</span> honour_roll:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Well done&#x27;</span>)<br>    <br><span class="hljs-comment"># Combining operators allows you to handle complex business rules in your code but must be tested very carefully to avoid introducing errors</span><br><br></code></pre></td></tr></table></figure>
<h3 id="8、Collections"><a href="#8、Collections" class="headerlink" title="8、Collections"></a>8、Collections</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Collections: Lists, Arrays, Dictionaries</span><br><br><span class="hljs-comment"># Lists(Lists are collections of items)</span><br>name = [<span class="hljs-string">&#x27;Chris&#x27;</span>, <span class="hljs-string">&#x27;Susan&#x27;</span>]<br><span class="hljs-built_in">print</span>(name)<br><br>scores = []<br>scores.append(<span class="hljs-number">98</span>)<br>scores.append(<span class="hljs-number">99</span>)<br><span class="hljs-built_in">print</span>(scores)<br><span class="hljs-built_in">print</span>(scores[<span class="hljs-number">1</span>])<br><br><span class="hljs-comment"># Arrays(Arrays are also collections of items)</span><br><span class="hljs-keyword">from</span> array <span class="hljs-keyword">import</span> array<br>scores = array(<span class="hljs-string">&#x27;d&#x27;</span>)<br>scores.append(<span class="hljs-number">98</span>)<br>scores.append(<span class="hljs-number">99</span>)<br><span class="hljs-built_in">print</span>(scores)<br><span class="hljs-built_in">print</span>(scores[<span class="hljs-number">1</span>])<br><br><span class="hljs-comment"># Commom operations</span><br>names = [<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;Chris&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(names))         <span class="hljs-comment"># Get the number of items</span><br>names.insert(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Bill&#x27;</span>)   <span class="hljs-comment"># Insert before index</span><br><span class="hljs-built_in">print</span>(names)<br>names.sort()<br><span class="hljs-built_in">print</span>(names)<br><br><span class="hljs-comment"># Retrieving ranges</span><br>names = [<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;Chris&#x27;</span>, <span class="hljs-string">&#x27;Bill&#x27;</span>]<br>presenters = names[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>]<br><span class="hljs-built_in">print</span>(names)<br><span class="hljs-built_in">print</span>(presenters)<br><br><span class="hljs-comment"># Dictionaries</span><br>person = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>&#125;<br>person[<span class="hljs-string">&#x27;last&#x27;</span>] = <span class="hljs-string">&#x27;Chris&#x27;</span><br><span class="hljs-built_in">print</span>(person)<br><span class="hljs-built_in">print</span>(person[<span class="hljs-string">&#x27;first&#x27;</span>])<br><br></code></pre></td></tr></table></figure>
<p><strong>What’s the difference?</strong></p>
<ul>
<li><p><strong>Arrays</strong></p>
<ul>
<li><p>Simple types such as numbers</p>
</li>
<li><p>Must all be the same type</p>
</li>
</ul>
</li>
<li><p><strong>Lists</strong></p>
<ul>
<li><p>Store anything</p>
</li>
<li><p>Store any type</p>
</li>
</ul>
</li>
<li><p><strong>Dictionaries</strong></p>
<ul>
<li><p>Key/Value pairs</p>
</li>
<li><p>Storage order not guaranteed</p>
</li>
</ul>
</li>
</ul>
<h3 id="9、Loops"><a href="#9、Loops" class="headerlink" title="9、Loops"></a>9、Loops</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Loops: for, while</span><br><br><span class="hljs-comment"># Loop through a collection</span><br><span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;Chris&#x27;</span>, <span class="hljs-string">&#x27;Bill&#x27;</span>]:<br>    <span class="hljs-built_in">print</span>(name)<br><br><span class="hljs-comment"># Looping a number of times</span><br><span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>):<br>    <span class="hljs-built_in">print</span>(index)<br><br><span class="hljs-comment"># Looping with a condition</span><br>names = [<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;Chris&#x27;</span>, <span class="hljs-string">&#x27;Bill&#x27;</span>]<br>index = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> index &lt; <span class="hljs-built_in">len</span>(names):<br>    <span class="hljs-built_in">print</span>(names[index])<br>    index = index + <span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure>
<h3 id="10、Functions"><a href="#10、Functions" class="headerlink" title="10、Functions"></a>10、Functions</h3><ul>
<li><p>Functions make your code more readable and easier to maintain</p>
<ul>
<li>reuse and readability(复用性和可读性)</li>
</ul>
</li>
<li><p>Always add comments to explain the purpose of your functions</p>
<ul>
<li>name notation(名字命名法)</li>
</ul>
</li>
<li><p>Functions must be declared before the line of code where the function is called</p>
</li>
</ul>
<h4 id="1）Function1"><a href="#1）Function1" class="headerlink" title="1）Function1"></a>1）Function1</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Sometimes we copy and paste our code</span><br><span class="hljs-keyword">import</span> datetime<br>    <br>first_name = <span class="hljs-string">&#x27;Susan&#x27;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;task completed&#x27;</span>)<br><span class="hljs-built_in">print</span>(datetime.datetime.now())<br><span class="hljs-built_in">print</span>()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;task completed&#x27;</span>)<br><span class="hljs-built_in">print</span>(datetime.datetime.now())<br><span class="hljs-built_in">print</span>()<br><br><br><span class="hljs-comment"># Use functions instead of repeating code</span><br><span class="hljs-keyword">import</span> datetime<br><br><span class="hljs-comment"># Print the current time</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_time</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;task completed&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(datetime.datetime.now())<br>    <span class="hljs-built_in">print</span>()<br>    <br>first_name = <span class="hljs-string">&#x27;Susan&#x27;</span><br>print_time()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br>print_time()<br><br><span class="hljs-comment"># By moving the code to a function, you reduce rework and the chance of introducing bugs when you change the code you had copied</span><br><br><span class="hljs-comment"># Import the datetime class from datetime library</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-comment"># Now I don&#x27;t need the extra datetime prefix</span><br><span class="hljs-built_in">print</span>(datetime.now())<br><br></code></pre></td></tr></table></figure>
<h4 id="2）Function2"><a href="#2）Function2" class="headerlink" title="2）Function2"></a>2）Function2</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># What if I want a different message displayed?</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br>    <br>first_name = <span class="hljs-string">&#x27;Susan&#x27;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;first name assigned&#x27;</span>)<br><span class="hljs-built_in">print</span>(datetime.now())<br><span class="hljs-built_in">print</span>()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;loop completed&#x27;</span>)<br><span class="hljs-built_in">print</span>(datetime.now())<br><span class="hljs-built_in">print</span>()<br><br><br><span class="hljs-comment"># Pass the task name as a parameter </span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><br><span class="hljs-comment"># Print the current time</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_time</span>(<span class="hljs-params">task_name</span>):</span><br>    <span class="hljs-built_in">print</span>(task_name)<br>    <span class="hljs-built_in">print</span>(datetime.now())<br>    <span class="hljs-built_in">print</span>()<br>    <br>first_name = <span class="hljs-string">&#x27;Susan&#x27;</span><br>print_time(<span class="hljs-string">&#x27;first name assigned&#x27;</span>)<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br>print_time(<span class="hljs-string">&#x27;loop completed&#x27;</span>)<br><br></code></pre></td></tr></table></figure>
<h4 id="3）Function3"><a href="#3）Function3" class="headerlink" title="3）Function3"></a>3）Function3</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Here&#x27;s another example where the code looks different but we are doing the same logic over and over</span><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = first_name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br>last_name_initial = last_name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + first_name_initial + last_name_initial)<br><br><br><span class="hljs-comment"># I can still use a function, but this time my function returns a value</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name</span>):</span><br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = get_initial(first_name)<br><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br>last_name_initial = get_initial(last_name)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + first_name_initial + last_name_initial)<br><br><br><span class="hljs-comment"># If you need to change something you only have to change it in one place!</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name</span>):</span><br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>].upper()<br>    <span class="hljs-keyword">return</span> initial<br><br><br><span class="hljs-comment"># Functions that return values allow clever code, but you might trade readability for less code</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name</span>):</span><br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + get_initial(first_name) + get_initial(last_name))<br><br></code></pre></td></tr></table></figure>
<h4 id="4）Function-parameters"><a href="#4）Function-parameters" class="headerlink" title="4）Function parameters"></a>4）Function parameters</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Functions can accept multiple parameters</span><br><span class="hljs-comment"># Pass the parameters in the same order they are listed in the function declaration</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name, force_uppercase</span>):</span><br>    <span class="hljs-keyword">if</span> force_uppercase:<br>    	initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>].upper()<br>    <span class="hljs-keyword">else</span>:<br>        initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = get_initial(first_name, <span class="hljs-literal">True</span>)<br><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br>last_name_initial = get_initial(last_name, <span class="hljs-literal">False</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + first_name_initial + last_name_initial)<br><br><br><span class="hljs-comment"># You can specify a default value for a parameter</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name, force_uppercase=<span class="hljs-literal">True</span></span>):</span><br>    <span class="hljs-keyword">if</span> force_uppercase:<br>    	initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>].upper()<br>    <span class="hljs-keyword">else</span>:<br>        initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = get_initial(first_name)<br><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br>last_name_initial = get_initial(last_name, <span class="hljs-literal">False</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + first_name_initial + last_name_initial)<br><br><br><span class="hljs-comment"># You can also assign the values to parameters by name when you call the function</span><br><span class="hljs-comment"># When you use named parameters, you can specify parameters in any order</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name, force_uppercase</span>):</span><br>    <span class="hljs-keyword">if</span> force_uppercase:<br>    	initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>].upper()<br>    <span class="hljs-keyword">else</span>:<br>        initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = get_initial(force_uppercase=<span class="hljs-literal">True</span>, name=first_name)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials is: &#x27;</span> + first_name_initial)<br><br></code></pre></td></tr></table></figure>
<h3 id="11、Modules-and-packages"><a href="#11、Modules-and-packages" class="headerlink" title="11、Modules and packages"></a>11、Modules and packages</h3><h4 id="1）Modules"><a href="#1）Modules" class="headerlink" title="1）Modules"></a>1）Modules</h4><ul>
<li><p><strong>What’s a module?</strong></p>
<ul>
<li>A python file with functions, classes and other components</li>
</ul>
</li>
<li><p><strong>Why use module?</strong></p>
<ul>
<li>Break code down into reusable structures</li>
</ul>
</li>
</ul>
<p><strong>Creating a module</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># helpers.py</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">display</span>(<span class="hljs-params">message, is_warning=<span class="hljs-literal">False</span></span>):</span><br>    <span class="hljs-keyword">if</span> is_warning:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Warning!!&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(message)<br></code></pre></td></tr></table></figure>
<p><strong>Import a module</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># import module as namespace</span><br><span class="hljs-keyword">import</span> helpers<br>helpers.display(<span class="hljs-string">&#x27;Not a warning&#x27;</span>)<br><br><span class="hljs-comment"># import all into current namespace</span><br><span class="hljs-keyword">from</span> helpers <span class="hljs-keyword">import</span> *<br>display(<span class="hljs-string">&#x27;Not a warning&#x27;</span>)<br><br><span class="hljs-comment"># import specific items into current namespace</span><br><span class="hljs-keyword">from</span> helpers <span class="hljs-keyword">import</span> display<br>display(<span class="hljs-string">&#x27;Not a warning&#x27;</span>)<br></code></pre></td></tr></table></figure>
<h4 id="2）Packages"><a href="#2）Packages" class="headerlink" title="2）Packages"></a>2）Packages</h4><ul>
<li><strong>What are packages?</strong><ul>
<li>Published collections of modules </li>
</ul>
</li>
<li>How do I find packages?<ul>
<li><a target="_blank" rel="noopener" href="https://pypi.org/">Python Package Index</a></li>
<li>Internet search</li>
</ul>
</li>
</ul>
<p><strong>Installing packages</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Install an individual package</span><br>pip install colorama<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Install from a list of packages</span><br>pip install -r requirements.txt<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> requirements.txt</span><br>colorama<br></code></pre></td></tr></table></figure>
<p><code>The best code in the world is the code that&#39;s already written</code></p>
<h4 id="3）Virtual-environments"><a href="#3）Virtual-environments" class="headerlink" title="3）Virtual environments"></a>3）Virtual environments</h4><ul>
<li><p><strong>By default, packages are installed globally</strong></p>
<ul>
<li>Version management becomes a challenge</li>
</ul>
</li>
<li><p><strong>Virtual environments can be used to contain and manage package collections</strong></p>
<ul>
<li>Really just a folder behind the scenes with all your packages</li>
</ul>
</li>
</ul>
<p><strong>Creating a virtual environments</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Install virtual environments</span><br>pip install virtualenv<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Windows systems</span><br>python -m venv &lt;folder_name&gt;<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> OSX/Linux(bash)</span><br>virtualenv &lt;folder_name&gt;<br></code></pre></td></tr></table></figure>
<p><strong>Using virtual environments</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Windows systems</span><br><span class="hljs-meta">#</span><span class="bash"> cmd.exe</span><br>&lt;folder_name&gt;\Scripts\Activate.bat<br><span class="hljs-meta">#</span><span class="bash"> Powershell</span><br>&lt;folder_name&gt;\Scripts\Activate.ps1<br><span class="hljs-meta">#</span><span class="bash"> bash shell</span><br>. ./&lt;folder_name&gt;/Scripts/activate<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> OSX/Linux(bash)</span><br>&lt;folder_name&gt;/bin/activate<br></code></pre></td></tr></table></figure>
<p><strong>Installing packages in a virtual environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Install an individual package</span><br>pip install colorama<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Install from a list of packages</span><br>pip install -r requirements.txt<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> requirements.txt</span><br>colorama<br></code></pre></td></tr></table></figure>
<p><strong>Importing packages</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># import package as namespace</span><br><span class="hljs-keyword">import</span> colorama<br>colorama.init() <span class="hljs-comment"># Call required by colorama</span><br><span class="hljs-built_in">print</span>(colorama.Fore.RED + <span class="hljs-string">&#x27;This is red&#x27;</span>)<br><br><span class="hljs-comment"># import all components from module</span><br><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> *<br>init() <span class="hljs-comment"># Call required by colorama</span><br><span class="hljs-built_in">print</span>(Fore.BLUE + <span class="hljs-string">&#x27;This is blue&#x27;</span>)<br><br><span class="hljs-comment"># import specific components from module</span><br><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> init, Fore<br>init() <span class="hljs-comment"># Call required by colorama</span><br><span class="hljs-built_in">print</span>(Fore.GREEN + <span class="hljs-string">&#x27;This is green&#x27;</span>)<br><br></code></pre></td></tr></table></figure>
<h3 id="12、Calling-an-API"><a href="#12、Calling-an-API" class="headerlink" title="12、Calling an API"></a>12、Calling an API</h3><p><strong>1）What is a web service?</strong></p>
<p>When a developer wants to share the functionality of a function but not the actual code in the program, they can place the function on a web server.</p>
<p>A programmer with the address of that function on the web server and the required permissions can call the function</p>
<p>This is called a web service</p>
<p><strong>2）What is an API?</strong></p>
<p>You can’t call a function unless you know the function name and the required parameters </p>
<p>When you create a web service you create an Application Programming Interface (API) </p>
<p>The API defines the function names and parameters so others know how to call your function.</p>
<p><strong>3）Keys allow me to track which users have permission to use my web service</strong></p>
<p>A developer signs up on my web site, or buys a license for my software and is provided a unique key</p>
<p>When the developer calls my web service they provide their unique key and I am able to verify the key has been approved for calls to my web service</p>
<p><strong>4）There is a standard for sending messages across the web</strong></p>
<p>Hypertext Transfer Protocol (HTTP) is a standard protocol for sending messages across the web</p>
<ul>
<li><p>GET</p>
<ul>
<li>Pass values in query string only</li>
<li>Special characters must be “escaped”</li>
<li>Limited amount of data</li>
</ul>
</li>
<li><p>POST</p>
<ul>
<li>Pass values in query string <strong>and</strong> body</li>
<li>No need to escape special characters if passed in body</li>
<li>Can pass large amounts of data, including images, in body</li>
</ul>
</li>
</ul>
<p><strong>5）The requests library simplifies HTTP calls from Python code</strong></p>
<p>requests.post(address, http_headers, function_parameters, message_body)</p>
<ul>
<li><p>address: request URL(contoso/analyze)</p>
</li>
<li><p>http_headers: request headers(content-type, API key)</p>
</li>
<li>function_parameters: request parameters(visualfeatures, details, language)</li>
<li>message_body: request body(image file)</li>
</ul>
<p><strong>6）Learning how to call APIs unlocks functionality from developers and software companies around the world API</strong> </p>
<p>parameters and keys requirements will vary </p>
<p>Refer to product and API documentation to learn how to call a specific API</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># This code will show you how to call the Computer Vision API from Python</span><br><span class="hljs-comment"># You can find documentation on the Computer Vision Analyze Image method here</span><br><span class="hljs-comment"># https://westus.dev.cognitive.microsoft.com/docs/services/5adf991815e1060e6355ad44/operations/56f91f2e778daf14a499e1fa</span><br><br><span class="hljs-comment"># Use the requests library to simplify making a REST API call from Python </span><br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-comment"># We will need the json library to read the data passed back by the web service</span><br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-comment"># You need to update the SUBSCRIPTION_KEY to they key for your Computer Vision Service</span><br>SUBSCRIPTION_KEY = <span class="hljs-string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><br><br><span class="hljs-comment"># You need to update the vision_service_address to the address of your Computer Vision Service</span><br>vision_service_address = <span class="hljs-string">&quot;https://canadacentral.api.cognitive.microsoft.com/vision/v2.0/&quot;</span><br><br><span class="hljs-comment"># Add the name of the function you want to call to the address</span><br>address = vision_service_address + <span class="hljs-string">&quot;analyze&quot;</span><br><br><span class="hljs-comment"># According to the documentation for the analyze image function </span><br><span class="hljs-comment"># There are three optional parameters: language, details &amp; visualFeatures</span><br>parameters  = &#123;<span class="hljs-string">&#x27;visualFeatures&#x27;</span>:<span class="hljs-string">&#x27;Description,Color&#x27;</span>,<br>               <span class="hljs-string">&#x27;language&#x27;</span>:<span class="hljs-string">&#x27;en&#x27;</span>&#125;<br><br><span class="hljs-comment"># Open the image file to get a file object containing the image to analyze</span><br>image_path = <span class="hljs-string">&quot;./TestImages/PolarBear.jpg&quot;</span><br>image_data = <span class="hljs-built_in">open</span>(image_path, <span class="hljs-string">&quot;rb&quot;</span>).read()<br><br><span class="hljs-comment"># According to the documentation for the analyze image function</span><br><span class="hljs-comment"># we need to specify the subscription key and the content type</span><br><span class="hljs-comment"># in the HTTP header. Content-Type is application/octet-stream when you pass in a image directly</span><br>headers    = &#123;<span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/octet-stream&#x27;</span>,<br>              <span class="hljs-string">&#x27;Ocp-Apim-Subscription-Key&#x27;</span>: SUBSCRIPTION_KEY&#125;<br><br><span class="hljs-comment"># According to the documentation for the analyze image function</span><br><span class="hljs-comment"># we use HTTP POST to call this function</span><br>response = requests.post(address, headers=headers, params=parameters, data=image_data)<br><br><span class="hljs-comment"># Raise an exception if the call returns an error code</span><br>response.raise_for_status()<br><br><span class="hljs-comment"># Display the JSON results returned</span><br>results = response.json()<br><span class="hljs-built_in">print</span>(json.dumps(results))<br><br></code></pre></td></tr></table></figure>
<h3 id="13、JSON"><a href="#13、JSON" class="headerlink" title="13、JSON"></a>13、JSON</h3><p><strong>Many web services return data as JSON</strong></p>
<p>JSON is a standard data format that can be intimidating at first glance</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"># results<br>&#123;<span class="hljs-attr">&quot;color&quot;</span>: &#123;<span class="hljs-attr">&quot;dominantColorForeground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>, <span class="hljs-attr">&quot;dominantColorBackground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>, <span class="hljs-attr">&quot;dominantColors&quot;</span>: [<span class="hljs-string">&quot;White&quot;</span>], <span class="hljs-attr">&quot;accentColor&quot;</span>: <span class="hljs-string">&quot;595144&quot;</span>, <span class="hljs-attr">&quot;isBwImg&quot;</span>: <span class="hljs-literal">false</span>&#125;, <span class="hljs-attr">&quot;description&quot;</span>: &#123;<span class="hljs-attr">&quot;tags&quot;</span>: [<span class="hljs-string">&quot;bear&quot;</span>, <span class="hljs-string">&quot;polar&quot;</span>, <span class="hljs-string">&quot;animal&quot;</span>, <span class="hljs-string">&quot;mammal&quot;</span>, <span class="hljs-string">&quot;outdoor&quot;</span>, <span class="hljs-string">&quot;water&quot;</span>, <span class="hljs-string">&quot;white&quot;</span>, <span class="hljs-string">&quot;large&quot;</span>, <span class="hljs-string">&quot;walking&quot;</span>, <span class="hljs-string">&quot;snow&quot;</span>, <span class="hljs-string">&quot;standing&quot;</span>], <span class="hljs-attr">&quot;captions&quot;</span>: [&#123;<span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;a large white polar bear walking in the water&quot;</span>, <span class="hljs-attr">&quot;confidence&quot;</span>: <span class="hljs-number">0.7419737378283093</span>&#125;]&#125;, <span class="hljs-attr">&quot;requestId&quot;</span>: <span class="hljs-string">&quot;33290a37-ad67-42af-b647-c5a236ecd202&quot;</span>, <span class="hljs-attr">&quot;metadata&quot;</span>: &#123;<span class="hljs-attr">&quot;width&quot;</span>: <span class="hljs-number">220</span>, <span class="hljs-attr">&quot;height&quot;</span>: <span class="hljs-number">221</span>, <span class="hljs-attr">&quot;format&quot;</span>: <span class="hljs-string">&quot;Jpeg&quot;</span>&#125;&#125;<br></code></pre></td></tr></table></figure>
<p><strong>Using a linting tool to format JSON makes it easier to read</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;color&quot;</span>:<br>           &#123;<span class="hljs-attr">&quot;dominantColorForeground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>,<br>            <span class="hljs-attr">&quot;dominantColorBackground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>, <br>            <span class="hljs-attr">&quot;dominantColors&quot;</span>: [<span class="hljs-string">&quot;White&quot;</span>], <br>            <span class="hljs-attr">&quot;accentColor&quot;</span>: <span class="hljs-string">&quot;595144&quot;</span>, <br>            <span class="hljs-attr">&quot;isBwImg&quot;</span>: <span class="hljs-literal">false</span>, <br>            <span class="hljs-attr">&quot;isBWImg&quot;</span>: <span class="hljs-literal">false</span>&#125;,<br>   <span class="hljs-attr">&quot;description&quot;</span>: <br>            &#123;<span class="hljs-attr">&quot;tags&quot;</span>: <br>	      [<span class="hljs-string">&quot;bear&quot;</span>, <span class="hljs-string">&quot;polar&quot;</span>, <span class="hljs-string">&quot;animal&quot;</span>, <span class="hljs-string">&quot;mammal&quot;</span>, <span class="hljs-string">&quot;outdoor&quot;</span>, <span class="hljs-string">&quot;water&quot;</span>, <span class="hljs-string">&quot;white&quot;</span>, <span class="hljs-string">&quot;large&quot;</span>, <span class="hljs-string">&quot;walking&quot;</span>, <span class="hljs-string">&quot;snow&quot;</span>, <span class="hljs-string">&quot;standing&quot;</span>], <br>              <span class="hljs-attr">&quot;captions&quot;</span>: <br>                     [&#123;<span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;a large white polar bear walking in the water&quot;</span>,<br>	        <span class="hljs-attr">&quot;confidence&quot;</span>: <span class="hljs-number">0.7419737378283093</span>&#125;]<br>             &#125;,<br>  <span class="hljs-attr">&quot;requestId&quot;</span>: <span class="hljs-string">&quot;33290a37-ad67-42af-b647-c5a236ecd202&quot;</span><br>  &#125;<br><br></code></pre></td></tr></table></figure>
<p><strong>JSON contains key pairs</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// &quot;key&quot;:&quot;value&quot;</span><br>&#123;<span class="hljs-attr">&quot;requestId&quot;</span>: <span class="hljs-string">&quot;33290a37-ad67-42af-b647-c5a236ecd202&quot;</span>&#125;<br><br><span class="hljs-comment">// &#123;&quot;key&quot;:&#123;&quot;subkey0&quot;:&quot;subvalue0&quot;,&quot;subkey1&quot;:&quot;subvalue1&quot;, …&#125;</span><br>&#123;<span class="hljs-attr">&quot;color&quot;</span>:<br>	 &#123;<span class="hljs-attr">&quot;dominantColorForeground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>,<br>	  <span class="hljs-attr">&quot;dominantColorBackground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>, <br>	  <span class="hljs-attr">&quot;dominantColors&quot;</span>: [<span class="hljs-string">&quot;White&quot;</span>], <br>	  <span class="hljs-attr">&quot;accentColor&quot;</span>: <span class="hljs-string">&quot;595144&quot;</span>, <br>	  <span class="hljs-attr">&quot;isBWImg&quot;</span>: <span class="hljs-literal">false</span>&#125;<br>&#125;<br><br><span class="hljs-comment">// &#123;&quot;key&quot;:[listvalue0, listvalue1, listvalue2, …]&#125;</span><br>&#123;<span class="hljs-attr">&quot;tags&quot;</span>: [<span class="hljs-string">&quot;bear&quot;</span>, <span class="hljs-string">&quot;polar&quot;</span>, <span class="hljs-string">&quot;animal&quot;</span>, <span class="hljs-string">&quot;mammal&quot;</span>, <span class="hljs-string">&quot;outdoor&quot;</span>, <span class="hljs-string">&quot;water&quot;</span>, <span class="hljs-string">&quot;white&quot;</span>, <span class="hljs-string">&quot;large&quot;</span>, <span class="hljs-string">&quot;walking&quot;</span>, <span class="hljs-string">&quot;snow&quot;</span>, <span class="hljs-string">&quot;standing&quot;</span>]&#125;<br><br></code></pre></td></tr></table></figure>
<p><strong>Reading JSON</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># To retrieve the value from a &quot;key&quot;:&quot;value&quot; request the key name</span><br><span class="hljs-built_in">print</span> (results[<span class="hljs-string">&#x27;requestId&#x27;</span>])<br><br><span class="hljs-comment"># To request a value from a &#123;&quot;key&quot;:&#123;&quot;subkey0&quot;:&quot;subvalue0&quot;,&quot;subkey1&quot;:&quot;subvalue1&quot;,…&#125; specify the key name and the subkey name</span><br><span class="hljs-built_in">print</span>(results[<span class="hljs-string">&#x27;color&#x27;</span>][<span class="hljs-string">&#x27;dominantColorBackground&#x27;</span>])<br><br><span class="hljs-comment"># To retrieve a value from a &#123;&quot;key&quot;:[listvalue0, listvalue1, listvalue2, …]&#125; specify the keyname and index position of the value to retrieve</span><br><span class="hljs-built_in">print</span>(results[<span class="hljs-string">&#x27;description&#x27;</span>][<span class="hljs-string">&#x27;tags&#x27;</span>][<span class="hljs-number">0</span>])<br><br><span class="hljs-comment"># Use a loop to retrieve all values from a &#123;&quot;key&quot;:[listvalue0, listvalue1, listvalue2, …]&#125;</span><br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> results[<span class="hljs-string">&#x27;description&#x27;</span>][<span class="hljs-string">&#x27;tags&#x27;</span>]:<br>    <span class="hljs-built_in">print</span>(item)<br><br></code></pre></td></tr></table></figure>
<p><strong>Creating JSON</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># You can create &quot;key&quot;:&quot;value&quot; JSON objects from a dictionary</span><br><span class="hljs-comment"># Create a dictionary object</span><br>person_dict = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;last&#x27;</span>:<span class="hljs-string">&#x27;Harrison&#x27;</span>&#125;<br><span class="hljs-comment"># Add additional key pairs as needed to dictionary</span><br>person_dict[<span class="hljs-string">&#x27;City&#x27;</span>]=<span class="hljs-string">&#x27;Seattle&#x27;</span><br><br><span class="hljs-comment"># Convert dictionary to JSON object</span><br>person_json = json.dumps(person_dict)<br><span class="hljs-built_in">print</span>(person_json)<br><br><br><span class="hljs-comment"># Nest dictionaries to create JSON in the format &#123;&quot;key&quot;:&#123;&quot;subkey0&quot;:&quot;subvalue0&quot;,&quot;subkey1&quot;:&quot;subvalue1&quot;,…&#125;</span><br>person_dict = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;last&#x27;</span>:<span class="hljs-string">&#x27;Harrison&#x27;</span>&#125;<br><br><span class="hljs-comment"># Create staff dictionary which assigns a person to a role</span><br>staff_dict =&#123;&#125;<br>staff_dict[<span class="hljs-string">&#x27;Program Manager&#x27;</span>]=person_dict<br><br><span class="hljs-comment"># Convert dictionary to JSON object</span><br>staff_json = json.dumps(staff_dict)<br><span class="hljs-comment"># Print JSON object</span><br><span class="hljs-built_in">print</span>(staff_json)<br>                                                <br>                                                <br><span class="hljs-comment"># Add lists to the dictionary to create JSON in the format &#123;&quot;key&quot;:[listvalue0, listvalue1, listvalue2, …]&#125;</span><br>person_dict = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;last&#x27;</span>:<span class="hljs-string">&#x27;Harrison&#x27;</span>&#125;<br><br><span class="hljs-comment"># Create a list object of programming languages</span><br>languages_list = [<span class="hljs-string">&#x27;CSharp&#x27;</span>,<span class="hljs-string">&#x27;Python&#x27;</span>,<span class="hljs-string">&#x27;JavaScript&#x27;</span> ]<br><span class="hljs-comment"># Add list to dictionary</span><br>person_dict[<span class="hljs-string">&#x27;languages&#x27;</span>]= languages_list<br><br><span class="hljs-comment"># Convert dictionary to JSON object</span><br>person_json = json.dumps(person_dict)<br><span class="hljs-built_in">print</span>(person_json)<br><br></code></pre></td></tr></table></figure>
<p><strong>When creating and reading JSON</strong> </p>
<ul>
<li>Use print statements to help you debug</li>
<li>Use a JSON linting tool to make the JSON easier to read</li>
<li>Have a print out of the full JSON so you can figure out the structure when reading specific elements</li>
</ul>
<h3 id="14、Managing-keys"><a href="#14、Managing-keys" class="headerlink" title="14、Managing keys"></a>14、Managing keys</h3><p><strong>Values from outside of your application</strong></p>
<ul>
<li>Connecting to a database</li>
<li>Determining the operating system</li>
<li>Settings which need to change</li>
<li>Sensitive data</li>
</ul>
<p><strong>Reading an environmental variable</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Reading an environmental variable</span><br><span class="hljs-keyword">import</span> os<br>os_version = os.getenv(<span class="hljs-string">&#x27;OS&#x27;</span>)<br><span class="hljs-built_in">print</span>(os_version)<br></code></pre></td></tr></table></figure>
<p><strong>Using dotenv</strong></p>
<p>Store environmental variables in text file</p>
<ul>
<li>Don’t hard code</li>
<li>Don’t check sensitive values into source control</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># pip install python-dotenv</span><br><br><span class="hljs-comment"># .env</span><br>DATABASE=Sample_Connection_String<br><br><span class="hljs-comment"># .gitignore</span><br>.env<br><br><span class="hljs-comment"># app.py</span><br><span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv<br>load_dotenv()<br><br><span class="hljs-keyword">import</span> os<br>database = os.getenv(<span class="hljs-string">&#x27;DATABASE&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(database)<br></code></pre></td></tr></table></figure>
<p><strong>Final notes</strong></p>
<ul>
<li><p>Don’t hard code sensitive information ever</p>
</li>
<li><p>Use dotenv for a simple solution</p>
<ul>
<li>Add .env to .gitignore</li>
</ul>
</li>
<li><p>Consider full encryption options</p>
<ul>
<li>Azure Key Vault</li>
</ul>
</li>
</ul>
<h3 id="15、Decorators"><a href="#15、Decorators" class="headerlink" title="15、Decorators"></a>15、Decorators</h3><p>The big thing really is in using Decorators that are part of a framework, such as Flash, that you’re going to be creating your application using </p>
<p><strong>Programming components</strong></p>
<ul>
<li>Objects<ul>
<li>Nouns</li>
<li>Data constructs</li>
</ul>
</li>
<li>Functions/Methods<ul>
<li>Verbs</li>
<li>Actions</li>
</ul>
</li>
<li>Decorators<ul>
<li>Adjectives</li>
<li>Add additional functionality to code</li>
<li>Common in framework</li>
<li>Django, Flask</li>
</ul>
</li>
</ul>
<p><strong>Using a decorator</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Snippet from Flask</span><br><span class="hljs-comment"># register https://myserver/api/products</span><br><br><span class="hljs-meta">@route(<span class="hljs-params"><span class="hljs-string">&#x27;api/products&#x27;</span></span>)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_products</span>:</span><br>    <span class="hljs-comment"># code to list from database</span><br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>
<p><strong>Creating a decorator</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">logger</span>(<span class="hljs-params">func</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span>():</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Lodding execution&#x27;</span>)<br>        func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Done logging&#x27;</span>)<br>    <span class="hljs-keyword">return</span> wrapper<br><br><span class="hljs-meta">@logger</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sample</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Inside sample function&#x27;</span>)<br><br>sample()<br></code></pre></td></tr></table></figure>
<p><strong>Decorators code</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> functools<br><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> init, Fore<br>init()<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">color</span>(<span class="hljs-params">color</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span>(<span class="hljs-params">func</span>):</span><br><span class="hljs-meta">        @functools.wraps(<span class="hljs-params">func</span>)</span><br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">runner</span>(<span class="hljs-params">*args, **kwargs</span>):</span><br>            <span class="hljs-built_in">print</span>(color + <span class="hljs-string">&#x27;changing to blue&#x27;</span>)<br>            func(*args, **kwargs)<br>        <span class="hljs-keyword">return</span> runner<br>    <span class="hljs-keyword">return</span> wrapper<br><br><span class="hljs-meta">@color(<span class="hljs-params">color=Fore.BLUE</span>)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">greeter</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, world!!&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Just saying hi again&#x27;</span>)<br><br>greeter()<br></code></pre></td></tr></table></figure>
<h2 id="二、More-python-for-beginners"><a href="#二、More-python-for-beginners" class="headerlink" title="二、More python for beginners"></a>二、More python for beginners</h2><p><strong>What are we doing here?</strong></p>
<ul>
<li><p>Walk through additional Python concepts</p>
</li>
<li><p>Give you more tools for your toolbox</p>
</li>
<li><p>Link to more resources</p>
</li>
</ul>
<h3 id="1、Formatting-and-linting"><a href="#1、Formatting-and-linting" class="headerlink" title="1、Formatting and linting"></a>1、Formatting and linting</h3><p><strong>This is valid Python code</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">x = <span class="hljs-number">12</span><br><span class="hljs-keyword">if</span> x== <span class="hljs-number">24</span>:<br> <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Is valid&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Not valid&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">helper</span>(<span class="hljs-params">name=<span class="hljs-string">&#x27;sample&#x27;</span></span>):</span><br> <span class="hljs-keyword">pass</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">another</span>(<span class="hljs-params"> name = <span class="hljs-string">&#x27;sample&#x27;</span> </span>):</span><br>         <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>
<p><strong>Formatting matters</strong></p>
<ul>
<li>Makes code readable</li>
<li>Easier to debug</li>
<li>Consistency helps everyone</li>
</ul>
<p><strong>PEP 8</strong></p>
<ul>
<li><p>Python Enhancement Proposal #8</p>
</li>
<li><p>All about formatting</p>
</li>
<li>Common rules:<ul>
<li>Spaces, not tabs</li>
<li>variable_name, not variableName or VariableName</li>
<li>Avoid extraneous whitespace<ul>
<li>{‘good’: 42}</li>
<li>{ ‘bad’ : 20 }</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Linting</strong></p>
<ul>
<li>Identify formatting issues <ul>
<li>Common for all languages </li>
</ul>
</li>
<li>Pylint for Python <ul>
<li>Windows: pip install pylint </li>
<li>macOS or Linux: pip3 install pylint </li>
</ul>
</li>
<li>Configurable to ignore certain rules <ul>
<li>Avoid doing this </li>
</ul>
</li>
<li>Automatically run by Visual Studio Code </li>
</ul>
<p><strong>Use docstring for inline documentation</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_hello</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Greets the user by name</span><br><span class="hljs-string"></span><br><span class="hljs-string">	Parameters:</span><br><span class="hljs-string">		name (str): The name of the user</span><br><span class="hljs-string">	Returns:</span><br><span class="hljs-string">		str: The greeting</span><br><span class="hljs-string">	&quot;&quot;&quot;</span><br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + name)<br></code></pre></td></tr></table></figure>
<p><strong>The challenge with weakly typed languages</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_greeting</span>(<span class="hljs-params">name</span>):</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello, &#x27;</span> + name<br><br>message = get_greeting(<span class="hljs-number">42</span>)<br><span class="hljs-built_in">print</span>(message)<br></code></pre></td></tr></table></figure>
<p><strong>Type hints</strong></p>
<ul>
<li><p>Tell the editor and linter what data types to expect</p>
</li>
<li><p><strong>DOES NOT</strong> cause “compiler” errors</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#            parameter type   return type</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_greeting</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello, &#x27;</span> + name<br></code></pre></td></tr></table></figure>
<h3 id="2、Lambdas"><a href="#2、Lambdas" class="headerlink" title="2、Lambdas"></a>2、Lambdas</h3><p><strong>Sort some objects</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">presenters = [<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">50</span>&#125;,<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">47</span>&#125;<br>]<br><br>presenters.sort()<br><span class="hljs-built_in">print</span>(presenters)<br></code></pre></td></tr></table></figure>
<p><strong>Notes about <code>sort</code></strong></p>
<ul>
<li><code>sort</code> can automatically handle primitive types and strings</li>
<li>If we need to do anything complex we need to tell <code>sort</code> how to sort</li>
<li>In this case we just need to specify whether to sort by age or name</li>
<li>the key parameter allows you to pass in a function to call for each list element before it compares items for sorting</li>
</ul>
<p><strong>Sort by name</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sorter</span>(<span class="hljs-params">item</span>):</span><br>    <span class="hljs-keyword">return</span> item[<span class="hljs-string">&#x27;name&#x27;</span>]<br><br>presenters = [<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">50</span>&#125;,<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">47</span>&#125;<br>]<br><br>presenters.sort(key=sorter)<br><span class="hljs-built_in">print</span>(presenters)<br></code></pre></td></tr></table></figure>
<p><strong>Do the same thing inline</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">presenters = [<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">50</span>&#125;,<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">47</span>&#125;<br>]<br><br>presenters.sort(key=<span class="hljs-keyword">lambda</span> item: item[<span class="hljs-string">&#x27;name&#x27;</span>])<br><span class="hljs-built_in">print</span>(presenters)<br></code></pre></td></tr></table></figure>
<p><strong>Sort by name length (short to long)</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">presenters = [<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">50</span>&#125;,<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">47</span>&#125;<br>]<br><br>presenters.sort(key=<span class="hljs-keyword">lambda</span> item: <span class="hljs-built_in">len</span>(item[<span class="hljs-string">&#x27;name&#x27;</span>]))<br><span class="hljs-built_in">print</span>(presenters)<br></code></pre></td></tr></table></figure>
<h3 id="3、Classes"><a href="#3、Classes" class="headerlink" title="3、Classes"></a>3、Classes</h3><p><strong>Classes define data structures and behavior</strong></p>
<ul>
<li><p>Why use classes</p>
<ul>
<li>Create reusable components</li>
<li>Group data and operations together</li>
</ul>
</li>
<li><p>Moving parts</p>
<ul>
<li>Classes are nouns</li>
<li>Properties are adjectives</li>
<li>Methods are verbs</li>
</ul>
</li>
</ul>
<p><strong>Creating a class</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># PascalCasing(驼峰命名法)</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Presenter</span>():</span><br>    <span class="hljs-comment"># Constructor(构造函数)</span><br>	<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name</span>):</span><br>        <span class="hljs-comment"># Field(域) or property(属性)</span><br>		self.name = name<br>    <span class="hljs-comment"># method(方法)</span><br>	<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say_hello</span>(<span class="hljs-params">self</span>):</span><br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + self.name)<br></code></pre></td></tr></table></figure>
<p><strong>Using a class</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">presenter = Presenter(<span class="hljs-string">&#x27;Chris&#x27;</span>)<br>presenter.name = <span class="hljs-string">&#x27;Christopher&#x27;</span><br>presenter.say_hello()<br></code></pre></td></tr></table></figure>
<p><strong>Accessibility in Python</strong></p>
<ul>
<li><p><strong>EVERYTHING</strong> is public</p>
</li>
<li><p>Conventions for suggesting accessibility</p>
<ul>
<li>_ means avoid unless you really know what you’re doing</li>
<li>__ (double underscore) means <strong>do not use</strong></li>
</ul>
</li>
</ul>
<p><strong>Adding properties</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Presenter</span>():</span><br>	<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name</span>):</span><br>		<span class="hljs-comment"># property (do not use self.__name = name) </span><br>		self.name = name<br><br><span class="hljs-meta">	@property</span><br>	<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">name</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;In the getting&#x27;</span>)<br>		<span class="hljs-keyword">return</span> self.__name<br><span class="hljs-meta">	@name.setter</span><br>	<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">name</span>(<span class="hljs-params">self, value</span>):</span><br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;In the setting&#x27;</span>)<br>		self.__name = value<br></code></pre></td></tr></table></figure>
<p><strong>Using a property</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">presenter = Presenter(<span class="hljs-string">&#x27;Chris&#x27;</span>)<br>presenter.name = <span class="hljs-string">&#x27;Christopher&#x27;</span><br><span class="hljs-built_in">print</span>(presenter.name)<br></code></pre></td></tr></table></figure>
<h3 id="4、Inheritance"><a href="#4、Inheritance" class="headerlink" title="4、Inheritance"></a>4、Inheritance</h3><p><strong>Inheritance</strong></p>
<ul>
<li>Creates an “is a” relationship<ul>
<li>Student is a Person</li>
<li>MySqlConnection is a DatabaseConnection</li>
</ul>
</li>
<li>Composition (with properties) creates a “has a” relationship<ul>
<li>Student has a Class</li>
<li>DatabaseConnection has a ConnectionString</li>
</ul>
</li>
</ul>
<p><strong>Python inheritance in action</strong></p>
<ul>
<li><p>All methods are “virtual”</p>
<ul>
<li>Can override or redefine their behavior</li>
</ul>
</li>
<li><p>Keyword <code>super</code> to access parent class</p>
<ul>
<li><p>Constructor</p>
</li>
<li><p>Properties in methods</p>
</li>
</ul>
</li>
<li><p>Must always call parent constructor</p>
</li>
</ul>
<p><strong>Inheriting from a class</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name</span>):</span><br>        self.name = name<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say_hello</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + self.name)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>(<span class="hljs-params">Person</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name, school</span>):</span><br>        <span class="hljs-built_in">super</span>().__init__(name)<br>        self.school = school<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sing_school_song</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Ode to &#x27;</span> + self.school)<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say_hello</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-comment"># Let the parent do some work</span><br>        <span class="hljs-built_in">super</span>().say_hello()<br>        <span class="hljs-comment"># Add on custom code </span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I am tired&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><strong>Using a derived class</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">student = Student(<span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;UMD&#x27;</span>)<br>student.say_hello()<br>student.sing_school_song()<br><span class="hljs-comment"># What are you?</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">isinstance</span>(student, Student))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">isinstance</span>(student, Person))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">issubclass</span>(Student, Person))<br></code></pre></td></tr></table></figure>
<p><strong>Overriding <code>__str__</code></strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># YAGNA原则(you aren&#x27;t gonna need it)</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name</span>):</span><br>        self.name = name<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say_hello</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + self.name)<br>	<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span>(<span class="hljs-params">self</span>):</span><br>		<span class="hljs-keyword">return</span> self.name<br><br>presenter = Presenter(<span class="hljs-string">&#x27;Christopher&#x27;</span>)<br><span class="hljs-built_in">print</span>(presenter)<br></code></pre></td></tr></table></figure>
<h3 id="5、Mixins-multiple-inheritance"><a href="#5、Mixins-multiple-inheritance" class="headerlink" title="5、Mixins (multiple inheritance)"></a>5、Mixins (multiple inheritance)</h3><p><strong>Mixins or multiple inheritance</strong></p>
<ul>
<li><p>Inherit from multiple classes</p>
</li>
<li><p>A little controversial</p>
<ul>
<li>Can get messy quickly</li>
<li>Many modern languages only support single inheritance</li>
</ul>
</li>
<li><p>Uses</p>
<ul>
<li>Enable functionality for frameworks such as Django</li>
<li>Streamline repetitious operations</li>
</ul>
</li>
</ul>
<p><strong>The scenario</strong></p>
<ul>
<li><p>What I want to create</p>
<ul>
<li>Helper database class</li>
<li>Create different types for different databases</li>
</ul>
</li>
<li><p>What I want it to be able to do</p>
<ul>
<li>Connect to a database</li>
<li>Log what it’s doing</li>
</ul>
</li>
</ul>
<p><strong>Supporting classes</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Loggable</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        self.title = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">log</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Log message from &#x27;</span> + self.title)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Connection</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        self.server = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">connect</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Connecting to database on &#x27;</span> + self.server)<br></code></pre></td></tr></table></figure>
<p><strong>Create our “framework”</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">framework</span>(<span class="hljs-params">item</span>):</span><br>	<span class="hljs-comment"># Perform the connection</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(item, Connection):<br>        item.connect()<br>	<span class="hljs-comment"># Log the operation</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(item, Loggable):<br>        item.log()<br></code></pre></td></tr></table></figure>
<p><strong>Create our database class</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDatabase</span>(<span class="hljs-params">Connection, Loggable</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.title = <span class="hljs-string">&#x27;Sql Connection Demo&#x27;</span><br>        self.server = <span class="hljs-string">&#x27;Some_Server&#x27;</span><br></code></pre></td></tr></table></figure>
<p><strong>Putting it to work</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Create an instance of our class</span><br>sql_connection = SqlDatabase()<br><span class="hljs-comment"># Use our framework</span><br>framework(sql_connection) <span class="hljs-comment"># connects and logs</span><br></code></pre></td></tr></table></figure>
<p><strong>Use framework</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Loggable</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        self.title = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">log</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Log message from &#x27;</span> + self.title)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Connection</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        self.server = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">connect</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Connecting to database on &#x27;</span> + self.server)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">framework</span>(<span class="hljs-params">item</span>):</span><br>	<span class="hljs-comment"># Perform the connection</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(item, Connection):<br>        item.connect()<br>	<span class="hljs-comment"># Log the operation</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(item, Loggable):<br>        item.log()<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDatabase</span>(<span class="hljs-params">Connection, Loggable</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.title = <span class="hljs-string">&#x27;Sql Connection Demo&#x27;</span><br>        self.server = <span class="hljs-string">&#x27;Some_Server&#x27;</span><br><br><span class="hljs-comment"># Create an instance of our class</span><br>sql_connection = SqlDatabase()<br><span class="hljs-comment"># Use our framework</span><br>framework(sql_connection) <span class="hljs-comment"># connects and logs</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JustLog</span>(<span class="hljs-params">Loggable</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        self.title = <span class="hljs-string">&#x27;Just logging&#x27;</span><br>        <br>just_log = JustLog()<br>framework(just_log)<br></code></pre></td></tr></table></figure>
<h3 id="6、Managing-the-file-system"><a href="#6、Managing-the-file-system" class="headerlink" title="6、Managing the file system"></a>6、Managing the file system</h3><p><strong>Managing files</strong></p>
<ul>
<li><p>All the common operations are built into Python</p>
</li>
<li><p>Static or classless</p>
<ul>
<li><code>os.path</code></li>
<li>Old style</li>
</ul>
</li>
<li><p>Class based</p>
<ul>
<li><code>Path</code> from <code>pathlib</code> library</li>
<li>Python 3.6 or higher</li>
<li>Better performance as it can avoid calls to the OS</li>
</ul>
</li>
</ul>
<p><strong>Working with paths</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Python 3.6 or higher</span><br><span class="hljs-comment"># Grab the library</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br><span class="hljs-comment"># What is the current working directory?</span><br>cwd = Path.cwd()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nCurrent working directory:\n&#x27;</span> + <span class="hljs-built_in">str</span>(cwd))<br><br><span class="hljs-comment"># Create full path name by joining path and filename</span><br>new_file = Path.joinpath(cwd, <span class="hljs-string">&#x27;new_file.txt&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nFull path:\n&#x27;</span> + <span class="hljs-built_in">str</span>(new_file))<br><br><span class="hljs-comment"># Check if file exists</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nDoes that file exist? &#x27;</span> + <span class="hljs-built_in">str</span>(new_file.exists()) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><strong>Working with directories</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>cwd = Path.cwd()<br><br><span class="hljs-comment"># Get the parent directory</span><br>parent = cwd.parent<br><br><span class="hljs-comment"># Is this a directory?</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nIs this a directory? &#x27;</span> + <span class="hljs-built_in">str</span>(parent.is_dir()))<br><br><span class="hljs-comment"># Is this a file?</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nIs this a file? &#x27;</span> + <span class="hljs-built_in">str</span>(parent.is_file()))<br><br><span class="hljs-comment"># List child directories</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\n-----directory contents-----&#x27;</span>)<br><span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> parent.iterdir():<br>    <span class="hljs-keyword">if</span> child.is_dir():<br>        <span class="hljs-built_in">print</span>(child)<br></code></pre></td></tr></table></figure>
<p><strong>Working with files</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>cwd = Path.cwd()<br><br>demo_file = Path(Path.joinpath(cwd, <span class="hljs-string">&#x27;demo.txt&#x27;</span>))<br><br><span class="hljs-comment"># Get the file name</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nfile name: &#x27;</span> + demo_file.name)<br><br><span class="hljs-comment"># Get the extension</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nfile suffix: &#x27;</span> + demo_file.suffix)<br><br><span class="hljs-comment"># Get the folder</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nfile folder: &#x27;</span> + demo_file.parent.name)<br><br><span class="hljs-comment"># Get the size</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nfile size: &#x27;</span> + <span class="hljs-built_in">str</span>(demo_file.stat().st_size) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br></code></pre></td></tr></table></figure>
<h3 id="7、Working-with-files"><a href="#7、Working-with-files" class="headerlink" title="7、Working with files"></a>7、Working with files</h3><p><strong>Opening a file</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">stream = <span class="hljs-built_in">open</span>(file_name, mode, buffer_size)<br><br><span class="hljs-comment"># Modes:</span><br><span class="hljs-comment"># r - Read (default)</span><br><span class="hljs-comment"># w - Truncate and write</span><br><span class="hljs-comment"># a - Append if file exists</span><br><span class="hljs-comment"># x - Write, fail if file exists</span><br><span class="hljs-comment"># + - Updating (read/write)</span><br><br><span class="hljs-comment"># t - Text (default)</span><br><span class="hljs-comment"># b - Binary</span><br></code></pre></td></tr></table></figure>
<p><strong>Reading from a file</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Open file demo.txt and read the contents</span><br>stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./demo.txt&#x27;</span>, <span class="hljs-string">&#x27;rt&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nIs this readable? &#x27;</span> + <span class="hljs-built_in">str</span>(stream.readable()))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nRead one character : &#x27;</span> + stream.read(<span class="hljs-number">1</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nRead to end of line : &#x27;</span> + stream.readline())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nRead all lines to end of file :\n&#x27;</span> + <span class="hljs-built_in">str</span>(stream.readlines())+ <span class="hljs-string">&#x27;\n&#x27;</span>)<br>stream.close() <span class="hljs-comment"># close the stream</span><br></code></pre></td></tr></table></figure>
<p><strong>Writing to a file</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Open output.txt as a text file for writing</span><br>stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;output.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nCan I write to this file? &#x27;</span> + <span class="hljs-built_in">str</span>(stream.writable()) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br>stream.write(<span class="hljs-string">&#x27;H&#x27;</span>) <span class="hljs-comment"># Write a single string </span><br>stream.writelines([<span class="hljs-string">&#x27;ello&#x27;</span>,<span class="hljs-string">&#x27; &#x27;</span>,<span class="hljs-string">&#x27;world&#x27;</span>]) <span class="hljs-comment"># Write one or more strings</span><br>stream.write(<span class="hljs-string">&#x27;\n&#x27;</span>) <span class="hljs-comment"># Write a new line</span><br><br>names = [<span class="hljs-string">&#x27;Susan&#x27;</span>,<span class="hljs-string">&#x27;Christopher&#x27;</span>] <span class="hljs-comment"># create a list of strings</span><br>stream.writelines(names) <span class="hljs-comment"># write list of strings </span><br><br><span class="hljs-comment"># Here&#x27;s a neat trick to insert a new line between items in the list</span><br>stream.write(<span class="hljs-string">&#x27;\n&#x27;</span>)  <span class="hljs-comment"># Write a new line</span><br>stream.writelines(<span class="hljs-string">&#x27;\n&#x27;</span>.join(names)) <br>stream.close() <span class="hljs-comment"># Flush stream and close</span><br></code></pre></td></tr></table></figure>
<p><strong>Managing the stream</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Open manage.txt file to write text</span><br>stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;manage.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>)<br><br><span class="hljs-comment"># Write the word demo to the file stream</span><br>stream.write(<span class="hljs-string">&#x27;demo!&#x27;</span>)<br><br><span class="hljs-comment"># Move back to the start of the file stream</span><br>stream.seek(<span class="hljs-number">0</span>)<br><br><span class="hljs-comment"># write the word cool to the file stream</span><br>stream.write(<span class="hljs-string">&#x27;cool&#x27;</span>)<br><br><span class="hljs-comment"># Flush the file stream contents to the file buffer</span><br>stream.flush()<br><br><span class="hljs-comment"># Flush the file stream and close the file</span><br>stream.close()<br></code></pre></td></tr></table></figure>
<h3 id="8、Cleanup-with-with"><a href="#8、Cleanup-with-with" class="headerlink" title="8、Cleanup with with"></a>8、Cleanup with with</h3><p><strong>Writing to a file</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;output.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>)<br>stream.write(<span class="hljs-string">&#x27;Lorem ipsum dolar&#x27;</span>)<br>stream.close() <span class="hljs-comment"># THIS IS REALLY IMPORTANT!!</span><br></code></pre></td></tr></table></figure>
<p><strong>Re-writing with a try/finally</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>	stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;output.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>)<br>	stream.write(<span class="hljs-string">&#x27;Lorem ipsum dolar&#x27;</span>)<br><span class="hljs-keyword">finally</span>:<br>	stream.close() <span class="hljs-comment"># THIS IS REALLY IMPORTANT!!</span><br></code></pre></td></tr></table></figure>
<p><strong>Simplifying with with</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;output.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>) <span class="hljs-keyword">as</span> stream:<br>	stream.write(<span class="hljs-string">&#x27;Lorem ipsum dolar&#x27;</span>)<br></code></pre></td></tr></table></figure>
<h3 id="9、Asynchronous-operations"><a href="#9、Asynchronous-operations" class="headerlink" title="9、Asynchronous operations"></a>9、Asynchronous operations</h3><p><strong>The waiting is the hardest part</strong></p>
<ul>
<li><p>Some operations take a long time</p>
<ul>
<li>Web calls</li>
<li>Network IO</li>
<li>Complex data processing</li>
</ul>
</li>
<li><p>We don’t want to stop everything just because one process is taking forever</p>
</li>
</ul>
<p><strong>Concurrency and parellelism is a broad topic</strong></p>
<ul>
<li><p>All languages offer multiple options for managing long running operations, Python is no exception</p>
</li>
<li><p>We’re going to focus on a common scenario - web requests</p>
</li>
</ul>
<p><strong>Synchronous using requests</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><br>start_time = default_timer()<br>three = requests.get(<span class="hljs-string">&#x27;https://httpbin.org/delay/3&#x27;</span>).text<br>two = requests.get(<span class="hljs-string">&#x27;https://httpbin.org/delay/2&#x27;</span>).text<br>elapsed_time = default_timer() - start_time<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The operation took <span class="hljs-subst">&#123;elapsed_time:<span class="hljs-number">.2</span>&#125;</span> seconds&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><strong>Introducing the asyncio module</strong></p>
<ul>
<li><p>New in Python 3.4</p>
<ul>
<li>Undergoing regular updates</li>
</ul>
</li>
<li><p>“Grafts” asynchronous development into Python</p>
<ul>
<li>Streams</li>
<li>async/await</li>
<li>Synchronization (locks)</li>
<li>Exception management</li>
</ul>
</li>
</ul>
<p><strong>Enabling async with asyncio</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">Operations<br>run <span class="hljs-comment"># Runtime for asynchronous functions</span><br>create_task <span class="hljs-comment"># Creates a handle (or coroutine) and schedules execution</span><br>gather <span class="hljs-comment"># Create a collection of tasks to execute and wait for completion</span><br>Creating coroutines (functions using <span class="hljs-keyword">async</span>/<span class="hljs-keyword">await</span>)<br><span class="hljs-keyword">async</span> <span class="hljs-comment"># Flag to create a coroutine (function with an await call)</span><br><span class="hljs-keyword">await</span> <span class="hljs-comment"># &quot;Pauses&quot; code to wait for response</span><br></code></pre></td></tr></table></figure>
<p><strong>Running our aiohttp demo</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    start_time = default_timer()<br><br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> aiohttp.ClientSession() <span class="hljs-keyword">as</span> session:<br>        two_task = asyncio.create_task(load_data(session, <span class="hljs-number">2</span>))<br>        three_task = asyncio.create_task(load_data(session, <span class="hljs-number">3</span>))<br><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Doing other work&#x27;</span>)<br>        two_result = <span class="hljs-keyword">await</span> two_task<br>        three_result = <span class="hljs-keyword">await</span> three_task<br><br>        elapsed_time = default_timer() - start_time<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The operation took <span class="hljs-subst">&#123;elapsed_time:<span class="hljs-number">.2</span>&#125;</span> seconds&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><strong>Asynchronous using aiohttp</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># install aiohttp</span><br><span class="hljs-keyword">import</span> aiohttp<br><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_data</span>(<span class="hljs-params">session, delay</span>):</span><br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> session.get(<span class="hljs-string">f&#x27;https://httpbin.org/delay/<span class="hljs-subst">&#123;delay&#125;</span>&#x27;</span>) <span class="hljs-keyword">as</span> resp:<br>        <span class="hljs-keyword">await</span> resp.text()<br></code></pre></td></tr></table></figure>
<p><strong>sync_demo.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_data</span>(<span class="hljs-params">delay</span>):</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Starting <span class="hljs-subst">&#123;delay&#125;</span> second timer&#x27;</span>)<br>    text = requests.get(<span class="hljs-string">f&#x27;http://httpbin.org/delay/<span class="hljs-subst">&#123;delay&#125;</span>&#x27;</span>).text<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Completed <span class="hljs-subst">&#123;delay&#125;</span> second timer&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    start_time = default_timer()<br><br>    two_data = load_data(<span class="hljs-number">2</span>)<br>    three_data = load_data(<span class="hljs-number">3</span>)<br><br>    elapsed_time = default_timer() - start_time<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The operation took <span class="hljs-subst">&#123;elapsed_time:<span class="hljs-number">.2</span>&#125;</span> seconds&#x27;</span>)<br><br>main()<br></code></pre></td></tr></table></figure>
<p><strong>async_demo.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Will only run in Python 3.7 or higher</span><br><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><span class="hljs-keyword">import</span> aiohttp<br><span class="hljs-keyword">import</span> asyncio<br><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_data</span>(<span class="hljs-params">session, delay</span>):</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Starting <span class="hljs-subst">&#123;delay&#125;</span> second timer&#x27;</span>)<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> session.get(<span class="hljs-string">f&#x27;http://httpbin.org/delay/<span class="hljs-subst">&#123;delay&#125;</span>&#x27;</span>) <span class="hljs-keyword">as</span> resp:<br>        text = <span class="hljs-keyword">await</span> resp.text()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Completed <span class="hljs-subst">&#123;delay&#125;</span> second timer&#x27;</span>)<br>        <span class="hljs-keyword">return</span> text<br><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    <span class="hljs-comment"># Start the timer</span><br>    start_time = default_timer()<br><br>    <span class="hljs-comment"># Creating a single session</span><br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> aiohttp.ClientSession() <span class="hljs-keyword">as</span> session:<br>        <span class="hljs-comment"># Setup our tasks and get them running</span><br>        two_task = asyncio.create_task(load_data(session, <span class="hljs-number">2</span>))<br>        three_task = asyncio.create_task(load_data(session, <span class="hljs-number">3</span>))<br><br>        <span class="hljs-comment"># Simulate other processing</span><br>        <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">1</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Doing other work&#x27;</span>)<br><br>        <span class="hljs-comment"># Let&#x27;s go get our values</span><br>        two_result = <span class="hljs-keyword">await</span> two_task<br>        three_result = <span class="hljs-keyword">await</span> three_task<br><br>        <span class="hljs-comment"># Print our results</span><br>        elapsed_time = default_timer() - start_time<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The operation took <span class="hljs-subst">&#123;elapsed_time:<span class="hljs-number">.2</span>&#125;</span> seconds&#x27;</span>)<br><br>asyncio.run(main())<br></code></pre></td></tr></table></figure>
<h2 id="三、Even-more-python-for-beginners"><a href="#三、Even-more-python-for-beginners" class="headerlink" title="三、Even more python for beginners"></a>三、Even more python for beginners</h2><h3 id="1、Jupyter-Notebooks"><a href="#1、Jupyter-Notebooks" class="headerlink" title="1、Jupyter Notebooks"></a>1、Jupyter Notebooks</h3><p><strong>What are Jupyter notebooks</strong></p>
<ul>
<li><p>Open source software</p>
</li>
<li><p>Interactive development environment</p>
</li>
<li><p>Run inside JupyterLab on your laptop or in the cloud</p>
</li>
<li><p>Download JupyterLab from <a target="_blank" rel="noopener" href="https://jupyter.org/">jupyter.org</a></p>
</li>
</ul>
<p><strong>Create a notebook to execute your code</strong> </p>
<p>Select New | Notebook: Python from the upper right hand corner of the toolbar to create a new notebook to execute Python code </p>
<p><strong>You can upload existing notebooks</strong> </p>
<p>Select Upload from the top right corner of the toolbar to upload an existing notebook  </p>
<p><strong>Each notebook has one or more cells</strong> </p>
<ul>
<li><p>Use the toolbar to add and move cells </p>
</li>
<li><p>When you add a cell select a cell type </p>
<ul>
<li>Code – contain the code to execute </li>
<li>Markdown – Contains descriptive text formatted using Markdown syntax </li>
<li>Raw NB Convert – is formatted as code but cannot be executed</li>
</ul>
</li>
</ul>
<p><strong>You can execute your code one cell at a time</strong></p>
<ul>
<li><p>Select <strong>Run</strong> from the toolbar to run the code in the current cell</p>
</li>
<li><p>Or you can use keyboard shortcuts</p>
<ul>
<li><code>CTRL + ENTER</code> runs the code in the current cell</li>
<li><code>SHIFT + ENTER</code> runs the code in the current cell and moves to the next cell</li>
</ul>
</li>
</ul>
<p><strong>When you run your code the output appears</strong></p>
<ul>
<li>Output appears below the code cell</li>
<li>If the last line of code in a cell is the name of a variable, Jupyter will display the contents of the variable</li>
</ul>
<p><strong>Variables are in scope for the entire notebook</strong></p>
<ul>
<li>If you run code in a cell that declares a variable or imports a library, subsequent cells you execute can access that variable or library</li>
<li>Select restart the kernel from the toolbar to reset the notebook and start executing code in a notebook over from scratch</li>
</ul>
<h3 id="2、Anaconda-and-conda"><a href="#2、Anaconda-and-conda" class="headerlink" title="2、Anaconda and conda"></a>2、Anaconda and conda</h3><p><strong>Anaconda is an open source distribution of Python and R for data science</strong></p>
<p>includes:</p>
<ul>
<li><p>more than 1500 packages </p>
</li>
<li><p>a graphical interface called Anaconda Navigator</p>
</li>
<li><p>a command line interface called Anaconda prompt</p>
</li>
<li><p>a tool called <strong>conda</strong></p>
</li>
</ul>
<p><strong>conda is a tool to create and manage python environments</strong></p>
<p>As you get into more advanced Python coding you will need to install different packages</p>
<p>When working with tools such as Jupyter notebooks, <a target="_blank" rel="noopener" href="https://docs.conda.io/projects/conda/en/latest/index.html">conda</a> may be the simplest way to install libraries so they can be accessed from your notebooks</p>
<p><strong>After you install Anaconda launch the prompt</strong></p>
<p><strong>Create a virtual environment with conda</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> conda create --name my_notebook_env python=3.7 –y</span><br><br>--name my_notebook_env: the name of the environment<br>python=3.7: version of python in the environment<br>–y: responds yes automatically to prompts<br></code></pre></td></tr></table></figure>
<p><strong>Activate your virtual environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> conda activate my_notebook_env</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> conda deactivate</span> <br>will deactivate the current active environment<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> conda remove --name my_notebook_env --all</span><br>will permanently delete the virtual environment<br></code></pre></td></tr></table></figure>
<p><strong>Install library in the active environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> conda install pandas</span><br><br>Install jupyter<br><span class="hljs-meta">#</span><span class="bash"> conda install jupyter</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> conda list</span> <br>will return a list of installed libraries<br></code></pre></td></tr></table></figure>
<p><strong>Launch notebook from the active environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">1. Activate your environment<br><span class="hljs-meta">#</span><span class="bash"> conda activate my_notebook_env</span><br>3. Launch Jupyter notebooks<br><span class="hljs-meta">#</span><span class="bash"> jupyter notebook</span><br><br>NOTES: <br>&lt;CTRL&gt;+&lt;C&gt; &lt;CTRL&gt;+&lt;C&gt; will shut down the kernel and bring back the command prompt<br>You may need to deactivate and reactivate your environment before you launch Jupyter notebooks the first time after you install a new package<br></code></pre></td></tr></table></figure>
<h3 id="3、Pandas"><a href="#3、Pandas" class="headerlink" title="3、Pandas"></a>3、Pandas</h3><p><strong>What is pandas?</strong></p>
<ul>
<li><p>Open source/BSD-licensed library </p>
</li>
<li><p>High performance and familiar data structures and data analysis tools</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://pandas/pydata.org">https://pandas/pydata.org</a></p>
</li>
</ul>
<p><strong>pandas Series is similar to Python list</strong></p>
<ul>
<li><p>One dimensional array of objects</p>
</li>
<li><p>Each row as an index</p>
</li>
<li><p>By default index is zero-based</p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>index</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Seattle-Tacoma</td>
</tr>
<tr>
<td>1</td>
<td>Dulles</td>
</tr>
<tr>
<td>2</td>
<td>London Heathrow</td>
</tr>
<tr>
<td>3</td>
<td>Schiphol</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Create a new Series</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>airports = pd.Series([<br>             <span class="hljs-string">&#x27;Seattle-Tacoma&#x27;</span>,<br>             <span class="hljs-string">&#x27;Dulles&#x27;</span>,<br>             <span class="hljs-string">&#x27;London Heathrow&#x27;</span>,<br>             <span class="hljs-string">&#x27;Schiphol&#x27;</span><br>           ])<br></code></pre></td></tr></table></figure>
<p><strong>Access similar to a list</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># London Heathrow</span><br>airports[<span class="hljs-number">2</span>]<br><br><span class="hljs-comment"># Use a loop to iterate through all the values</span><br><span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> airports:<br>    <span class="hljs-built_in">print</span>(value) <br></code></pre></td></tr></table></figure>
<p><strong>DataFrame for two dimensional data structures</strong></p>
<p>Similar to a table in a database or spreadsheet</p>
<ul>
<li><p>Coumns identified by name</p>
</li>
<li><p>Rows of data</p>
</li>
<li><p>Index column</p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>index</th>
<th>Name</th>
<th>City</th>
<th>Country</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Seattle-Tacoma</td>
<td>Seattle</td>
<td>USA</td>
</tr>
<tr>
<td>1</td>
<td>Dulles</td>
<td>Washington</td>
<td>USA</td>
</tr>
<tr>
<td>2</td>
<td>London Heathrow</td>
<td>London</td>
<td>United Kingdom</td>
</tr>
<tr>
<td>3</td>
<td>Schiphol</td>
<td>Amsterdam</td>
<td>Netherlands</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Create a DataFrame</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">airports = pd.DataFrame([<br>   [<span class="hljs-string">&#x27;Seattle-Tacoma&#x27;</span>, <span class="hljs-string">&#x27;Seattle&#x27;</span>, <span class="hljs-string">&#x27;USA&#x27;</span> ],<br>   [<span class="hljs-string">&#x27;Dulles&#x27;</span>, <span class="hljs-string">&#x27;Washington&#x27;</span>, <span class="hljs-string">&#x27;USA&#x27;</span>],<br>   [<span class="hljs-string">&#x27;London Heathrow&#x27;</span>, <span class="hljs-string">&#x27;London&#x27;</span>, <span class="hljs-string">&#x27;United Kingdom&#x27;</span>],<br>   [<span class="hljs-string">&#x27;Schiphol&#x27;</span>, <span class="hljs-string">&#x27;Amsterdam&#x27;</span>, <span class="hljs-string">&#x27;Netherlands&#x27;</span>]<br> ])<br></code></pre></td></tr></table></figure>
<p><strong>airports:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>index</th>
<th>0</th>
<th>1</th>
<th>2</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Seattle-Tacoma</td>
<td>Seattle</td>
<td>USA</td>
</tr>
<tr>
<td>1</td>
<td>Dulles</td>
<td>Washington</td>
<td>USA</td>
</tr>
<tr>
<td>2</td>
<td>London Heathrow</td>
<td>London</td>
<td>United Kingdom</td>
</tr>
<tr>
<td>3</td>
<td>Schiphol</td>
<td>Amsterdam</td>
<td>Netherlands</td>
</tr>
</tbody>
</table>
</div>
<p><strong>columns parameter to specify column names</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">airports = pd.DataFrame([<br>   [<span class="hljs-string">&#x27;Seattle-Tacoma&#x27;</span>, <span class="hljs-string">&#x27;Seattle&#x27;</span>, <span class="hljs-string">&#x27;USA&#x27;</span> ],<br>   [<span class="hljs-string">&#x27;Dulles&#x27;</span>, <span class="hljs-string">&#x27;Washington&#x27;</span>, <span class="hljs-string">&#x27;USA&#x27;</span>],<br>   [<span class="hljs-string">&#x27;London Heathrow&#x27;</span>, <span class="hljs-string">&#x27;London&#x27;</span>, <span class="hljs-string">&#x27;United Kingdom&#x27;</span>],<br>   [<span class="hljs-string">&#x27;Schiphol&#x27;</span>, <span class="hljs-string">&#x27;Amsterdam&#x27;</span>, <span class="hljs-string">&#x27;Netherlands&#x27;</span>]],<br>   columns= [<span class="hljs-string">&#x27;Name&#x27;</span>,<span class="hljs-string">&#x27;City&#x27;</span>,<span class="hljs-string">&#x27;Country&#x27;</span>]<br>   )<br></code></pre></td></tr></table></figure>
<p><strong>airports:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>index</th>
<th>Name</th>
<th>City</th>
<th>Country</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Seattle-Tacoma</td>
<td>Seattle</td>
<td>USA</td>
</tr>
<tr>
<td>1</td>
<td>Dulles</td>
<td>Washington</td>
<td>USA</td>
</tr>
<tr>
<td>2</td>
<td>London Heathrow</td>
<td>London</td>
<td>United Kingdom</td>
</tr>
<tr>
<td>3</td>
<td>Schiphol</td>
<td>Amsterdam</td>
<td>Netherlands</td>
</tr>
</tbody>
</table>
</div>
<h3 id="4、Pandas-DataFrame"><a href="#4、Pandas-DataFrame" class="headerlink" title="4、Pandas DataFrame"></a>4、Pandas DataFrame</h3><p><strong>airports:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>index</th>
<th>Name</th>
<th>City</th>
<th>Country</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Seattle-Tacoma</td>
<td>Seattle</td>
<td>USA</td>
</tr>
<tr>
<td>1</td>
<td>Dulles</td>
<td>Washington</td>
<td>USA</td>
</tr>
<tr>
<td>2</td>
<td>London Heathrow</td>
<td>London</td>
<td>United Kingdom</td>
</tr>
<tr>
<td>3</td>
<td>Schiphol</td>
<td>Amsterdam</td>
<td>Netherlands</td>
</tr>
</tbody>
</table>
</div>
<h4 id="1）Examining-pandas-DataFrame-contents"><a href="#1）Examining-pandas-DataFrame-contents" class="headerlink" title="1）Examining pandas DataFrame contents"></a>1）Examining pandas DataFrame contents</h4><p><strong>head</strong> - first <em>n</em> rows</p>
<p><strong>tail</strong> - last <em>n</em> rows</p>
<p><strong>shape</strong> - number of rows and columns</p>
<p><strong>info</strong> - return more detailed information</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">airports.head(<span class="hljs-number">3</span>)<br><br>airports.tail(<span class="hljs-number">3</span>)<br><br>airports.shape<br><br>airports.info()<br></code></pre></td></tr></table></figure>
<h4 id="2）Query-a-DataFrame"><a href="#2）Query-a-DataFrame" class="headerlink" title="2）Query a DataFrame"></a>2）Query a DataFrame</h4><p><strong>Return specific rows or columns </strong></p>
<p>AKA slicing and dicing</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Request a single column</span><br>airports[<span class="hljs-string">&#x27;City&#x27;</span>]<br><br><span class="hljs-comment"># Request a list of columns</span><br>airports[[<span class="hljs-string">&#x27;Name&#x27;</span>, <span class="hljs-string">&#x27;Country&#x27;</span>]]<br><br><span class="hljs-comment"># iloc returns specific rows and columns by position</span><br><span class="hljs-comment"># Use the syntax iloc[rows, columns]  </span><br>airports.iloc[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]<br><span class="hljs-comment"># will return: Seattle-Tacoma</span><br>airports.iloc[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>]<br><span class="hljs-comment"># will return: United Kingdom</span><br><br><span class="hljs-comment"># The range : returns all rows or columns</span><br>airports.iloc[:,:]<br><br><span class="hljs-comment"># You can request a range of rows or columns</span><br>airports.iloc[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>,:]<br><span class="hljs-comment"># returns first 2 rows and all columns</span><br>airports.iloc[:,<span class="hljs-number">0</span>:<span class="hljs-number">2</span>]<br><span class="hljs-comment"># returns all rows and the first two columns</span><br><br><span class="hljs-comment"># Request a list of rows or columns</span><br>airports.iloc[:,[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>]]<br><span class="hljs-comment"># will return all rows and column 0 and column 2 (Name and Country)</span><br><br><span class="hljs-comment"># loc to specify items by name</span><br>airports.loc[:,[<span class="hljs-string">&#x27;Name&#x27;</span>,<span class="hljs-string">&#x27;Country&#x27;</span>]]<br><span class="hljs-comment"># will return all rows and the columns Name and Country</span><br></code></pre></td></tr></table></figure>
<h4 id="3）Removing-and-splitting-DataFrame-columns"><a href="#3）Removing-and-splitting-DataFrame-columns" class="headerlink" title="3）Removing and splitting DataFrame columns"></a>3）Removing and splitting DataFrame columns</h4><ul>
<li><p>When preparing data for machine learning you may need to remove specific columns from the DataFrame</p>
</li>
<li><p>When preparing data for machine learning you may need to split the columns into separate DataFrames</p>
<ul>
<li>You might need to split quantitative and qualitative data into separate DataFrames</li>
</ul>
</li>
</ul>
<p><strong><code>drop</code> deletes columns from a DataFrame</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Use drop to delete columns from a DataFrame</span><br><span class="hljs-comment"># DataFrameName.drop(columns=[&#x27;columnname&#x27;])</span><br>new_df = delays_df.drop(columns=[<span class="hljs-string">&#x27;Actual_arr_time&#x27;</span>]) <br><br><span class="hljs-comment"># Use inplace to edit the existing DataFrame</span><br><span class="hljs-comment"># will remove Actual_arr_time from the DataFrame delays_df</span><br>delays_df.drop(columns=[<span class="hljs-string">&#x27;Actual_arr_time&#x27;</span>], inplace=<span class="hljs-literal">True</span>) <br></code></pre></td></tr></table></figure>
<p><strong>Create a slice of the DataFrame and assign it to a new DataFrame</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># will create a new DataFrame containing the specified slice</span><br>desc_df = delays_df.loc[:,[<span class="hljs-string">&#x27;Origin_airport&#x27;</span>,<span class="hljs-string">&#x27;Dest_airport&#x27;</span>]] <br></code></pre></td></tr></table></figure>
<h4 id="4）Handling-duplicates-and-rows-with-missing-values"><a href="#4）Handling-duplicates-and-rows-with-missing-values" class="headerlink" title="4）Handling duplicates and rows with missing values"></a>4）Handling duplicates and rows with missing values</h4><ul>
<li><p>Many models and procedures in data science will return an error if they analyze records with missing values</p>
</li>
<li><p>When you merge data from multiple sources you may get duplicate rows</p>
</li>
</ul>
<p><strong>Remove rows missing values</strong> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Use info to check for missing values</span><br>delays_df.info()<br><br><span class="hljs-comment"># Use dropna to remove rows missing values</span><br><span class="hljs-comment"># Will create a new DataFrame without rows containing missing values</span><br>delay_no_nulls_df = delays_df.dropna()<br><br><span class="hljs-comment"># Specify inplace=True to update the existing DataFrame</span><br><span class="hljs-comment"># Will remove rows with missing values from the existing DataFrame</span><br>delays_df.dropna(inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure>
<p><strong>Drop the duplicate rows</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># will return True if a row is a duplicate of a previous row</span><br>airports_df.duplicated()<br><br><span class="hljs-comment"># will drop the duplicate rows</span><br>airports_df.drop_duplicates(inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure>
<h3 id="5、CSV"><a href="#5、CSV" class="headerlink" title="5、CSV"></a>5、CSV</h3><p><strong>Comma separated variable (CSV) files are a popular format for data files</strong></p>
<ul>
<li><p>Each row of the file contains one record</p>
</li>
<li><p>A special character such as a comma is used to separate column values</p>
</li>
<li><p>The first row may contain the names of the columns</p>
</li>
</ul>
<p><strong>Example: </strong></p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><span class="hljs-built_in">Name,</span>City,Country<br>Seattle-Tacoma,Seattle,USA<br><span class="hljs-built_in">Dulles,</span>Washington,USA<br><span class="hljs-built_in">Heathrow,</span>London,United Kingdom<br><span class="hljs-built_in">Schiphol,</span>Amsterdam,Netherlands<br><span class="hljs-built_in">Changi,</span>Singapore,Singapore<br><span class="hljs-built_in">Pearson,</span>Toronto,Canada<br><span class="hljs-built_in">Narita,</span>Tokyo,Japan<br></code></pre></td></tr></table></figure>
<h4 id="1）Jupyter-notebooks"><a href="#1）Jupyter-notebooks" class="headerlink" title="1）Jupyter notebooks"></a>1）Jupyter notebooks</h4><p><strong>How does your notebook find the file?</strong></p>
<ul>
<li><p>You need to upload the files to Jupyter</p>
</li>
<li><p>It is common practice to create a subfolder to hold your data files</p>
</li>
<li><p>Create a folder for your data files by selecting <strong>New</strong> | <strong>Folder</strong> </p>
</li>
</ul>
<p><strong>Upload the file to access it from notebooks</strong></p>
<p>Navigate to the folder and upload the files you want to access from your notebooks by selecting <strong>Upload</strong></p>
<h4 id="2）Read-and-write-CSV-files-from-pandas-DataFrames"><a href="#2）Read-and-write-CSV-files-from-pandas-DataFrames" class="headerlink" title="2）Read and write CSV files from pandas DataFrames"></a>2）Read and write CSV files from pandas DataFrames</h4><p><strong>Read_csv loads a DataFrame from a CSV</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># read_csv loads a DataFrame from a CSV</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airports.csv&#x27;</span>)<br><br><span class="hljs-comment"># Rows with an extra, or other issues cause an error and the file does not load</span><br><span class="hljs-comment"># Specify error_bad_lines=False to skip rows with errors</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airportsInvalidRows.csv&#x27;</span>, error_bad_lines=<span class="hljs-literal">False</span>)<br><br><span class="hljs-comment"># If the first row does not contain column headers specify header=None</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airportsNoHeaderRows.csv&#x27;</span>, header=<span class="hljs-literal">None</span>)<br><br><span class="hljs-comment"># Provide names for the columns with the names parameter</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airportsNoHeaderRows.csv&#x27;</span>, header=<span class="hljs-literal">None</span>, names=[<span class="hljs-string">&#x27;Name&#x27;</span>,<span class="hljs-string">&#x27;City&#x27;</span>,<span class="hljs-string">&#x27;Country&#x27;</span>])<br><br><span class="hljs-comment"># Missing values appear as NaN</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airportsBlankValues.csv&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><strong>Use to_csv to write the contents of a DataFrame to a CSV file</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Use to_csv to write the contents of a DataFrame to a CSV file</span><br>airports_df.to_csv(<span class="hljs-string">&#x27;Data/MyNewCSVFile.csv&#x27;</span>)<br><br><span class="hljs-comment"># Specify index=False if you do not want to include the index column</span><br>airports_df.to_csv(<span class="hljs-string">&#x27;Data/MyNewCSVFile.csv&#x27;</span>, index=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure>
<h3 id="6、Scikit-learn"><a href="#6、Scikit-learn" class="headerlink" title="6、Scikit-learn"></a>6、Scikit-learn</h3><p>Open source library for preprocessing data and model training</p>
<h4 id="1）Splitting-test-and-training-data-with-scikit-learn"><a href="#1）Splitting-test-and-training-data-with-scikit-learn" class="headerlink" title="1）Splitting test and training data with scikit-learn"></a>1）Splitting test and training data with scikit-learn</h4><p><strong>Machine learning 101</strong></p>
<p>Given X data, predict y value</p>
<ul>
<li><p>Given a customer, predict if they will by a product</p>
</li>
<li><p>Given a shopping cart, predict similar products</p>
</li>
<li><p>Given a flight, predict the chance it will be late</p>
</li>
</ul>
<p><strong>We need to split our data before creating a model</strong></p>
<p>Conventions: </p>
<ul>
<li><p>Put the data you want to predict (the label) in a DataFrame called y</p>
</li>
<li><p>Put the data that influence the label (the features) in a DataFrame called X</p>
</li>
</ul>
<p><strong>You may need to split your data into training and test data sets before you train your model</strong></p>
<ul>
<li><p><strong>train</strong> will be used to train the model</p>
</li>
<li><p><strong>test</strong> will be used to test the model </p>
</li>
<li><p>Typically put aside 20 to 30% of your records for testing</p>
</li>
</ul>
<pre><code class=" mermaid">graph LR
	A[DataFrame] --&gt; B[DataFrame X] --&gt; D[X_train]
	B[DataFrame X] --&gt; E[X_test]
	A --&gt; C[DataFrame y] --&gt; F[y_train]
	C[DataFrame y] --&gt; G[y_train]
</code></pre>
<p><strong>Use <code>train_test_split</code> to split each of the X and y DataFrames into training and test DataFrames</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">y = delays_df.loc[:,[<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>]]<br>X = delays_df.loc[:,[<span class="hljs-string">&#x27;DISTANCE&#x27;</span>, <span class="hljs-string">&#x27;CRS_ELAPSED_TIME&#x27;</span>]]<br><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.3</span>, random_state=<span class="hljs-number">42</span>)<br><br><span class="hljs-comment"># X_train, X_test, y_train, y_test – names of DataFrames to create to store the training and test data</span><br><span class="hljs-comment"># X – name of the DataFrame containing your features</span><br><span class="hljs-comment"># y – name of the DataFrame containing your labels</span><br><span class="hljs-comment"># test_size – what portion of the rows to put into the test data frames</span><br><span class="hljs-comment"># random_state – sets the seed for random numbers - every time the code runs the same &quot;random&quot; sets of rows will be returned</span><br><br></code></pre></td></tr></table></figure>
<p><strong>DataFrame:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>index</strong></th>
<th><strong>DISTANCE</strong></th>
<th><strong>CRS_ELAPSED_TIME</strong></th>
<th><strong>ARR_DELAY</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1670</td>
<td>225</td>
<td>7</td>
</tr>
<tr>
<td>1</td>
<td>580</td>
<td>105</td>
<td>-4</td>
</tr>
<tr>
<td>2</td>
<td>425</td>
<td>96</td>
<td>5</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>299645</td>
<td>1500</td>
<td>210</td>
<td>73</td>
</tr>
</tbody>
</table>
</div>
<p><strong>DataFrame X:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>index</strong></th>
<th><strong>DISTANCE</strong></th>
<th><strong>CRS_ELAPSED_TIME</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1670</td>
<td>225</td>
</tr>
<tr>
<td>1</td>
<td>580</td>
<td>105</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>299645</td>
<td>1500</td>
<td>210</td>
</tr>
</tbody>
</table>
</div>
<p><strong>DataFrame y:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>index</strong></th>
<th><strong>ARR_DELAY</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>7</td>
</tr>
<tr>
<td>1</td>
<td>-4</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>299645</td>
<td>74</td>
</tr>
</tbody>
</table>
</div>
<p><strong>X_train:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>index</strong></th>
<th><strong>DISTANCE</strong></th>
<th><strong>CRS_ELAPSED_TIME</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1670</td>
<td>225</td>
</tr>
<tr>
<td>1</td>
<td>580</td>
<td>105</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>299645</td>
<td>1500</td>
<td>210</td>
</tr>
</tbody>
</table>
</div>
<p><strong>X_test:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>index</strong></th>
<th><strong>DISTANCE</strong></th>
<th><strong>CRS_ELAPSED_TIME</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>425</td>
<td>96</td>
</tr>
<tr>
<td>17</td>
<td>750</td>
<td>130</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>299643</td>
<td>425</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
<p><strong>y_train:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>index</strong></th>
<th><strong>ARR_DELAY</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>7</td>
</tr>
<tr>
<td>1</td>
<td>-4</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>299645</td>
<td>74</td>
</tr>
</tbody>
</table>
</div>
<p><strong>y_test:</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>index</strong></th>
<th><strong>ARR_DELAY</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>17</td>
<td>-1</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>299645</td>
<td>11</td>
</tr>
</tbody>
</table>
</div>
<h4 id="2）Train-a-linear-regression-model-with-scikit-learn"><a href="#2）Train-a-linear-regression-model-with-scikit-learn" class="headerlink" title="2）Train a linear regression model with scikit-learn"></a>2）Train a linear regression model with scikit-learn</h4><p><strong>Once your data is prepared you can use it to train a model</strong></p>
<p><strong>There are different libraries and classes you can use to train a model</strong></p>
<ul>
<li><p>The <strong>scikit-learn</strong> library contains a number of different classes to train different types of models</p>
</li>
<li><p>The <strong>LinearRegression</strong> class fits a linear model</p>
</li>
<li><p>Call the <strong>fit</strong> method to fit your data to a linear model which can be used to predict the outcomes for new data</p>
</li>
</ul>
<p><strong>The code to train a model usually follows the same pattern</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># import the desired class from the library</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression<br><br><span class="hljs-comment"># Create an instance of the class</span><br>regressor = LinearRegression()<br><br><span class="hljs-comment"># use the fit method to train the model using your training data</span><br>regressor.fit(X_train, y_train)<br></code></pre></td></tr></table></figure>
<h4 id="3）Testing-a-model"><a href="#3）Testing-a-model" class="headerlink" title="3）Testing a model"></a>3）Testing a model</h4><p>Predict values for the test data in X_test</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># predict returns the values the trained model predicts for new data</span><br>y_pred = regressor.predict(X_test)<br></code></pre></td></tr></table></figure>
<p>Compare the predicted values to the actual values in y_test to see how well your model performs</p>
<h4 id="4）Evaluating-accuracy-of-a-model-using-calculations"><a href="#4）Evaluating-accuracy-of-a-model-using-calculations" class="headerlink" title="4）Evaluating accuracy of a model using calculations"></a>4）Evaluating accuracy of a model using calculations</h4><p><strong>It’s impractical to visually compare predicted and actual values across thousands of rows</strong> </p>
<p>Instead we use standard calculations to get a sense of overall accuracy</p>
<p><strong>Mean Squared Error (MSE) is the average error</strong></p>
<ul>
<li><p>MSE = mean((actual – predicted)**2)</p>
</li>
<li><p>You could write a python function to loop through each row, and perform this calculation</p>
</li>
<li><p>OR You could use <strong>mean_squared_error</strong> from the <strong>scikit-learn</strong> library</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>metrics.mean_squared_error(y_test, y_pred)<br></code></pre></td></tr></table></figure>
<p><strong>Root Mean Squared Error (RMSE) is the square root of the mean squared error</strong></p>
<ul>
<li><p>RMSE = √MSE</p>
</li>
<li><p><strong>scikit-learn</strong> doesn’t have a method for RMSE but</p>
<ul>
<li><p><strong>scikit-learn</strong> has the mean_squared_error method to calculate MSE</p>
</li>
<li><p><strong>numpy</strong> has a sqrt method to calculate square root </p>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>np.sqrt(metrics.mean_squared_error(y_test, y_pred))<br></code></pre></td></tr></table></figure>
<p><strong>Different models have different metrics to measure accuracy</strong></p>
<ul>
<li><p><strong>numpy</strong> provides standard mathematical functions </p>
</li>
<li><p><strong>scikit-learn</strong> provides a number of functions for assessing prediction error</p>
</li>
<li><p>Together they allow us to measure model accuracy</p>
</li>
</ul>
<h3 id="7、numpy-vs-pandas"><a href="#7、numpy-vs-pandas" class="headerlink" title="7、numpy vs pandas"></a>7、numpy vs pandas</h3><p><strong>Let’s take a closer look at our predictions</strong></p>
<p>When we predicted values using our trained model the results were returned into an object called y_pred</p>
<p><code>y_pred = regressor.predict(X_test)</code></p>
<p>We compared the values in y_test to y_pred to see how accurately our model predicted arrival delays</p>
<p><strong>Keep an eye on the datatypes</strong></p>
<p><strong>y_pred</strong> is not a <strong>pandas DataFrame</strong>. It is a <strong>numpy array</strong>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># You can use type() to check the type of any python object</span><br><span class="hljs-built_in">type</span>(y_pred)<br><span class="hljs-comment"># returns numpy.ndarray</span><br><br><span class="hljs-built_in">type</span>(y_test)<br><span class="hljs-comment"># returns pandas.core.frame.DataFrame</span><br></code></pre></td></tr></table></figure>
<p><strong>numpy is a python package for scientific computing</strong></p>
<ul>
<li><p>numpy has an assortment of classes and methods to help with calculations.</p>
</li>
<li><p>When you use python for data science you use a mix of pandas and numpy objects and methods</p>
</li>
</ul>
<p><strong>A one dimensional numpy array is similar to a pandas Series</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">airports_array = np.array([<span class="hljs-string">&#x27;Pearson&#x27;</span>, <span class="hljs-string">&#x27;Changi&#x27;</span>, <span class="hljs-string">&#x27;Narita&#x27;</span>])<br><span class="hljs-built_in">print</span>(airports_array)<br><span class="hljs-built_in">print</span>(airports_array[<span class="hljs-number">2</span>])<br><span class="hljs-comment"># returns</span><br><span class="hljs-comment"># [&#x27;Pearson&#x27; &#x27;Changi&#x27; &#x27;Narita&#x27;] </span><br><span class="hljs-comment"># Narita</span><br><br><br>airports_series = pd.Series([<span class="hljs-string">&#x27;Pearson&#x27;</span>,	<span class="hljs-string">&#x27;Changi&#x27;</span>, <span class="hljs-string">&#x27;Narita&#x27;</span>])<br><span class="hljs-built_in">print</span>(airports_series)<br><span class="hljs-built_in">print</span>(airports_series[<span class="hljs-number">2</span>])<br><span class="hljs-comment"># returns </span><br><span class="hljs-comment"># 0 Pearson</span><br><span class="hljs-comment"># 1 Changi </span><br><span class="hljs-comment"># 2 Narita </span><br><span class="hljs-comment"># Narita</span><br></code></pre></td></tr></table></figure>
<p><strong>A two dimensional numpy array is similar to a pandas DataFrame</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">airports_array = np.array([[<span class="hljs-string">&#x27;YYZ&#x27;</span>,<span class="hljs-string">&#x27;Pearson&#x27;</span>], [<span class="hljs-string">&#x27;SIN&#x27;</span>,<span class="hljs-string">&#x27;Changi&#x27;</span>], [<span class="hljs-string">&#x27;NRT&#x27;</span>,<span class="hljs-string">&#x27;Narita&#x27;</span>]])<br><span class="hljs-built_in">print</span>(airports_array)<br><span class="hljs-built_in">print</span>(airports_array[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]) <br><span class="hljs-comment"># returns</span><br><span class="hljs-comment"># [[&#x27;YYZ&#x27; &#x27;Pearson&#x27;]</span><br><span class="hljs-comment">#  [&#x27;SIN&#x27; &#x27;Changi&#x27;]</span><br><span class="hljs-comment">#  [&#x27;NRT&#x27; &#x27;Narita&#x27;]] </span><br><span class="hljs-comment"># YYZ </span><br><br><br>airports_df = pd.DataFrame([[<span class="hljs-string">&#x27;YYZ&#x27;</span>,<span class="hljs-string">&#x27;Pearson&#x27;</span>], [<span class="hljs-string">&#x27;SIN&#x27;</span>,<span class="hljs-string">&#x27;Changi&#x27;</span>], [<span class="hljs-string">&#x27;NRT&#x27;</span>,<span class="hljs-string">&#x27;Narita&#x27;</span>]])<br><span class="hljs-built_in">print</span>(airports_df)<br><span class="hljs-built_in">print</span>(airports_df.iloc[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])<br><span class="hljs-comment"># returns </span><br><span class="hljs-comment">#   0   1 </span><br><span class="hljs-comment"># 0 YYZ Pearson </span><br><span class="hljs-comment"># 1 SIN Changi </span><br><span class="hljs-comment"># 2 NRT Narita</span><br><span class="hljs-comment"># YYZ </span><br></code></pre></td></tr></table></figure>
<p><strong>You can move data between numpy and pandas objects</strong></p>
<p>If you want your predicted values in a <strong>pandas DataFrame</strong> instead of a <strong>numpy array</strong>, you can use the <strong>pandas DataFrame</strong> <strong>constructor</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">y_pred_df = pd.DataFrame(y_pred)<br><br><span class="hljs-built_in">type</span>(y_pred)<br><span class="hljs-comment"># Returns numpy.ndarray</span><br><span class="hljs-built_in">type</span>(y_pred_df)<br><span class="hljs-comment"># Returns pandas.core.frame.DataFrame</span><br></code></pre></td></tr></table></figure>
<h3 id="8、Visualizing-Data-with-Matplotlib"><a href="#8、Visualizing-Data-with-Matplotlib" class="headerlink" title="8、Visualizing Data with Matplotlib"></a>8、Visualizing Data with Matplotlib</h3><p><strong>Checking for correlation with visualization</strong></p>
<ul>
<li><p>Scatterplots</p>
<ul>
<li><p>Common chart type</p>
</li>
<li><p>A dot is drawn for each intersection of X and Y</p>
</li>
</ul>
</li>
<li><p>Useful for checking for correlation between columns of data</p>
<ul>
<li>There is correlation when a change in one column is bound to the value of another column </li>
</ul>
</li>
<li><p>Examples</p>
<ul>
<li><p>A correlation exists between number of car accidents on a given day and the amount of snowfall </p>
</li>
<li><p>No correlation exists between amount of snowfall on a given day and the Microsoft stock price</p>
</li>
</ul>
</li>
</ul>
<p><strong>Scatterplot examples</strong></p>
<p><strong>Using matplotlib to draw graphs</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Import the library</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># Create plots directly from the DataFrame</span><br>delays_df = pd.read_csv(<span class="hljs-string">&#x27;Data/Lots_of_flight_data.csv&#x27;</span>) <br>delays_df.plot(kind=<span class="hljs-string">&#x27;scatter&#x27;</span>, x=<span class="hljs-string">&#x27;DISTANCE&#x27;</span>, y=<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>, color=<span class="hljs-string">&#x27;blue&#x27;</span>, alpha=<span class="hljs-number">0.3</span>,<br>               title=<span class="hljs-string">&#x27;Correlation arrival and distance&#x27;</span>)<br>plt.show()<br><br>delays_df.plot(kind=<span class="hljs-string">&#x27;scatter&#x27;</span>, x=<span class="hljs-string">&#x27;DEP_DELAY&#x27;</span>, y=<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>, color=<span class="hljs-string">&#x27;blue&#x27;</span>, alpha=<span class="hljs-number">0.3</span>,<br>               title=<span class="hljs-string">&#x27;Correlation of arrival and departure delay&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.xlabel(<span class="hljs-string">&#x27;Departure delay (minutes)&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Arrival delay (minutes)&#x27;</span>)<br>plt.title(<span class="hljs-string">&#x27;Correlation Departure and Arrival Delay&#x27;</span>)<br>plt.scatter(x=delays_df[<span class="hljs-string">&#x27;DEP_DELAY&#x27;</span>], y=delays_df[<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>], color=<span class="hljs-string">&#x27;blue&#x27;</span>, alpha=<span class="hljs-number">0.3</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><strong>You can draw a line graph to show the predicted values of a trained model</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.xlabel(<span class="hljs-string">&#x27;Departure delay (minutes)&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Arrival delay (minutes)&#x27;</span>)<br>plt.title(<span class="hljs-string">&#x27;Predicted Arrival delays&#x27;</span>)<br>plt.plot(X_test, y_pred, color=<span class="hljs-string">&#x27;red&#x27;</span>, linewidth=<span class="hljs-number">2</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><strong>Overlay the model on our data</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.xlabel(<span class="hljs-string">&#x27;Deparure delay&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Arrival delay&#x27;</span>)<br>plt.plot(X_test, y_pred, color=<span class="hljs-string">&#x27;red&#x27;</span>, linewidth=<span class="hljs-number">2</span>)<br>plt.scatter(x=delays_df[<span class="hljs-string">&#x27;DEP_DELAY&#x27;</span>], y=delays_df[<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>], color=<span class="hljs-string">&#x27;blue&#x27;</span>,  alpha=<span class="hljs-number">0.3</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Python/">Python</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Python/">Python</a>
                    
                      <a class="hover-with-bg" href="/tags/Code/">Code</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/01/28/Code/Python/Python-GUI/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Python GUI</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/08/15/Tools/VM/win7%E5%AE%89%E8%A3%85VMtools%E5%A4%B1%E8%B4%A5/">
                        <span class="hidden-mobile">Win7安装VMtools出现无法自动安装驱动程序</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
